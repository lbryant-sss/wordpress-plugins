!function(o){function a(m,i){var l=m.find(".pa-woo-mc__outer-container").data("settings");if(l){i("html").addClass("msection-html");var a,e,n,t=i("body .premium-magic-section-body-inner"),c=l.trigger,p=!0,s=l.type,r=m.data("id"),_=l.style;i(".premium-magic-section-body-inner").length<1&&i("body").wrapInner('<div class="premium-magic-section-body-inner" />'),i(".premium-magic-section-body-inner > .pa-woo-mc__overlay-"+r).remove(),i(".premium-magic-section-body-inner").prepend(m.find(".pa-woo-mc__overlay")),m.find(".pa-woo-mc__inner-container").off("click.paToggleMiniCart mouseenter.paToggleMiniCart mouseleave.paToggleMiniCart"),function(o){o=o||500;i("body").addClass("animating"),t.css("transform","none"),i("html").css("height","auto"),setTimeout(function(){i("html").removeClass("offcanvas-open"),i("body").removeClass("animating")},o)}(10),function(){"click"===c?m.find(".pa-woo-mc__inner-container").on("click.paToggleMiniCart",o):(m.find(".pa-woo-mc__inner-container").on("mouseenter.paToggleMiniCart",o),m.on("mouseleave.paToggleMiniCart",function(o){a=setTimeout(function(){m.find(".pa-woo-mc__content-wrapper-"+r).removeClass("pa-woo-mc__open")},300)}));m.find(".pa-woo-mc__remove-all-btn").on("click.paConfirm",function(){i(this).hide(),m.find(".pa-woo-mc__empty-mc-confirm").css("display","flex")}),m.find(".pa-woo-mc__confirm-btn").on("click.paEmptyMC",function(){i(this).hasClass("pa-empty-mc")&&f("pa_delete_cart_items",!1,!1),m.find(".pa-woo-mc__remove-all-btn").show(),m.find(".pa-woo-mc__empty-mc-confirm").hide()}),m.find(".pa-woo-mc__coupon-submit").on("click",function(){var o=m.find(".pa-woo-mc__coupon-field").val();o&&f("pa_apply_coupon",!1,o)}),m.find(".pa-woo-mc__remove-coupon").on("click.paRemoveCoupon",function(o){o.preventDefault();var a=m.find(".pa-woo-mc__coupon-field").val();a&&f("pa_remove_coupon",!1,a)}),l.clickOutside&&i("body").on("click",function(o){i(o.target).is(i(".premium-tabs-nav-list-item, .pa-woo-mc__content-wrapper, .pa-woo-mc__content-wrapper *, .pa-woo-mc__inner-container, .pa-woo-mc__inner-container *"))||("menu"===s?m.find(".pa-woo-mc__content-wrapper-"+r).removeClass("pa-woo-mc__open"):p||m.find(".pa-woo-mc__close-button").trigger("click"))});m.find(".pa-woo-mc__close-button").on("click",function(){i(".pa-woo-mc__overlay-"+r).addClass("premium-addons__v-hidden"),m.find(".pa-woo-mc__content-wrapper-"+r).addClass("pa-woo-mc__anim-"+_),setTimeout(function(){p=!0,m.find(".pa-woo-mc__content-wrapper-"+r).css("display","none")},500)}),l.coupon&&m.find(".pa-woo-mc__coupon-toggler").click(function(){m.find(".pa-woo-mc__coupon-wrapper").is(":visible")?m.find(".pa-woo-mc__coupon-wrapper").slideUp():m.find(".pa-woo-mc__coupon-wrapper").slideDown()})}(),u(),w(),function(){if(!m.hasClass("premium-mc-counting-yes"))return;m.find(".pa-woo-mc__badge.pa-counting .odometer-wrapper").length&&(e=new Odometer({el:m.find(".pa-woo-mc__badge.pa-counting .odometer-wrapper")[0],value:m.find(".pa-woo-mc__count-placeholder").text(),format:"(,ddd).dd"}));m.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val").length&&(n=new Odometer({el:m.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val")[0],value:m.find(".pa-woo-mc__text-wrapper .pa-woo-mc__subtotal-placeholder").text(),format:"(,ddd).dd"}))}(),l.crossSells&&setTimeout(function(){d()},0),i(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(o){i(".pa-woo-mc__content-wrapper-"+r+" .pa-woo-mc__empty-msg").length?i(".pa-woo-mc__content-wrapper-"+r).addClass("pa-hide-content"):i(".pa-woo-mc__content-wrapper-"+r).removeClass("pa-hide-content"),u(),w(),l.crossSells&&setTimeout(function(){d()},0),m.hasClass("premium-mc-counting-yes")&&setTimeout(function(){var o=m.find(".pa-woo-mc__count-placeholder").text(),a=m.find(".pa-woo-mc__text-wrapper .pa-woo-mc__subtotal-placeholder").text();m.find(".pa-woo-mc__badge.pa-counting").length&&e.update(o),m.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val").length&&n.update(a)},0)})}function d(){m.find(".pa-woo-mc__cross-sells").slick({infinite:!0,draggable:!0,pauseOnHover:!0,arrows:!1,slidesToShow:l.slidesToShow||3,slidesToScroll:l.slidesToScroll||1,speed:l.speed||1e3,autoplay:l.autoplay,autoplaySpeed:l.autoplaySpeed||5e3}),m.find(".pa-woo-mc__cross-sells-arrows a").on("click.paCrossSellsNav",function(){i(this).hasClass("prev-arrow")?m.find(".pa-woo-mc__cross-sells").slick("slickPrev"):i(this).hasClass("next-arrow")&&m.find(".pa-woo-mc__cross-sells").slick("slickNext")}),1<m.find(".pa-woo-mc__cross-sells .pa-woo-mc__cross-sell-product").length?m.find(".pa-woo-mc__cross-sells-arrows").css({visibility:"inherit",opacity:"1"}):m.find(".pa-woo-mc__cross-sells-arrows").css({visibility:"hidden",opacity:"0"})}function o(o){"hover"===c?(o.stopPropagation(),clearTimeout(a),m.find(".pa-woo-mc__content-wrapper-"+r).removeClass("premium-addons__v-hidden").addClass("pa-woo-mc__open")):"menu"===s?m.find(".pa-woo-mc__content-wrapper-"+r).removeClass("premium-addons__v-hidden").toggleClass("pa-woo-mc__open"):p&&(m.find(".pa-woo-mc__content-wrapper-"+r).css("display","flex"),i("html").css({height:"100%"}),i("html").addClass("offcanvas-open"),i(".pa-woo-mc__overlay-"+r).removeClass("premium-addons__v-hidden"),m.find(".pa-woo-mc__content-wrapper-"+r).removeClass("premium-addons__v-hidden"),m.find(".pa-woo-mc__content-wrapper-"+r).removeClass("pa-woo-mc__anim-"+_),setTimeout(function(){p=!1},550)),0<m.find(".slick-slider").length&&m.find(".pa-woo-mc__cross-sells").slick("setPosition")}function w(){var o,a,e,n=m.find("div[data-pa-count-txt]").data("pa-count-txt");if(n){var t=m.find(".pa-woo-mc__cart-count").text();if(m.hasClass("pa-woo-mc__layout-3"))m.find(".pa-woo-mc__cart-header .pa-woo-mc__cart-count").text(t+" "+n);else if(n.includes("{{count}}")){var i=n.replace("{{count}}",'<span class="pa-woo-mc__cart-count">'+t+"</span>");m.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal-heading").html(i)}}if(l.removeTxt&&m.find(".pa-woo-mc__remove-item span").text(l.removeTxt),l.crossSellTxt&&m.find(".pa-woo-mc__cross-sells-heading").text(l.crossSellTxt),l.taxLabel&&(o=l.taxLabel,a=m.find(".pa-woo-mc__inner-container .pa-woo-mc__subtotal"),e=m.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal"),m.hasClass("pa-trigger-label-yes")&&0===a.find(".pa-woo-mc__tax-label").length&&a.append(' <small class="pa-woo-mc__tax-label">'+o+"</small>"),m.hasClass("pa-footer-label-yes")&&0===e.find(".pa-woo-mc__tax-label").length&&e.append(' <small class="pa-woo-mc__tax-label">'+o+"</small>")),m.find(".pa-woo-mc__progressbar-wrapper").length){var c=parseFloat(m.find(".pa-woo-mc__progressbar-wrapper .pa-woo-mc__subtotal-placeholder").text()),p=m.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-txt"),s=parseFloat(m.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-threshold")),r=parseFloat((c/s*100).toFixed(2)),_=m.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-complete");m.find(".pa-woo-mc__progressbar").attr("value",r),s<=c&&_?m.find(".pa-woo-mc__progress-heading").html(_):m.find(".pa-woo-mc__progress-heading").html(p)}}function u(){i(".pa-woo-mc__qty-btn").on("click",function(o){o.stopPropagation();var a=i(this).parent().find(".pa-woo-mc__input")[0],e=parseInt(i(a).attr("max")),n=parseInt(i(a).val());i(this).hasClass("plus")?e<=n?i(this).parents(".pa-woo-mc__item-wrapper").find(".pa-woo-mc__item-notice").text(PAWooMCartSettings.stock_msg+e):(a.stepUp(),i(a).trigger("change")):(a.stepDown(),i(a).trigger("change"))}),m.find(".pa-woo-mc__input").on("change",function(){var o=i(this).attr("name").replace("cart-",""),a=i(this).val();"1"===a?i(this).siblings(".pa-woo-mc__qty-btn.minus").addClass("disabled"):i(this).siblings(".pa-woo-mc__qty-btn.minus").removeClass("disabled"),f("pa_update_mc_qty",o,a)}),m.find(".pa-woo-mc__remove-item").on("click.paRemoveCartItem",function(o){o.stopPropagation(),f("pa_delete_cart_item",i(this).data("pa-item-key").replace("cart-",""),!1)}),m.find(".pa-woo-mc__input").on("click",function(o){o.stopPropagation()})}function f(e,o,a){var n={action:e,nonce:PAWooMCartSettings.mini_cart_nonce};switch(e){case"pa_update_mc_qty":if(!a)return;n.itemKey=o,n.quantity=a;break;case"pa_delete_cart_item":n.itemKey=o;break;case"pa_apply_coupon":case"pa_remove_coupon":n.couponCode=a}var t=m.find(".pa-woo-mc__remove-coupon");i.ajax({url:PAWooMCartSettings.ajaxurl,dataType:"JSON",type:"POST",data:n,beforeSend:function(){m.find(".pa-woo-mc__widget-shopping-outer-wrapper").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>')},success:function(o){i(document.body).trigger("wc_fragment_refresh"),"pa_apply_coupon"===e&&(m.find(".pa-woo-mc__coupon-notice").removeClass("pa-error-notice").text(o.data),t.css("display","inline-block")),"pa_remove_coupon"===e&&(t.hide(),m.find(".pa-woo-mc__coupon-field").val(""),m.find(".pa-woo-mc__coupon-notice").removeClass("pa-error-notice").text(""))},error:function(o){console.log(o);var a=o.status;"pa_apply_coupon"===e&&(m.find(".pa-woo-mc__coupon-notice").addClass("pa-error-notice").text(o.responseJSON.data),409===a?t.css("display","inline-block"):t.hide())},complete:function(o){m.find(".premium-loading-feed").remove()}})}}o(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-mini-cart.default",a)})}(jQuery);