(()=>{var e,t,n={501:(e,t)=>{"use strict";Object.prototype.toString},892:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,"");function o(e){return t[e]}var l=function(e){return e.replace(r,o)};e.exports=l,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=l},296:(e,t,n)=>{"use strict";var r=n(609),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,l=r.useEffect,s=r.useLayoutEffect,a=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),l((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),a(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},139:(e,t,n)=>{"use strict";e.exports=n(296)},609:e=>{"use strict";e.exports=window.React}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,i.d(o,l),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=i(609),t=i.t(e,2),n=(i(501),"popstate");function r(e={}){return function(e,t,r,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,p="POP",m=null,f=h();function h(){return(d.state||{idx:null}).idx}function v(){p="POP";let e=h(),t=null==e?null:e-f;f=e,m&&m({action:p,location:w.location,delta:t})}function g(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"==typeof e?e:c(e);return n=n.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==f&&(f=0,d.replaceState({...d.state,idx:f},""));let w={get action(){return p},get location(){return e(l,d)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(n,v),m=e,()=>{l.removeEventListener(n,v),m=null}},createHref:e=>t(l,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p="PUSH";let n=a(w.location,e,t);r&&r(n,e),f=h()+1;let i=s(n,f),o=w.createHref(n);try{d.pushState(i,"",o)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;l.location.assign(o)}u&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p="REPLACE";let n=a(w.location,e,t);r&&r(n,e),f=h();let i=s(n,f),o=w.createHref(n);d.replaceState(i,"",o),u&&m&&m({action:p,location:w.location,delta:0})},go:e=>d.go(e)};return w}((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=u(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),a("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:c(t))}),(function(e,t){l("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),e)}function o(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function s(e,t){return{usr:e.state,key:e.key,idx:t}}function a(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n="/"){return function(e,t,n,r){let i=k(("string"==typeof t?u(t):t).pathname||"/",n);if(null==i)return null;let o=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let l=null;for(let e=0;null==l&&e<o.length;++e){let t=C(i);l=j(o[e],t,r)}return l}(e,t,n,!1)}function p(e,t=[],n=[],r=""){let i=(e,i,l)=>{let s={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let a=N([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${a}".`),p(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:y(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of m(e.path))i(e,t,n);else i(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let l=m(r.join("/")),s=[];return s.push(...l.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...l),s.map((t=>e.startsWith("/")&&""===t?"/":t))}new WeakMap;var f=/^:[\w-]+$/,h=3,v=2,g=1,w=10,x=-2,b=e=>"*"===e;function y(e,t){let n=e.split("/"),r=n.length;return n.some(b)&&(r+=x),t&&(r+=v),n.filter((e=>!b(e))).reduce(((e,t)=>e+(f.test(t)?h:""===t?g:w)),r)}function j(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let e=0;e<r.length;++e){let s=r[e],a=e===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=_({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},c),d=s.route;if(!u&&a&&n&&!r[r.length-1].route.index&&(u=_({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),l.push({params:i,pathname:N([o,u.pathname]),pathnameBase:V(N([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=N([o,u.pathnameBase]))}return l}function _(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),c=r.reduce(((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=a[r]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const i=a[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:o,pathnameBase:s,pattern:e}}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function S(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E(e){let t=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function I(e,t,n,r=!1){let i;"string"==typeof e?i=u(e):(i={...e},o(!i.pathname||!i.pathname.includes("?"),S("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),S("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),S("#","search","hash",i)));let l,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)l=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}l=e>=0?t[e]:"/"}let c=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?u(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:P(r),hash:M(i)}}(i,l),d=a&&"/"!==a&&a.endsWith("/"),p=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!p||(c.pathname+="/"),c}var N=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function O(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],R=(new Set(F),["GET",...F]);new Set(R),Symbol("ResetLoaderData");var L=e.createContext(null);L.displayName="DataRouter";var A=e.createContext(null);A.displayName="DataRouterState";var T=e.createContext({isTransitioning:!1});T.displayName="ViewTransition",e.createContext(new Map).displayName="Fetchers",e.createContext(null).displayName="Await";var D=e.createContext(null);D.displayName="Navigation";var H=e.createContext(null);H.displayName="Location";var B=e.createContext({outlet:null,matches:[],isDataRoute:!1});B.displayName="Route";var $=e.createContext(null);function z(){return null!=e.useContext(H)}function U(){return o(z(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(H).location}$.displayName="RouteError";var W="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K(t){e.useContext(D).static||e.useLayoutEffect(t)}function G(){let{isDataRoute:t}=e.useContext(B);return t?function(){let{router:t}=function(t){let n=e.useContext(L);return o(n,ee(t)),n}("useNavigate"),n=te("useNavigate"),r=e.useRef(!1);return K((()=>{r.current=!0})),e.useCallback((async(e,i={})=>{l(r.current,W),r.current&&("number"==typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n])}():function(){o(z(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(L),{basename:n,navigator:r}=e.useContext(D),{matches:i}=e.useContext(B),{pathname:s}=U(),a=JSON.stringify(E(i)),c=e.useRef(!1);return K((()=>{c.current=!0})),e.useCallback(((e,i={})=>{if(l(c.current,W),!c.current)return;if("number"==typeof e)return void r.go(e);let o=I(e,JSON.parse(a),s,"path"===i.relative);null==t&&"/"!==n&&(o.pathname="/"===o.pathname?n:N([n,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[n,r,a,s,t])}()}function Z(t,{relative:n}={}){let{matches:r}=e.useContext(B),{pathname:i}=U(),o=JSON.stringify(E(r));return e.useMemo((()=>I(t,JSON.parse(o),i,"path"===n)),[t,o,i,n])}function q(t,n,r,i){o(z(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=e.useContext(D),{matches:c}=e.useContext(B),p=c[c.length-1],m=p?p.params:{},f=p?p.pathname:"/",h=p?p.pathnameBase:"/",v=p&&p.route;{let e=v&&v.path||"";re(f,!v||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,w=U();if(n){let e="string"==typeof n?u(n):n;o("/"===h||e.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=w;let x=g.pathname||"/",b=x;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=!a&&r&&r.matches&&r.matches.length>0?r.matches:d(t,{pathname:b});l(v||null!=y,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=function(t,n=[],r=null){if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,l=r?.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&void 0!==l?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,a=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(a=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){s=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((t,o,c)=>{let u,d=!1,p=null,m=null;r&&(u=l&&o.route.id?l[o.route.id]:void 0,p=o.route.errorElement||X,s&&(a<0&&0===c?(re("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):a===c&&(d=!0,m=o.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),h=()=>{let n;return n=u?p:d?m:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(Q,{match:o,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?e.createElement(J,{location:r.location,revalidation:r.revalidation,component:p,error:u,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()}),null)}(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},m,e.params),pathname:N([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:N([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&j?e.createElement(H.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function Y(){let t=function(){let t=e.useContext($),n=function(t){let n=e.useContext(A);return o(n,ee(t)),n}("useRouteError"),r=te("useRouteError");return void 0!==t?t:n.errors?.[r]}(),n=O(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"💿 Hey developer 👋"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:l},r):null,a)}e.createContext(null);var X=e.createElement(Y,null),J=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(B.Provider,{value:this.props.routeContext},e.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q({routeContext:t,match:n,children:r}){let i=e.useContext(L);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),e.createElement(B.Provider,{value:t},r)}function ee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function te(t){let n=function(t){let n=e.useContext(B);return o(n,ee(t)),n}(t),r=n.matches[n.matches.length-1];return o(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}var ne={};function re(e,t,n){t||ne[e]||(ne[e]=!0,l(!1,n))}function ie({to:t,replace:n,state:r,relative:i}){o(z(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=e.useContext(D);l(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=e.useContext(B),{pathname:c}=U(),u=G(),d=I(t,E(a),c,"path"===i),p=JSON.stringify(d);return e.useEffect((()=>{u(JSON.parse(p),{replace:n,state:r,relative:i})}),[u,p,i,n,r]),null}function oe(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function le({basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:a=!1}){o(!z(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:c,navigator:s,static:a,future:{}})),[c,s,a]);"string"==typeof r&&(r=u(r));let{pathname:p="/",search:m="",hash:f="",state:h=null,key:v="default"}=r,g=e.useMemo((()=>{let e=k(p,c);return null==e?null:{location:{pathname:e,search:m,hash:f,state:h,key:v},navigationType:i}}),[c,p,m,f,h,v,i]);return l(null!=g,`<Router basename="${c}"> is not able to match the URL "${p}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==g?null:e.createElement(D.Provider,{value:d},e.createElement(H.Provider,{children:n,value:g}))}function se({children:e,location:t}){return q(ae(e),t)}function ae(t,n=[]){let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let l=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,ae(t.props.children,l));o(t.type===oe,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||l.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=ae(t.props.children,l)),r.push(s)})),r}e.memo((function({routes:e,future:t,state:n}){return q(e,void 0,n,t)})),e.Component;var ce="get",ue="application/x-www-form-urlencoded";function de(e){return null!=e&&"string"==typeof e.tagName}var pe=null,me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fe(e){return null==e||me.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ue}"`),null)}function he(e,t){if(!1===e||null==e)throw new Error(t)}function ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function ge(e,t,n,r,i,o){let l=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>l(e,t)||s(e,t))):"data"===o?t.filter(((t,o)=>{let a=r.routes[t.route.id];if(!a||!a.hasLoader)return!1;if(l(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0})):[]}function we(e,t,{includeHydrateFallback:n}={}){return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function xe(){let t=e.useContext(L);return he(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function be(){let t=e.useContext(A);return he(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}Symbol("SingleFetchRedirect"),e.Component;var ye=e.createContext(void 0);function je(){let t=e.useContext(ye);return he(t,"You must render this element inside a <HydratedRouter> element"),t}function _e(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ce({page:t,...n}){let{router:r}=xe(),i=e.useMemo((()=>d(r.routes,t,r.basename)),[r.routes,t,r.basename]);return i?e.createElement(Se,{page:t,matches:i,...n}):null}function ke(t){let{manifest:n,routeModules:r}=je(),[i,o]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return function(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&(null==(o=i)||"string"!=typeof o.page)&&"script"===i.as&&i.href&&r.has(i.href))return e;var o;let l=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(l)||(n.add(l),e.push({key:l,link:i})),e}),[])}((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ve).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||o(t)})),()=>{e=!0}}),[t,n,r]),i}function Se({page:t,matches:n,...r}){let i=U(),{manifest:o,routeModules:l}=je(),{basename:s}=xe(),{loaderData:a,matches:c}=be(),u=e.useMemo((()=>ge(t,n,c,o,i,"data")),[t,n,c,o,i]),d=e.useMemo((()=>ge(t,n,c,o,i,"assets")),[t,n,c,o,i]),p=e.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=o.routes[t.route.id];n&&n.hasLoader&&(!u.some((e=>e.route.id===t.route.id))&&t.route.id in a&&l[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let c=function(e,t){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===k(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}(t,s);return r&&e.size>0&&c.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[c.pathname+c.search]}),[s,a,i,o,u,n,t,l]),m=e.useMemo((()=>we(d,o)),[d,o]),f=ke(d);return e.createElement(e.Fragment,null,p.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...r}))),m.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...r}))),f.map((({key:t,link:n})=>e.createElement("link",{key:t,...n}))))}ye.displayName="FrameworkContext";function Ee(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var Ie="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Ie&&(window.__reactRouterVersion="7.5.0")}catch(e){}function Ne({basename:t,children:n,window:i}){let o=e.useRef();null==o.current&&(o.current=r({window:i,v5Compat:!0}));let l=o.current,[s,a]=e.useState({action:l.action,location:l.location}),c=e.useCallback((t=>{e.startTransition((()=>a(t)))}),[a]);return e.useLayoutEffect((()=>l.listen(c)),[l,c]),e.createElement(le,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:l})}var Ve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=e.forwardRef((function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:u,target:d,to:p,preventScrollReset:m,viewTransition:f,...h},v){let g,{basename:w}=e.useContext(D),x="string"==typeof p&&Ve.test(p),b=!1;if("string"==typeof p&&x&&(g=p,Ie))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=k(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:b=!0}catch(e){l(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=function(t,{relative:n}={}){o(z(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(D),{hash:l,pathname:s,search:a}=Z(t,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:N([r,s])),i.createHref({pathname:c,search:a,hash:l})}(p,{relative:i}),[j,_,C]=function(t,n){let r=e.useContext(ye),[i,o]=e.useState(!1),[l,s]=e.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=n,m=e.useRef(null);e.useEffect((()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let f=()=>{o(!0)},h=()=>{o(!1),s(!1)};return r?"intent"!==t?[l,m,{}]:[l,m,{onFocus:_e(a,f),onBlur:_e(c,h),onMouseEnter:_e(u,f),onMouseLeave:_e(d,h),onTouchStart:_e(p,f)}]:[!1,m,{}]}(r,h),S=function(t,{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:s}={}){let a=G(),u=U(),d=Z(t,{relative:l});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);a(t,{replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:s})}}),[u,a,d,r,i,n,t,o,l,s])}(p,{replace:a,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:f}),E=e.createElement("a",{...h,...C,href:g||y,onClick:b||s?t:function(e){t&&t(e),e.defaultPrevented||S(e)},ref:Ee(v,_),target:d,"data-discover":x||"render"!==n?void 0:"true"});return j&&!x?e.createElement(e.Fragment,null,E,e.createElement(Ce,{page:y})):E}));function Me(t){let n=e.useContext(L);return o(n,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(t)),n}Pe.displayName="Link",e.forwardRef((function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:s,viewTransition:a,children:c,...u},d){let p=Z(s,{relative:u.relative}),m=U(),f=e.useContext(A),{navigator:h,basename:v}=e.useContext(D),g=null!=f&&function(t,n={}){let r=e.useContext(T);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Me("useViewTransitionState"),l=Z(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=k(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=k(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=_(l.pathname,a)||null!=_(l.pathname,s)}(p)&&!0===a,w=h.encodeLocation?h.encodeLocation(p).pathname:p.pathname,x=m.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&v&&(b=k(b,v)||b);const y="/"!==w&&w.endsWith("/")?w.length-1:w.length;let j,C=x===w||!i&&x.startsWith(w)&&"/"===x.charAt(y),S=null!=b&&(b===w||!i&&b.startsWith(w)&&"/"===b.charAt(w.length)),E={isActive:C,isPending:S,isTransitioning:g},I=C?t:void 0;j="function"==typeof r?r(E):[r,C?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let N="function"==typeof l?l(E):l;return e.createElement(Pe,{...u,"aria-current":I,className:j,ref:d,style:N,to:s,viewTransition:a},"function"==typeof c?c(E):c)})).displayName="NavLink",e.forwardRef((({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:s,method:a=ce,action:u,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:f,...h},v)=>{let g=function(){let{router:t}=Me("useSubmit"),{basename:n}=e.useContext(D),r=te("useRouteId");return e.useCallback((async(e,i={})=>{let{action:o,method:l,encType:s,formData:a,body:c}=function(e,t){let n,r,i,o,l;if(de(s=e)&&"form"===s.tagName.toLowerCase()){let l=e.getAttribute("action");r=l?k(l,t):null,n=e.getAttribute("method")||ce,i=fe(e.getAttribute("enctype"))||ue,o=new FormData(e)}else if(function(e){return de(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return de(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(r=s?k(s,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ce,i=fe(e.getAttribute("formenctype"))||fe(l.getAttribute("enctype"))||ue,o=new FormData(l,e),!function(){if(null===pe)try{new FormData(document.createElement("form"),0),pe=!1}catch(e){pe=!0}return pe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(de(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ce,r=null,i=ue,l=e}var s;return o&&"text/plain"===i&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}(e,n);if(!1===i.navigate){let e=i.fetcherKey||Fe();await t.fetch(e,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:a,body:c,formMethod:i.method||l,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:a,body:c,formMethod:i.method||l,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}(),w=function(t,{relative:n}={}){let{basename:r}=e.useContext(D),i=e.useContext(B);o(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),s={...Z(t||".",{relative:n})},a=U();if(null==t){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}return t&&"."!==t||!l.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(s.pathname="/"===s.pathname?r:N([r,s.pathname])),c(s)}(u,{relative:p}),x="get"===a.toLowerCase()?"get":"post",b="string"==typeof u&&Ve.test(u);return e.createElement("form",{ref:v,method:x,action:w,onSubmit:i?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,i=t?.getAttribute("formmethod")||a;g(t||e.currentTarget,{fetcherKey:n,method:i,navigate:r,replace:l,state:s,relative:p,preventScrollReset:m,viewTransition:f})},...h,"data-discover":b||"render"!==t?void 0:"true"})})).displayName="Form";var Oe=0,Fe=()=>`__${String(++Oe)}__`;new TextEncoder;const Re=window.wp.element,Le=window.wp.domReady;var Ae=i.n(Le);const Te=window.wp.hooks,De=window.wp.components,He=window.wp.i18n,Be=window.wp.primitives,$e=window.ReactJSXRuntime,ze=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z"})}),Ue=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})}),We=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})}),Ke=({className:e,...t})=>(0,$e.jsxs)("svg",{className:e,viewBox:"0 0 924 159",xmlns:"http://www.w3.org/2000/svg",fill:"none",...t,children:[(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 79.5C0 40.0116 32.0116 8 71.5 8C110.988 8 143 40.0116 143 79.5C143 92.7979 139.37 105.248 133.046 115.913C127.362 102.535 117.719 91.2443 105.588 83.5121C105.741 82.196 105.82 80.8572 105.82 79.5C105.82 60.5456 90.4544 45.18 71.5 45.18C52.7323 45.18 37.483 60.2444 37.1845 78.941C20.0073 86.9002 6.52154 101.477 0 119.399V79.5Z",fill:"url(#paint0)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M143 79.5C143 118.988 110.988 151 71.5 151C32.0116 151 0 118.988 0 79.5C0 66.2021 3.63023 53.7521 9.95374 43.087C15.6379 56.4653 25.2807 67.7557 37.412 75.4879C37.2588 76.804 37.18 78.1428 37.18 79.5C37.18 98.4544 52.5456 113.82 71.5 113.82C90.2677 113.82 105.517 98.7556 105.816 80.059C122.993 72.0998 136.478 57.5229 143 39.6009V79.5Z",fill:"url(#paint1)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71.5 8C32.0116 8 0 40.0116 0 79.5V151H71.5C110.988 151 143 118.988 143 79.5C143 40.0116 110.988 8 71.5 8ZM71.5 45.18C52.5456 45.18 37.18 60.5456 37.18 79.5L37.18 113.82H71.5C90.4544 113.82 105.82 98.4544 105.82 79.5C105.82 60.5456 90.4544 45.18 71.5 45.18Z",fill:"url(#paint2)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71.5 151C110.988 151 143 118.988 143 79.5V8H71.5C32.0116 8 0 40.0116 0 79.5C0 118.988 32.0116 151 71.5 151ZM71.5 113.82C90.4544 113.82 105.82 98.4544 105.82 79.5L105.82 45.18H71.5C52.5456 45.18 37.18 60.5456 37.18 79.5C37.18 98.4544 52.5456 113.82 71.5 113.82Z",fill:"url(#paint3)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71.5 8C32.0116 8 0 40.0116 0 79.5V151H71.5C110.988 151 143 118.988 143 79.5C143 40.0116 110.988 8 71.5 8ZM71.5 45.18C52.5456 45.18 37.18 60.5456 37.18 79.5L37.18 113.82H71.5C90.4544 113.82 105.82 98.4544 105.82 79.5C105.82 60.5456 90.4544 45.18 71.5 45.18Z",fill:"url(#paint4)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71.5 151C110.988 151 143 118.988 143 79.5V8H71.5C32.0116 8 0 40.0116 0 79.5C0 118.988 32.0116 151 71.5 151ZM71.5 113.82C90.4544 113.82 105.82 98.4544 105.82 79.5L105.82 45.18H71.5C52.5456 45.18 37.18 60.5456 37.18 79.5C37.18 98.4544 52.5456 113.82 71.5 113.82Z",fill:"url(#paint5)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 113.169V150.349H71.5C110.988 150.349 143 118.338 143 78.8494C143 69.4794 141.198 60.5303 137.921 52.3301C133.449 82.2448 110.445 106.102 80.9659 111.847C77.9591 112.708 74.7834 113.169 71.5 113.169H67.21H37.18H0Z",fill:"url(#paint6)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M143 45.8306V8.65057H71.5C32.0116 8.65057 0 40.6622 0 80.1506C0 89.5206 1.8024 98.4696 5.07941 106.67C9.55139 76.7552 32.5547 52.8976 62.0341 47.1526C65.0409 46.2916 68.2166 45.8306 71.5 45.8306H75.79H105.82H143Z",fill:"url(#paint7)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 113.169V151H71V150.998C71.1665 150.999 71.3332 151 71.5 151C110.988 151 143 118.764 143 78.9999C143 69.568 141.199 60.5597 137.924 52.3047C133.462 82.2312 110.454 106.101 80.966 111.847C77.9592 112.708 74.7834 113.169 71.5 113.169H37.18L0 113.169Z",fill:"url(#paint8)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M143 45.4268V7.99998L71.5 8C32.0116 8 0 40.2241 0 79.9746C0 89.4068 1.80238 98.4152 5.07938 106.67C9.55139 76.5566 32.5548 52.5407 62.0342 46.7576C65.041 45.8909 68.2166 45.4268 71.5 45.4268L71.5326 45.4268H75.7374C75.7549 45.4268 75.7724 45.4268 75.79 45.4268H143Z",fill:"url(#paint9)",fillOpacity:"0.4"}),(0,$e.jsx)("path",{d:"M203.48 33.12L220.248 100.96L236.888 33.12H252.376L269.272 100.96L285.784 33.12H303.32L279 124H260.568L244.696 63.072L228.696 124H210.392L185.944 33.12H203.48ZM344.82 33.12C351.817 33.12 357.833 34.272 362.868 36.576C367.988 38.88 371.913 42.2507 374.644 46.688C377.375 51.04 378.74 56.16 378.74 62.048C378.74 68.1067 377.375 73.3547 374.644 77.792C371.913 82.144 367.988 85.472 362.868 87.776C357.833 90.08 351.817 91.232 344.82 91.232H326.26V124H309.62V33.12H344.82ZM344.052 76.768C349.684 76.768 353.993 75.5307 356.98 73.056C360.052 70.5813 361.588 66.912 361.588 62.048C361.588 57.3547 360.052 53.7707 356.98 51.296C353.993 48.8213 349.684 47.584 344.052 47.584H326.26V76.768H344.052ZM452.646 33.12C458.961 33.12 464.507 34.2293 469.286 36.448C474.15 38.5813 477.947 41.7387 480.678 45.92C483.409 50.016 484.774 54.88 484.774 60.512C484.774 64.608 483.878 68.2773 482.086 71.52C480.379 74.6773 478.033 77.2373 475.046 79.2C472.059 81.1627 468.774 82.3573 465.19 82.784L462.502 81.632C469.414 81.632 474.449 82.8693 477.606 85.344C480.849 87.7333 482.726 91.872 483.238 97.76L485.542 124H468.774L466.854 100.192C466.598 96.2667 465.19 93.536 462.63 92C460.07 90.464 455.846 89.696 449.958 89.696H431.27V124H414.63V33.12H452.646ZM450.854 75.104C456.23 75.104 460.369 73.952 463.27 71.648C466.171 69.2587 467.622 65.888 467.622 61.536C467.622 57.0133 466.171 53.5573 463.27 51.168C460.369 48.7787 456.23 47.584 450.854 47.584H431.27V75.104H450.854ZM524.057 125.536C517.316 125.536 511.428 124.085 506.393 121.184C501.358 118.283 497.433 114.187 494.617 108.896C491.801 103.52 490.393 97.248 490.393 90.08C490.393 82.912 491.801 76.6827 494.617 71.392C497.433 66.016 501.358 61.8773 506.393 58.976C511.428 56.0747 517.316 54.624 524.057 54.624C530.713 54.624 536.558 56.0747 541.593 58.976C546.713 61.8773 550.638 66.016 553.369 71.392C556.185 76.6827 557.593 82.912 557.593 90.08C557.593 97.248 556.185 103.52 553.369 108.896C550.638 114.187 546.713 118.283 541.593 121.184C536.558 124.085 530.713 125.536 524.057 125.536ZM524.057 112.224C529.348 112.224 533.444 110.304 536.345 106.464C539.246 102.539 540.697 97.0773 540.697 90.08C540.697 83.0827 539.246 77.664 536.345 73.824C533.444 69.8987 529.348 67.936 524.057 67.936C518.766 67.936 514.67 69.856 511.769 73.696C508.868 77.536 507.417 82.9973 507.417 90.08C507.417 97.1627 508.868 102.624 511.769 106.464C514.67 110.304 518.766 112.224 524.057 112.224ZM583.119 33.12V106.336C583.119 107.872 583.546 109.109 584.399 110.048C585.338 110.901 586.575 111.328 588.111 111.328H593.231V124H583.887C578.682 124 574.5 122.507 571.343 119.52C568.271 116.448 566.735 112.267 566.735 106.976V33.12H583.119ZM618.124 33.12V106.336C618.124 107.872 618.551 109.109 619.404 110.048C620.343 110.901 621.58 111.328 623.116 111.328H628.236V124H618.892C613.687 124 609.505 122.507 606.348 119.52C603.276 116.448 601.74 112.267 601.74 106.976V33.12H618.124ZM653.129 33.12V65.376C655.177 62.048 657.993 59.4453 661.577 57.568C665.161 55.6053 669.172 54.624 673.609 54.624C679.412 54.624 684.489 56.0747 688.841 58.976C693.193 61.8773 696.521 66.016 698.825 71.392C701.129 76.6827 702.281 82.912 702.281 90.08C702.281 97.248 701.129 103.52 698.825 108.896C696.521 114.187 693.193 118.283 688.841 121.184C684.489 124.085 679.412 125.536 673.609 125.536C669.001 125.536 664.862 124.555 661.193 122.592C657.524 120.544 654.708 117.771 652.745 114.272L652.361 124H636.745V33.12H653.129ZM652.105 90.08C652.105 94.6027 652.788 98.528 654.153 101.856C655.518 105.184 657.438 107.787 659.913 109.664C662.473 111.456 665.417 112.352 668.745 112.352C673.78 112.352 677.79 110.347 680.777 106.336C683.849 102.24 685.385 96.8213 685.385 90.08C685.385 83.168 683.892 77.664 680.905 73.568C677.918 69.472 673.865 67.424 668.745 67.424C665.417 67.424 662.473 68.3627 659.913 70.24C657.438 72.032 655.518 74.6347 654.153 78.048C652.788 81.4613 652.105 85.472 652.105 90.08ZM709.69 76.896C711.055 69.8133 714.341 64.352 719.546 60.512C724.837 56.5867 731.663 54.624 740.026 54.624C749.754 54.624 757.135 57.0987 762.17 62.048C767.29 66.9973 769.85 74.2507 769.85 83.808V107.104C769.85 108.981 770.191 110.304 770.874 111.072C771.642 111.755 772.709 112.096 774.074 112.096H776.762V124L772.922 124.128H771.514C767.589 124.299 764.09 123.701 761.018 122.336C757.946 120.885 756.154 117.984 755.642 113.632C753.935 117.216 751.119 120.117 747.194 122.336C743.354 124.469 738.618 125.536 732.986 125.536C725.989 125.536 720.143 123.787 715.45 120.288C710.842 116.789 708.538 112.096 708.538 106.208C708.538 101.941 709.519 98.4853 711.482 95.84C713.53 93.1947 716.389 91.1467 720.058 89.696C723.727 88.16 728.506 86.7947 734.394 85.6L753.338 81.888C753.338 76.5973 752.229 72.7147 750.01 70.24C747.791 67.68 744.463 66.4 740.026 66.4C736.357 66.4 733.37 67.3813 731.066 69.344C728.762 71.2213 727.226 74.0373 726.458 77.792L709.69 76.896ZM725.562 105.696C725.562 108.171 726.586 110.176 728.634 111.712C730.682 113.248 733.626 114.016 737.466 114.016C740.623 114.016 743.397 113.248 745.786 111.712C748.261 110.176 750.181 107.915 751.546 104.928C752.997 101.856 753.722 98.1867 753.722 93.92V93.024L740.794 95.328C740.197 95.4133 739.557 95.4987 738.874 95.584C735.802 96.1813 733.327 96.8213 731.45 97.504C729.658 98.1013 728.207 99.0827 727.098 100.448C726.074 101.728 725.562 103.477 725.562 105.696ZM828.049 81.12C827.366 77.024 825.66 73.824 822.929 71.52C820.284 69.1307 817.126 67.936 813.457 67.936C808.166 67.936 804.07 69.856 801.169 73.696C798.268 77.536 796.817 82.9973 796.817 90.08C796.817 97.1627 798.268 102.624 801.169 106.464C804.07 110.304 808.166 112.224 813.457 112.224C817.297 112.224 820.582 111.029 823.313 108.64C826.044 106.165 827.708 102.667 828.305 98.144L845.329 98.912C844.732 104.288 842.982 108.981 840.081 112.992C837.18 117.003 833.425 120.117 828.817 122.336C824.209 124.469 819.089 125.536 813.457 125.536C806.716 125.536 800.828 124.085 795.793 121.184C790.758 118.283 786.833 114.144 784.017 108.768C781.201 103.392 779.793 97.1627 779.793 90.08C779.793 82.9973 781.201 76.768 784.017 71.392C786.833 66.016 790.758 61.8773 795.793 58.976C800.828 56.0747 806.716 54.624 813.457 54.624C818.918 54.624 823.91 55.6907 828.433 57.824C833.041 59.872 836.796 62.816 839.697 66.656C842.598 70.496 844.348 75.0187 844.945 80.224L828.049 81.12ZM868.644 33.12V86.752L896.42 56.16H916.516L890.02 84.192L917.796 124H899.364L879.268 94.048L868.644 105.44V124H852.26V33.12H868.644Z",fill:"#1D2A39"}),(0,$e.jsxs)("defs",{children:[(0,$e.jsxs)("linearGradient",{id:"paint0",x1:"71.5",y1:"8",x2:"71.5",y2:"151",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint1",x1:"71.5",y1:"151",x2:"71.5",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint2",x1:"71.5",y1:"8",x2:"71.5",y2:"151",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint3",x1:"71.5",y1:"151",x2:"71.5",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint4",x1:"71.5",y1:"8",x2:"71.5",y2:"151",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint5",x1:"71.5",y1:"151",x2:"71.5",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint6",x1:"133.705",y1:"89.5101",x2:"71.5",y2:"150.349",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint7",x1:"9.295",y1:"69.4899",x2:"71.5",y2:"8.65065",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint8",x1:"133.705",y1:"89.5099",x2:"71.5",y2:"150.349",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]}),(0,$e.jsxs)("linearGradient",{id:"paint9",x1:"9.29501",y1:"69.2432",x2:"71.9023",y2:"8.41414",gradientUnits:"userSpaceOnUse",children:[(0,$e.jsx)("stop",{stopColor:"#FF61EF"}),(0,$e.jsx)("stop",{offset:"0.598958",stopColor:"#A972F9",stopOpacity:"0.772396"}),(0,$e.jsx)("stop",{offset:"1",stopColor:"#707EFF",stopOpacity:"0.62"})]})]})]}),Ge=()=>(0,$e.jsxs)("div",{className:"wpr-header",children:[(0,$e.jsx)("div",{className:"wpr-header-logo",children:(0,$e.jsx)(Pe,{to:"/",className:"wpr-header-logo",children:(0,$e.jsx)(Ke,{style:{width:162,height:"auto"}})})}),(0,$e.jsx)("div",{className:"wpr-header-content"}),(0,$e.jsxs)("div",{className:"wpr-header-actions",children:[(0,$e.jsx)(De.ExternalLink,{href:"https://docs.wprollback.com/?utm_source=free-plugin&utm_medium=header&utm_campaign=documentation",children:(0,He.__)("Documentation","wp-rollback")}),(0,$e.jsx)(De.ExternalLink,{href:"https://wordpress.org/support/plugin/wp-rollback/",children:(0,He.__)("Support","wp-rollback")}),(0,$e.jsx)(De.Button,{href:"https://wprollback.com/pricing/",target:"_blank",icon:(0,$e.jsx)(De.Icon,{icon:We}),iconSize:16,variant:"primary",children:(0,He.__)("Upgrade to Pro","wp-rollback")})]})]}),Ze=({children:e,className:t="wpr-tools-content"})=>(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(Ge,{}),(0,$e.jsx)("div",{className:t,children:e})]}),qe=()=>{const e=G();return(0,$e.jsxs)(Ze,{children:[(0,$e.jsxs)("div",{className:"wpr-subheader",children:[(0,$e.jsx)("h1",{children:(0,He.__)("Rollback a Plugin or Theme","wp-rollback")}),(0,$e.jsx)("p",{children:(0,He.__)("With WP Rollback you can go back to a previous WordPress.org plugin or theme version with ease. Which action would you like to perform today?","wp-rollback")})]}),(0,$e.jsxs)("div",{className:"wpr-rollback-options",children:[(0,$e.jsx)(De.Card,{isRounded:!1,elevation:2,children:(0,$e.jsxs)(De.CardBody,{children:[(0,$e.jsxs)("div",{className:"wpr-icon-heading",children:[(0,$e.jsx)(De.Icon,{icon:ze}),(0,$e.jsx)("h2",{children:(0,He.__)("Plugin Version Rollback","wp-rollback")})]}),(0,$e.jsx)("p",{children:(0,He.__)("Revert any WordPress.org plugin to a previous version with just a few clicks. Choose the plugin and version you'd like to restore.","wp-rollback")}),(0,$e.jsx)(De.Button,{onClick:()=>{e("/plugin-list")},className:"wpr-plugin-rollback-button",variant:"primary",children:(0,He.__)("Rollback a Plugin","wp-rollback")})]})}),(0,$e.jsx)(De.Card,{isRounded:!1,elevation:2,children:(0,$e.jsxs)(De.CardBody,{children:[(0,$e.jsxs)("div",{className:"wpr-icon-heading",children:[(0,$e.jsx)(De.Icon,{icon:Ue}),(0,$e.jsx)("h2",{children:(0,He.__)("Theme Version Rollback","wp-rollback")})]}),(0,$e.jsx)("p",{children:(0,He.__)("Revert any WordPress.org plugin to a previous version with just a few clicks. Choose the plugin and version you'd like to restore.","wp-rollback")}),(0,$e.jsx)(De.Button,{onClick:()=>{e("/theme-list")},className:"wpr-theme-rollback-button",variant:"primary",children:(0,He.__)("Rollback a Theme","wp-rollback")})]})})]}),(0,$e.jsx)(De.Card,{isRounded:!1,elevation:2,children:(0,$e.jsxs)(De.CardBody,{children:[(0,$e.jsx)("h3",{children:(0,He.__)("The Safest Way to Rollback Premium Plugins & Themes","wp-rollback")}),(0,$e.jsx)("p",{children:(0,He.__)("Get complete control over every plugin on your site with automated backups, rollback notes for your team, and support for premium plugins from any marketplace.","wp-rollback")}),(0,$e.jsx)(De.Button,{href:"https://wprollback.com/pricing/",variant:"primary",className:"wpr-upgrade-rollback-button",children:(0,He.__)("Upgrade to Pro","wp-rollback")})]})})]})},Ye=window.wp.compose,Xe=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),Je=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),Qe="is",et="isNot",tt="isAny",nt="isNone",rt="isAll",it="isNotAll",ot=[Qe,et,tt,nt,rt,it],lt={[Qe]:{key:"is-filter",label:(0,He.__)("Is")},[et]:{key:"is-not-filter",label:(0,He.__)("Is not")},[tt]:{key:"is-any-filter",label:(0,He.__)("Is any")},[nt]:{key:"is-none-filter",label:(0,He.__)("Is none")},[rt]:{key:"is-all-filter",label:(0,He.__)("Is all")},[it]:{key:"is-not-all-filter",label:(0,He.__)("Is not all")}},st=["asc","desc"],at={asc:"↑",desc:"↓"},ct={asc:"ascending",desc:"descending"},ut={asc:(0,He.__)("Sort ascending"),desc:(0,He.__)("Sort descending")},dt={asc:Xe,desc:Je},pt="table",mt="grid",ft=(0,Re.createContext)({view:{type:pt},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,containerWidth:0}),ht=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});function vt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=vt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const gt=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=vt(e))&&(r&&(r+=" "),r+=t);return r},wt=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});var xt=Object.defineProperty,bt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,kt=(e,t,n)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,St=(e,t)=>{for(var n in t||(t={}))_t.call(t,n)&&kt(e,n,t[n]);if(jt)for(var n of jt(t))Ct.call(t,n)&&kt(e,n,t[n]);return e},Et=(e,t)=>bt(e,yt(t)),It=(e,t)=>{var n={};for(var r in e)_t.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&jt)for(var r of jt(e))t.indexOf(r)<0&&Ct.call(e,r)&&(n[r]=e[r]);return n},Nt=Object.defineProperty,Vt=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Rt=(e,t,n)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lt=(e,t)=>{for(var n in t||(t={}))Ot.call(t,n)&&Rt(e,n,t[n]);if(Mt)for(var n of Mt(t))Ft.call(t,n)&&Rt(e,n,t[n]);return e},At=(e,t)=>Vt(e,Pt(t)),Tt=(e,t)=>{var n={};for(var r in e)Ot.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mt)for(var r of Mt(e))t.indexOf(r)<0&&Ft.call(e,r)&&(n[r]=e[r]);return n};function Dt(...e){}function Ht(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Bt(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function $t(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function zt(e){return e}function Ut(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function Wt(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function Kt(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function Gt(...e){for(const t of e)if(void 0!==t)return t}function Zt(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var qt,Yt="undefined"!=typeof window&&!!(null==(qt=window.document)?void 0:qt.createElement);function Xt(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function Jt(e,t=!1){const{activeElement:n}=Xt(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return Jt(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Xt(n).getElementById(e);if(t)return t}}return n}function Qt(e,t){return e===t||e.contains(t)}function en(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==tn.indexOf(e.type)}var tn=["button","color","file","image","reset","submit"];function nn(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function rn(e){return e.isContentEditable||nn(e)}function on(e){let t=0,n=0;if(nn(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const r=Xt(e).getSelection();if((null==r?void 0:r.rangeCount)&&r.anchorNode&&Qt(e,r.anchorNode)&&r.focusNode&&Qt(e,r.focusNode)){const i=r.getRangeAt(0),o=i.cloneRange();o.selectNodeContents(e),o.setEnd(i.startContainer,i.startOffset),t=o.toString().length,o.setEnd(i.endContainer,i.endOffset),n=o.toString().length}}return{start:t,end:n}}function ln(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function sn(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return sn(e.parentElement)||document.scrollingElement||document.body}function an(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function cn(){return!!Yt&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function un(){return Yt&&cn()&&/apple/i.test(navigator.vendor)}function dn(e){return Boolean(e.currentTarget&&!Qt(e.currentTarget,e.target))}function pn(e){return e.target===e.currentTarget}function mn(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),i=At(Lt({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",i)),r}function fn(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function hn(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Qt(n,r)}function vn(e,t,n,r){const i=(e=>{if(r){const t=setTimeout(e,r);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,o,!0),n()})),o=()=>{i(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),i}function gn(e,t,n,r=window){const i=[];try{r.document.addEventListener(e,t,n);for(const o of Array.from(r.frames))i.push(gn(e,t,n,o))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}for(const e of i)e()}}var wn=St({},t),xn=wn.useId,bn=(wn.useDeferredValue,wn.useInsertionEffect),yn=Yt?e.useLayoutEffect:e.useEffect;function jn(t){const n=(0,e.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return bn?bn((()=>{n.current=t})):n.current=t,(0,e.useCallback)(((...e)=>{var t;return null==(t=n.current)?void 0:t.call(n,...e)}),[])}function Cn(...t){return(0,e.useMemo)((()=>{if(t.some(Boolean))return e=>{for(const n of t)Zt(n,e)}}),t)}function kn(t){if(xn){const e=xn();return t||e}const[n,r]=(0,e.useState)(t);return yn((()=>{if(t||n)return;const e=Math.random().toString(36).slice(2,8);r(`id-${e}`)}),[t,n]),t||n}function Sn(t,n){const r=(0,e.useRef)(!1);(0,e.useEffect)((()=>{if(r.current)return t();r.current=!0}),n),(0,e.useEffect)((()=>()=>{r.current=!1}),[])}function En(e){return jn("function"==typeof e?e:()=>e)}function In(t,n,r=[]){const i=(0,e.useCallback)((e=>(t.wrapElement&&(e=t.wrapElement(e)),n(e))),[...r,t.wrapElement]);return Et(St({},t),{wrapElement:i})}var Nn=!1,Vn=0,Pn=0;function Mn(e){(function(e){const t=e.movementX||e.screenX-Vn,n=e.movementY||e.screenY-Pn;return Vn=e.screenX,Pn=e.screenY,t||n||!1})(e)&&(Nn=!0)}function On(){Nn=!1}function Fn(t){const n=e.forwardRef(((e,n)=>t(Et(St({},e),{ref:n}))));return n.displayName=t.displayName||t.name,n}function Rn(t,n){return e.memo(t,n)}function Ln(t,n){const r=n,{wrapElement:i,render:o}=r,l=It(r,["wrapElement","render"]),s=Cn(n.ref,function(t){return function(t){return!!t&&!!(0,e.isValidElement)(t)&&("ref"in t.props||"ref"in t)}(t)?St({},t.props).ref||t.ref:null}(o));let a;if(e.isValidElement(o)){const t=Et(St({},o.props),{ref:s});a=e.cloneElement(o,function(e,t){const n=St({},e);for(const r in t){if(!Ht(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?St(St({},e[r]),t[r]):t[r];continue}const i=t[r];if("function"==typeof i&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{i(...e),t(...e)};continue}}n[r]=i}return n}(l,t))}else a=o?o(l):(0,$e.jsx)(t,St({},l));return i?i(a):a}function An(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function Tn(t=[],n=[]){const r=e.createContext(void 0),i=e.createContext(void 0),o=()=>e.useContext(r),l=e=>t.reduceRight(((t,n)=>(0,$e.jsx)(n,Et(St({},e),{children:t}))),(0,$e.jsx)(r.Provider,St({},e)));return{context:r,scopedContext:i,useContext:o,useScopedContext:(t=!1)=>{const n=e.useContext(i),r=o();return t?n:n||r},useProviderContext:()=>{const t=e.useContext(i),n=o();if(!t||t!==n)return n},ContextProvider:l,ScopedContextProvider:e=>(0,$e.jsx)(l,Et(St({},e),{children:n.reduceRight(((t,n)=>(0,$e.jsx)(n,Et(St({},e),{children:t}))),(0,$e.jsx)(i.Provider,St({},e)))}))}}var Dn=Tn(),Hn=Dn.useContext,Bn=(Dn.useScopedContext,Dn.useProviderContext,Tn([Dn.ContextProvider],[Dn.ScopedContextProvider])),$n=Bn.useContext,zn=(Bn.useScopedContext,Bn.useProviderContext),Un=Bn.ContextProvider,Wn=Bn.ScopedContextProvider,Kn=(0,e.createContext)(void 0),Gn=(0,e.createContext)(void 0),Zn=((0,e.createContext)(null),(0,e.createContext)(null),Tn([Un],[Wn])),qn=Zn.useContext;function Yn(e,t){const n=e.__unstableInternals;return Ut(n,"Invalid store"),n[t]}function Xn(e,...t){let n=e,r=n,i=Symbol(),o=Dt;const l=new Set,s=new Set,a=new Set,c=new Set,u=new Set,d=new WeakMap,p=new WeakMap,m=(e,t,n=c)=>(n.add(t),p.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),p.delete(t),n.delete(t)}),f=(e,o,l=!1)=>{var a;if(!Ht(n,e))return;const m=(f=o,h=n[e],function(e){return"function"==typeof e}(f)?f(function(e){return"function"==typeof e}(h)?h():h):f);var f,h;if(m===n[e])return;if(!l)for(const n of t)null==(a=null==n?void 0:n.setState)||a.call(n,e,m);const v=n;n=At(Lt({},n),{[e]:m});const g=Symbol();i=g,s.add(e);const w=(t,r,i)=>{var o;const l=p.get(t);l&&!l.some((t=>i?i.has(t):t===e))||(null==(o=d.get(t))||o(),d.set(t,t(n,r)))};for(const e of c)w(e,v);queueMicrotask((()=>{if(i!==g)return;const e=n;for(const e of u)w(e,r,s);r=e,s.clear()}))},h={getState:()=>n,setState:f,__unstableInternals:{setup:e=>(a.add(e),()=>a.delete(e)),init:()=>{const e=l.size,r=Symbol();l.add(r);const i=()=>{l.delete(r),l.size||o()};if(e)return i;const s=(c=n,Object.keys(c)).map((e=>Bt(...t.map((t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&Ht(r,e))return tr(t,[e],(t=>{f(e,t[e],!0)}))})))));var c;const u=[];for(const e of a)u.push(e());const d=t.map(Qn);return o=Bt(...s,...u,...d),i},subscribe:(e,t)=>m(e,t),sync:(e,t)=>(d.set(t,t(n,n)),m(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),m(e,t,u)),pick:e=>Xn(function(e,t){const n={};for(const r of t)Ht(e,r)&&(n[r]=e[r]);return n}(n,e),h),omit:e=>Xn(function(e,t){const n=Lt({},e);for(const e of t)Ht(n,e)&&delete n[e];return n}(n,e),h)}};return h}function Jn(e,...t){if(e)return Yn(e,"setup")(...t)}function Qn(e,...t){if(e)return Yn(e,"init")(...t)}function er(e,...t){if(e)return Yn(e,"subscribe")(...t)}function tr(e,...t){if(e)return Yn(e,"sync")(...t)}function nr(e,...t){if(e)return Yn(e,"batch")(...t)}function rr(e,...t){if(e)return Yn(e,"omit")(...t)}function ir(...e){const t=e.reduce(((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?Object.assign(e,r):e}),{}),n=Xn(t,...e);return Object.assign({},...e,n)}Zn.useScopedContext,Zn.useProviderContext,Zn.ContextProvider,Zn.ScopedContextProvider;var or=i(139),{useSyncExternalStore:lr}=or;function sr(t,n=zt){const r=e.useCallback((e=>t?er(t,null,e):()=>{}),[t]),i=()=>{const e="string"==typeof n?n:null,r="function"==typeof n?n:null,i=null==t?void 0:t.getState();return r?r(i):i&&e&&Ht(i,e)?i[e]:void 0};return lr(r,i,i)}function ar(t,n){const r=e.useRef({}),i=e.useCallback((e=>t?er(t,null,e):()=>{}),[t]),o=()=>{const e=null==t?void 0:t.getState();let i=!1;const o=r.current;for(const t in n){const r=n[t];if("function"==typeof r){const n=r(e);n!==o[t]&&(o[t]=n,i=!0)}if("string"==typeof r){if(!e)continue;if(!Ht(e,r))continue;const n=e[r];n!==o[t]&&(o[t]=n,i=!0)}}return i&&(r.current=St({},o)),r.current};return lr(i,o,o)}function cr(t,n,r,i){const o=Ht(n,r)?n[r]:void 0,l=i?n[i]:void 0,s=function(t){const n=(0,e.useRef)(t);return yn((()=>{n.current=t})),n}({value:o,setValue:l});yn((()=>tr(t,[r],((e,t)=>{const{value:n,setValue:i}=s.current;i&&e[r]!==t[r]&&e[r]!==n&&i(e[r])}))),[t,r]),yn((()=>{if(void 0!==o)return t.setState(r,o),nr(t,[r],(()=>{void 0!==o&&t.setState(r,o)}))}))}function ur(e,t,n){return function(e,t,n){return Sn(t,[n.store,n.disclosure]),cr(e,n,"open","setOpen"),cr(e,n,"mounted","setMounted"),cr(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function dr(e,t,n){return cr(e=function(e,t,n){return Sn(t,[n.store]),cr(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),cr(e,n,"includesBaseElement"),cr(e,n,"virtualFocus"),cr(e,n,"orientation"),cr(e,n,"rtl"),cr(e,n,"focusLoop"),cr(e,n,"focusWrap"),cr(e,n,"focusShift"),e}function pr(e){const t=[];for(const n of e)t.push(...n);return t}function mr(e){return e.slice().reverse()}function fr(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=Gt(e.items,null==n?void 0:n.items,e.defaultItems,[]),i=new Map(r.map((e=>[e.id,e]))),o={items:r,renderedItems:Gt(null==n?void 0:n.renderedItems,[])},l=null==(s=e.store)?void 0:s.__unstablePrivateStore;var s;const a=Xn({items:r,renderedItems:o.renderedItems},l),c=Xn(o,e.store),u=e=>{const t=function(e,t){const n=e.map(((e,t)=>[t,e]));let r=!1;return n.sort((([e,n],[i,o])=>{const l=t(n),s=t(o);return l===s?0:l&&s?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(l,s)?(e>i&&(r=!0),-1):(e<i&&(r=!0),1):0})),r?n.map((([e,t])=>t)):e}(e,(e=>e.element));a.setState("renderedItems",t),c.setState("renderedItems",t)};Jn(c,(()=>Qn(a))),Jn(a,(()=>nr(a,["items"],(e=>{c.setState("items",e.items)})))),Jn(a,(()=>nr(a,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=c.getState();e.renderedItems!==t&&u(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find((e=>!!e.element)),r=[...e].reverse().find((e=>!!e.element));let i=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;i&&(null==r?void 0:r.element);){if(r&&i.contains(r.element))return i;i=i.parentElement}return Xt(i).body}(e.renderedItems),i=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>u(e.renderedItems))))}),{root:r});for(const t of e.renderedItems)t.element&&i.observe(t.element);return()=>{cancelAnimationFrame(n),i.disconnect()}}))));const d=(e,t,n=!1)=>{let r;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),o=t.slice();if(-1!==n){r=t[n];const l=Lt(Lt({},r),e);o[n]=l,i.set(e.id,l)}else o.push(e),i.set(e.id,e);return o})),()=>{t((t=>{if(!r)return n&&i.delete(e.id),t.filter((({id:t})=>t!==e.id));const o=t.findIndex((({id:t})=>t===e.id));if(-1===o)return t;const l=t.slice();return l[o]=r,i.set(e.id,r),l}))}},p=e=>d(e,(e=>a.setState("items",e)),!0);return At(Lt({},c),{registerItem:p,renderItem:e=>Bt(p(e),d(e,(e=>a.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=i.get(e);if(!t){const{items:n}=a.getState();t=n.find((t=>t.id===e)),t&&i.set(e,t)}return t||null},__unstablePrivateStore:a})}var hr={id:null};function vr(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function gr(e,t){return e.filter((e=>e.rowId===t))}function wr(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function xr(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}var br=un()&&Yt&&!!navigator.maxTouchPoints;function yr(e={}){var t=e,{tag:n}=t,r=Tt(t,["tag"]);const i=ir(r.store,function(e,...t){if(e)return Yn(e,"pick")(...t)}(n,["value","rtl"])),o=null==n?void 0:n.getState(),l=null==i?void 0:i.getState(),s=Gt(r.activeId,null==l?void 0:l.activeId,r.defaultActiveId,null),a=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=fr(e),i=Gt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),o=Xn(At(Lt({},r.getState()),{id:Gt(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:i,baseElement:Gt(null==n?void 0:n.baseElement,null),includesBaseElement:Gt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===i),moves:Gt(null==n?void 0:n.moves,0),orientation:Gt(e.orientation,null==n?void 0:n.orientation,"both"),rtl:Gt(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:Gt(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:Gt(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:Gt(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:Gt(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);Jn(o,(()=>tr(o,["renderedItems","activeId"],(e=>{o.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=vr(e.renderedItems))?void 0:n.id}))}))));const l=(e="next",t={})=>{var n,r;const i=o.getState(),{skip:l=0,activeId:s=i.activeId,focusShift:a=i.focusShift,focusLoop:c=i.focusLoop,focusWrap:u=i.focusWrap,includesBaseElement:d=i.includesBaseElement,renderedItems:p=i.renderedItems,rtl:m=i.rtl}=t,f="up"===e||"down"===e,h="next"===e||"down"===e,v=h?m&&!f:!m||f,g=a&&!l;let w=f?pr(function(e,t,n){const r=xr(e);for(const i of e)for(let e=0;e<r;e+=1){const r=i[e];if(!r||n&&r.disabled){const r=0===e&&n?vr(i):i[e-1];i[e]=r&&t!==r.id&&n?r:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==r?void 0:r.rowId}}}return e}(wr(p),s,g)):p;if(w=v?mr(w):w,w=f?function(e){const t=wr(e),n=xr(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push(At(Lt({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}(w):w,null==s)return null==(n=vr(w))?void 0:n.id;const x=w.find((e=>e.id===s));if(!x)return null==(r=vr(w))?void 0:r.id;const b=w.some((e=>e.rowId)),y=w.indexOf(x),j=w.slice(y+1),_=gr(j,x.rowId);if(l){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(_,s),t=e.slice(l)[0]||e[e.length-1];return null==t?void 0:t.id}const C=c&&(f?"horizontal"!==c:"vertical"!==c),k=b&&u&&(f?"horizontal"!==u:"vertical"!==u),S=h?(!b||f)&&C&&d:!!f&&d;if(C){const e=function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[hr]:[],...e.slice(0,r)]}(k&&!S?w:gr(w,x.rowId),s,S),t=vr(e,s);return null==t?void 0:t.id}if(k){const e=vr(S?_:j,s);return S?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const E=vr(_,s);return!E&&S?null:null==E?void 0:E.id};return At(Lt(Lt({},r),o),{setBaseElement:e=>o.setState("baseElement",e),setActiveId:e=>o.setState("activeId",e),move:e=>{void 0!==e&&(o.setState("activeId",e),o.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=vr(o.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=vr(mr(o.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("up",e))})}(At(Lt({},r),{activeId:s,includesBaseElement:Gt(r.includesBaseElement,null==l?void 0:l.includesBaseElement,!0),orientation:Gt(r.orientation,null==l?void 0:l.orientation,"vertical"),focusLoop:Gt(r.focusLoop,null==l?void 0:l.focusLoop,!0),focusWrap:Gt(r.focusWrap,null==l?void 0:l.focusWrap,!0),virtualFocus:Gt(r.virtualFocus,null==l?void 0:l.virtualFocus,!0)})),c=function(e={}){var t=e,{popover:n}=t,r=Tt(t,["popover"]);const i=ir(r.store,rr(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),o=null==i?void 0:i.getState(),l=function(e={}){return function(e={}){const t=ir(e.store,rr(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=Gt(e.open,null==n?void 0:n.open,e.defaultOpen,!1),i=Gt(e.animated,null==n?void 0:n.animated,!1),o=Xn({open:r,animated:i,animating:!!i&&r,mounted:r,contentElement:Gt(null==n?void 0:n.contentElement,null),disclosureElement:Gt(null==n?void 0:n.disclosureElement,null)},t);return Jn(o,(()=>tr(o,["animated","animating"],(e=>{e.animated||o.setState("animating",!1)})))),Jn(o,(()=>er(o,["open"],(()=>{o.getState().animated&&o.setState("animating",!0)})))),Jn(o,(()=>tr(o,["open","animating"],(e=>{o.setState("mounted",e.open||e.animating)})))),At(Lt({},o),{disclosure:e.disclosure,setOpen:e=>o.setState("open",e),show:()=>o.setState("open",!0),hide:()=>o.setState("open",!1),toggle:()=>o.setState("open",(e=>!e)),stopAnimation:()=>o.setState("animating",!1),setContentElement:e=>o.setState("contentElement",e),setDisclosureElement:e=>o.setState("disclosureElement",e)})}(e)}(At(Lt({},r),{store:i})),s=Gt(r.placement,null==o?void 0:o.placement,"bottom"),a=Xn(At(Lt({},l.getState()),{placement:s,currentPlacement:s,anchorElement:Gt(null==o?void 0:o.anchorElement,null),popoverElement:Gt(null==o?void 0:o.popoverElement,null),arrowElement:Gt(null==o?void 0:o.arrowElement,null),rendered:Symbol("rendered")}),l,i);return At(Lt(Lt({},l),a),{setAnchorElement:e=>a.setState("anchorElement",e),setPopoverElement:e=>a.setState("popoverElement",e),setArrowElement:e=>a.setState("arrowElement",e),render:()=>a.setState("rendered",Symbol("rendered"))})}(At(Lt({},r),{placement:Gt(r.placement,null==l?void 0:l.placement,"bottom-start")})),u=Gt(r.value,null==l?void 0:l.value,r.defaultValue,""),d=Gt(r.selectedValue,null==l?void 0:l.selectedValue,null==o?void 0:o.values,r.defaultSelectedValue,""),p=Array.isArray(d),m=At(Lt(Lt({},a.getState()),c.getState()),{value:u,selectedValue:d,resetValueOnSelect:Gt(r.resetValueOnSelect,null==l?void 0:l.resetValueOnSelect,p),resetValueOnHide:Gt(r.resetValueOnHide,null==l?void 0:l.resetValueOnHide,p&&!n),activeValue:null==l?void 0:l.activeValue}),f=Xn(m,a,c,i);return br&&Jn(f,(()=>tr(f,["virtualFocus"],(()=>{f.setState("virtualFocus",!1)})))),Jn(f,(()=>{if(n)return Bt(tr(f,["selectedValue"],(e=>{Array.isArray(e.selectedValue)&&n.setValues(e.selectedValue)})),tr(n,["values"],(e=>{f.setState("selectedValue",e.values)})))})),Jn(f,(()=>tr(f,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||f.setState("value",u))})))),Jn(f,(()=>tr(f,["open"],(e=>{e.open||(f.setState("activeId",s),f.setState("moves",0))})))),Jn(f,(()=>tr(f,["moves","activeId"],((e,t)=>{e.moves===t.moves&&f.setState("activeValue",void 0)})))),Jn(f,(()=>nr(f,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=f.getState(),r=a.item(n);f.setState("activeValue",null==r?void 0:r.value)})))),At(Lt(Lt(Lt({},c),a),f),{tag:n,setValue:e=>f.setState("value",e),resetValue:()=>f.setState("value",m.value),setSelectedValue:e=>f.setState("selectedValue",e)})}function jr(t={}){t=function(e){const t=qn();return function(e){const t=kn(e.id);return St({id:t},e)}(e=Et(St({},e),{tag:void 0!==e.tag?e.tag:t}))}(t);const[n,r]=function(t,n){const[r,i]=e.useState((()=>t(n)));yn((()=>Qn(r)),[r]);const o=e.useCallback((e=>sr(r,e)),[r]);return[e.useMemo((()=>Et(St({},r),{useState:o})),[r,o]),jn((()=>{i((e=>t(St(St({},n),e.getState()))))}))]}(yr,t);return function(e,t,n){return Sn(t,[n.tag]),cr(e,n,"value","setValue"),cr(e,n,"selectedValue","setSelectedValue"),cr(e,n,"resetValueOnHide"),cr(e,n,"resetValueOnSelect"),Object.assign(dr(function(e,t,n){return Sn(t,[n.popover]),cr(e,n,"placement"),ur(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(n,r,t)}var _r=Tn(),Cr=(_r.useContext,_r.useScopedContext,_r.useProviderContext),kr=Tn([_r.ContextProvider],[_r.ScopedContextProvider]),Sr=(kr.useContext,kr.useScopedContext,kr.useProviderContext,kr.ContextProvider),Er=kr.ScopedContextProvider,Ir=((0,e.createContext)(void 0),(0,e.createContext)(void 0),Tn([Sr],[Er])),Nr=(Ir.useContext,Ir.useScopedContext,Ir.useProviderContext),Vr=Ir.ContextProvider,Pr=Ir.ScopedContextProvider,Mr=(0,e.createContext)(void 0),Or=Tn([Vr,Un],[Pr,Wn]),Fr=Or.useContext,Rr=Or.useScopedContext,Lr=Or.useProviderContext,Ar=Or.ContextProvider,Tr=Or.ScopedContextProvider,Dr=(0,e.createContext)(void 0),Hr=(0,e.createContext)(!1);function Br(e={}){const t=jr(e);return(0,$e.jsx)(Ar,{value:t,children:e.children})}var $r=An((function(e){var t=e,{store:n}=t,r=It(t,["store"]);const i=Lr();Ut(n=n||i,!1);const o=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return Kt(r=St({htmlFor:o},r))})),zr=Rn(Fn((function(e){return Ln("label",$r(e))})));function Ur(e,t){return t&&e.item(t)||null}var Wr=Symbol("FOCUS_SILENTLY");function Kr(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}var Gr=(0,e.createContext)(!0),Zr="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function qr(e){return!!e.matches(Zr)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function Yr(e){const t=Jt(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Xr(e){const t=Jt(e);if(!t)return!1;if(Qt(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var Jr=un(),Qr=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],ei=Symbol("safariFocusAncestor");function ti(e,t){e&&(e[ei]=t)}function ni(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function ri(e,t,n,r,i){return e?t?n&&!r?-1:void 0:n?i:i||0:i}function ii(e,t){return jn((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var oi=!0;function li(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(oi=!1))}function si(e){e.metaKey||e.ctrlKey||e.altKey||(oi=!0)}var ai=An((function(t){var n=t,{focusable:r=!0,accessibleWhenDisabled:i,autoFocus:o,onFocusVisible:l}=n,s=It(n,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=(0,e.useRef)(null);(0,e.useEffect)((()=>{r&&(gn("mousedown",li,!0),gn("keydown",si,!0))}),[r]),Jr&&(0,e.useEffect)((()=>{if(!r)return;const e=a.current;if(!e)return;if(!ni(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const n=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",n);return()=>{for(const e of t)e.removeEventListener("mouseup",n)}}),[r]);const c=r&&Wt(s),u=!!c&&!i,[d,p]=(0,e.useState)(!1);(0,e.useEffect)((()=>{r&&u&&d&&p(!1)}),[r,u,d]),(0,e.useEffect)((()=>{if(!r)return;if(!d)return;const e=a.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{qr(e)||p(!1)}));return t.observe(e),()=>t.disconnect()}),[r,d]);const m=ii(s.onKeyPressCapture,c),f=ii(s.onMouseDownCapture,c),h=ii(s.onClickCapture,c),v=s.onMouseDown,g=jn((e=>{if(null==v||v(e),e.defaultPrevented)return;if(!r)return;const t=e.currentTarget;if(!Jr)return;if(dn(e))return;if(!en(t)&&!ni(t))return;let n=!1;const i=()=>{n=!0};t.addEventListener("focusin",i,{capture:!0,once:!0});const o=function(e){for(;e&&!qr(e);)e=e.closest(Zr);return e||null}(t.parentElement);ti(o,!0),vn(t,"mouseup",(()=>{t.removeEventListener("focusin",i,!0),ti(o,!1),n||function(e){!Xr(e)&&qr(e)&&e.focus()}(t)}))})),w=(e,t)=>{if(t&&(e.currentTarget=t),!r)return;const n=e.currentTarget;n&&Yr(n)&&(null==l||l(e),e.defaultPrevented||(n.dataset.focusVisible="true",p(!0)))},x=s.onKeyDownCapture,b=jn((e=>{if(null==x||x(e),e.defaultPrevented)return;if(!r)return;if(d)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!pn(e))return;const t=e.currentTarget;vn(t,"focusout",(()=>w(e,t)))})),y=s.onFocusCapture,j=jn((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!r)return;if(!pn(e))return void p(!1);const t=e.currentTarget;oi||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):Qr.includes(r))}(e.target)?vn(e.target,"focusout",(()=>w(e,t))):p(!1)})),_=s.onBlur,C=jn((e=>{null==_||_(e),r&&hn(e)&&(e.currentTarget.removeAttribute("data-focus-visible"),p(!1))})),k=(0,e.useContext)(Gr),S=jn((e=>{r&&o&&e&&k&&queueMicrotask((()=>{Yr(e)||qr(e)&&e.focus()}))})),E=function(t,n){const r=e=>{if("string"==typeof e)return e},[i,o]=(0,e.useState)((()=>r(n)));return yn((()=>{const e=t&&"current"in t?t.current:t;o((null==e?void 0:e.tagName.toLowerCase())||r(n))}),[t,n]),i}(a),I=r&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(E),N=r&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(E),V=s.style,P=(0,e.useMemo)((()=>u?St({pointerEvents:"none"},V):V),[u,V]);return Kt(s=Et(St({"data-focus-visible":r&&d||void 0,"data-autofocus":o||void 0,"aria-disabled":c||void 0},s),{ref:Cn(a,S,s.ref),style:P,tabIndex:ri(r,u,I,N,s.tabIndex),disabled:!(!N||!u)||void 0,contentEditable:c?void 0:s.contentEditable,onKeyPressCapture:m,onClickCapture:h,onMouseDownCapture:f,onMouseDown:g,onKeyDownCapture:b,onFocusCapture:j,onBlur:C}))}));function ci(e,t,n){return jn((r=>{var i;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!pn(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!nn(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const o=e.getState(),l=null==(i=Ur(e,o.activeId))?void 0:i.element;if(!l)return;const s=r,{view:a}=s,c=It(s,["view"]);l!==(null==n?void 0:n.current)&&l.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(l,r.type,c)||r.preventDefault(),r.currentTarget.contains(l)&&r.stopPropagation()}))}Fn((function(e){return Ln("div",ai(e))}));var ui=An((function(t){var n=t,{store:r,composite:i=!0,focusOnMove:o=i,moveOnKeyPress:l=!0}=n,s=It(n,["store","composite","focusOnMove","moveOnKeyPress"]);const a=zn();Ut(r=r||a,!1);const c=(0,e.useRef)(null),u=(0,e.useRef)(null),d=function(t){const[n,r]=(0,e.useState)(!1),i=(0,e.useCallback)((()=>r(!0)),[]),o=t.useState((e=>Ur(t,e.activeId)));return(0,e.useEffect)((()=>{const e=null==o?void 0:o.element;n&&e&&(r(!1),e.focus({preventScroll:!0}))}),[o,n]),i}(r),p=r.useState("moves"),[,m]=function(t){const[n,r]=(0,e.useState)(null);return yn((()=>{if(null==n)return;if(!t)return;let e=null;return t((t=>(e=t,n))),()=>{t(e)}}),[n,t]),[n,r]}(i?r.setBaseElement:null);(0,e.useEffect)((()=>{var e;if(!r)return;if(!p)return;if(!i)return;if(!o)return;const{activeId:t}=r.getState(),n=null==(e=Ur(r,t))?void 0:e.element;var l;n&&("scrollIntoView"in(l=n)?(l.focus({preventScroll:!0}),l.scrollIntoView(Lt({block:"nearest",inline:"nearest"},undefined))):l.focus())}),[r,p,i,o]),yn((()=>{if(!r)return;if(!p)return;if(!i)return;const{baseElement:e,activeId:t}=r.getState();if(null!==t)return;if(!e)return;const n=u.current;u.current=null,n&&mn(n,{relatedTarget:e}),Yr(e)||e.focus()}),[r,p,i]);const f=r.useState("activeId"),h=r.useState("virtualFocus");yn((()=>{var e;if(!r)return;if(!i)return;if(!h)return;const t=u.current;if(u.current=null,!t)return;const n=(null==(e=Ur(r,f))?void 0:e.element)||Jt(t);n!==t&&mn(t,{relatedTarget:n})}),[r,f,h,i]);const v=ci(r,s.onKeyDownCapture,u),g=ci(r,s.onKeyUpCapture,u),w=s.onFocusCapture,x=jn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!r)return;const{virtualFocus:t}=r.getState();if(!t)return;const n=e.relatedTarget,i=function(e){const t=e[Wr];return delete e[Wr],t}(e.currentTarget);pn(e)&&i&&(e.stopPropagation(),u.current=n)})),b=s.onFocus,y=jn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!i)return;if(!r)return;const{relatedTarget:t}=e,{virtualFocus:n}=r.getState();n?pn(e)&&!Kr(r,t)&&queueMicrotask(d):pn(e)&&r.setActiveId(null)})),j=s.onBlurCapture,_=jn((e=>{var t;if(null==j||j(e),e.defaultPrevented)return;if(!r)return;const{virtualFocus:n,activeId:i}=r.getState();if(!n)return;const o=null==(t=Ur(r,i))?void 0:t.element,l=e.relatedTarget,s=Kr(r,l),a=u.current;u.current=null,pn(e)&&s?(l===o?a&&a!==l&&mn(a,e):o?mn(o,e):a&&mn(a,e),e.stopPropagation()):!Kr(r,e.target)&&o&&mn(o,e)})),C=s.onKeyDown,k=En(l),S=jn((e=>{var t;if(null==C||C(e),e.nativeEvent.isComposing)return;if(e.defaultPrevented)return;if(!r)return;if(!pn(e))return;const{orientation:n,renderedItems:i,activeId:o}=r.getState(),l=Ur(r,o);if(null==(t=null==l?void 0:l.element)?void 0:t.isConnected)return;const s="horizontal"!==n,a="vertical"!==n,c=i.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&nn(e.currentTarget))return;const u={ArrowUp:(c||s)&&(()=>{if(c){const e=function(e){return e.find((e=>!e.disabled))}(pr(mr(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(i))));return null==e?void 0:e.id}return null==r?void 0:r.last()}),ArrowRight:(c||a)&&r.first,ArrowDown:(c||s)&&r.first,ArrowLeft:(c||a)&&r.last,Home:r.first,End:r.last,PageUp:r.first,PageDown:r.last},d=u[e.key];if(d){const t=d();if(void 0!==t){if(!k(e))return;e.preventDefault(),r.move(t)}}}));s=In(s,(e=>(0,$e.jsx)(Un,{value:r,children:e})),[r]);const E=r.useState((e=>{var t;if(r&&i&&e.virtualFocus)return null==(t=Ur(r,e.activeId))?void 0:t.id}));s=Et(St({"aria-activedescendant":E},s),{ref:Cn(c,m,s.ref),onKeyDownCapture:v,onKeyUpCapture:g,onFocusCapture:x,onFocus:y,onBlurCapture:_,onKeyDown:S});const I=r.useState((e=>i&&(e.virtualFocus||null===e.activeId)));return ai(St({focusable:I},s))})),di=(Fn((function(e){return Ln("div",ui(e))})),An((function(e){var t=e,{store:n}=t,r=It(t,["store"]);const i=Nr();return n=n||i,Et(St({},r),{ref:Cn(null==n?void 0:n.setAnchorElement,r.ref)})})));function pi(e,t,n){if(!n)return!1;const r=e.find((e=>!e.disabled&&e.value));return(null==r?void 0:r.value)===t}function mi(e,t){return!!t&&null!=e&&(e=$t(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}Fn((function(e){return Ln("div",di(e))}));var fi=An((function(t){var n=t,{store:r,focusable:i=!0,autoSelect:o=!1,getAutoSelectId:l,setValueOnChange:s,showMinLength:a=0,showOnChange:c,showOnMouseDown:u,showOnClick:d=u,showOnKeyDown:p,showOnKeyPress:m=p,blurActiveItemOnClick:f,setValueOnClick:h=!0,moveOnKeyPress:v=!0,autoComplete:g="list"}=n,w=It(n,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const x=Lr();Ut(r=r||x,!1);const b=(0,e.useRef)(null),[y,j]=(0,e.useReducer)((()=>[]),[]),_=(0,e.useRef)(!1),C=(0,e.useRef)(!1),k=r.useState((e=>e.virtualFocus&&o)),S="inline"===g||"both"===g,[E,I]=(0,e.useState)(S);!function(t,n){const r=(0,e.useRef)(!1);yn((()=>{r.current?S&&I(!0):r.current=!0}),n),yn((()=>()=>{r.current=!1}),[])}(0,[S]);const N=r.useState("value"),V=(0,e.useRef)();(0,e.useEffect)((()=>tr(r,["selectedValue","activeId"],((e,t)=>{V.current=t.selectedValue}))),[]);const P=r.useState((e=>{var t;if(S&&E){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=V.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}})),M=r.useState("renderedItems"),O=r.useState("open"),F=r.useState("contentElement"),R=(0,e.useMemo)((()=>{if(!S)return N;if(!E)return N;if(pi(M,P,k)){if(mi(N,P)){const e=(null==P?void 0:P.slice(N.length))||"";return N+e}return N}return P||N}),[S,E,M,P,k,N]);(0,e.useEffect)((()=>{const e=b.current;if(!e)return;const t=()=>I(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,e.useEffect)((()=>{if(!S)return;if(!E)return;if(!P)return;if(!pi(M,P,k))return;if(!mi(N,P))return;let e=Dt;return queueMicrotask((()=>{const t=b.current;if(!t)return;const{start:n,end:r}=on(t),i=N.length,o=P.length;an(t,i,o),e=()=>{if(!Yr(t))return;const{start:e,end:l}=on(t);e===i&&l===o&&an(t,n,r)}})),()=>e()}),[y,S,E,P,M,k,N]);const L=(0,e.useRef)(null),A=jn(l),T=(0,e.useRef)(null);(0,e.useEffect)((()=>{if(!O)return;if(!F)return;const e=sn(F);if(!e)return;L.current=e;const t=()=>{_.current=!1},n=()=>{if(!r)return;if(!_.current)return;const{activeId:e}=r.getState();null!==e&&e!==T.current&&(_.current=!1)},i={passive:!0,capture:!0};return e.addEventListener("wheel",t,i),e.addEventListener("touchmove",t,i),e.addEventListener("scroll",n,i),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("touchmove",t,!0),e.removeEventListener("scroll",n,!0)}}),[O,F,r]),yn((()=>{N&&(C.current||(_.current=!0))}),[N]),yn((()=>{"always"!==k&&O||(_.current=O)}),[k,O]);const D=r.useState("resetValueOnSelect");Sn((()=>{var e,t;const n=_.current;if(!r)return;if(!O)return;if(!n&&!D)return;const{baseElement:i,contentElement:o,activeId:l}=r.getState();if(!i||Yr(i)){if(null==o?void 0:o.hasAttribute("data-placing")){const e=new MutationObserver(j);return e.observe(o,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(k&&n){const t=A(M),n=void 0!==t?t:null!=(e=function(e){const t=e.find((e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))}));return null==t?void 0:t.id}(M))?e:r.first();T.current=n,r.move(null!=n?n:null)}else{const e=null==(t=r.item(l||r.first()))?void 0:t.element;e&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[r,O,y,N,k,D,A,M]),(0,e.useEffect)((()=>{if(!S)return;const e=b.current;if(!e)return;const t=[e,F].filter((e=>!!e)),n=e=>{t.every((t=>hn(e,t)))&&(null==r||r.setValue(R))};for(const e of t)e.addEventListener("focusout",n);return()=>{for(const e of t)e.removeEventListener("focusout",n)}}),[S,F,r,R]);const H=e=>e.currentTarget.value.length>=a,B=w.onChange,$=En(null!=c?c:H),z=En(null!=s?s:!r.tag),U=jn((e=>{if(null==B||B(e),e.defaultPrevented)return;if(!r)return;const t=e.currentTarget,{value:n,selectionStart:i,selectionEnd:o}=t,l=e.nativeEvent;if(_.current=!0,function(e){return"input"===e.type}(l)&&(l.isComposing&&(_.current=!1,C.current=!0),S)){const e="insertText"===l.inputType||"insertCompositionText"===l.inputType,t=i===n.length;I(e&&t)}if(z(e)){const e=n===r.getState().value;r.setValue(n),queueMicrotask((()=>{an(t,i,o)})),S&&k&&e&&j()}$(e)&&r.show(),k&&_.current||r.setActiveId(null)})),W=w.onCompositionEnd,K=jn((e=>{_.current=!0,C.current=!1,null==W||W(e),e.defaultPrevented||k&&j()})),G=w.onMouseDown,Z=En(null!=f?f:()=>!!(null==r?void 0:r.getState().includesBaseElement)),q=En(h),Y=En(null!=d?d:H),X=jn((e=>{null==G||G(e),e.defaultPrevented||e.button||e.ctrlKey||r&&(Z(e)&&r.setActiveId(null),q(e)&&r.setValue(R),Y(e)&&vn(e.currentTarget,"mouseup",r.show))})),J=w.onKeyDown,Q=En(null!=m?m:H),ee=jn((e=>{if(null==J||J(e),e.repeat||(_.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!r)return;const{open:t}=r.getState();t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||Q(e)&&(e.preventDefault(),r.show())})),te=w.onBlur,ne=jn((e=>{_.current=!1,null==te||te(e),e.defaultPrevented})),re=kn(w.id),ie=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(g)?g:void 0,oe=r.useState((e=>null===e.activeId));return w=Et(St({id:re,role:"combobox","aria-autocomplete":ie,"aria-haspopup":ln(F,"listbox"),"aria-expanded":O,"aria-controls":null==F?void 0:F.id,"data-active-item":oe||void 0,value:R},w),{ref:Cn(b,w.ref),onChange:U,onCompositionEnd:K,onMouseDown:X,onKeyDown:ee,onBlur:ne}),w=ui(Et(St({store:r,focusable:i},w),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(v,e)&&(S&&I(!0),!0)})),w=di(St({store:r},w)),St({autoComplete:"off"},w)})),hi=Fn((function(e){return Ln("input",fi(e))}));const vi=window.ReactDOM;function gi(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function wi(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,r=Number.parseFloat(t||"0s")*n;return r>e?r:e}),0)}function xi(e,t,n){return!(n||!1===t||e&&!t)}var bi=An((function(t){var n=t,{store:r,alwaysVisible:i}=n,o=It(n,["store","alwaysVisible"]);const l=Cr();Ut(r=r||l,!1);const s=(0,e.useRef)(null),a=kn(o.id),[c,u]=(0,e.useState)(null),d=r.useState("open"),p=r.useState("mounted"),m=r.useState("animated"),f=r.useState("contentElement"),h=sr(r.disclosure,"contentElement");yn((()=>{s.current&&(null==r||r.setContentElement(s.current))}),[r]),yn((()=>{let e;return null==r||r.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==r||r.setState("animated",e))}}),[r]),yn((()=>{if(m){if(null==f?void 0:f.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{u(d?"enter":p?"leave":null)}));u(null)}}),[m,f,d,p]),yn((()=>{if(!r)return;if(!m)return;if(!c)return;if(!f)return;const e=()=>null==r?void 0:r.setState("animating",!1),t=()=>(0,vi.flushSync)(e);if("leave"===c&&d)return;if("enter"===c&&!d)return;if("number"==typeof m)return gi(m,t);const{transitionDuration:n,animationDuration:i,transitionDelay:o,animationDelay:l}=getComputedStyle(f),{transitionDuration:s="0",animationDuration:a="0",transitionDelay:u="0",animationDelay:p="0"}=h?getComputedStyle(h):{},v=wi(o,l,u,p)+wi(n,i,s,a);return v?gi(Math.max(v-1e3/60,0),t):("enter"===c&&r.setState("animated",!1),void e())}),[r,m,f,h,d,c]),o=In(o,(e=>(0,$e.jsx)(Er,{value:r,children:e})),[r]);const v=xi(p,o.hidden,i),g=o.style,w=(0,e.useMemo)((()=>v?Et(St({},g),{display:"none"}):g),[v,g]);return Kt(o=Et(St({id:a,"data-open":d||void 0,"data-enter":"enter"===c||void 0,"data-leave":"leave"===c||void 0,hidden:v},o),{ref:Cn(a?r.setContentElement:null,s,o.ref),style:w}))})),yi=Fn((function(e){return Ln("div",bi(e))})),ji=(Fn((function(e){var t=e,{unmountOnHide:n}=t,r=It(t,["unmountOnHide"]);const i=Cr();return!1===sr(r.store||i,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,$e.jsx)(yi,St({},r))})),An((function(t){var n=t,{store:r,alwaysVisible:i}=n,o=It(n,["store","alwaysVisible"]);const l=Rr(!0),s=Fr(),a=!!(r=r||s)&&r===l;Ut(r,!1);const c=(0,e.useRef)(null),u=kn(o.id),d=r.useState("mounted"),p=xi(d,o.hidden,i),m=p?Et(St({},o.style),{display:"none"}):o.style,f=r.useState((e=>Array.isArray(e.selectedValue))),h=function(t,n,r){const i=function(t){const[n]=(0,e.useState)(t);return n}(r),[o,l]=(0,e.useState)(i);return(0,e.useEffect)((()=>{const e=t&&"current"in t?t.current:t;if(!e)return;const r=()=>{const t=e.getAttribute(n);l(null==t?i:t)},o=new MutationObserver(r);return o.observe(e,{attributeFilter:[n]}),r(),()=>o.disconnect()}),[t,n,i]),o}(c,"role",o.role),v=("listbox"===h||"tree"===h||"grid"===h)&&f||void 0,[g,w]=(0,e.useState)(!1),x=r.useState("contentElement");yn((()=>{if(!d)return;const e=c.current;if(!e)return;if(x!==e)return;const t=()=>{w(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()}),[d,x]),g||(o=St({role:"listbox","aria-multiselectable":v},o)),o=In(o,(e=>(0,$e.jsx)(Tr,{value:r,children:(0,$e.jsx)(Mr.Provider,{value:h,children:e})})),[r,h]);const b=!u||l&&a?null:r.setContentElement;return Kt(o=Et(St({id:u,hidden:p},o),{ref:Cn(b,c,o.ref),style:m}))}))),_i=Fn((function(e){return Ln("div",ji(e))}));function Ci(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var ki=Symbol("composite-hover"),Si=An((function(t){var n=t,{store:r,focusOnHover:i=!0,blurOnHoverEnd:o=!!i}=n,l=It(n,["store","focusOnHover","blurOnHoverEnd"]);const s=$n();Ut(r=r||s,!1);const a=((0,e.useEffect)((()=>{gn("mousemove",Mn,!0),gn("mousedown",On,!0),gn("mouseup",On,!0),gn("keydown",On,!0),gn("scroll",On,!0)}),[]),jn((()=>Nn))),c=l.onMouseMove,u=En(i),d=jn((e=>{if(null==c||c(e),!e.defaultPrevented&&a()&&u(e)){if(!Xr(e.currentTarget)){const e=null==r?void 0:r.getState().baseElement;e&&!Yr(e)&&e.focus()}null==r||r.setActiveId(e.currentTarget.id)}})),p=l.onMouseLeave,m=En(o),f=jn((e=>{var t;null==p||p(e),e.defaultPrevented||a()&&(function(e){const t=Ci(e);return!!t&&Qt(e.currentTarget,t)}(e)||function(e){let t=Ci(e);if(!t)return!1;do{if(Ht(t,ki)&&t[ki])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&m(e)&&(null==r||r.setActiveId(null),null==(t=null==r?void 0:r.getState().baseElement)||t.focus()))})),h=(0,e.useCallback)((e=>{e&&(e[ki]=!0)}),[]);return Kt(l=Et(St({},l),{ref:Cn(h,l.ref),onMouseMove:d,onMouseLeave:f}))})),Ei=(Rn(Fn((function(e){return Ln("div",Si(e))}))),An((function(t){var n=t,{store:r,shouldRegisterItem:i=!0,getItem:o=zt,element:l}=n,s=It(n,["store","shouldRegisterItem","getItem","element"]);const a=Hn();r=r||a;const c=kn(s.id),u=(0,e.useRef)(l);return(0,e.useEffect)((()=>{const e=u.current;if(!c)return;if(!e)return;if(!i)return;const t=o({id:c,element:e});return null==r?void 0:r.renderItem(t)}),[c,i,o,r]),Kt(s=Et(St({},s),{ref:Cn(u,s.ref)}))})));function Ii(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?en(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(en(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}Fn((function(e){return Ln("div",Ei(e))}));var Ni=Symbol("command"),Vi=An((function(t){var n=t,{clickOnEnter:r=!0,clickOnSpace:i=!0}=n,o=It(n,["clickOnEnter","clickOnSpace"]);const l=(0,e.useRef)(null),[s,a]=(0,e.useState)(!1);(0,e.useEffect)((()=>{l.current&&a(en(l.current))}),[]);const[c,u]=(0,e.useState)(!1),d=(0,e.useRef)(!1),p=Wt(o),[m,f]=function(t,n,r){const i=t.onLoadedMetadataCapture,o=(0,e.useMemo)((()=>Object.assign((()=>{}),Et(St({},i),{[n]:r}))),[i,n,r]);return[null==i?void 0:i[n],{onLoadedMetadataCapture:o}]}(o,Ni,!0),h=o.onKeyDown,v=jn((e=>{null==h||h(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(m)return;if(p)return;if(!pn(e))return;if(nn(t))return;if(t.isContentEditable)return;const n=r&&"Enter"===e.key,o=i&&" "===e.key,l="Enter"===e.key&&!r,s=" "===e.key&&!i;if(l||s)e.preventDefault();else if(n||o){const r=Ii(e);if(n){if(!r){e.preventDefault();const n=e,{view:r}=n,i=It(n,["view"]),o=()=>fn(t,i);Yt&&/firefox\//i.test(navigator.userAgent)?vn(t,"keyup",o):queueMicrotask(o)}}else o&&(d.current=!0,r||(e.preventDefault(),u(!0)))}})),g=o.onKeyUp,w=jn((e=>{if(null==g||g(e),e.defaultPrevented)return;if(m)return;if(p)return;if(e.metaKey)return;const t=i&&" "===e.key;if(d.current&&t&&(d.current=!1,!Ii(e))){e.preventDefault(),u(!1);const t=e.currentTarget,n=e,{view:r}=n,i=It(n,["view"]);queueMicrotask((()=>fn(t,i)))}}));return o=Et(St(St({"data-active":c||void 0,type:s?"button":void 0},f),o),{ref:Cn(l,o.ref),onKeyDown:v,onKeyUp:w}),ai(o)}));function Pi(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function Mi(e,t,n,r=!1){var i;if(!t)return;if(!n)return;const{renderedItems:o}=t.getState(),l=sn(e);if(!l)return;const s=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),i=1.5*Math.max(.875*n,n-40),o=t?n-i+r:i+r;return"HTML"===e.tagName?o+e.scrollTop:o}(l,r);let a,c;for(let e=0;e<o.length;e+=1){const o=a;if(a=n(e),!a)break;if(a===o)continue;const l=null==(i=Ur(t,a))?void 0:i.element;if(!l)continue;const u=Pi(l,r)-s,d=Math.abs(u);if(r&&u<=0||!r&&u>=0){void 0!==c&&c<d&&(a=o);break}c=d}return a}Fn((function(e){return Ln("button",Vi(e))}));var Oi=An((function(t){var n=t,{store:r,rowId:i,preventScrollOnKeyDown:o=!1,moveOnKeyPress:l=!0,tabbable:s=!1,getItem:a,"aria-setsize":c,"aria-posinset":u}=n,d=It(n,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const p=$n();r=r||p;const m=kn(d.id),f=(0,e.useRef)(null),h=(0,e.useContext)(Gn),v=Wt(d)&&!d.accessibleWhenDisabled,{rowId:g,baseElement:w,isActiveItem:x,ariaSetSize:b,ariaPosInSet:y,isTabbable:j}=ar(r,{rowId:e=>i||(e&&(null==h?void 0:h.baseElement)&&h.baseElement===e.baseElement?h.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===m,ariaSetSize:e=>null!=c?c:e&&(null==h?void 0:h.ariaSetSize)&&h.baseElement===e.baseElement?h.ariaSetSize:void 0,ariaPosInSet(e){if(null!=u)return u;if(!e)return;if(!(null==h?void 0:h.ariaPosInSet))return;if(h.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===g));return h.ariaPosInSet+t.findIndex((e=>e.id===m))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(s)return!0;if(null===e.activeId)return!1;const t=null==r?void 0:r.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===m}}),_=(0,e.useCallback)((e=>{var t;const n=Et(St({},e),{id:m||e.id,rowId:g,disabled:!!v,children:null==(t=e.element)?void 0:t.textContent});return a?a(n):n}),[m,g,v,a]),C=d.onFocus,k=(0,e.useRef)(!1),S=jn((e=>{if(null==C||C(e),e.defaultPrevented)return;if(dn(e))return;if(!m)return;if(!r)return;if(function(e,t){return!pn(e)&&Kr(t,e.target)}(e,r))return;const{virtualFocus:t,baseElement:n}=r.getState();var i;(r.setActiveId(m),rn(e.currentTarget)&&function(e,t=!1){if(nn(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=Xt(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(pn(e)&&(rn(i=e.currentTarget)||"INPUT"===i.tagName&&!en(i)||(null==n?void 0:n.isConnected)&&(un()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),k.current=!0,e.relatedTarget===n||Kr(r,e.relatedTarget)?function(e){e[Wr]=!0,e.focus({preventScroll:!0})}(n):n.focus())))})),E=d.onBlurCapture,I=jn((e=>{if(null==E||E(e),e.defaultPrevented)return;const t=null==r?void 0:r.getState();(null==t?void 0:t.virtualFocus)&&k.current&&(k.current=!1,e.preventDefault(),e.stopPropagation())})),N=d.onKeyDown,V=En(o),P=En(l),M=jn((e=>{if(null==N||N(e),e.defaultPrevented)return;if(!pn(e))return;if(!r)return;const{currentTarget:t}=e,n=r.getState(),i=r.item(m),o=!!(null==i?void 0:i.rowId),l="horizontal"!==n.orientation,s="vertical"!==n.orientation,a=()=>!(!o&&!s&&n.baseElement&&nn(n.baseElement)),c={ArrowUp:(o||l)&&r.up,ArrowRight:(o||s)&&r.next,ArrowDown:(o||l)&&r.down,ArrowLeft:(o||s)&&r.previous,Home:()=>{if(a())return!o||e.ctrlKey?null==r?void 0:r.first():null==r?void 0:r.previous(-1)},End:()=>{if(a())return!o||e.ctrlKey?null==r?void 0:r.last():null==r?void 0:r.next(-1)},PageUp:()=>Mi(t,r,null==r?void 0:r.up,!0),PageDown:()=>Mi(t,r,null==r?void 0:r.down)}[e.key];if(c){if(rn(t)){const n=on(t),r=s&&"ArrowLeft"===e.key,i=s&&"ArrowRight"===e.key,o=l&&"ArrowUp"===e.key,a=l&&"ArrowDown"===e.key;if(i||a){const{length:e}=function(e){if(nn(e))return e.value;if(e.isContentEditable){const t=Xt(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((r||o)&&0!==n.start)return}const n=c();if(V(e)||void 0!==n){if(!P(e))return;e.preventDefault(),r.move(n)}}})),O=(0,e.useMemo)((()=>({id:m,baseElement:w})),[m,w]);return d=In(d,(e=>(0,$e.jsx)(Kn.Provider,{value:O,children:e})),[O]),d=Et(St({id:m,"data-active-item":x||void 0},d),{ref:Cn(f,d.ref),tabIndex:j?d.tabIndex:-1,onFocus:S,onBlurCapture:I,onKeyDown:M}),d=Vi(d),d=Ei(Et(St({store:r},d),{getItem:_,shouldRegisterItem:!!m&&d.shouldRegisterItem})),Kt(Et(St({},d),{"aria-setsize":b,"aria-posinset":y}))}));function Fi(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}Rn(Fn((function(e){return Ln("button",Oi(e))})));var Ri=An((function(t){var n,r=t,{store:i,value:o,hideOnClick:l,setValueOnClick:s,selectValueOnClick:a=!0,resetValueOnSelect:c,focusOnHover:u=!1,moveOnKeyPress:d=!0,getItem:p}=r,m=It(r,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]);const f=Rr();Ut(i=i||f,!1);const{resetValueOnSelectState:h,multiSelectable:v,selected:g}=ar(i,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,o)}),w=(0,e.useCallback)((e=>{const t=Et(St({},e),{value:o});return p?p(t):t}),[o,p]);s=null!=s?s:!v,l=null!=l?l:null!=o&&!v;const x=m.onClick,b=En(s),y=En(a),j=En(null!=(n=null!=c?c:h)?n:v),_=En(l),C=jn((e=>{null==x||x(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=cn();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.tagName.toLowerCase();return"a"===r||"button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type}(e)||(null!=o&&(y(e)&&(j(e)&&(null==i||i.resetValue()),null==i||i.setSelectedValue((e=>Array.isArray(e)?e.includes(o)?e.filter((e=>e!==o)):[...e,o]:o))),b(e)&&(null==i||i.setValue(o))),_(e)&&(null==i||i.hide()))})),k=m.onKeyDown,S=jn((e=>{if(null==k||k(e),e.defaultPrevented)return;const t=null==i?void 0:i.getState().baseElement;t&&(Yr(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),nn(t)&&(null==i||i.setValue(t.value))))}));v&&null!=g&&(m=St({"aria-selected":g},m)),m=In(m,(e=>(0,$e.jsx)(Dr.Provider,{value:o,children:(0,$e.jsx)(Hr.Provider,{value:null!=g&&g,children:e})})),[o,g]);const E=(0,e.useContext)(Mr);m=Et(St({role:Fi(E),children:o},m),{onClick:C,onKeyDown:S});const I=En(d);return m=Oi(Et(St({store:i},m),{getItem:w,moveOnKeyPress:e=>{if(!I(e))return!1;const t=new Event("combobox-item-move"),n=null==i?void 0:i.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),Si(St({store:i,focusOnHover:u},m))})),Li=Rn(Fn((function(e){return Ln("div",Ri(e))})));function Ai(e){return $t(e).toLowerCase()}var Ti=An((function(t){var n=t,{store:r,value:i,userValue:o}=n,l=It(n,["store","value","userValue"]);const s=Rr();r=r||s;const a=(0,e.useContext)(Dr),c=null!=i?i:a,u=sr(r,(e=>null!=o?o:null==e?void 0:e.value)),d=(0,e.useMemo)((()=>{if(c)return u?function(e,t){if(!e)return e;if(!t)return e;const n=(r=t,Array.isArray(r)?r:void 0!==r?[r]:[]).filter(Boolean).map(Ai);var r;const i=[],o=(e,t=!1)=>(0,$e.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},i.length),l=function(e){return e.sort((([e],[t])=>e-t))}(function(e){return e.filter((([e,t],n,r)=>!r.some((([r,i],o)=>o!==n&&r<=e&&r+i>=e+t))))}(function(e,t){const n=[];for(const r of t){let t=0;const i=r.length;for(;-1!==e.indexOf(r,t);){const o=e.indexOf(r,t);-1!==o&&n.push([o,i]),t=o+1}}return n}(Ai(e),new Set(n))));if(!l.length)return i.push(o(e,!0)),i;const[s]=l[0],a=[e.slice(0,s),...l.flatMap((([t,n],r)=>{var i;const o=e.slice(t,t+n),s=null==(i=l[r+1])?void 0:i[0];return[o,e.slice(t+n,s)]}))];return a.forEach(((e,t)=>{e&&i.push(o(e,t%2==0))})),i}(c,u):c}),[c,u]);return Kt(l=St({children:d},l))})),Di=Fn((function(e){return Ln("span",Ti(e))})),Hi=i(892),Bi=i.n(Hi);const $i=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),zi=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),Ui=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Circle,{cx:12,cy:12,r:3})});function Wi(e=""){return Bi()(e.trim().toLowerCase())}const Ki=[],Gi=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:Ki,Zi=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function qi(e,t){return`${e}-${t}`}function Yi({view:e,filter:t,onChangeView:n}){const r=(0,Ye.useInstanceId)(Yi,"dataviews-filter-list-box"),[i,o]=(0,Re.useState)(1===t.operators?.length?void 0:null),l=e.filters?.find((e=>e.field===t.field)),s=Gi(t,l);return(0,$e.jsx)(De.Composite,{virtualFocus:!0,focusLoop:!0,activeId:i,setActiveId:o,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,He.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,He.__)("List of: %1$s"),t.name),onFocusVisible:()=>{!i&&t.elements.length&&o(qi(r,t.elements[0].value))},render:(0,$e.jsx)(De.Composite.Typeahead,{}),children:t.elements.map((i=>(0,$e.jsxs)(De.Composite.Hover,{render:(0,$e.jsx)(De.Composite.Item,{id:qi(r,i.value),render:(0,$e.jsx)("div",{"aria-label":i.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var r,o;const s=l?[...(null!==(r=e.filters)&&void 0!==r?r:[]).map((e=>e.field===t.field?{...e,operator:l.operator||t.operators[0],value:Zi(t,l,i.value)}:e))]:[...null!==(o=e.filters)&&void 0!==o?o:[],{field:t.field,operator:t.operators[0],value:Zi(t,l,i.value)}];n({...e,page:1,filters:s})}}),children:[(0,$e.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[t.singleSelection&&s===i.value&&(0,$e.jsx)(De.Icon,{icon:Ui}),!t.singleSelection&&s.includes(i.value)&&(0,$e.jsx)(De.Icon,{icon:$i})]}),(0,$e.jsx)("span",{children:i.label})]},i.value)))})}function Xi({view:e,filter:t,onChangeView:n}){const[r,i]=(0,Re.useState)(""),o=(0,Re.useDeferredValue)(r),l=e.filters?.find((e=>e.field===t.field)),s=Gi(t,l),a=(0,Re.useMemo)((()=>{const e=Wi(o);return t.elements.filter((t=>Wi(t.label).includes(e)))}),[t.elements,o]);return(0,$e.jsxs)(Br,{selectedValue:s,setSelectedValue:r=>{var i,o;const s=l?[...(null!==(i=e.filters)&&void 0!==i?i:[]).map((e=>e.field===t.field?{...e,operator:l.operator||t.operators[0],value:r}:e))]:[...null!==(o=e.filters)&&void 0!==o?o:[],{field:t.field,operator:t.operators[0],value:r}];n({...e,page:1,filters:s})},setValue:i,children:[(0,$e.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,$e.jsx)(zr,{render:(0,$e.jsx)(De.VisuallyHidden,{children:(0,He.__)("Search items")}),children:(0,He.__)("Search items")}),(0,$e.jsx)(hi,{autoSelect:"always",placeholder:(0,He.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,$e.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,$e.jsx)(De.Icon,{icon:zi})})]}),(0,$e.jsxs)(_i,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[a.map((e=>(0,$e.jsxs)(Li,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,$e.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[t.singleSelection&&s===e.value&&(0,$e.jsx)(De.Icon,{icon:Ui}),!t.singleSelection&&s.includes(e.value)&&(0,$e.jsx)(De.Icon,{icon:$i})]}),(0,$e.jsxs)("span",{children:[(0,$e.jsx)(Di,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,$e.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value))),!a.length&&(0,$e.jsx)("p",{children:(0,He.__)("No results found")})]})]})}function Ji(e){const t=e.filter.elements.length>10?Xi:Yi;return(0,$e.jsx)(t,{...e})}const Qi="Enter",eo=" ",to=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const r={Name:(0,$e.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,$e.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};return t?.operator===tt?(0,Re.createInterpolateElement)((0,He.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,He.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===nt?(0,Re.createInterpolateElement)((0,He.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,He.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===rt?(0,Re.createInterpolateElement)((0,He.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,He.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===it?(0,Re.createInterpolateElement)((0,He.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,He.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===Qe?(0,Re.createInterpolateElement)((0,He.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */
(0,He.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),r):t?.operator===et?(0,Re.createInterpolateElement)((0,He.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */
(0,He.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),r):(0,He.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,He.__)("Unknown status for %1$s"),n.name)};function no({filter:e,view:t,onChangeView:n}){const r=e.operators?.map((e=>({value:e,label:lt[e]?.label}))),i=t.filters?.find((t=>t.field===e.field)),o=i?.operator||e.operators[0];return r.length>1&&(0,$e.jsxs)(De.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,$e.jsx)(De.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,$e.jsx)(De.SelectControl,{label:(0,He.__)("Conditions"),value:o,options:r,onChange:r=>{var o,l;const s=r,a=i?[...(null!==(o=t.filters)&&void 0!==o?o:[]).map((t=>t.field===e.field?{...t,operator:s}:t))]:[...null!==(l=t.filters)&&void 0!==l?l:[],{field:e.field,operator:s,value:void 0}];n({...t,page:1,filters:a})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function ro({addFilterRef:e,openedFilter:t,...n}){const r=(0,Re.useRef)(null),{filter:i,view:o,onChangeView:l}=n,s=o.filters?.find((e=>e.field===i.field)),a=i.elements.filter((e=>i.singleSelection?e.value===s?.value:s?.value?.includes(e.value))),c=i.isPrimary,u=void 0!==s?.value,d=!c||u;return(0,$e.jsx)(De.Dropdown,{defaultOpen:t===i.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{r.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,$e.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,$e.jsx)(De.Tooltip,{text:(0,He.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,He.__)("Filter by: %1$s"),i.name.toLowerCase()),placement:"top",children:(0,$e.jsx)("div",{className:gt("dataviews-filters__summary-chip",{"has-reset":d,"has-values":u}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Qi,eo].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:r,children:(0,$e.jsx)(to,{activeElements:a,filterInView:s,filter:i})})}),d&&(0,$e.jsx)(De.Tooltip,{text:c?(0,He.__)("Reset"):(0,He.__)("Remove"),placement:"top",children:(0,$e.jsx)("button",{className:gt("dataviews-filters__summary-chip-remove",{"has-values":u}),onClick:()=>{l({...o,page:1,filters:o.filters?.filter((e=>e.field!==i.field))}),c?r.current?.focus():e.current?.focus()},children:(0,$e.jsx)(De.Icon,{icon:wt})})})]}),renderContent:()=>(0,$e.jsxs)(De.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,$e.jsx)(no,{...n}),(0,$e.jsx)(Ji,{...n})]})})}const io=window.wp.privateApis,{lock:oo,unlock:lo}=(0,io.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:so}=lo(De.privateApis);function ao({filters:e,view:t,onChangeView:n,setOpenedFilter:r,triggerProps:i}){const o=e.filter((e=>!e.isVisible));return(0,$e.jsxs)(so,{children:[(0,$e.jsx)(so.TriggerButton,{...i}),(0,$e.jsx)(so.Popover,{children:o.map((e=>(0,$e.jsx)(so.Item,{onClick:()=>{r(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,$e.jsx)(so.ItemLabel,{children:e.name})},e.field)))})]})}const co=(0,Re.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:r},i){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const o=e.filter((e=>!e.isVisible));return(0,$e.jsx)(ao,{triggerProps:{render:(0,$e.jsx)(De.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!o.length,ref:i}),children:(0,He.__)("Add filter")},filters:e,view:t,onChangeView:n,setOpenedFilter:r})}));function uo({filters:e,view:t,onChangeView:n}){const r=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,$e.jsx)(De.Button,{disabled:r,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,He.__)("Reset")})}function po(e){let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[tt,nt]),t=t.filter((e=>ot.includes(e))),(t.includes(Qe)||t.includes(et))&&(t=t.filter((e=>[Qe,et].includes(e)))),t}function mo(e,t){return(0,Re.useMemo)((()=>{const n=[];return e.forEach((e=>{if(!e.elements?.length)return;const r=po(e);if(0===r.length)return;const i=!!e.filterBy?.isPrimary;n.push({field:e.id,name:e.label,elements:e.elements,singleSelection:r.some((e=>[Qe,et].includes(e))),operators:r,isVisible:i||!!t.filters?.some((t=>t.field===e.id&&ot.includes(t.operator))),isPrimary:i})})),n.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name))),n}),[e,t])}function fo({filters:e,view:t,onChangeView:n,setOpenedFilter:r,isShowingFilter:i,setIsShowingFilter:o}){const l=(0,Re.useRef)(null),s=(0,Re.useCallback)((e=>{n(e),o(!0)}),[n,o]),a=!!e.filter((e=>e.isVisible)).length;if(0===e.length)return null;const c={label:(0,He.__)("Add filter"),"aria-expanded":!1,isPressed:!1},u={label:(0,He._x)("Filter","verb"),"aria-expanded":i,isPressed:i,onClick:()=>{i||r(null),o(!i)}},d=(0,$e.jsx)(De.Button,{ref:l,className:"dataviews-filters__visibility-toggle",size:"compact",icon:ht,...a?u:c});return(0,$e.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:a?(0,$e.jsx)(ho,{buttonRef:l,filtersCount:t.filters?.length,children:d}):(0,$e.jsx)(ao,{filters:e,view:t,onChangeView:s,setOpenedFilter:r,triggerProps:{render:d}})})}function ho({buttonRef:e,filtersCount:t,children:n}){return(0,Re.useEffect)((()=>()=>{e.current?.focus()}),[e]),(0,$e.jsxs)($e.Fragment,{children:[n,!!t&&(0,$e.jsx)("span",{className:"dataviews-filters-toggle__count",children:t})]})}const vo=(0,Re.memo)((function(){const{fields:e,view:t,onChangeView:n,openedFilter:r,setOpenedFilter:i}=(0,Re.useContext)(ft),o=(0,Re.useRef)(null),l=mo(e,t),s=(0,$e.jsx)(co,{filters:l,view:t,onChangeView:n,ref:o,setOpenedFilter:i},"add-filter"),a=l.filter((e=>e.isVisible));if(0===a.length)return null;const c=[...a.map((e=>(0,$e.jsx)(ro,{filter:e,view:t,onChangeView:n,addFilterRef:o,openedFilter:r},e.field))),s];return c.push((0,$e.jsx)(uo,{filters:l,view:t,onChangeView:n},"reset-filters")),(0,$e.jsx)(De.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},className:"dataviews-filters__container",wrap:!0,children:c})})),go=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),wo=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),xo=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),bo=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function yo({selection:e,onChangeSelection:t,item:n,getItemId:r,titleField:i,disabled:o}){const l=r(n),s=!o&&e.includes(l),a=i?.getValue?.({item:n})||(0,He.__)("(no title)");return(0,$e.jsx)(De.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":a,"aria-disabled":o,checked:s,onChange:()=>{o||t(e.includes(l)?e.filter((e=>l!==e)):[...e,l])}})}const jo=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),_o=window.wp.data,{Menu:Co,kebabCase:ko}=lo(De.privateApis);function So({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,$e.jsx)(De.Button,{label:r,icon:e.icon,disabled:!!e.disabled,accessibleWhenDisabled:!0,isDestructive:e.isDestructive,size:"compact",onClick:t})}function Eo({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,$e.jsx)(Co.Item,{disabled:e.disabled,onClick:t,children:(0,$e.jsx)(Co.ItemLabel,{children:r})})}function Io({action:e,items:t,closeModal:n}){var r;const i="string"==typeof e.label?e.label:e.label(t);return(0,$e.jsx)(De.Modal,{title:e.modalHeader||i,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:null===(r=e.modalFocusOnMount)||void 0===r||r,size:e.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${ko(e.id)}`,children:(0,$e.jsx)(e.RenderModal,{items:t,closeModal:n})})}function No({actions:e,item:t,registry:n,setActiveModalAction:r}){return(0,$e.jsx)(Co.Group,{children:e.map((e=>(0,$e.jsx)(Eo,{action:e,onClick:()=>{"RenderModal"in e?r(e):e.callback([t],{registry:n})},items:[t]},e.id)))})}function Vo({item:e,actions:t,isCompact:n}){const r=(0,_o.useRegistry)(),{primaryActions:i,eligibleActions:o}=(0,Re.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,$e.jsx)(Po,{item:e,actions:o,isSmall:!0,registry:r}):i.length===o.length?(0,$e.jsx)(Mo,{item:e,actions:i,registry:r}):(0,$e.jsxs)(De.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[(0,$e.jsx)(Mo,{item:e,actions:i,registry:r}),(0,$e.jsx)(Po,{item:e,actions:o,registry:r})]})}function Po({item:e,actions:t,isSmall:n,registry:r}){const[i,o]=(0,Re.useState)(null);return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsxs)(Co,{placement:"bottom-end",children:[(0,$e.jsx)(Co.TriggerButton,{render:(0,$e.jsx)(De.Button,{size:n?"small":"compact",icon:jo,label:(0,He.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,className:"dataviews-all-actions-button"})}),(0,$e.jsx)(Co.Popover,{children:(0,$e.jsx)(No,{actions:t,item:e,registry:r,setActiveModalAction:o})})]}),!!i&&(0,$e.jsx)(Io,{action:i,items:[e],closeModal:()=>o(null)})]})}function Mo({item:e,actions:t,registry:n}){const[r,i]=(0,Re.useState)(null);return Array.isArray(t)&&0!==t.length?(0,$e.jsxs)($e.Fragment,{children:[t.map((t=>(0,$e.jsx)(So,{action:t,onClick:()=>{"RenderModal"in t?i(t):t.callback([e],{registry:n})},items:[e]},t.id))),!!r&&(0,$e.jsx)(Io,{action:r,items:[e],closeModal:()=>i(null)})]}):null}function Oo({action:e,items:t,ActionTriggerComponent:n}){const[r,i]=(0,Re.useState)(!1),o={action:e,onClick:()=>{i(!0)},items:t};return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(n,{...o}),r&&(0,$e.jsx)(Io,{action:e,items:t,closeModal:()=>i(!1)})]})}function Fo(e,t){return(0,Re.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))),[e,t])}function Ro(e,t){return(0,Re.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}function Lo({selection:e,onChangeSelection:t,data:n,actions:r,getItemId:i}){const o=(0,Re.useMemo)((()=>n.filter((e=>r.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[n,r]),l=n.filter((t=>e.includes(i(t))&&o.includes(t))),s=l.length===o.length;return(0,$e.jsx)(De.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:s,indeterminate:!s&&!!l.length,onChange:()=>{t(s?[]:o.map((e=>i(e))))},"aria-label":s?(0,He.__)("Deselect all"):(0,He.__)("Select all")})}function Ao({action:e,onClick:t,isBusy:n,items:r}){const i="string"==typeof e.label?e.label:e.label(r);return(0,$e.jsx)(De.Button,{disabled:n,accessibleWhenDisabled:!0,label:i,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,tooltipPosition:"top"})}const To=[];function Do({action:e,selectedItems:t,actionInProgress:n,setActionInProgress:r}){const i=(0,_o.useRegistry)(),o=(0,Re.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]);return"RenderModal"in e?(0,$e.jsx)(Oo,{action:e,items:o,ActionTriggerComponent:Ao},e.id):(0,$e.jsx)(Ao,{action:e,onClick:async()=>{r(e.id),await e.callback(t,{registry:i}),r(null)},items:o,isBusy:n===e.id},e.id)}function Ho(e,t,n,r,i,o,l,s,a){const c=o.length>0?(0,He.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,He._n)("%d Item selected","%d Items selected",o.length),o.length):(0,He.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,He._n)("%d Item","%d Items",e.length),e.length);return(0,$e.jsxs)(De.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,$e.jsx)(Lo,{selection:r,onChangeSelection:a,data:e,actions:t,getItemId:n}),(0,$e.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:c}),(0,$e.jsxs)(De.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[i.map((e=>(0,$e.jsx)(Do,{action:e,selectedItems:o,actionInProgress:l,setActionInProgress:s},e.id))),o.length>0&&(0,$e.jsx)(De.Button,{icon:wt,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,He.__)("Cancel"),disabled:!!l,accessibleWhenDisabled:!1,onClick:()=>{a(To)}})]})]})}function Bo({selection:e,actions:t,onChangeSelection:n,data:r,getItemId:i}){const[o,l]=(0,Re.useState)(null),s=(0,Re.useRef)(null),a=(0,Re.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),c=(0,Re.useMemo)((()=>r.filter((e=>a.some((t=>!t.isEligible||t.isEligible(e)))))),[r,a]),u=(0,Re.useMemo)((()=>r.filter((t=>e.includes(i(t))&&c.includes(t)))),[e,r,i,c]),d=(0,Re.useMemo)((()=>t.filter((e=>e.supportsBulk&&e.icon&&u.some((t=>!e.isEligible||e.isEligible(t)))))),[t,u]);return o?(s.current||(s.current=Ho(r,t,i,e,d,u,o,l,n)),s.current):(s.current&&(s.current=null),Ho(r,t,i,e,d,u,o,l,n))}function $o(){const{data:e,selection:t,actions:n=To,onChangeSelection:r,getItemId:i}=(0,Re.useContext)(ft);return(0,$e.jsx)(Bo,{selection:t,onChangeSelection:r,data:e,actions:n,getItemId:i})}const zo=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),Uo=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),Wo=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:Ko}=lo(De.privateApis);function Go({children:e}){return Re.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,$e.jsxs)(Re.Fragment,{children:[t>0&&(0,$e.jsx)(Ko.Separator,{}),e]},t)))}const Zo=(0,Re.forwardRef)((function({fieldId:e,view:t,fields:n,onChangeView:r,onHide:i,setOpenedFilter:o,canMove:l=!0},s){var a;const c=null!==(a=t.fields)&&void 0!==a?a:[],u=c?.indexOf(e),d=t.sort?.field===e;let p=!1,m=!1,f=!1,h=[];const v=n.find((t=>t.id===e));if(!v)return null;p=!1!==v.enableHiding,m=!1!==v.enableSorting;const g=v.header;return h=po(v),f=!(t.filters?.some((t=>e===t.field))||!v.elements?.length||!h.length||v.filterBy?.isPrimary),(0,$e.jsxs)(Ko,{children:[(0,$e.jsxs)(Ko.TriggerButton,{render:(0,$e.jsx)(De.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:s,variant:"tertiary"}),children:[g,t.sort&&d&&(0,$e.jsx)("span",{"aria-hidden":"true",children:at[t.sort.direction]})]}),(0,$e.jsx)(Ko.Popover,{style:{minWidth:"240px"},children:(0,$e.jsxs)(Go,{children:[m&&(0,$e.jsx)(Ko.Group,{children:st.map((n=>{const i=t.sort&&d&&t.sort.direction===n,o=`${e}-${n}`;return(0,$e.jsx)(Ko.RadioItem,{name:"view-table-sorting",value:o,checked:i,onChange:()=>{r({...t,sort:{field:e,direction:n},showLevels:!1})},children:(0,$e.jsx)(Ko.ItemLabel,{children:ut[n]})},o)}))}),f&&(0,$e.jsx)(Ko.Group,{children:(0,$e.jsx)(Ko.Item,{prefix:(0,$e.jsx)(De.Icon,{icon:ht}),onClick:()=>{o(e),r({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:h[0]}]})},children:(0,$e.jsx)(Ko.ItemLabel,{children:(0,He.__)("Add filter")})})}),(l||p)&&v&&(0,$e.jsxs)(Ko.Group,{children:[l&&(0,$e.jsx)(Ko.Item,{prefix:(0,$e.jsx)(De.Icon,{icon:zo}),disabled:u<1,onClick:()=>{var n;r({...t,fields:[...null!==(n=c.slice(0,u-1))&&void 0!==n?n:[],e,c[u-1],...c.slice(u+1)]})},children:(0,$e.jsx)(Ko.ItemLabel,{children:(0,He.__)("Move left")})}),l&&(0,$e.jsx)(Ko.Item,{prefix:(0,$e.jsx)(De.Icon,{icon:Uo}),disabled:u>=c.length-1,onClick:()=>{var n;r({...t,fields:[...null!==(n=c.slice(0,u))&&void 0!==n?n:[],c[u+1],e,...c.slice(u+2)]})},children:(0,$e.jsx)(Ko.ItemLabel,{children:(0,He.__)("Move right")})}),p&&v&&(0,$e.jsx)(Ko.Item,{prefix:(0,$e.jsx)(De.Icon,{icon:Wo}),onClick:()=>{i(v),r({...t,fields:c.filter((t=>t!==e))})},children:(0,$e.jsx)(Ko.ItemLabel,{children:(0,He.__)("Hide column")})})]})]})})]})}));function qo({item:e,isItemClickable:t,onClickItem:n,className:r}){return t(e)&&n?{className:r?`${r} ${r}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:r}}const Yo=function({item:e,level:t,titleField:n,mediaField:r,descriptionField:i,onClickItem:o,isItemClickable:l}){const s=qo({item:e,isItemClickable:l,onClickItem:o,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field"});return(0,$e.jsxs)(De.__experimentalHStack,{spacing:3,justify:"flex-start",children:[r&&(0,$e.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media",children:(0,$e.jsx)(r.render,{item:e})}),(0,$e.jsxs)(De.__experimentalVStack,{spacing:0,children:[n&&(0,$e.jsxs)("div",{...s,children:[void 0!==t&&(0,$e.jsxs)("span",{className:"dataviews-view-table__level",children:["—".repeat(t)," "]}),(0,$e.jsx)(n.render,{item:e})]}),i&&(0,$e.jsx)(i.render,{item:e})]})]})};function Xo({item:e,fields:t,column:n}){const r=t.find((e=>e.id===n));return r?(0,$e.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,$e.jsx)(r.render,{item:e})}):null}function Jo({hasBulkActions:e,item:t,level:n,actions:r,fields:i,id:o,view:l,titleField:s,mediaField:a,descriptionField:c,selection:u,getItemId:d,isItemClickable:p,onClickItem:m,onChangeSelection:f}){var h;const v=Fo(r,t),g=v&&u.includes(o),[w,x]=(0,Re.useState)(!1),{showTitle:b=!0,showMedia:y=!0,showDescription:j=!0}=l,_=(0,Re.useRef)(!1),C=null!==(h=l.fields)&&void 0!==h?h:[],k=s&&b||a&&y||c&&j;return(0,$e.jsxs)("tr",{className:gt("dataviews-view-table__row",{"is-selected":v&&g,"is-hovered":w,"has-bulk-actions":v}),onMouseEnter:()=>{x(!0)},onMouseLeave:()=>{x(!1)},onTouchStart:()=>{_.current=!0},onClick:()=>{v&&(_.current||"Range"===document.getSelection()?.type||f(u.includes(o)?u.filter((e=>o!==e)):[o]))},children:[e&&(0,$e.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,$e.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,$e.jsx)(yo,{item:t,selection:u,onChangeSelection:f,getItemId:d,titleField:s,disabled:!v})})}),k&&(0,$e.jsx)("td",{children:(0,$e.jsx)(Yo,{item:t,level:n,titleField:b?s:void 0,mediaField:y?a:void 0,descriptionField:j?c:void 0,isItemClickable:p,onClickItem:m})}),C.map((e=>{var n;const{width:r,maxWidth:o,minWidth:s}=null!==(n=l.layout?.styles?.[e])&&void 0!==n?n:{};return(0,$e.jsx)("td",{style:{width:r,maxWidth:o,minWidth:s},children:(0,$e.jsx)(Xo,{fields:i,item:t,column:e})},e)})),!!r?.length&&(0,$e.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,$e.jsx)(Vo,{item:t,actions:r})})]})}const Qo={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}},el={xhuge:1520,huge:1140,xlarge:780,large:480,mobile:0};function tl(){const e=(0,Re.useContext)(ft).containerWidth;for(const[t,n]of Object.entries(el))if(e>=n)return t;return"mobile"}const{Badge:nl}=lo(De.privateApis);function rl({view:e,selection:t,onChangeSelection:n,onClickItem:r,isItemClickable:i,getItemId:o,item:l,actions:s,mediaField:a,titleField:c,descriptionField:u,regularFields:d,badgeFields:p,hasBulkActions:m}){const{showTitle:f=!0,showMedia:h=!0,showDescription:v=!0}=e,g=Fo(s,l),w=o(l),x=(0,Ye.useInstanceId)(rl),b=t.includes(w),y=a?.render?(0,$e.jsx)(a.render,{item:l}):null,j=f&&c?.render?(0,$e.jsx)(c.render,{item:l}):null,_=qo({item:l,isItemClickable:i,onClickItem:r,className:"dataviews-view-grid__media"}),C=qo({item:l,isItemClickable:i,onClickItem:r,className:"dataviews-view-grid__title-field dataviews-title-field"});let k,S;return i(l)&&r&&(j?(k={"aria-labelledby":`dataviews-view-grid__title-field-${x}`},S={id:`dataviews-view-grid__title-field-${x}`}):k={"aria-label":(0,He.__)("Navigate to item")}),(0,$e.jsxs)(De.__experimentalVStack,{spacing:0,className:gt("dataviews-view-grid__card",{"is-selected":g&&b}),onClickCapture:e=>{if(e.ctrlKey||e.metaKey){if(e.stopPropagation(),e.preventDefault(),!g)return;n(t.includes(w)?t.filter((e=>w!==e)):[...t,w])}},children:[h&&y&&(0,$e.jsx)("div",{..._,...k,children:y}),m&&h&&y&&(0,$e.jsx)(yo,{item:l,selection:t,onChangeSelection:n,getItemId:o,titleField:c,disabled:!g}),(0,$e.jsxs)(De.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,$e.jsx)("div",{...C,...S,children:j}),!!s?.length&&(0,$e.jsx)(Vo,{item:l,actions:s,isCompact:!0})]}),(0,$e.jsxs)(De.__experimentalVStack,{spacing:1,children:[v&&u?.render&&(0,$e.jsx)(u.render,{item:l}),!!p?.length&&(0,$e.jsx)(De.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:p.map((e=>(0,$e.jsx)(nl,{className:"dataviews-view-grid__field-value",children:(0,$e.jsx)(e.render,{item:l})},e.id)))}),!!d?.length&&(0,$e.jsx)(De.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:d.map((e=>(0,$e.jsx)(De.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(De.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,$e.jsx)(De.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,$e.jsx)(e.render,{item:l})})]})},e.id)))})]})]},w)}const{Menu:il}=lo(De.privateApis);function ol(e){return`${e}-item-wrapper`}function ll(e){return`${e}-dropdown`}function sl({idPrefix:e,primaryAction:t,item:n}){const r=(0,_o.useRegistry)(),[i,o]=(0,Re.useState)(!1),l=function(e,t){return`${e}-primary-action-${t}`}(e,t.id),s="string"==typeof t.label?t.label:t.label([n]);return"RenderModal"in t?(0,$e.jsx)("div",{role:"gridcell",children:(0,$e.jsx)(De.Composite.Item,{id:l,render:(0,$e.jsx)(De.Button,{label:s,disabled:!!t.disabled,accessibleWhenDisabled:!0,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>o(!0)}),children:i&&(0,$e.jsx)(Io,{action:t,items:[n],closeModal:()=>o(!1)})})},t.id):(0,$e.jsx)("div",{role:"gridcell",children:(0,$e.jsx)(De.Composite.Item,{id:l,render:(0,$e.jsx)(De.Button,{label:s,disabled:!!t.disabled,accessibleWhenDisabled:!0,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>{t.callback([n],{registry:r})}})})},t.id)}function al({view:e,actions:t,idPrefix:n,isSelected:r,item:i,titleField:o,mediaField:l,descriptionField:s,onSelect:a,otherFields:c,onDropdownTriggerKeyDown:u}){const{showTitle:d=!0,showMedia:p=!0,showDescription:m=!0}=e,f=(0,Re.useRef)(null),h=`${n}-label`,v=`${n}-description`,g=(0,_o.useRegistry)(),[w,x]=(0,Re.useState)(!1),[b,y]=(0,Re.useState)(null),j=({type:e})=>{x("mouseenter"===e)};(0,Re.useEffect)((()=>{r&&f.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[r]);const{primaryAction:_,eligibleActions:C}=(0,Re.useMemo)((()=>{const e=t.filter((e=>!e.isEligible||e.isEligible(i)));return{primaryAction:e.filter((e=>e.isPrimary&&!!e.icon))[0],eligibleActions:e}}),[t,i]),k=_&&1===t.length,S=p&&l?.render?(0,$e.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,$e.jsx)(l.render,{item:i})}):null,E=d&&o?.render?(0,$e.jsx)(o.render,{item:i}):null,I=C?.length>0&&(0,$e.jsxs)(De.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[_&&(0,$e.jsx)(sl,{idPrefix:n,primaryAction:_,item:i}),!k&&(0,$e.jsxs)("div",{role:"gridcell",children:[(0,$e.jsxs)(il,{placement:"bottom-end",children:[(0,$e.jsx)(il.TriggerButton,{render:(0,$e.jsx)(De.Composite.Item,{id:ll(n),render:(0,$e.jsx)(De.Button,{size:"small",icon:jo,label:(0,He.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,onKeyDown:u})})}),(0,$e.jsx)(il.Popover,{children:(0,$e.jsx)(No,{actions:C,item:i,registry:g,setActiveModalAction:y})})]}),!!b&&(0,$e.jsx)(Io,{action:b,items:[i],closeModal:()=>y(null)})]})]});return(0,$e.jsx)(De.Composite.Row,{ref:f,render:(0,$e.jsx)("div",{}),role:"row",className:gt({"is-selected":r,"is-hovered":w}),onMouseEnter:j,onMouseLeave:j,children:(0,$e.jsxs)(De.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,$e.jsx)("div",{role:"gridcell",children:(0,$e.jsx)(De.Composite.Item,{id:ol(n),"aria-pressed":r,"aria-labelledby":h,"aria-describedby":v,className:"dataviews-view-list__item",onClick:()=>a(i)})}),(0,$e.jsxs)(De.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[S,(0,$e.jsxs)(De.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,$e.jsxs)(De.__experimentalHStack,{spacing:0,children:[(0,$e.jsx)("div",{className:"dataviews-title-field",id:h,children:E}),I]}),m&&s?.render&&(0,$e.jsx)("div",{className:"dataviews-view-list__field",children:(0,$e.jsx)(s.render,{item:i})}),(0,$e.jsx)("div",{className:"dataviews-view-list__fields",id:v,children:c.map((e=>(0,$e.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,$e.jsx)(De.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,$e.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,$e.jsx)(e.render,{item:i})})]},e.id)))})]})]})]})})}function cl(e){return!!e}const ul=[{type:pt,label:(0,He.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:r,getItemLevel:i,isLoading:o=!1,onChangeView:l,onChangeSelection:s,selection:a,setOpenedFilter:c,onClickItem:u,isItemClickable:d,view:p}){var m;const f=(0,Re.useRef)(new Map),h=(0,Re.useRef)(),[v,g]=(0,Re.useState)(),w=Ro(e,t);(0,Re.useEffect)((()=>{h.current&&(h.current.focus(),h.current=void 0)}));const x=(0,Re.useId)();if(v)return h.current=v,void g(void 0);const b=e=>{const t=f.current.get(e.id),n=t?f.current.get(t.fallback):void 0;g(n?.node)},y=!!t?.length,j=n.find((e=>e.id===p.titleField)),_=n.find((e=>e.id===p.mediaField)),C=n.find((e=>e.id===p.descriptionField)),{showTitle:k=!0,showMedia:S=!0,showDescription:E=!0}=p,I=j&&k||_&&S||C&&E,N=null!==(m=p.fields)&&void 0!==m?m:[],V=(e,t)=>n=>{n?f.current.set(e,{node:n,fallback:N[t>0?t-1:1]}):f.current.delete(e)};return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsxs)("table",{className:gt("dataviews-view-table",{[`has-${p.layout?.density}-density`]:p.layout?.density&&["compact","comfortable"].includes(p.layout.density)}),"aria-busy":o,"aria-describedby":x,children:[(0,$e.jsx)("thead",{children:(0,$e.jsxs)("tr",{className:"dataviews-view-table__row",children:[w&&(0,$e.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",children:(0,$e.jsx)(Lo,{selection:a,onChangeSelection:s,data:t,actions:e,getItemId:r})}),I&&(0,$e.jsx)("th",{scope:"col",children:j&&(0,$e.jsx)(Zo,{ref:V(j.id,0),fieldId:j.id,view:p,fields:n,onChangeView:l,onHide:b,setOpenedFilter:c,canMove:!1})}),N.map(((e,t)=>{var r;const{width:i,maxWidth:o,minWidth:s}=null!==(r=p.layout?.styles?.[e])&&void 0!==r?r:{};return(0,$e.jsx)("th",{style:{width:i,maxWidth:o,minWidth:s},"aria-sort":p.sort?.direction&&p.sort?.field===e?ct[p.sort.direction]:void 0,scope:"col",children:(0,$e.jsx)(Zo,{ref:V(e,t),fieldId:e,view:p,fields:n,onChangeView:l,onHide:b,setOpenedFilter:c})},e)})),!!e?.length&&(0,$e.jsx)("th",{className:"dataviews-view-table__actions-column",children:(0,$e.jsx)("span",{className:"dataviews-view-table-header",children:(0,He.__)("Actions")})})]})}),(0,$e.jsx)("tbody",{children:y&&t.map(((t,o)=>(0,$e.jsx)(Jo,{item:t,level:p.showLevels&&"function"==typeof i?i(t):void 0,hasBulkActions:w,actions:e,fields:n,id:r(t)||o.toString(),view:p,titleField:j,mediaField:_,descriptionField:C,selection:a,getItemId:r,onChangeSelection:s,onClickItem:u,isItemClickable:d},r(t))))})]}),(0,$e.jsx)("div",{className:gt({"dataviews-loading":o,"dataviews-no-results":!y&&!o}),id:x,children:!y&&(0,$e.jsx)("p",{children:o?(0,$e.jsx)(De.Spinner,{}):(0,He.__)("No results")})})]})},icon:go,viewConfigOptions:function(){const e=(0,Re.useContext)(ft),t=e.view;return(0,$e.jsxs)(De.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,He.__)("Density"),value:t.layout?.density||"balanced",onChange:n=>{e.onChangeView({...t,layout:{...t.layout,density:n}})},isBlock:!0,children:[(0,$e.jsx)(De.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,He._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,$e.jsx)(De.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,He._x)("Balanced","Density option for DataView layout")},"balanced"),(0,$e.jsx)(De.__experimentalToggleGroupControlOption,{value:"compact",label:(0,He._x)("Compact","Density option for DataView layout")},"compact")]})}},{type:mt,label:(0,He.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:r,isLoading:i,onChangeSelection:o,onClickItem:l,isItemClickable:s,selection:a,view:c}){var u;const d=n.find((e=>e.id===c?.titleField)),p=n.find((e=>e.id===c?.mediaField)),m=n.find((e=>e.id===c?.descriptionField)),f=null!==(u=c.fields)&&void 0!==u?u:[],{regularFields:h,badgeFields:v}=f.reduce(((e,t)=>{const r=n.find((e=>e.id===t));return r?(e[c.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(r),e):e}),{regularFields:[],badgeFields:[]}),g=!!t?.length,w=function(){const e=(0,Re.useContext)(ft).view,t=tl();return(0,Re.useMemo)((()=>{const n=e.layout?.previewSize;let r;if(!n)return;const i=Qo[t];return n<i.min&&(r=i.min),n>i.max&&(r=i.max),r}),[t,e])}(),x=Ro(e,t),b=w||c.layout?.previewSize,y=b?{gridTemplateColumns:`repeat(${b}, minmax(0, 1fr))`}:{};return(0,$e.jsxs)($e.Fragment,{children:[g&&(0,$e.jsx)(De.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:"dataviews-view-grid",style:y,"aria-busy":i,children:t.map((t=>(0,$e.jsx)(rl,{view:c,selection:a,onChangeSelection:o,onClickItem:l,isItemClickable:s,getItemId:r,item:t,actions:e,mediaField:p,titleField:d,descriptionField:m,regularFields:h,badgeFields:v,hasBulkActions:x},r(t))))}),!g&&(0,$e.jsx)("div",{className:gt({"dataviews-loading":i,"dataviews-no-results":!i}),children:(0,$e.jsx)("p",{children:i?(0,$e.jsx)(De.Spinner,{}):(0,He.__)("No results")})})]})},icon:wo,viewConfigOptions:function(){const e=tl(),t=(0,Re.useContext)(ft),n=t.view,r=Qo[e],i=n.layout?.previewSize||r.default,o=(0,Re.useMemo)((()=>Array.from({length:r.max-r.min+1},((e,t)=>({value:r.min+t})))),[r]);return"mobile"===e?null:(0,$e.jsx)(De.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,He.__)("Preview size"),value:r.max+r.min-i,marks:o,min:r.min,max:r.max,withInputField:!1,onChange:(e=0)=>{t.onChangeView({...n,layout:{...n.layout,previewSize:r.max+r.min-e}})},step:1})}},{type:"list",label:(0,He.__)("List"),component:function e(t){var n;const{actions:r,data:i,fields:o,getItemId:l,isLoading:s,onChangeSelection:a,selection:c,view:u}=t,d=(0,Ye.useInstanceId)(e,"view-list"),p=i?.findLast((e=>c.includes(l(e)))),m=o.find((e=>e.id===u.titleField)),f=o.find((e=>e.id===u.mediaField)),h=o.find((e=>e.id===u.descriptionField)),v=(null!==(n=u?.fields)&&void 0!==n?n:[]).map((e=>o.find((t=>e===t.id)))).filter(cl),g=e=>a([l(e)]),w=(0,Re.useCallback)((e=>`${d}-${l(e)}`),[d,l]),x=(0,Re.useCallback)(((e,t)=>t.startsWith(w(e))),[w]),[b,y]=(0,Re.useState)(void 0);(0,Re.useEffect)((()=>{p&&y(ol(w(p)))}),[p,w]);const j=i.findIndex((e=>x(e,null!=b?b:""))),_=(0,Ye.usePrevious)(j),C=-1!==j,k=(0,Re.useCallback)(((e,t)=>{const n=Math.min(i.length-1,Math.max(0,e));if(!i[n])return;const r=t(w(i[n]));y(r),document.getElementById(r)?.focus()}),[i,w]);(0,Re.useEffect)((()=>{!C&&void 0!==_&&-1!==_&&k(_,ol)}),[C,k,_]);const S=(0,Re.useCallback)((e=>{"ArrowDown"===e.key&&(e.preventDefault(),k(j+1,ll)),"ArrowUp"===e.key&&(e.preventDefault(),k(j-1,ll))}),[k,j]),E=i?.length;return E?(0,$e.jsx)(De.Composite,{id:d,render:(0,$e.jsx)("div",{}),className:"dataviews-view-list",role:"grid",activeId:b,setActiveId:y,children:i.map((e=>{const t=w(e);return(0,$e.jsx)(al,{view:u,idPrefix:t,actions:r,item:e,isSelected:e===p,onSelect:g,mediaField:f,titleField:m,descriptionField:h,otherFields:v,onDropdownTriggerKeyDown:S},t)}))}):(0,$e.jsx)("div",{className:gt({"dataviews-loading":s,"dataviews-no-results":!E&&!s}),children:!E&&(0,$e.jsx)("p",{children:s?(0,$e.jsx)(De.Spinner,{}):(0,He.__)("No results")})})},icon:(0,He.isRTL)()?xo:bo}];function dl(){const{actions:e=[],data:t,fields:n,getItemId:r,getItemLevel:i,isLoading:o,view:l,onChangeView:s,selection:a,onChangeSelection:c,setOpenedFilter:u,onClickItem:d,isItemClickable:p}=(0,Re.useContext)(ft),m=ul.find((e=>e.type===l.type))?.component;return(0,$e.jsx)(m,{actions:e,data:t,fields:n,getItemId:r,getItemLevel:i,isLoading:o,onChangeView:s,onChangeSelection:c,selection:a,setOpenedFilter:u,onClickItem:d,isItemClickable:p,view:l})}const pl=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),ml=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})}),fl=(0,Re.memo)((function(){var e;const{view:t,onChangeView:n,paginationInfo:{totalItems:r=0,totalPages:i}}=(0,Re.useContext)(ft);if(!r||!i)return null;const o=null!==(e=t.page)&&void 0!==e?e:1,l=Array.from(Array(i)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":o===n?(0,He.sprintf)(
// translators: Current page number in total number of pages
// translators: Current page number in total number of pages
(0,He.__)("Page %1$s of %2$s"),o,i):n.toString()}}));return!!r&&1!==i&&(0,$e.jsxs)(De.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,$e.jsx)(De.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,Re.createInterpolateElement)((0,He.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,He._x)("<div>Page</div>%1$s<div>of %2$s</div>","paging"),"<CurrentPage />",i),{div:(0,$e.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,$e.jsx)(De.SelectControl,{"aria-label":(0,He.__)("Current page"),value:o.toString(),options:l,onChange:e=>{n({...t,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,$e.jsxs)(De.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,$e.jsx)(De.Button,{onClick:()=>n({...t,page:o-1}),disabled:1===o,accessibleWhenDisabled:!0,label:(0,He.__)("Previous page"),icon:(0,He.isRTL)()?pl:ml,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,$e.jsx)(De.Button,{onClick:()=>n({...t,page:o+1}),disabled:o>=i,accessibleWhenDisabled:!0,label:(0,He.__)("Next page"),icon:(0,He.isRTL)()?ml:pl,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})})),hl=[];function vl(){const{view:e,paginationInfo:{totalItems:t=0,totalPages:n},data:r,actions:i=hl}=(0,Re.useContext)(ft),o=Ro(i,r)&&[pt,mt].includes(e.type);return!t||!n||n<=1&&!o?null:!!t&&(0,$e.jsxs)(De.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[o&&(0,$e.jsx)($o,{}),(0,$e.jsx)(fl,{})]})}const gl=(0,Re.memo)((function({label:e}){const{view:t,onChangeView:n}=(0,Re.useContext)(ft),[r,i,o]=(0,Ye.useDebouncedInput)(t.search);(0,Re.useEffect)((()=>{var e;i(null!==(e=t.search)&&void 0!==e?e:"")}),[t.search,i]);const l=(0,Re.useRef)(n),s=(0,Re.useRef)(t);(0,Re.useEffect)((()=>{l.current=n,s.current=t}),[n,t]),(0,Re.useEffect)((()=>{o!==s.current?.search&&l.current({...s.current,page:1,search:o})}),[o]);const a=e||(0,He.__)("Search");return(0,$e.jsx)(De.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:i,value:r,label:a,placeholder:a,size:"compact"})})),wl=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),xl=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),bl=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),yl=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),jl=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),{Menu:_l}=(window.wp.warning,lo(De.privateApis)),Cl={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function kl({defaultLayouts:e={list:{},grid:{},table:{}}}){const{view:t,onChangeView:n}=(0,Re.useContext)(ft),r=Object.keys(e);if(r.length<=1)return null;const i=ul.find((e=>t.type===e.type));return(0,$e.jsxs)(_l,{children:[(0,$e.jsx)(_l.TriggerButton,{render:(0,$e.jsx)(De.Button,{size:"compact",icon:i?.icon,label:(0,He.__)("Layout")})}),(0,$e.jsx)(_l.Popover,{children:r.map((r=>{const i=ul.find((e=>e.type===r));return i?(0,$e.jsx)(_l.RadioItem,{value:r,name:"view-actions-available-view",checked:r===t.type,hideOnClick:!0,onChange:r=>{switch(r.target.value){case"list":case"grid":case"table":const i={...t};return"layout"in i&&delete i.layout,n({...i,type:r.target.value,...e[r.target.value]})}},children:(0,$e.jsx)(_l.ItemLabel,{children:i.label})},r):null}))})]})}function Sl(){const{view:e,fields:t,onChangeView:n}=(0,Re.useContext)(ft),r=(0,Re.useMemo)((()=>t.filter((e=>!1!==e.enableSorting)).map((e=>({label:e.label,value:e.id})))),[t]);return(0,$e.jsx)(De.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,He.__)("Sort by"),value:e.sort?.field,options:r,onChange:t=>{n({...e,sort:{direction:e?.sort?.direction||"desc",field:t},showLevels:!1})}})}function El(){const{view:e,fields:t,onChangeView:n}=(0,Re.useContext)(ft);if(0===t.filter((e=>!1!==e.enableSorting)).length)return null;let r=e.sort?.direction;return!r&&e.sort?.field&&(r="desc"),(0,$e.jsx)(De.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,He.__)("Order"),value:r,onChange:r=>{"asc"!==r&&"desc"!==r||n({...e,sort:{direction:r,field:e.sort?.field||t.find((e=>!1!==e.enableSorting))?.id||""},showLevels:!1})},children:st.map((e=>(0,$e.jsx)(De.__experimentalToggleGroupControlOptionIcon,{value:e,icon:dt[e],label:ut[e]},e)))})}const Il=[10,20,50,100];function Nl(){const{view:e,onChangeView:t}=(0,Re.useContext)(ft);return(0,$e.jsx)(De.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,He.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:n=>{const r="number"==typeof n||void 0===n?n:parseInt(n,10);t({...e,perPage:r,page:1})},children:Il.map((e=>(0,$e.jsx)(De.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e)))})}function Vl({previewOptions:e,onChangePreviewOption:t,onMenuOpenChange:n,activeOption:r}){return(0,$e.jsxs)(_l,{onOpenChange:n,children:[(0,$e.jsx)(_l.TriggerButton,{render:(0,$e.jsx)(De.Button,{className:"dataviews-field-control__field-preview-options-button",size:"compact",icon:jo,label:(0,He.__)("Preview")})}),(0,$e.jsx)(_l.Popover,{children:e?.map((({id:e,label:n})=>(0,$e.jsx)(_l.RadioItem,{value:e,checked:e===r,onChange:()=>{t?.(e),(e=>{setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e} .dataviews-field-control__field-preview-options-button`);t instanceof HTMLElement&&t.focus()}),50)})(e)},children:(0,$e.jsx)(_l.ItemLabel,{children:n})},e)))})]})}function Pl({field:e,label:t,description:n,isVisible:r,isFirst:i,isLast:o,canMove:l=!0,onToggleVisibility:s,onMoveUp:a,onMoveDown:c,previewOptions:u,onChangePreviewOption:d}){const[p,m]=(0,Re.useState)(!1);return(0,$e.jsx)(De.__experimentalItem,{children:(0,$e.jsxs)(De.__experimentalHStack,{expanded:!0,className:gt("dataviews-field-control__field",`dataviews-field-control__field-${e.id}`,{"is-interacting":p}),justify:"flex-start",children:[(0,$e.jsx)("span",{className:"dataviews-field-control__icon",children:!l&&!e.enableHiding&&(0,$e.jsx)(De.Icon,{icon:wl})}),(0,$e.jsxs)("span",{className:"dataviews-field-control__label-sub-label-container",children:[(0,$e.jsx)("span",{className:"dataviews-field-control__label",children:t||e.label}),n&&(0,$e.jsx)("span",{className:"dataviews-field-control__sub-label",children:n})]}),(0,$e.jsxs)(De.__experimentalHStack,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[r&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(De.Button,{disabled:i||!l,accessibleWhenDisabled:!0,size:"compact",onClick:a,icon:xl,label:i||!l?(0,He.__)("This field can't be moved up"):(0,He.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,He.__)("Move %s up"),e.label)}),(0,$e.jsx)(De.Button,{disabled:o||!l,accessibleWhenDisabled:!0,size:"compact",onClick:c,icon:bl,label:o||!l?(0,He.__)("This field can't be moved down"):(0,He.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,He.__)("Move %s down"),e.label)})]}),s&&(0,$e.jsx)(De.Button,{className:"dataviews-field-control__field-visibility-button",disabled:!e.enableHiding,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{s(),setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e.id} .dataviews-field-control__field-visibility-button`);t instanceof HTMLElement&&t.focus()}),50)},icon:r?Wo:yl,label:r?(0,He.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,He._x)("Hide %s","field"),e.label):(0,He.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,He._x)("Show %s","field"),e.label)}),u&&(0,$e.jsx)(Vl,{previewOptions:u,onChangePreviewOption:d,onMenuOpenChange:m,activeOption:e.id})]})]})})}function Ml({index:e,field:t,view:n,onChangeView:r}){var i;const o=null!==(i=n.fields)&&void 0!==i?i:[],l=void 0!==e&&o.includes(t.id);return(0,$e.jsx)(Pl,{field:t,isVisible:l,isFirst:void 0!==e&&e<1,isLast:void 0!==e&&e===o.length-1,onToggleVisibility:()=>{r({...n,fields:l?o.filter((e=>e!==t.id)):[...o,t.id]})},onMoveUp:void 0!==e?()=>{var i;r({...n,fields:[...null!==(i=o.slice(0,e-1))&&void 0!==i?i:[],t.id,o[e-1],...o.slice(e+1)]})}:void 0,onMoveDown:void 0!==e?()=>{var i;r({...n,fields:[...null!==(i=o.slice(0,e))&&void 0!==i?i:[],o[e+1],t.id,...o.slice(e+2)]})}:void 0})}function Ol(e){return!!e}function Fl(){var e;const{view:t,fields:n,onChangeView:r}=(0,Re.useContext)(ft),i=[t?.titleField,t?.mediaField,t?.descriptionField].filter(Boolean),o=null!==(e=t.fields)&&void 0!==e?e:[],l=n.filter((e=>!o.includes(e.id)&&!i.includes(e.id)&&"media"!==e.type)),s=o.map((e=>n.find((t=>t.id===e)))).filter(Ol);if(!s?.length&&!l?.length)return null;const a=n.find((e=>e.id===t.titleField)),c=n.find((e=>e.id===t.mediaField)),u=n.find((e=>e.id===t.descriptionField)),d=n.filter((e=>"media"===e.type));let p;if(d.length>1){var m;const e=Ol(c)&&(null===(m=t.showMedia)||void 0===m||m);p=Ol(c)&&(0,$e.jsx)(Pl,{field:c,label:(0,He.__)("Preview"),description:c.label,isVisible:e,onToggleVisibility:()=>{r({...t,showMedia:!e})},canMove:!1,previewOptions:d.map((e=>({label:e.label,id:e.id}))),onChangePreviewOption:e=>r({...t,mediaField:e})},c.id)}const f=[{field:a,isVisibleFlag:"showTitle"},{field:c,isVisibleFlag:"showMedia",ui:p},{field:u,isVisibleFlag:"showDescription"}].filter((({field:e})=>Ol(e))),h=f.filter((({field:e,isVisibleFlag:n})=>{var r;return Ol(e)&&(null===(r=t[n])||void 0===r||r)})),v=f.filter((({field:e,isVisibleFlag:n})=>{var r;return Ol(e)&&!(null===(r=t[n])||void 0===r||r)}));return(0,$e.jsxs)(De.__experimentalVStack,{className:"dataviews-field-control",spacing:6,children:[(0,$e.jsx)(De.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(h.length>0||!!s?.length)&&(0,$e.jsxs)(De.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[h.map((({field:e,isVisibleFlag:n,ui:i})=>null!=i?i:(0,$e.jsx)(Pl,{field:e,isVisible:!0,onToggleVisibility:()=>{r({...t,[n]:!1})},canMove:!1},e.id))),s.map(((e,n)=>(0,$e.jsx)(Ml,{field:e,view:t,onChangeView:r,index:n},e.id)))]})}),(!!l?.length||!!v.length)&&(0,$e.jsxs)(De.__experimentalVStack,{spacing:4,children:[(0,$e.jsx)(De.BaseControl.VisualLabel,{style:{margin:0},children:(0,He.__)("Hidden")}),(0,$e.jsx)(De.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,$e.jsxs)(De.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[v.length>0&&v.map((({field:e,isVisibleFlag:n,ui:i})=>null!=i?i:(0,$e.jsx)(Pl,{field:e,isVisible:!1,onToggleVisibility:()=>{r({...t,[n]:!0})},canMove:!1},e.id))),l.map((e=>(0,$e.jsx)(Ml,{field:e,view:t,onChangeView:r},e.id)))]})})]})]})}function Rl({title:e,description:t,children:n}){return(0,$e.jsxs)(De.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,$e.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,$e.jsx)(De.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,$e.jsx)(De.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,$e.jsx)(De.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function Ll(){const{view:e}=(0,Re.useContext)(ft),t=(0,Ye.useInstanceId)(Al,"dataviews-view-config-dropdown"),n=ul.find((t=>t.type===e.type));return(0,$e.jsx)(De.Dropdown,{expandOnMobile:!0,popoverProps:{...Cl,id:t},renderToggle:({onToggle:e,isOpen:n})=>(0,$e.jsx)(De.Button,{size:"compact",icon:jl,label:(0,He._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":n?"true":"false","aria-controls":t}),renderContent:()=>(0,$e.jsx)(De.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,$e.jsxs)(De.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:[(0,$e.jsxs)(Rl,{title:(0,He.__)("Appearance"),children:[(0,$e.jsxs)(De.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,$e.jsx)(Sl,{}),(0,$e.jsx)(El,{})]}),!!n?.viewConfigOptions&&(0,$e.jsx)(n.viewConfigOptions,{}),(0,$e.jsx)(Nl,{})]}),(0,$e.jsx)(Rl,{title:(0,He.__)("Properties"),children:(0,$e.jsx)(Fl,{})})]})})})}function Al({defaultLayouts:e={list:{},grid:{},table:{}}}){return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(kl,{defaultLayouts:e}),(0,$e.jsx)(Ll,{})]})}const Tl=(0,Re.memo)(Al),Dl={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(Number(e)))return!1}return!0},Edit:"integer"},Hl={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"text"},Bl={sort:function(e,t,n){const r=new Date(e).getTime(),i=new Date(t).getTime();return"asc"===n?r-i:i-r},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"datetime"},$l={datetime:function({data:e,field:t,onChange:n,hideLabelFromVision:r}){const{id:i,label:o}=t,l=t.getValue({item:e}),s=(0,Re.useCallback)((e=>n({[i]:e})),[i,n]);return(0,$e.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!r&&(0,$e.jsx)(De.BaseControl.VisualLabel,{as:"legend",children:o}),r&&(0,$e.jsx)(De.VisuallyHidden,{as:"legend",children:o}),(0,$e.jsx)(De.TimePicker,{currentTime:l,onChange:s,hideLabelFromVision:!0})]})},integer:function({data:e,field:t,onChange:n,hideLabelFromVision:r}){var i;const{id:o,label:l,description:s}=t,a=null!==(i=t.getValue({item:e}))&&void 0!==i?i:"",c=(0,Re.useCallback)((e=>n({[o]:Number(e)})),[o,n]);return(0,$e.jsx)(De.__experimentalNumberControl,{label:l,help:s,value:a,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:r})},radio:function({data:e,field:t,onChange:n,hideLabelFromVision:r}){const{id:i,label:o}=t,l=t.getValue({item:e}),s=(0,Re.useCallback)((e=>n({[i]:e})),[i,n]);return t.elements?(0,$e.jsx)(De.RadioControl,{label:o,onChange:s,options:t.elements,selected:l,hideLabelFromVision:r}):null},select:function({data:e,field:t,onChange:n,hideLabelFromVision:r}){var i,o;const{id:l,label:s}=t,a=null!==(i=t.getValue({item:e}))&&void 0!==i?i:"",c=(0,Re.useCallback)((e=>n({[l]:e})),[l,n]),u=[{label:(0,He.__)("Select item"),value:""},...null!==(o=t?.elements)&&void 0!==o?o:[]];return(0,$e.jsx)(De.SelectControl,{label:s,value:a,options:u,onChange:c,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})},text:function({data:e,field:t,onChange:n,hideLabelFromVision:r}){const{id:i,label:o,placeholder:l}=t,s=t.getValue({item:e}),a=(0,Re.useCallback)((e=>n({[i]:e})),[i,n]);return(0,$e.jsx)(De.TextControl,{label:o,placeholder:l,value:null!=s?s:"",onChange:a,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})}};function zl(e){if(Object.keys($l).includes(e))return $l[e];throw"Control "+e+" not found"}const Ul=e=>e.id,Wl=()=>!0,Kl=[];function Gl({view:e,onChangeView:t,fields:n,search:r=!0,searchLabel:i,actions:o=Kl,data:l,getItemId:s=Ul,getItemLevel:a,isLoading:c=!1,paginationInfo:u,defaultLayouts:d,selection:p,onChangeSelection:m,onClickItem:f,isItemClickable:h=Wl,header:v}){const[g,w]=(0,Re.useState)(0),x=(0,Ye.useResizeObserver)((e=>{w(e[0].borderBoxSize[0].inlineSize)}),{box:"border-box"}),[b,y]=(0,Re.useState)([]),j=void 0===p||void 0===m,_=j?b:p,[C,k]=(0,Re.useState)(null),S=(0,Re.useMemo)((()=>function(e){return e.map((e=>{var t,n,r,i;const o="integer"===(l=e.type)?Dl:"text"===l?Hl:"datetime"===l?Bl:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:()=>null};var l;const s=e.getValue||(a=e.id,({item:e})=>{const t=a.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var a;const c=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return o.sort(s({item:e}),s({item:t}),n)},u=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return o.isValid(s({item:e}),t)},d=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?zl(e.Edit):e.elements?zl("select"):"string"==typeof t.Edit?zl(t.Edit):t.Edit}(e,o),p=e.render||(e.elements?({item:t})=>{const n=s({item:t});return e?.elements?.find((e=>e.value===n))?.label||s({item:t})}:s);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:s,render:p,sort:c,isValid:u,Edit:d,enableHiding:null===(r=e.enableHiding)||void 0===r||r,enableSorting:null===(i=e.enableSorting)||void 0===i||i}}))}(n)),[n]),E=(0,Re.useMemo)((()=>_.filter((e=>l.some((t=>s(t)===e))))),[_,l,s]),I=mo(S,e),[N,V]=(0,Re.useState)((()=>(I||[]).some((e=>e.isPrimary))));return(0,$e.jsx)(ft.Provider,{value:{view:e,onChangeView:t,fields:S,actions:o,data:l,isLoading:c,paginationInfo:u,selection:E,onChangeSelection:function(e){const t="function"==typeof e?e(_):e;j&&y(t),m&&m(t)},openedFilter:C,setOpenedFilter:k,getItemId:s,getItemLevel:a,isItemClickable:h,onClickItem:f,containerWidth:g},children:(0,$e.jsxs)("div",{className:"dataviews-wrapper",ref:x,children:[(0,$e.jsxs)(De.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,$e.jsxs)(De.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[r&&(0,$e.jsx)(gl,{label:i}),(0,$e.jsx)(fo,{filters:I,view:e,onChangeView:t,setOpenedFilter:k,setIsShowingFilter:V,isShowingFilter:N})]}),(0,$e.jsxs)(De.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,$e.jsx)(Tl,{defaultLayouts:d}),v]})]}),N&&(0,$e.jsx)(vo,{}),(0,$e.jsx)(dl,{}),(0,$e.jsx)(vl,{})]})})}const Zl=()=>(0,$e.jsx)("div",{className:"wpr-loading-content",children:(0,$e.jsxs)("div",{className:"wpr-loading-text",children:[(0,$e.jsx)(De.Spinner,{style:{height:"calc(4px * 20)",width:"calc(4px * 20)"}}),(0,$e.jsx)("p",{children:(0,He.__)("Loading…","wp-rollback")})]})}),ql=({title:e=(0,He.__)("No Data Found","wp-rollback"),description:t=(0,He.__)("Data will appear here when available.","wp-rollback")})=>(0,$e.jsxs)("div",{className:"wpr-empty-state",children:[(0,$e.jsx)("h2",{children:e}),(0,$e.jsx)("p",{children:t})]}),Yl=({data:e,isLoading:t,fields:n,defaultLayouts:r,paginationInfo:i={totalItems:0,totalPages:1},view:o,onChangeView:l,onNavigateToRollback:s,onDelete:a,emptyStateTitle:c,emptyStateDescription:u})=>{const{data:d}=(0,Re.useMemo)((()=>e?{data:e.map(((e,t)=>({...e,id:e.id||`item-${t}`})))}:{data:[]}),[e]),p=(0,Re.useMemo)((()=>n?n.map((e=>e.render&&"actions"===e.id?{...e,render:t=>e.render({...t,onNavigateToRollback:s,onDelete:a})}:e)):[]),[n,s,a]);return t?(0,$e.jsx)(Zl,{}):d.length?(0,$e.jsx)(Gl,{data:d,defaultLayouts:r,fields:p,view:o,onChangeView:l,isLoading:t,paginationInfo:i,search:!1}):(0,$e.jsx)(ql,{title:c,description:u})},Xl=window.wp.coreData,Jl=new Map,Ql=new Map,es=new Set,ts=e=>{if(!Ql.has(e))return!1;const t=Ql.get(e);return Date.now()-t<36e5},ns="plugin",rs=(e,t=ns,n=null,r=!1)=>{const[i,o]=(0,Re.useState)(null),l=(0,Re.useMemo)((()=>e=>new Promise((t=>{const n=new Image;n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}))),[]);return(0,Re.useEffect)((()=>{(async()=>{if(!e)return;const i=r?e:`${t}-${e}`;if(Jl.has(i)&&ts(i))o(Jl.get(i));else if(es.has(i)&&ts(i))o(null);else{if(r)return await l(e)?(Jl.set(i,e),Ql.set(i,Date.now()),void o(e)):(es.add(i),Ql.set(i,Date.now()),void o(null));if("theme"===t&&n){const e=`${n}/screenshot.png`;if(await l(e))return Jl.set(i,e),Ql.set(i,Date.now()),void o(e)}if(t===ns){const t=["icon-256x256","icon-128x128","icon"],n=["png","jpg","gif","svg"];for(const r of t)for(const t of n){const n=`https://ps.w.org/${e}/assets/${r}.${t}`;if(await l(n))return Jl.set(i,n),Ql.set(i,Date.now()),void o(n)}}es.add(i),Ql.set(i,Date.now()),o(null)}})()}),[e,t,n,l,r]),i},is=({type:e="plugin",imageUrl:t=null,width:n=48,height:r=48,className:i=""})=>{const o="plugin"===e?ze:Ue;return(0,$e.jsx)("div",{className:`wpr-${e}-image ${i}`,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"number"==typeof n?`${n}px`:n,height:"number"==typeof r?`${r}px`:r,borderRadius:"5px",border:"1px solid #DDD",backgroundColor:"#f0f0f0",fill:"#949494",overflow:"hidden"},children:t?(0,$e.jsx)("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,$e.jsx)(De.Icon,{icon:o,size:.75*Math.min(n,r)})})},os=({item:e})=>{const t=rs(e.slug,"plugin");return(0,$e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[(0,$e.jsx)(is,{slug:e.slug,type:"plugin",imageUrl:t,width:48,height:48}),(0,$e.jsx)("p",{children:e.name})]})},ls={success:"green",active:"green",inactive:"gray",failure:"red",error:"red",aborted:"yellow"},ss=({status:e="default",children:t})=>{const n=ls[e]||"gray";return(0,$e.jsx)("span",{className:`wpr-badge wpr-badge--${n}`,children:t})},as={active:(0,He.__)("Active","wp-rollback"),inactive:(0,He.__)("Inactive","wp-rollback")},cs=({item:e})=>{const t=as[e.status]||as.default;return(0,$e.jsx)(ss,{status:e.status,children:t})},us=({item:e,type:t="plugin",onNavigateToRollback:n})=>(0,$e.jsx)(De.Button,{size:"compact",variant:"secondary",icon:(0,$e.jsx)(De.Icon,{icon:"backup"}),iconSize:16,onClick:()=>{if("function"==typeof n){const r="plugin"===t?e.plugin.split("/")[0]:e.stylesheet.split("/")[0];n(t,r)}},children:(0,He.__)("Rollback","wp-rollback")}),ds=({item:e})=>(0,$e.jsx)("div",{className:"wpr-version-badge",children:e.version}),ps={defaultLayouts:{table:{layout:{primaryField:"id"}},grid:{layout:{primaryField:"id",mediaField:"img_src"}}},fields:[{id:"name",label:(0,He.__)("Plugin Name","wp-rollback"),render:({item:e})=>(0,$e.jsx)(os,{item:e}),enableSorting:!0,enableHiding:!1},{id:"version",label:(0,He.__)("Version","wp-rollback"),render:({item:e})=>(0,$e.jsx)(ds,{item:e}),enableSorting:!0},{id:"status",label:(0,He.__)("Status","wp-rollback"),render:({item:e})=>(0,$e.jsx)(cs,{item:e}),enableSorting:!0},{id:"actions",label:(0,He.__)("Actions","wp-rollback"),render:({item:e,onNavigateToRollback:t})=>(0,$e.jsx)(us,{item:e,onNavigateToRollback:t}),enableSorting:!1}]},ms=({onNavigateToRollback:e})=>{const{data:t,isLoading:n}=(0,_o.useSelect)((e=>({data:(e(Xl.store).getEntityRecords("root","plugin",{per_page:-1,context:"edit"})||[]).map((e=>{const t=e.plugin.split("/")[0];return{...e,slug:t}})),isLoading:e(Xl.store).isResolving("getEntityRecords",["root","plugin",{per_page:-1,context:"edit"}])})),[]),[r,i]=(0,Re.useState)({type:"table",perPage:10,layout:ps.defaultLayouts.table?.layout,fields:ps.fields.map((e=>e.id))});return(0,$e.jsx)(Yl,{data:t,isLoading:n,fields:ps.fields,defaultLayouts:ps.defaultLayouts,view:r,onChangeView:i,onNavigateToRollback:e,emptyStateTitle:(0,He.__)("No Plugins Found","wp-rollback"),emptyStateDescription:(0,He.__)("No plugins available for rollback.","wp-rollback")})},fs=()=>{const e=G();return(0,$e.jsxs)(Ze,{children:[(0,$e.jsxs)("div",{className:"wpr-subheader",children:[(0,$e.jsx)("h1",{children:(0,He.__)("Plugins","wp-rollback")}),(0,$e.jsx)("p",{children:(0,He.__)("Select a plugin below to rollback to a previous version.","wp-rollback")})]}),(0,$e.jsx)("div",{className:"wpr-plugin-list",children:(0,$e.jsx)(ms,{onNavigateToRollback:(t,n)=>{e(`/rollback/${t}/${n}`)}})})]})},hs=window.wp.htmlEntities,vs=window.wp.apiFetch;var gs=i.n(vs);const ws=window.wp.url,xs=(0,Re.createContext)(),bs=({children:e,type:t,slug:n,onCancel:r})=>{const[i,o]=(0,Re.useState)(!0),[l,s]=(0,Re.useState)(!1),[a,c]=(0,Re.useState)(null),[u,d]=(0,Re.useState)(null),[p,m]=(0,Re.useState)(!1),[f,h]=(0,Re.useState)([]),[v,g]=(0,Re.useState)(!1),[w,x]=(0,Re.useState)("failed"),[b,y]=(0,Re.useState)(null),[j,_]=(0,Re.useState)(null),[C,k]=(0,Re.useState)({});(0,Re.useEffect)((()=>{(async()=>{try{const e=await gs()({path:"/wp-rollback/v1/rollback-steps/"});e&&Array.isArray(e.steps)&&h(e.steps)}catch(e){console.error("Failed to fetch rollback steps:",e)}})()}),[]),(0,Re.useEffect)((()=>{t&&n&&(async()=>{try{const e=await gs()({path:(0,ws.addQueryArgs)("/wp-rollback/v1/fetch-info/",{type:t,slug:n})});if(!e)throw new Error((0,He.__)("Failed to fetch rollback data.","wp-rollback"));const{data:r}=e;s(r),c(r?.currentVersion);const i=(0,Te.applyFilters)("wp_rollback_is_premium_asset",r.isPro||!1,t,n);m(i)}catch(e){d(e?.message||(0,He.__)("Error fetching rollback data","wp-rollback"))}finally{o(!1)}})()}),[t,n]),(0,Re.useEffect)((()=>{!i&&a&&!j&&l?.versions&&_(a)}),[i,a,j,l?.versions]);const S={type:t,slug:n,isModalOpen:v,setIsModalOpen:g,modalTemplate:w,setModalTemplate:x,errorMessage:b,setErrorMessage:y,isLoading:i,rollbackInfo:l,currentVersion:a,setCurrentVersion:c,error:u,isPremiumAsset:p,rollbackSteps:f,rollbackVersion:j,setRollbackVersion:_,rollbackMeta:C,setRollbackMeta:k,updateRollbackMeta:(e,t)=>{k((n=>({...n,[e]:t})))},handleCancel:()=>{"function"==typeof r?r():window.location.href="/"}};return(0,$e.jsx)(xs.Provider,{value:S,children:e})},ys=()=>{const e=(0,Re.useContext)(xs);if(void 0===e)throw new Error("useRollbackContext must be used within a RollbackProvider");return e},js=({buttons:e})=>{const{setModalTemplate:t,setIsModalOpen:n,type:r}=ys(),i="plugin"===r?(0,He.__)("Plugin","wp-rollback"):(0,He.__)("Theme","wp-rollback"),o=(0,Re.createInterpolateElement)(e.confirm.title,{type:(0,$e.jsx)($e.Fragment,{children:i})});return(0,$e.jsxs)("div",{className:"wpr-modal-button-wrap",children:[e.confirm&&(0,$e.jsx)(De.Button,{onClick:()=>{const n=e.confirm.onClick(r);n&&t(n)},variant:"primary",disabled:e.confirm.isProcessing,children:e.confirm.isProcessing?(0,$e.jsx)(De.Spinner,{}):o}),e.cancel&&(0,$e.jsx)(De.Button,{onClick:()=>{if(e.cancel.onClick){const n=e.cancel.onClick(r);if(n&&"string"==typeof n)return void t(n)}n(!1)},variant:"secondary",children:e.cancel.title})]})},_s=({buttons:e})=>{const{rollbackInfo:t,rollbackVersion:n,currentVersion:r,type:i}=ys(),o=(0,hs.decodeEntities)(t?.name||(0,He.__)("Unknown Plugin","wp-rollback")),l=(0,Re.createInterpolateElement)((0,He.__)("You are about to rollback <rollbackName/> from version <currentVersion/> to <rollbackVersion/>. Please confirm you would like to proceed.","wp-rollback"),{rollbackName:(0,$e.jsx)("strong",{children:o}),currentVersion:(0,$e.jsx)("strong",{children:r}),rollbackVersion:(0,$e.jsx)("strong",{children:n})});return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)("p",{className:"wpr-modal-intro",children:l}),(0,$e.jsx)("div",{className:"rollback-details",children:(0,$e.jsx)("table",{className:"widefat",children:(0,$e.jsxs)("tbody",{children:[(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("td",{className:"row-title",children:(0,$e.jsx)("label",{htmlFor:"tablecell",children:"plugin"===i?(0,He.__)("Plugin Name:","wp-rollback"):(0,He.__)("Theme Name:","wp-rollback")})}),(0,$e.jsx)("td",{children:(0,$e.jsx)("span",{className:"wpr-plugin-name",children:o})})]}),(0,$e.jsxs)("tr",{className:"alternate",children:[(0,$e.jsx)("td",{className:"row-title",children:(0,$e.jsx)("label",{htmlFor:"tablecell",children:(0,He.__)("Installed Version:","wp-rollback")})}),(0,$e.jsx)("td",{children:(0,$e.jsx)("span",{className:"wpr-installed-version",children:r})})]}),(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("td",{className:"row-title",children:(0,$e.jsx)("label",{htmlFor:"tablecell",children:(0,He.__)("New Version:","wp-rollback")})}),(0,$e.jsx)("td",{children:(0,$e.jsx)("span",{className:"wpr-new-version",children:n})})]})]})})}),(0,$e.jsxs)(De.Notice,{status:"warning",isDismissible:!1,children:[(0,$e.jsx)("strong",{children:(0,He.__)("Notice:","wp-rollback")})," ",(0,He.__)("We strongly recommend you create a complete backup of your WordPress files and database prior to performing a rollback. We are not responsible for any misuse, deletions, white screens, fatal errors, or any other issue resulting from the use of this plugin.","wp-rollback")]}),(0,$e.jsx)(js,{buttons:e})]})},Cs=()=>{const{setModalTemplate:e,rollbackInfo:t,rollbackVersion:n,type:r,slug:i,setErrorMessage:o,rollbackMeta:l}=ys(),[s,a]=(0,Re.useState)(0),[c,u]=(0,Re.useState)([]),[d,p]=(0,Re.useState)(!1),[m,f]=(0,Re.useState)(!1),[h,v]=(0,Re.useState)(0),[g,w]=(0,Re.useState)({}),x=e=>new Promise((t=>setTimeout(t,e))),b=(e,t,n="")=>{w((r=>({...r,[e]:{status:t,message:n}})))},y=e=>{switch(e){case"running":return(0,$e.jsx)("div",{className:"wpr-step-icon wpr-step-icon--running",children:(0,$e.jsx)("div",{className:"wpr-spinner"})});case"completed":return(0,$e.jsx)("div",{className:"wpr-step-icon wpr-step-icon--completed",children:(0,$e.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,$e.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})});case"error":return(0,$e.jsx)("div",{className:"wpr-step-icon wpr-step-icon--error",children:(0,$e.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,$e.jsx)("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})});default:return(0,$e.jsx)("div",{className:"wpr-step-icon wpr-step-icon--pending",children:(0,$e.jsx)("div",{className:"wpr-step-dot"})})}};(0,Re.useEffect)((()=>{(async()=>{if(!n)return f(!0),o((0,He.__)("Rollback version not specified.","wp-rollback")),void e("failed");try{await x(800);const e=await gs()({path:"/wp-rollback/v1/rollback-steps/",method:"GET"});if(!e.success||!e.steps)throw new Error((0,He.__)("Failed to fetch rollback steps.","wp-rollback"));const o=e.steps;u(o);const s={};o.forEach(((e,t)=>{s[t]={status:"pending",message:""}})),w(s);const c={version:n,type:r,slug:i,nonce:t?.nonce||""},d=(0,Te.applyFilters)("wpRollback.rollbackRequestBody",c,{rollbackInfo:t,rollbackVersion:n,type:r,slug:i,meta:l});for(let e=0;e<o.length;e++){const t=o[e];a(e);const n=e/o.length*100;v(n),b(e,"running",t.rollbackProcessingMessage),await x(600);try{const n=await gs()({path:"/wp-rollback/v1/process-rollback",method:"POST",data:{...d,step:t.id,meta:l}});if(!n.success)throw new Error(n.message||(0,He.__)("An unknown error occurred.","wp-rollback"));await x(400);const r=n.message||(0,He.__)("Step completed successfully","wp-rollback");b(e,"completed",r),await x(300)}catch(t){throw b(e,"error",t.message),t}}v(100),a(o.length),p(!0),await x(800)}catch(t){f(!0),o(t.message||(0,He.__)("An unknown error occurred.","wp-rollback")),setTimeout((()=>{e("failed")}),1e3)}})()}),[n,e]);const j=(0,Re.createInterpolateElement)((0,He.__)("Rolling <assetName/> back to version <assetVersion/>…","wp-rollback"),{assetName:(0,$e.jsx)("strong",{children:(0,hs.decodeEntities)(t.name)}),assetVersion:(0,$e.jsx)("strong",{children:n})}),_=()=>m?"error":d?"completed":"running";return(0,$e.jsxs)("div",{className:`wpr-progress-template wpr-progress-template--${_()}`,children:[(0,$e.jsxs)("div",{className:"wpr-progress-header",children:[(0,$e.jsx)("p",{className:"wpr-modal-intro",children:j}),(0,$e.jsx)("p",{className:"wpr-progress-subtitle","aria-live":"polite",children:m?(0,He.__)("An error occurred during the rollback process.","wp-rollback"):d?(0,He.__)("Rollback completed successfully! Click Continue to proceed.","wp-rollback"):(0,He.__)("Please wait while we safely rollback your asset.","wp-rollback")})]}),(0,$e.jsxs)("div",{className:"wpr-progress-bar-container",children:[(0,$e.jsx)("div",{className:"wpr-progress-bar "+(d?"wpr-progress-bar--complete":""),children:(0,$e.jsx)("div",{className:"wpr-progress-bar-fill "+(d?"wpr-progress-bar-fill--complete":""),style:{width:`${h}%`}})}),(0,$e.jsxs)("span",{className:"wpr-progress-percentage",children:[Math.round(h),"%"]})]}),(0,$e.jsx)("div",{className:"wpr-steps-container",children:c.map(((e,t)=>{const n=g[t]||{status:"pending",message:""},r=t===s;return(0,$e.jsxs)("div",{className:`wpr-step wpr-step--${n.status} ${r?"wpr-step--active":""}`,children:[y(n.status),(0,$e.jsxs)("div",{className:"wpr-step-content",children:[(0,$e.jsx)("div",{className:"wpr-step-title",children:e.rollbackProcessingMessage||e.id}),n.message&&"completed"===n.status&&(0,$e.jsx)("div",{className:"wpr-step-message",children:n.message})]})]},e.id)}))}),(0,$e.jsx)("div",{className:"wpr-modal-button-wrap",children:(0,$e.jsx)(De.Button,{className:`wpr-progress-button wpr-progress-button--${_()}`,variant:"primary",disabled:!d&&!m,onClick:()=>{d&&e("complete")},children:m?(0,He.__)("Rollback Failed","wp-rollback"):d?(0,He.__)("Continue","wp-rollback"):(0,He.__)("Rollback in Progress…","wp-rollback")})})]})},ks=({buttons:e})=>{const{rollbackInfo:t,type:n,errorMessage:r,rollbackNonce:i}=ys(),o=(0,Re.createInterpolateElement)((0,He.__)("An error occurred while attempting to rollback <rollbackName/>:","wp-rollback"),{rollbackName:(0,$e.jsx)("strong",{children:(0,hs.decodeEntities)(t.name)})});return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)("p",{className:"wpr-modal-intro",children:o}),(0,$e.jsxs)("div",{className:"wpr-modal-content",children:[(0,$e.jsxs)(De.Notice,{status:"error",isDismissible:!1,children:[(0,$e.jsx)("strong",{children:(0,He.__)("Error:","wp-rollback")})," ",r||(0,He.__)("An unknown error occurred","wp-rollback")]}),(0,$e.jsxs)("p",{children:[(0,He.__)("Need help?","wp-rollback")," ",(0,$e.jsx)(De.ExternalLink,{href:"https://docs.wprollback.com/troubleshooting",children:(0,He.__)("Read our troubleshooting guide","wp-rollback")})]})]}),(0,$e.jsxs)("form",{className:"rollback-form",children:[(0,$e.jsx)("input",{type:"hidden",name:"page",value:"wp-rollback"}),i&&(0,$e.jsx)("input",{type:"hidden",name:"_wpnonce",value:i}),(0,$e.jsx)(js,{buttons:e})]})]})},Ss=()=>{const{rollbackInfo:e,slug:t}=ys();console.log("Changelog template:",{rollbackInfo:e,slug:t});const n=(0,He.sprintf)(/* translators: 1: Asset slug */ /* translators: 1: Asset slug */
(0,He.__)('Sorry, we could not find a changelog entry for this version. Try checking the <a href="https://wordpress.org/plugins/%s/#developers" target="_blank">Development tab</a> on WP.org.',"wp-rollback"),t);return(0,$e.jsx)($e.Fragment,{children:(0,$e.jsx)("div",{className:"wpr-modal-intro",dangerouslySetInnerHTML:{__html:e.changelog||n}})})},Es=({queryArgs:e={}})=>{const{isModalOpen:t,setIsModalOpen:n,modalTemplate:r="failed",rollbackInfo:i,type:o}=ys();if(!t||!i?.name)return null;const l=(()=>{let e={confirm:{title:(0,He.__)("Confirm Rollback","wp-rollback"),icon:(0,$e.jsx)(De.Dashicon,{icon:"image-rotate"}),component:_s,buttons:{confirm:{title:(0,He.__)("Rollback Now","wp-rollback"),onClick:()=>"progress",isProcessing:!1},cancel:{title:(0,He.__)("Cancel","wp-rollback")}}},progress:{title:(0,He.__)("Rolling Back…","wp-rollback"),icon:(0,$e.jsx)(De.Dashicon,{icon:"update"}),component:Cs},failed:{title:(0,He.__)("Rollback Failed","wp-rollback"),icon:(0,$e.jsx)(De.Dashicon,{icon:"warning"}),component:ks,buttons:{confirm:{title:(0,He.__)("Try Again","wp-rollback"),onClick:()=>"confirm",isProcessing:!1},cancel:{title:(0,He.__)("Cancel","wp-rollback"),onClick:()=>null}}},changelog:{title:(0,He.__)("View Changelog","wp-rollback"),icon:(0,$e.jsx)(De.Dashicon,{icon:"media-text"}),component:Ss,buttons:{cancel:{title:(0,He.__)("Close","wp-rollback")}}}};return e=(0,Te.applyFilters)("wpRollback.templates",e),e})(),{component:s,title:a,icon:c,buttons:u}=l[r]||l.failed,d="plugin"===o?"Plugin":"Theme",p=(0,Re.createInterpolateElement)(a,{type:(0,$e.jsx)($e.Fragment,{children:d})});return(0,$e.jsx)(De.Modal,{title:p,className:"wpr-modal",shouldCloseOnClickOutside:!1,onRequestClose:()=>n(!1),icon:c,isDismissible:"progress"!==r,children:(0,$e.jsx)(s,{buttons:u,queryArgs:e})})},Is=({title:e,description:t})=>(0,$e.jsxs)("div",{className:"wpr-subheader",children:[(0,$e.jsx)("h1",{children:e}),(0,$e.jsx)("p",{children:t})]}),Ns=()=>{const{type:e}=ys();return(0,$e.jsxs)($e.Fragment,{children:["plugin"===e&&(0,$e.jsx)(Is,{title:(0,He.__)("Plugin Rollback","wp-rollback"),description:(0,He.__)("Select which plugin version you would like to rollback to from the releases listed below.","wp-rollback")}),"theme"===e&&(0,$e.jsx)(Is,{title:(0,He.__)("Theme Rollback","wp-rollback"),description:(0,He.__)("Select which theme version you would like to rollback to from the releases listed below.","wp-rollback")})]})},Vs=()=>{const{setIsModalOpen:e,setModalTemplate:t,rollbackVersion:n,currentVersion:r,handleCancel:i}=ys(),o=n===r;return(0,$e.jsxs)("div",{className:"wpr-button-wrap",children:[(0,$e.jsx)(De.Button,{variant:"primary",onClick:()=>{t("confirm"),e(!0)},className:"wpr-button-submit",disabled:o,children:(0,He.__)("Rollback","wp-rollback")}),(0,$e.jsx)(De.Button,{variant:"secondary",onClick:i,className:"wpr-button-cancel",children:(0,He.__)("Cancel","wp-rollback")})]})},Ps=function(){const[e,t]=(0,Re.useState)(!1),n=()=>{t(!1)};return(0,$e.jsxs)("div",{className:"wpr-popover-wrap",children:[(0,$e.jsx)(De.Dashicon,{icon:"info",onMouseEnter:()=>{t(!0)},onMouseLeave:n}),e&&(0,$e.jsx)(De.Popover,{position:"top",className:"wpr-popover",variant:"unstyled",onClose:n,noArrow:!1,children:(0,He.__)("Trunk is where the most current revisions of the code should be stored, often representing the development version of the software. This is particularly relevant for developers and testers who are working with the very latest code changes that have not yet been released to the public.","wp-rollback")})]})},Ms=({versions:e,rollbackVersion:t,setRollbackVersion:n,currentVersion:r,disabled:i=!1})=>{const[o,l]=(0,Re.useState)("");if(!e||"object"!=typeof e)return(0,$e.jsx)("div",{className:"wpr-versions-container",children:(0,$e.jsx)("div",{className:"wpr-no-versions",children:(0,He.__)("No versions available","wp-rollback")})});const s=Object.keys(e).filter((e=>e.toLowerCase().includes(o.toLowerCase()))).sort(((e,t)=>"trunk"===e?1:"trunk"===t?-1:t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"}))),a=s.includes(r)?s:[r,...s];return(0,$e.jsx)("div",{className:"wpr-versions-container",children:0===a.length?(0,$e.jsx)("div",{className:"wpr-no-versions",children:(0,He.__)("No versions found","wp-rollback")}):a.map((o=>{const l=e[o]||{},s=l.released?new Date(1e3*l.released).toLocaleDateString():null;return(0,$e.jsxs)("div",{className:`wpr-version-wrap ${t===o?"wpr-active-row":""} ${i?"wpr-version-option":""}`,children:[(0,$e.jsx)("div",{className:"wpr-version-radio-wrap",children:(0,$e.jsxs)("label",{htmlFor:`version-${o}`,children:[(0,$e.jsx)("input",{id:`version-${o}`,type:"radio",name:"version",value:o,checked:t===o,onChange:()=>!i&&(e=>{n(e)})(o),disabled:i}),(0,$e.jsx)("span",{className:"wpr-version-lineitem",children:o}),r===o&&(0,$e.jsx)("span",{className:"wpr-version-lineitem-current",children:(0,He.__)("Currently Installed","wp-rollback")}),"trunk"===o&&(0,$e.jsx)(Ps,{})]})}),s&&(0,$e.jsx)("span",{className:"wpr-version-date",children:s})]},o)}))})},Os=({rollbackInfo:e,type:t})=>e.banners&&"plugin"===t&&(e.banners.high||e.banners.low)?(0,$e.jsx)("div",{className:"wpr-content-banner",children:(0,$e.jsx)("img",{src:e.banners.high||e.banners.low,width:800,height:"auto",className:"wpr-plugin-banner",alt:e.name})}):null,Fs=({text:e})=>{const[t,n]=(0,Re.useState)(!1),r=()=>{n(!t)},i=e.length>=200;return(0,$e.jsx)("div",{className:"wpr-theme-description",children:(0,$e.jsxs)("p",{children:[t||!i?e:`${e.substring(0,200)}...`,i&&(0,$e.jsx)("span",{className:"wpr-expand-text",onClick:r,onKeyDown:e=>"Enter"===e.key&&r(),role:"button",tabIndex:0,"aria-expanded":t,children:t?(0,$e.jsxs)("span",{children:[(0,$e.jsx)(De.Dashicon,{icon:"arrow-up"}),(0,He.__)("Read less","wp-rollback")]}):(0,$e.jsxs)("span",{children:[(0,$e.jsx)(De.Dashicon,{icon:"arrow-down"}),(0,He.__)("Read more","wp-rollback")]})})]})})},Rs=({version:e})=>(0,$e.jsx)("div",{className:"wpr-pill wpr-pill__black",children:(0,$e.jsxs)("span",{className:"wpr-pill-text",children:[(0,He.__)("Installed version:","wp-rollback")," ",(0,$e.jsx)("strong",{children:e})]})}),Ls=({type:e="plugin",author:t})=>(0,$e.jsx)("div",{className:"wpr-pill wpr-pill__author",children:(0,$e.jsxs)("span",{className:"wpr-pill-text",children:["plugin"===e?(0,He.__)("Plugin author:","wp-rollback"):(0,He.__)("Theme author:","wp-rollback")," ",(0,$e.jsx)("span",{className:"wpr-pill__link",dangerouslySetInnerHTML:{__html:t}})]})}),As=({rollbackInfo:e,type:t,currentVersion:n})=>(0,$e.jsxs)("div",{className:"wpr-plugin-info",children:[(0,$e.jsxs)("h2",{className:"wpr-plugin-name",children:["plugin"===t&&(0,$e.jsxs)("a",{href:`https://wordpress.org/plugins/${e.slug}/`,target:"_blank",className:"wpr-heading-link",title:(0,He.sprintf)((0,He.__)("View %s on WordPress.org","wp-rollback"),e.name),rel:"noreferrer",children:[(0,hs.decodeEntities)(e.name),(0,$e.jsx)(De.Dashicon,{icon:"external"})]}),"theme"===t&&(0,$e.jsxs)("a",{href:e.homepage,target:"_blank",className:"wpr-heading-link",title:(0,He.sprintf)((0,He.__)("View %s on WordPress.org","wp-rollback"),e.name),rel:"noreferrer",children:[(0,hs.decodeEntities)(e.name),(0,$e.jsx)(De.Dashicon,{icon:"external"})]})]}),"theme"===t&&e.description&&(0,$e.jsx)("div",{className:"wpr-theme-description",children:(0,$e.jsx)(Fs,{text:e.description})}),(0,$e.jsxs)("div",{className:"wpr-pill-wrap",children:[(0,$e.jsx)(Rs,{version:n}),"plugin"===t&&(0,$e.jsx)(Ls,{author:e.author})]})]}),Ts=window.wp.date,Ds=({rollbackInfo:e,type:t,setIsModalOpen:n,setModalTemplate:r})=>(0,$e.jsxs)("div",{className:"wpr-meta-wrap",children:["theme"===t&&(0,$e.jsxs)("div",{className:"wpr-meta-item wpr-meta-item__author-wrap",children:[(0,$e.jsx)("h3",{children:(0,He.__)("Theme Author","wp-rollback")}),(0,$e.jsx)("div",{className:"wpr-theme-author-inner",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("img",{src:e.authorAvatar,width:64,height:64,alt:e.author.display_name}),(0,$e.jsx)("div",{className:"wpr-theme-author-info",children:(0,$e.jsx)("a",{href:e.authorAvatar,target:"_blank",rel:"noopener noreferrer",children:e.author})})]})})]}),"plugin"===t&&(0,$e.jsxs)("div",{className:"wpr-meta-wrap__plugins",children:[(0,$e.jsx)("div",{className:"wpr-view-changelog",children:(0,$e.jsx)(De.Button,{variant:"secondary",onClick:()=>{n(!0),r("changelog")},className:"wpr-version-changelog",children:(0,He.__)("View Changelog","wp-rollback")})}),(0,$e.jsx)("h3",{children:(0,He.__)("Last Updated","wp-rollback")}),(0,$e.jsxs)("div",{className:"wpr-updater-info",children:[(0,$e.jsx)(De.Dashicon,{icon:"clock"}),(0,$e.jsx)("span",{className:"wpr-plugin-lastupdate",children:e.lastUpdated?(0,Ts.humanTimeDiff)(e.lastUpdated):""})]})]})]}),Hs=({rollbackInfo:e,type:t})=>{const n=rs(e.slug,t);return"theme"===t&&e.screenshotUrl?(0,$e.jsx)("div",{className:"wpr-content-banner wpr-content-banner__theme",children:(0,$e.jsx)("img",{src:e.screenshotUrl,width:"240",height:"180",className:"wpr-theme-screenshot",alt:e.name})}):"plugin"===t&&n?(0,$e.jsx)("div",{className:"wpr-plugin-avatar-wrap",children:(0,$e.jsx)("img",{src:n,width:96,height:96,className:"wpr-plugin-avatar",alt:e.name})}):null},Bs=()=>{const{type:e,rollbackInfo:t,currentVersion:n,rollbackVersion:r,setRollbackVersion:i,setIsModalOpen:o,setModalTemplate:l}=ys();return(0,$e.jsxs)("div",{className:"wpr-content",children:[(0,$e.jsx)(Os,{rollbackInfo:t,type:e}),(0,$e.jsxs)("div",{className:"wpr-content-header",children:[(0,$e.jsx)(Hs,{rollbackInfo:t,type:e}),(0,$e.jsx)(As,{rollbackInfo:t,type:e,currentVersion:n}),(0,$e.jsx)(Ds,{rollbackInfo:t,type:e,currentVersion:n,setIsModalOpen:o,setModalTemplate:l})]}),(0,$e.jsx)(Ms,{versions:t?.versions,rollbackVersion:r,setRollbackVersion:i,currentVersion:n})]})},$s=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"})}),zs=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M12 3.176l6.75 3.068v4.574c0 3.9-2.504 7.59-6.035 8.755a2.283 2.283 0 01-1.43 0c-3.53-1.164-6.035-4.856-6.035-8.755V6.244L12 3.176zM6.75 7.21v3.608c0 3.313 2.145 6.388 5.005 7.33.159.053.331.053.49 0 2.86-.942 5.005-4.017 5.005-7.33V7.21L12 4.824 6.75 7.21z",fillRule:"evenodd",clipRule:"evenodd"})}),Us=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})}),Ws=(0,$e.jsx)(Be.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,$e.jsx)(Be.Path,{d:"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"})}),Ks=()=>{const{handleCancel:e}=ys(),t=[{icon:$s,title:(0,He.__)("Premium Plugin & Theme Rollbacks","wp-rollback"),description:(0,He.__)("Roll back any premium plugin or theme from any marketplace - not just WordPress.org.","wp-rollback")},{icon:zs,title:(0,He.__)("Version Preservation","wp-rollback"),description:(0,He.__)("For premium assets, creates a zip archive of the current version and stores the archive.","wp-rollback")},{icon:Us,title:(0,He.__)("Rollback Notes & Documentation","wp-rollback"),description:(0,He.__)("Add detailed notes to each rollback for better team coordination and change tracking.","wp-rollback")},{icon:Ws,title:(0,He.__)("Advanced Activity Logging","wp-rollback"),description:(0,He.__)("Complete audit trail of all rollbacks with timestamps, user tracking, and detailed logs.","wp-rollback")}];return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsxs)("div",{className:"wpr-premium-features",children:[(0,$e.jsx)("h3",{children:(0,He.__)("Why Upgrade to WP Rollback Pro?","wp-rollback")}),(0,$e.jsx)("div",{className:"wpr-premium-features-grid",children:t.map(((e,t)=>(0,$e.jsx)("div",{className:"wpr-premium-feature-card",children:(0,$e.jsx)("div",{className:"wpr-premium-feature-card-body",children:(0,$e.jsxs)(De.Flex,{align:"flex-start",gap:8,justify:"flex-start",children:[(0,$e.jsx)(De.FlexItem,{children:(0,$e.jsx)("div",{className:"wpr-premium-feature-icon",children:(0,$e.jsx)(De.Icon,{icon:e.icon,size:20})})}),(0,$e.jsxs)(De.FlexItem,{children:[(0,$e.jsx)("h4",{className:"wpr-premium-feature-title",children:e.title}),(0,$e.jsx)("p",{className:"wpr-premium-feature-description",children:e.description})]})]})})},t)))})]}),(0,$e.jsx)("div",{className:"wpr-premium-guarantee",children:(0,$e.jsx)("div",{className:"wpr-premium-guarantee-card",children:(0,$e.jsx)("div",{className:"wpr-premium-guarantee-card-body",children:(0,$e.jsxs)(De.Flex,{align:"center",gap:4,children:[(0,$e.jsx)(De.FlexItem,{children:(0,$e.jsx)(De.Icon,{icon:zs,size:24})}),(0,$e.jsxs)(De.FlexItem,{children:[(0,$e.jsx)("h4",{children:(0,He.__)("30-Day Money-Back Guarantee","wp-rollback")}),(0,$e.jsx)("p",{children:(0,He.__)("Try WP Rollback Pro risk-free. If you're not completely satisfied, get your money back within 30 days.","wp-rollback")})]})]})})})}),(0,$e.jsxs)("div",{className:"wpr-premium-actions",children:[(0,$e.jsx)(De.Button,{variant:"primary",size:"large",icon:(0,$e.jsx)(De.Icon,{icon:We}),onClick:()=>{window.open("https://wprollback.com/pricing/?utm_source=free-plugin&utm_medium=rollback-upsell&utm_campaign=premium-rollback","_blank")},className:"wpr-premium-cta",children:(0,He.__)("Upgrade to WP Rollback Pro","wp-rollback")}),(0,$e.jsx)(De.Button,{variant:"secondary",size:"large",onClick:e,children:(0,He.__)("Go Back","wp-rollback")}),(0,$e.jsx)(De.Button,{variant:"link",href:"https://wprollback.com/features/?utm_source=free-plugin&utm_medium=rollback-upsell&utm_campaign=premium-rollback",target:"_blank",children:(0,He.__)("Learn More About Pro Features","wp-rollback")})]})]})},Gs=()=>{const{isLoading:e,error:t,rollbackInfo:n,isPremiumAsset:r,rollbackVersion:i,setRollbackVersion:o,currentVersion:l}=ys();return e?(0,$e.jsx)(Ze,{children:(0,$e.jsx)(Zl,{})}):t||n.message?(0,$e.jsx)(Ze,{children:(0,$e.jsxs)("div",{className:"wpr-api-error",children:[(0,$e.jsx)("h1",{children:n.code||(0,He.__)("Error","wp-rollback")}),(0,$e.jsx)("p",{children:n.message||t})]})}):r?(0,$e.jsxs)(Ze,{className:"wpr-rollback-page wpr-premium-rollback-page",children:[(0,$e.jsxs)("div",{className:"wpr-subheader",children:[(0,$e.jsx)("h1",{children:(0,He.__)("Unlock Premium Rollbacks","wp-rollback")}),(0,$e.jsx)("p",{children:(0,He.__)("This premium asset requires WP Rollback Pro for safe version rollbacks.","wp-rollback")})]}),(0,$e.jsx)("div",{className:"wpr-rollback-component-wrap",children:(0,$e.jsxs)("div",{className:"wpr-premium-upsell",children:[(0,$e.jsx)(De.Notice,{status:"warning",isDismissible:!1,className:"wpr-premium-notice",children:(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:n?.name||slug})," ",(0,He.__)("is not available on WordPress.org and requires WP Rollback Pro for version control.","wp-rollback")]})}),n?.versions&&Object.keys(n.versions).length>0&&(0,$e.jsxs)("div",{className:"wpr-available-versions",children:[(0,$e.jsx)("h3",{children:(0,He.__)("Available Versions (Pro Feature)","wp-rollback")}),(0,$e.jsx)("p",{className:"wpr-versions-note",children:(0,He.__)("These versions would be available for rollback with WP Rollback Pro:","wp-rollback")}),(0,$e.jsx)(Ms,{versions:n.versions,rollbackVersion:i,setRollbackVersion:o,currentVersion:l,disabled:!0})]}),(0,$e.jsx)(Ks,{})]})})]}):(0,$e.jsxs)(Ze,{className:"wpr-rollback-page",children:[(0,$e.jsx)(Ns,{}),(0,$e.jsxs)("div",{className:"wpr-rollback-component-wrap",children:[(0,$e.jsx)(Bs,{}),(0,$e.jsx)(Vs,{})]}),(0,$e.jsx)(Es,{})]})},Zs=()=>{const{type:t,slug:n}=function(){let{matches:t}=e.useContext(B),n=t[t.length-1];return n?n.params:{}}(),r=G();return(0,$e.jsx)(bs,{type:t,slug:n,onCancel:()=>{r("/")},children:(0,$e.jsx)(Gs,{})})},qs=({item:e})=>(0,$e.jsx)("div",{className:"wpr-theme-name-column",style:{display:"flex",alignItems:"center",gap:"10px"},children:(0,$e.jsx)("p",{children:e.name.rendered})}),Ys="template",Xs={defaultLayouts:{table:{layout:{primaryField:Ys}},grid:{layout:{primaryField:Ys,mediaField:"screenshot"}}},fields:[{id:"screenshot",label:(0,He.__)("Screenshot","wp-rollback"),render:({item:e})=>(0,$e.jsx)("div",{className:"wpr-theme-screenshot",children:(0,$e.jsx)("img",{src:e.screenshot,alt:e.name.rendered})}),enableSorting:!1},{id:"name",label:(0,He.__)("Theme Name","wp-rollback"),render:({item:e})=>(0,$e.jsx)(qs,{item:e}),enableSorting:!0,enableHiding:!1},{id:"version",label:(0,He.__)("Version","wp-rollback"),render:({item:e})=>(0,$e.jsx)(ds,{item:e}),enableSorting:!0},{id:"status",label:(0,He.__)("Status","wp-rollback"),render:({item:e})=>(0,$e.jsx)(cs,{item:e}),enableSorting:!0},{id:"actions",label:(0,He.__)("Actions","wp-rollback"),render:({item:e,onNavigateToRollback:t})=>(0,$e.jsx)(us,{item:e,type:"theme",onNavigateToRollback:t}),enableSorting:!1}]},Js=({onNavigateToRollback:e})=>{const{data:t,isLoading:n}=(0,_o.useSelect)((e=>({data:e(Xl.store).getEntityRecords("root","theme",{per_page:-1,context:"edit"})||[],isLoading:e(Xl.store).isResolving("getEntityRecords",["root","theme",{per_page:-1,context:"edit"}])})),[]),[r,i]=(0,Re.useState)({type:"table",perPage:10,layout:Xs.defaultLayouts.table?.layout,fields:Xs.fields.map((e=>e.id))});return(0,$e.jsx)(Yl,{data:t,isLoading:n,fields:Xs.fields,defaultLayouts:Xs.defaultLayouts,view:r,onChangeView:i,onNavigateToRollback:e,emptyStateTitle:(0,He.__)("No Themes Found","wp-rollback"),emptyStateDescription:(0,He.__)("No themes available for rollback.","wp-rollback")})},Qs=()=>{const e=G();return(0,$e.jsxs)(Ze,{children:[(0,$e.jsxs)("div",{className:"wpr-subheader",children:[(0,$e.jsx)("h1",{children:(0,He.__)("Themes","wp-rollback")}),(0,$e.jsx)("p",{children:(0,He.__)("Select a theme below to rollback to a previous version.","wp-rollback")})]}),(0,$e.jsx)("div",{className:"wpr-theme-list",children:(0,$e.jsx)(Js,{onNavigateToRollback:(t,n)=>{e(`/rollback/${t}/${n}`)}})})]})},ea=()=>(0,$e.jsxs)(se,{children:[(0,$e.jsx)(oe,{path:"/",element:(0,$e.jsx)(qe,{})}),(0,$e.jsx)(oe,{path:"plugin-list",element:(0,$e.jsx)(fs,{})}),(0,$e.jsx)(oe,{path:"theme-list",element:(0,$e.jsx)(Qs,{})}),(0,$e.jsx)(oe,{path:"rollback/:type/:slug",element:(0,$e.jsx)(Zs,{})}),(0,$e.jsx)(oe,{path:"*",element:(0,$e.jsx)(ie,{to:"/",replace:!0})})]}),ta=(0,$e.jsx)(Be.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$e.jsx)(Be.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})}),na=({buttons:e})=>{const{rollbackInfo:t,rollbackVersion:n,setCurrentVersion:r}=ys();if(G(),(0,Re.useEffect)((()=>{n&&r(n)}),[n,r]),!t||!n)return null;const i=(0,He.sprintf)(/* translators: 1: Asset name 2: Asset version */ /* translators: 1: Asset name 2: Asset version */
(0,He.__)("%1$s has been successfully rolled back to version %2$s.","wp-rollback"),`<strong>${(0,hs.decodeEntities)(t.name)}</strong>`,`<strong>${n}</strong>`),o=[{icon:Ws,title:(0,He.__)("Detailed Activity Logs","wp-rollback"),description:(0,He.__)("Track every rollback with comprehensive logs and notes","wp-rollback")},{icon:$s,title:(0,He.__)("Version Preservation","wp-rollback"),description:(0,He.__)("Preserve current versions of premium assets before updates","wp-rollback")},{icon:zs,title:(0,He.__)("Priority Support","wp-rollback"),description:(0,He.__)("Get expert help when you need it most","wp-rollback")}];return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(De.Notice,{status:"success",isDismissible:!1,className:"wpr-success-notice",children:(0,$e.jsxs)("div",{className:"wpr-success-notice__content",children:[(0,$e.jsx)(De.Icon,{icon:$i,size:48}),(0,$e.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})]})}),(0,$e.jsxs)("div",{className:"wpr-modal-content",children:[(0,$e.jsxs)("div",{className:"wpr-next-steps",children:[(0,$e.jsxs)("h4",{className:"wpr-next-steps__heading",children:[(0,$e.jsx)(De.Icon,{icon:ta,size:20}),(0,He.__)("What's next?","wp-rollback")]}),(0,$e.jsxs)("ol",{className:"wpr-next-steps__list",children:[(0,$e.jsx)("li",{children:(0,He.__)("Check your website to verify the rollback resolved any visual or functional issues","wp-rollback")}),(0,$e.jsx)("li",{children:(0,He.__)("If you rolled back due to an error message, review your error logs to confirm it's resolved","wp-rollback")}),(0,$e.jsx)("li",{children:(0,He.__)("Test key functionality on your site to ensure everything works as expected","wp-rollback")})]})]}),(0,$e.jsx)("div",{className:"wpr-pro-upgrade-card",children:(0,$e.jsxs)("div",{className:"wpr-pro-upgrade-card__body",children:[(0,$e.jsxs)("div",{className:"wpr-pro-upgrade-card__header",children:[(0,$e.jsx)("div",{style:{fill:"#8b5cf6"},children:(0,$e.jsx)(De.Icon,{icon:We,size:24})}),(0,$e.jsx)("h3",{children:(0,He.__)("Upgrade to WP Rollback Pro","wp-rollback")})]}),(0,$e.jsx)("p",{className:"wpr-pro-upgrade-card__description",children:(0,He.__)("Take your rollback management to the next level with professional features designed for serious WordPress sites.","wp-rollback")}),(0,$e.jsx)("div",{className:"wpr-pro-upgrade-card__features",children:o.map(((e,t)=>(0,$e.jsxs)("div",{className:"wpr-pro-upgrade-card__feature",children:[(0,$e.jsx)(De.Icon,{icon:e.icon,size:20}),(0,$e.jsxs)("div",{className:"wpr-pro-upgrade-card__feature-content",children:[(0,$e.jsx)("h5",{children:e.title}),(0,$e.jsx)("p",{children:e.description})]})]},t)))}),(0,$e.jsxs)("div",{className:"wpr-pro-upgrade-card__actions",children:[(0,$e.jsx)(De.Button,{variant:"secondary",onClick:()=>{window.open("https://wprollback.com/pricing/","_blank")},children:(0,He.__)("Upgrade Now","wp-rollback")}),(0,$e.jsx)(De.ExternalLink,{href:"https://wprollback.com/features/",children:(0,He.__)("Learn more","wp-rollback")})]})]})}),(0,$e.jsxs)("div",{className:"wpr-help-section",children:[(0,$e.jsx)("p",{className:"wpr-help-section__text",children:(0,He.__)("Need help with your rollback?","wp-rollback")}),(0,$e.jsx)(De.ExternalLink,{href:"https://wprollback.com/troubleshooting-guide/",children:(0,He.__)("View our troubleshooting guide","wp-rollback")})]}),(0,$e.jsx)(js,{buttons:e})]})]})};(0,Te.addFilter)("wpRollback.templates","wpRollback-free/registerTemplates",(e=>(e.complete={title:(0,He.__)("Rollback Complete","wp-rollback"),icon:(0,$e.jsx)(De.Dashicon,{icon:"yes-alt"}),component:na,buttons:{confirm:{title:(0,He.__)("Return to <type/> Screen","wp-rollback"),onClick:e=>{const t="string"==typeof e&&"theme"===e?`${window.location.origin}/wp-admin/themes.php`:`${window.location.origin}/wp-admin/plugins.php`;window.location.href=t},isProcessing:!1},cancel:{title:(0,He.__)("Upgrade to Pro","wp-rollback"),onClick:()=>{window.location.href="https://wprollback.com/"}}}},e)),10),Ae()((function(){const e=document.getElementById("root-wp-rollback-admin");e&&(0,Re.createRoot)(e).render((0,$e.jsx)(Ne,{children:(0,$e.jsx)(ea,{})}))}))})()})();