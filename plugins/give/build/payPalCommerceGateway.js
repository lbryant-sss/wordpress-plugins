(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React;var n,r,a,o=e.n(t);!function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"}(n||(n={})),function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"}(r||(r={})),function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"}(a||(a={}));var i="data-react-paypal-script-id",s="data-sdk-integration-source",c="react-paypal-js",l="data-namespace",d="3.84.0",u=("https://js.braintreegateway.com/web/".concat(d,"/js/client.min.js"),"https://js.braintreegateway.com/web/".concat(d,"/js/paypal-checkout.min.js"),"paypal"),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p.apply(this,arguments)};function f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function m(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function h(e){return void 0===e&&(e=u),window[e]}function y(e){var t=e.reactComponentName,n=e.sdkComponentKey,r=e.sdkRequestedComponents,a=void 0===r?"":r,o=e.sdkDataNamespace,i=void 0===o?u:o,s=n.charAt(0).toUpperCase().concat(n.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(i,".").concat(s," is undefined.");if(!a.includes(n)){var l=[a,n].filter(Boolean).join();c+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(l,"'}}>`.")}return c}function v(e){return"react-paypal-js-".concat(function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify(e)))}function g(e,t){var a,o,l;switch(t.type){case r.LOADING_STATUS:return p(p({},e),{loadingStatus:t.value});case r.RESET_OPTIONS:return o=e.options[i],(null==(l=self.document.querySelector("script[".concat(i,'="').concat(o,'"]')))?void 0:l.parentNode)&&l.parentNode.removeChild(l),delete t.value[i],p(p({},e),{loadingStatus:n.PENDING,options:p(p({},t.value),(a={},a[i]="".concat(v(t.value)),a[s]=c,a))});case r.SET_BRAINTREE_INSTANCE:return p(p({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var w=(0,t.createContext)(null);function E(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}function b(){var e=E((0,t.useContext)(w));return[p(p({},e),{isInitial:e.loadingStatus===n.INITIAL,isPending:e.loadingStatus===n.PENDING,isResolved:e.loadingStatus===n.RESOLVED,isRejected:e.loadingStatus===n.REJECTED}),e.dispatch]}var S=(0,t.createContext)({}),P=function(e){var n=e.className,r=void 0===n?"":n,a=e.disabled,i=void 0!==a&&a,s=e.children,c=e.forceReRender,d=void 0===c?[]:c,u=f(e,["className","disabled","children","forceReRender"]),v=i?{opacity:.38}:{},g="".concat(r," ").concat(i?"paypal-buttons-disabled":"").trim(),w=(0,t.useRef)(null),E=(0,t.useRef)(null),S=b()[0],_=S.isResolved,N=S.options,O=(0,t.useState)(null),R=O[0],I=O[1],T=(0,t.useState)(!0),C=T[0],k=T[1],A=(0,t.useState)(null)[1];function F(){null!==E.current&&E.current.close().catch((function(){}))}return(0,t.useEffect)((function(){if(!1===_)return F;var e=h(N[l]);if(void 0===e||void 0===e.Buttons)return A((function(){throw new Error(y({reactComponentName:P.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[l]}))})),F;try{E.current=e.Buttons(p(p({},u),{onInit:function(e,t){I(t),"function"==typeof u.onInit&&u.onInit(e,t)}}))}catch(e){return A((function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))}))}return!1===E.current.isEligible()?(k(!1),F):w.current?(E.current.render(w.current).catch((function(e){null!==w.current&&0!==w.current.children.length&&A((function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(e))}))})),F):F}),m(m([_],d,!0),[u.fundingSource],!1)),(0,t.useEffect)((function(){null!==R&&(!0===i?R.disable().catch((function(){})):R.enable().catch((function(){})))}),[i,R]),o().createElement(o().Fragment,null,C?o().createElement("div",{ref:w,style:v,className:g}):s)};function _(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach((function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])})),n}function N(e,t){if(void 0===t&&(t=O()),I(e,t),"undefined"==typeof document)return t.resolve(null);var n=function(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),function(e){var t=e["merchant-id"],n=e["data-merchant-id"],r="",a="";Array.isArray(t)?t.length>1?(r="*",a=t.toString()):r=t.toString():"string"==typeof t&&t.length>0?r=t:"string"==typeof n&&n.length>0&&(r="*",a=n),e["merchant-id"]=r,e["data-merchant-id"]=a}(e);var n,r,a=Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]&&""!==e[t]})).reduce((function(t,n){var r=e[n].toString();return"data-"===n.substring(0,5)?t.dataAttributes[n]=r:t.queryParams[n]=r,t}),{queryParams:{},dataAttributes:{}}),o=a.queryParams,i=a.dataAttributes;return{url:"".concat(t,"?").concat((n=o,r="",Object.keys(n).forEach((function(e){0!==r.length&&(r+="&"),r+=e+"="+n[e]})),r)),dataAttributes:i}}(e),r=n.url,a=n.dataAttributes,o=a["data-namespace"]||"paypal",i=R(o);return function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var r=_(e,t),a=n.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(r.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach((function(e){a.dataset[e]!==r.dataset[e]&&(o=!1)})),o?n:null}(r,a)&&i?t.resolve(i):function(e,t){void 0===t&&(t=O()),I(e,t);var n=e.url,r=e.attributes;if("string"!=typeof n||0===n.length)throw new Error("Invalid url.");if(void 0!==r&&"object"!=typeof r)throw new Error("Expected attributes to be an object.");return new t((function(e,t){if("undefined"==typeof document)return e();!function(e){var t=e.url,n=e.attributes,r=e.onSuccess,a=e.onError,o=_(t,n);o.onerror=a,o.onload=r,document.head.insertBefore(o,document.head.firstElementChild)}({url:n,attributes:r,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then((function(n){return 200===n.status&&t(e),n.text()})).then((function(e){var n=function(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}(e);t(new Error(n))})).catch((function(e){t(e)})):t(e)}})}))}({url:r,attributes:a},t).then((function(){var e=R(o);if(e)return e;throw new Error("The window.".concat(o," global variable is not available."))}))}function O(){if("undefined"==typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function R(e){return window[e]}function I(e,t){if("object"!=typeof e||null===e)throw new Error("Expected an options object.");if(void 0!==t&&"function"!=typeof t)throw new Error("Expected PromisePonyfill to be a function.")}P.displayName="PayPalButtons";var T=function(e){var n=e.className,r=void 0===n?"":n,a=e.children,i=f(e,["className","children"]),s=b()[0],c=s.isResolved,d=s.options,u=(0,t.useRef)(null),m=(0,t.useState)(!0),v=m[0],g=m[1],w=(0,t.useState)(null)[1];return(0,t.useEffect)((function(){if(!1!==c){var e=h(d[l]);if(void 0===e||void 0===e.Marks)return w((function(){throw new Error(y({reactComponentName:T.displayName,sdkComponentKey:"marks",sdkRequestedComponents:d.components,sdkDataNamespace:d[l]}))}));!function(e){var t=u.current;if(!t||!e.isEligible())return g(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch((function(e){null!==t&&0!==t.children.length&&w((function(){throw new Error("Failed to render <PayPalMarks /> component. ".concat(e))}))}))}(e.Marks(p({},i)))}}),[c,i.fundingSource]),o().createElement(o().Fragment,null,v?o().createElement("div",{ref:u,className:r}):a)};T.displayName="PayPalMarks";var C=function(e){var n=e.className,r=void 0===n?"":n,a=e.forceReRender,i=void 0===a?[]:a,s=f(e,["className","forceReRender"]),c=b()[0],d=c.isResolved,u=c.options,v=(0,t.useRef)(null),g=(0,t.useRef)(null),w=(0,t.useState)(null)[1];return(0,t.useEffect)((function(){if(!1!==d){var e=h(u[l]);if(void 0===e||void 0===e.Messages)return w((function(){throw new Error(y({reactComponentName:C.displayName,sdkComponentKey:"messages",sdkRequestedComponents:u.components,sdkDataNamespace:u[l]}))}));g.current=e.Messages(p({},s)),g.current.render(v.current).catch((function(e){null!==v.current&&0!==v.current.children.length&&w((function(){throw new Error("Failed to render <PayPalMessages /> component. ".concat(e))}))}))}}),m([d],i,!0)),o().createElement("div",{ref:v,className:r})};C.displayName="PayPalMessages";var k=function(e){var a,l=e.options,d=void 0===l?{"client-id":"test"}:l,u=e.children,f=e.deferLoading,m=void 0!==f&&f,h=(0,t.useReducer)(g,{options:p(p({},d),(a={},a[i]="".concat(v(d)),a[s]=c,a)),loadingStatus:m?n.INITIAL:n.PENDING}),y=h[0],E=h[1];return(0,t.useEffect)((function(){if(!1===m&&y.loadingStatus===n.INITIAL)return E({type:r.LOADING_STATUS,value:n.PENDING});if(y.loadingStatus===n.PENDING){var e=!0;return N(y.options).then((function(){e&&E({type:r.LOADING_STATUS,value:n.RESOLVED})})).catch((function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&E({type:r.LOADING_STATUS,value:n.REJECTED})})),function(){e=!1}}}),[y.options,m,y.loadingStatus]),o().createElement(w.Provider,{value:p(p({},y),{dispatch:E})},u)},A=function(e){(function(e){if(!e.includes(a.NUMBER)||!e.includes(a.CVV)||function(e){return!e.includes(a.EXPIRATION_DATE)&&!e.includes(a.EXPIRATION_MONTH)&&!e.includes(a.EXPIRATION_YEAR)}(e))throw new Error("To use HostedFields you must use it with at least 3 children with types: [number, cvv, expirationDate] includes")})(e),function(e){if(e.length!==new Set(e).size)throw new Error("Cannot use duplicate HostedFields as children")}(e)},F=function(e){var r,a=e.styles,i=e.createOrder,s=e.notEligibleError,c=e.children,d=e.installments,f=(r=function(e){var t,n;if(!(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t["data-client-token"])&&!(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n["data-user-id-token"]))throw new Error("Invalid authorization data. Use data-client-token or data-user-id-token to authorize.");return e}(E((0,t.useContext)(w))),[r,r.dispatch])[0],m=f.options,y=f.loadingStatus,v=(0,t.useState)(!0),g=v[0],b=v[1],P=(0,t.useState)(),_=P[0],N=P[1],O=(0,t.useState)(null)[1],R=(0,t.useRef)(null),I=(0,t.useRef)(),T=function(e){void 0===e&&(e={});var n=(0,t.useRef)(e);return[n,function(e){n.current=p(p({},n.current),e)}]}(),C=T[0],k=T[1];return(0,t.useEffect)((function(){var e;if(A(Object.keys(C.current)),y===n.RESOLVED){if(I.current=h(m[l]).HostedFields,!I.current)throw new Error(function(e){var t=e.components,n=void 0===t?"":t,r=e[l],a=void 0===r?u:r,o=n?"".concat(n,",hosted-fields"):"hosted-fields",i="Unable to render <PayPalHostedFieldsProvider /> because window.".concat(a,".HostedFields is undefined.");return n.includes("hosted-fields")||(i+="\nTo fix the issue, add 'hosted-fields' to the list of components passed to the parent PayPalScriptProvider: <PayPalScriptProvider options={{ components: '".concat(o,"'}}>")),i}(((e={components:m.components})[l]=m[l],e)));if(!I.current.isEligible())return b(!1);_&&_.teardown(),I.current.render({createOrder:i,fields:C.current,installments:d,styles:a}).then((function(e){R.current&&N(e)})).catch((function(e){O((function(){throw new Error("Failed to render <PayPalHostedFieldsProvider /> component. ".concat(e))}))}))}}),[y,a]),o().createElement("div",{ref:R},g?o().createElement(S.Provider,{value:{cardFields:_,registerHostedField:k}},c):s)},j=function(e){var n=e.hostedFieldType,r=e.options,a=f(e,["hostedFieldType","options"]),i=(0,t.useContext)(S);return(0,t.useEffect)((function(){var e;if(!(null==i?void 0:i.registerHostedField))throw new Error("The HostedField cannot be register in the PayPalHostedFieldsProvider parent component");i.registerHostedField(((e={})[n]={selector:r.selector,placeholder:r.placeholder,type:r.type,formatInput:r.formatInput,maskInput:r.maskInput,select:r.select,maxlength:r.maxlength,minlength:r.minlength,prefill:r.prefill,rejectUnsupportedCards:r.rejectUnsupportedCards},e))}),[]),o().createElement("div",p({},a))};const x=window.wp.i18n,D=window.wp.components;class L extends Error{constructor(e,...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,L),this.name="FormRequestError",this.errors=e}}const M=L;async function U(e,t,n,r){if(void 0!==r&&"subscription"===t?.donationType&&!r.supportsSubscriptions)return n("FORM_ERROR",{message:(0,x.__)("This payment gateway does not support recurring payments, please try selecting another payment gateway.","give")});try{const n=function(e){const t=new FormData;for(const n in e){const r=e[n];if(null===r||"object"!=typeof r||r instanceof File)t.append(n,r);else for(const e in r)t.append(`${n}[${e}]`,r[e])}return t}(t),{response:r}=await async function(e,t){return{response:await fetch(e,{method:"POST",mode:"cors",cache:"default",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer-when-downgrade",headers:{accept:"application/json"},body:t})}}(e,n),a=await r.json();if(function(e){return"gateway_error"===e.type}(a)||function(e){return"validation_error"===e.type||null!=e.data?.errors}(a))throw new M(a.data.errors.errors);return!0}catch(e){var a;return e instanceof M?((e,t,n)=>{Object.entries(t).forEach((([t,r])=>{if(Object.keys(e).includes(t)){const e=document.querySelector('input[name="'+t+'"]'),a=e&&"hidden"!==e.type;if(n(t,{message:Array.isArray(r)?r[0]:r},{shouldFocus:a}),!a)if(e)e.parentElement.scrollIntoView({behavior:"smooth"});else{const e=document.querySelector(".givewp-fields-"+t);e?.scrollIntoView({behavior:"smooth"})}}else n("FORM_ERROR","gateway_error"===t?{message:Array.isArray(r)?r[0]:r}:{message:(0,x.__)("Something went wrong, please try again or contact support.","give")})}))})(t,e.errors,n):n("FORM_ERROR",{message:null!==(a=e?.message)&&void 0!==a?a:(0,x.__)("Something went wrong, please try again or contact support.","give")})}}(()=>{let e,n,r,a,o,i,s,c,l,d,u,p,f,m,h,y,v,g,w,E,_,N;const O={color:"gold",label:"paypal",layout:"vertical",shape:"rect",tagline:!1},R={height:"50px",borderWidth:".078rem",borderStyle:"solid",borderColor:"#666",borderRadius:".25rem",padding:"0 1.1875rem",width:"100%",marginBottom:".5rem",boxSizing:"inherit",inlineSize:"100%",backgroundColor:"#fff",color:"#4d4d4d",fontSize:"1rem",fontFamily:"inherit",fontWeight:"500",lineHeight:"1.2"},I=({isSubscription:e})=>{let t={...c.sdkOptions};return e&&-1!==t.components.indexOf("hosted-fields")&&(t.components=t.components.split(",").filter((e=>"hosted-fields"!==e)).join(",")),t},T=()=>{let t=e+(n||0);return t=Math.round(100*t)/100,t},C=()=>{const e=new FormData;e.append("give-form-id",c.donationFormId),e.append("give-form-hash",c.donationFormNonce),e.append("give_payment_mode","paypal-commerce");const t=_?(e=>{const t=e.reduce(((e,t)=>e+t.amount),0);return t>0?t/100:0})(JSON.parse(_)):0;return f&&"one-time"!==f?e.append("give-amount",T()):e.append("give-amount",T()+t),e.append("give-event-tickets-total-amount",String(t)),e.append("give-recurring-period",f),e.append("period",f),e.append("frequency",u),e.append("times",p),e.append("give_first",r),e.append("give_last",a),e.append("give_email",o),m&&(e.append("card_address",v),e.append("card_address_2",g),e.append("card_city",y),e.append("card_state",h),e.append("card_zip",w),e.append("billing_country",m)),e.append("give-cs-form-currency",E),e},A=async()=>await async function(e,t,n){const r=await fetch(e,{method:"POST",body:n}),a=await r.json();if(!a.success)throw a.data.error;const o=a.data.id;return t.payPalOrderId=o,o}(`${c.ajaxUrl}?action=give_paypal_commerce_create_order`,G,C()),L=async(e,t)=>{const{planId:n,userAction:i}=await async function(e,t,n){const r=await fetch(e,{method:"POST",body:n}),a=await r.json();if(!a.success)throw a.data.error;const o=a.data.id;return t.payPalPlanId=o,{planId:o,userAction:a.data?.user_action}}(`${c.ajaxUrl}?action=give_paypal_commerce_create_plan_id`,G,C()),s={name:{given_name:r,surname:a},email_address:o};m&&(s.shipping_address={name:{full_name:`${r} ${a}`.trim()},address:{address_line_1:v,address_line_2:g,admin_area_2:y,admin_area_1:h,postal_code:w,country_code:m}});const l={plan_id:n,subscriber:s};return i&&(l.application_context={user_action:i}),t.subscription.create(l).then((e=>d=e))},M=({label:e,style:n={}})=>{const r={container:{fontSize:"16px",fontStyle:"italic",display:"flex",justifyContent:"center",alignItems:"center",...n},dashedLine:{border:"1px solid #d4d4d4",flexGrow:1},label:{padding:"0 6px",fontSize:"14px",color:"#8d8e8e"}};return(0,t.createElement)("div",{className:"separator-with-text",style:r.container},(0,t.createElement)("div",{className:"dashed-line",style:r.dashedLine}),(0,t.createElement)("div",{className:"label",style:r.label},e),(0,t.createElement)("div",{className:"dashed-line",style:r.dashedLine}))},B=()=>(s=(0,t.useContext)(S),(0,t.createElement)(t.Fragment,null)),V=({children:t})=>{const{useWatch:i}=window.givewp.form.hooks;return e=i({name:"amount"}),n=i({name:"feeRecovery"}),r=i({name:"firstName"}),a=i({name:"lastName"}),o=i({name:"email"}),u=i({name:"subscriptionFrequency"}),p=i({name:"subscriptionInstallments"}),f=i({name:"subscriptionPeriod"}),v=i({name:"address1"}),g=i({name:"address2"}),y=i({name:"city"}),h=i({name:"state"}),w=i({name:"zip"}),m=i({name:"country"}),E=i({name:"currency"}),_=i({name:"event-tickets"}),t},H=()=>{const{useWatch:i,useFormState:s}=window.givewp.form.hooks,u=i({name:"donationType"}),{isSubmitting:p,isSubmitSuccessful:f}=s(),{useFormContext:m}=window.givewp.form.hooks,{getFieldState:h,setFocus:y,getValues:v,formState:{errors:g},trigger:w,setError:b}=m(),S=window.givewp.gateways.get("paypal-commerce"),_={style:O,disabled:p||f,forceReRender:[u,e,n,r,a,o,E],onClick:async(e,t)=>{if("subscription"===u&&!S.supportsSubscriptions)return b("FORM_ERROR",{message:(0,x.__)("This payment gateway does not support recurring payments, please try selecting another payment gateway.","give")},{shouldFocus:!0}),N.scrollIntoView({behavior:"smooth"}),t.reject();if(!await w()){for(const e in v())h(e).invalid&&y(e);return t.reject()}return await U(c.validateUrl,v(),b,S)?t.resolve():t.reject()},onApprove:async(e,t)=>{const n=e.orderID,r=e?.subscriptionID,a=N.textContent;if(N.textContent=(0,x.__)("Waiting for PayPal...","give"),N.disabled=!0,r&&"subscription"===u)return d=r,N.disabled=!1,N.textContent=a,void N.click();n&&(l=n),N.disabled=!1,N.textContent=a,N.click()}};return"subscription"===u?(0,t.createElement)(P,{..._,createSubscription:L}):(0,t.createElement)(P,{..._,createOrder:A})},q=()=>{const{useWatch:e}=window.givewp.form.hooks,n=e({name:"firstName"}),r=e({name:"lastName"}),a=[null!=n?n:"",null!=r?r:""].filter((e=>e)).join(" "),[o,s]=(0,t.useState)(null);return(0,t.useEffect)((()=>{i=null!=o?o:a})),(0,t.createElement)(F,{createOrder:A},(0,t.createElement)("div",null,(0,t.createElement)(M,{label:(0,x.__)("Or pay with card","give"),style:{padding:"30px 0"}}),(0,t.createElement)(D.TextControl,{className:"givewp-fields",label:(0,x.__)("Cardholder Name","give"),hideLabelFromVision:!0,placeholder:(0,x.__)("Cardholder Name","give"),value:null!=o?o:a,onChange:e=>s(e)}),(0,t.createElement)(j,{id:"card-number",className:"card-field",style:R,hostedFieldType:"number",options:{selector:"#card-number",placeholder:"4111 1111 1111 1111"}}),(0,t.createElement)(D.Flex,{gap:"10px"},(0,t.createElement)(j,{id:"expiration-date",className:"givewp-fields",style:R,hostedFieldType:"expirationDate",options:{selector:"#expiration-date",placeholder:(0,x.__)("MM/YYYY","give")}}),(0,t.createElement)(j,{id:"cvv",className:"card-field",style:R,hostedFieldType:"cvv",options:{selector:"#cvv",placeholder:(0,x.__)("CVV","give"),maskInput:!0}})),(0,t.createElement)("div",{style:{display:"flex",gap:"10px"}}),(0,t.createElement)(B,null)))};function z(){const{useWatch:e}=window.givewp.form.hooks,n=e({name:"donationType"}),[{options:r},a]=b();return(0,t.useEffect)((()=>{const e=I({isSubscription:"subscription"===n});a({type:"resetOptions",value:{...e,currency:E,vault:"subscription"===n,intent:"subscription"===n?"subscription":e.intent}})}),[E,n]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(H,null),-1!==r.components.indexOf("hosted-fields")&&(0,t.createElement)(q,null))}const G={id:"paypal-commerce",initialize(){c=this.settings},beforeCreatePayment:async function(e){if(d)return{payPalSubscriptionId:d};if(l)return{payPalOrderId:l};if(!Object.values(s.cardFields.getState().fields).some((e=>e.isValid)))throw new Error("Invalid PayPal card fields");try{const e=await s.cardFields.submit({contingencies:["SCA_WHEN_REQUIRED"],cardholderName:i});if(!e||["NO","POSSIBLE"].includes(e.liabilityShift)&&(!e.liabilityShifted||"POSSIBLE"!==e.liabilityShift))throw new Error((0,x.__)("There was a problem authenticating your payment method. Please try again. If the problem persists, please try another payment method.","give"));return{...e,payPalOrderId:e.orderId}}catch(e){if(console.log("paypal donations error",e),e.hasOwnProperty("details"))throw new Error(e.details[0].description);throw new Error((0,x.sprintf)((0,x.__)("Paypal Donations Error: %s","give"),e.message))}},Fields(){const{useWatch:e}=window.givewp.form.hooks,n="subscription"===e({name:"donationType"});return N=window.givewp.form.hooks.useFormSubmitButton(),(0,t.useEffect)((()=>(N&&!s&&(N.style.display="none"),()=>{N&&(N.style.display="")})),[]),(0,t.createElement)(V,null,(0,t.createElement)(k,{deferLoading:!0,options:I({isSubscription:n})},(0,t.createElement)(z,null)))}};window.givewp.gateways.register(G)})()})();