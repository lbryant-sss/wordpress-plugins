"use strict";(self["webpackChunktutor"]=self["webpackChunktutor"]||[]).push([[8198],{51032:(t,e,r)=>{r.d(e,{T:()=>c,g:()=>d});var n=r(97286);var o=r(24880);var i=r(94747);var a=r(4862);var u=r(21508);var l=function t(e){return a.b.get(u.A.GET_COURSE_LIST,{params:e})};var c=function t(e){var r=e.params,i=e.isEnabled;return(0,n.I)({queryKey:["PrerequisiteCourses",r],queryFn:function t(){return l({exclude:r.exclude,limit:r.limit,offset:r.offset,filter:r.filter}).then((function(t){return t.data}))},placeholderData:o.rX,enabled:i})};var s=function t(e){var r=e.courseId,n=e.builder;return a.b.post(u.A.TUTOR_UNLINK_PAGE_BUILDER,{course_id:r,builder:n})};var d=function t(){return(0,i.n)({mutationFn:s})}},87496:(t,e,r)=>{r.d(e,{C:()=>a});var n=r(41594);var o=r(26261);var i=r(97665);"use client";function a(t,e){const r=(0,i.jE)(e);const a=r.getQueryCache();return n.useSyncExternalStore(n.useCallback((t=>a.subscribe(o.j.batchCalls(t))),[a]),(()=>r.isFetching(t)),(()=>r.isFetching(t)))}},98198:(t,e,r)=>{r.r(e);r.d(e,{default:()=>gu});var n=r(17437);var o=r(97665);var i=r(87496);var a=r(12470);var u=r(41594);var l=r(49785);var c=r(72346);var s=r(942);var d=r(94188);var f=r(7767);var p=r(70551);var v=36e5;function h(t,e){(0,p.A)(2,arguments);var r=(0,d.A)(e);return(0,f.A)(t,r*v)}var b=r(86828);var m=r(27813);var y=r(1806);var g=r(10123);function _(t){(0,p.A)(1,arguments);var e=(0,g["default"])(t);e.setHours(0,0,0,0);return e}var w=r(619);function Y(t,e){(0,p.A)(2,arguments);var r=(0,w.A)(t);var n=(0,w.A)(e);return r.getTime()===n.getTime()}var x=r(38919);var A=r(12262);var S=r(27793);var I=r(49804);var O=r(85271);var j=r(26434);var k=r(47275);var E=r(19502);var P=r(21708);var C=r(48465);var K=r(41502);var D=r(52457);var T=r(62246);var L=r(45538);var H=r(15888);var N=r(94083);var W=r(47849);var F=r(56499);var B=r(41594);function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R.apply(null,arguments)}function q(t,e){return z(t)||G(t,e)||U(t,e)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t,e){if(t){if("string"==typeof t)return V(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(t,e):void 0}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function G(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function z(t){if(Array.isArray(t))return t}function Q(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var $=!!C.P.tutor_pro_url;var J=(0,P.p9)();var Z=function t(){var e,r,o,d,f,p,v,g;var w=(0,l.xW)();var P=(0,l.FH)({name:"post_date"});var D=(e=(0,l.FH)({name:"schedule_date"}))!==null&&e!==void 0?e:"";var T=(r=(0,l.FH)({name:"schedule_time"}))!==null&&r!==void 0?r:(0,c["default"])(h(new Date,1),K.Bd.hoursMinutes);var H=(o=(0,l.FH)({name:"isScheduleEnabled"}))!==null&&o!==void 0?o:false;var M=(d=(0,l.FH)({name:"showScheduleForm"}))!==null&&d!==void 0?d:false;var U=(f=(0,l.FH)({name:"enable_coming_soon"}))!==null&&f!==void 0?f:false;var V=(p=(0,l.FH)({name:"course_enrollment_period"}))!==null&&p!==void 0?p:false;var G=(v=(0,l.FH)({name:"enrollment_starts_date"}))!==null&&v!==void 0?v:"";var z=(g=(0,l.FH)({name:"enrollment_starts_time"}))!==null&&g!==void 0?g:"";var Q=(0,l.FH)({name:"coming_soon_thumbnail"});var Z=(0,i.C)({queryKey:["CourseDetails",J]});var X=(0,u.useState)(D&&T&&(0,b["default"])(new Date("".concat(D," ").concat(T)))?(0,c["default"])(new Date("".concat(D," ").concat(T)),K.Bd.yearMonthDayHourMinuteSecond24H):""),et=q(X,2),rt=et[0],nt=et[1];var ot=new Date("".concat(G," ").concat(z));var it=function t(){w.setValue("schedule_date","",{shouldDirty:true});w.setValue("schedule_time","",{shouldDirty:true});w.setValue("showScheduleForm",true,{shouldDirty:true})};var at=function t(){var e=(0,m["default"])(new Date(P),new Date);w.setValue("schedule_date",e&&rt?(0,c["default"])((0,y["default"])(rt),K.Bd.yearMonthDay):"",{shouldDirty:true});w.setValue("schedule_time",e&&rt?(0,c["default"])((0,y["default"])(rt),K.Bd.hoursMinutes):"",{shouldDirty:true})};var ut=function t(){if(!D||!T){return}w.setValue("showScheduleForm",false,{shouldDirty:true});nt((0,c["default"])(new Date("".concat(D," ").concat(T)),K.Bd.yearMonthDayHourMinuteSecond24H))};(0,u.useEffect)((function(){if(H&&M){w.setFocus("schedule_date")}}),[M,H]);return(0,n.Y)("div",{css:tt.scheduleOptions},(0,n.Y)(l.xI,{name:"isScheduleEnabled",control:w.control,rules:{deps:["enrollment_starts_date","enrollment_starts_time"]},render:function t(e){return(0,n.Y)(k.A,R({},e,{loading:!!Z,label:(0,a.__)("Schedule","tutor"),onChange:function t(e){if(!e&&D&&T){w.setValue("showScheduleForm",false,{shouldDirty:true})}}}))}}),H&&M&&(0,n.Y)("div",{css:tt.formWrapper},(0,n.Y)("div",{css:N.x.dateAndTimeWrapper},(0,n.Y)(l.xI,{name:"schedule_date",control:w.control,rules:{required:(0,a.__)("Schedule date is required.","tutor"),validate:{invalidDateRule:F.Kh,futureDate:function t(e){if((0,m["default"])(new Date("".concat(e," +T00:00:00")),_(new Date))){return(0,a.__)("Schedule date should be in the future.","tutor")}return true},isBeforeEnrollmentStartDate:function t(e){if(V&&(0,m["default"])(ot,new Date("".concat(e," ").concat(T)))){return(0,a.__)("Schedule date should be before enrollment start date.","tutor")}return true}},deps:["enrollment_starts_date","enrollment_starts_time","schedule_time"]},render:function t(e){return(0,n.Y)(O.A,R({},e,{isClearable:false,placeholder:(0,a.__)("Select date","tutor"),disabledBefore:(0,c["default"])(new Date,K.Bd.yearMonthDay),onChange:function t(){w.setFocus("schedule_time")},dateFormat:K.Bd.monthDayYear}))}}),(0,n.Y)(l.xI,{name:"schedule_time",control:w.control,rules:{required:(0,a.__)("Schedule time is required.","tutor"),validate:{invalidTimeRule:F.XA,futureDate:function t(e){if((0,m["default"])(new Date("".concat(D," ").concat(e)),new Date)){return(0,a.__)("Schedule time should be in the future.","tutor")}return true},isBeforeEnrollmentStartDate:function t(e){if(V&&(0,m["default"])(ot,new Date("".concat(D," ").concat(e)))){return(0,a.__)("Schedule time should be before enrollment start date.","tutor")}return true}},deps:["schedule_date","enrollment_starts_date","enrollment_starts_time"]},render:function t(e){return(0,n.Y)(E.A,R({},e,{interval:60,isClearable:false,placeholder:"hh:mm A"}))}})),(0,n.Y)(l.xI,{name:"enable_coming_soon",control:w.control,render:function t(e){return(0,n.Y)(I.A,R({},e,{label:(0,n.Y)(B.Fragment,null,(0,a.__)("Show coming soon in course list & details page","tutor"),(0,n.Y)(L.A,{when:!$},(0,n.Y)("div",{"data-pro-badge":true},(0,n.Y)(S.A,{content:(0,a.__)("Pro","tutor"),size:"small"})))),disabled:!$,labelCss:tt.checkboxStartAlign}))}}),(0,n.Y)(L.A,{when:$},(0,n.Y)(L.A,{when:U},(0,n.Y)(l.xI,{name:"coming_soon_thumbnail",control:w.control,render:function t(e){return(0,n.Y)(j.A,R({},e,{label:(0,a.__)("Coming Soon Thumbnail","tutor"),buttonText:(0,a.__)("Upload Thumbnail","tutor"),infoText:(0,a.sprintf)((0,a.__)("JPEG, PNG, GIF, and WebP formats, up to %s","tutor"),C.P.max_upload_size)}))}}),(0,n.Y)(l.xI,{name:"enable_curriculum_preview",control:w.control,render:function t(e){return(0,n.Y)(I.A,R({},e,{label:(0,a.__)("Preview Course Curriculum","tutor")}))}}))),(0,n.Y)("div",{css:tt.scheduleButtonsWrapper},(0,n.Y)(x.A,{variant:"tertiary",size:"small",onClick:at,disabled:!D&&!T||(0,b["default"])(new Date("".concat(D," ").concat(T)))&&Y(new Date("".concat(D," ").concat(T)),new Date(rt))},(0,a.__)("Cancel","tutor")),(0,n.Y)(x.A,{variant:"secondary",size:"small",onClick:w.handleSubmit(ut),disabled:!D||!T},(0,a.__)("Ok","tutor")))),H&&!M&&(0,n.Y)("div",{css:tt.scheduleInfoWrapper},(0,n.Y)("div",{css:tt.scheduledFor},(0,n.Y)("div",{css:tt.scheduleLabel},!U?(0,a.__)("Scheduled for","tutor"):(0,a.__)("Scheduled with coming soon","tutor")),(0,n.Y)("div",{css:tt.scheduleInfoButtons},(0,n.Y)("button",{type:"button",css:N.x.actionButton,onClick:it},(0,n.Y)(s.A,{name:"delete",width:24,height:24})),(0,n.Y)("button",{type:"button",css:N.x.actionButton,onClick:function t(){w.setValue("showScheduleForm",true,{shouldDirty:true})}},(0,n.Y)(s.A,{name:"edit",width:24,height:24})))),(0,n.Y)(L.A,{when:D&&T&&(0,b["default"])(new Date("".concat(D," ").concat(T)))},(0,n.Y)("div",{css:tt.scheduleInfo},(0,a.sprintf)((0,a.__)("%s at %s","tutor"),(0,c["default"])((0,y["default"])(D),K.Bd.monthDayYear),T)),(0,n.Y)(L.A,{when:Q===null||Q===void 0?void 0:Q.url},(0,n.Y)(A.A,{value:Q,uploadHandler:W.lQ,clearHandler:W.lQ,disabled:true})))))};const X=(0,H.M)(Z);var tt={scheduleOptions:(0,n.AH)("padding:",D.YK[12],";border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq[8],";gap:",D.YK[8],";background-color:",D.I6.bg.white,";"+(true?"":0),true?"":0),formWrapper:(0,n.AH)(N.x.display.flex("column"),";gap:",D.YK[8],";margin-top:",D.YK[16],";"+(true?"":0),true?"":0),scheduleButtonsWrapper:(0,n.AH)("display:flex;gap:",D.YK[12],";margin-top:",D.YK[8],";button{width:100%;span{justify-content:center;}}"+(true?"":0),true?"":0),scheduleInfoWrapper:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[8],";margin-top:",D.YK[12],";"+(true?"":0),true?"":0),scheduledFor:true?{name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}:0,scheduleLabel:(0,n.AH)(T.I.caption(),";color:",D.I6.text.subdued,";"+(true?"":0),true?"":0),scheduleInfoButtons:(0,n.AH)("display:flex;align-items:center;gap:",D.YK[8],";"+(true?"":0),true?"":0),scheduleInfo:(0,n.AH)(T.I.caption(),";background-color:",D.I6.background.status.processing,";padding:",D.YK[8],";border-radius:",D.Vq[4],";text-align:center;"+(true?"":0),true?"":0),checkboxStartAlign:(0,n.AH)("span:first-of-type{gap:",D.YK[4],";align-self:flex-start;margin-top:",D.YK[4],";}[data-pro-badge]{display:inline-flex;vertical-align:middle;padding-left:",D.YK[4],";}"+(true?"":0),true?"":0)};var et=r(1932);var rt=r(29200);var nt=r(4704);var ot=r(7443);var it=r(82179);var at=r(55077);var ut=r(30015);var lt=r(97286);var ct=r(94747);var st=r(40874);var dt=r(4862);var ft=r(21508);var pt=function t(e){return dt.v.get(ft.A.CATEGORIES,e?{params:{per_page:100,search:e}}:{params:{per_page:100}})};var vt=function t(e){return(0,lt.I)({queryKey:["CategoryList",e],queryFn:function t(){return pt(e).then((function(t){return t.data}))}})};var ht=function t(e){return dt.v.post(ft.A.CATEGORIES,e)};var bt=function t(){var e=(0,o.jE)();var r=(0,st.d)(),n=r.showToast;return(0,ct.n)({mutationFn:ht,onSuccess:function t(){e.invalidateQueries({queryKey:["CategoryList"]})},onError:function t(e){n({type:"danger",message:(0,W.EL)(e)})}})};var mt=r(6502);var yt=r(97011);var gt=r(41594);function _t(t){"@babel/helpers - typeof";return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function wt(t,e,r){return(e=Yt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yt(t){var e=xt(t,"string");return"symbol"==_t(e)?e:e+""}function xt(t,e){if("object"!=_t(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function At(){return At=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},At.apply(null,arguments)}function St(t,e){return Et(t)||kt(t,e)||Ot(t,e)||It()}function It(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ot(t,e){if(t){if("string"==typeof t)return jt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(t,e):void 0}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kt(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Et(t){if(Array.isArray(t))return t}function Pt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Ct=function t(e){var r;var o=e.label,i=e.field,l=e.fieldState,c=e.disabled,d=e.loading,f=e.placeholder,p=e.helpText,v=e.isInlineLabel,h=e.clearable,b=e.listItemsLabel,m=e.optionsWrapperStyle;var y=(0,u.useState)(false),g=St(y,2),_=g[0],w=g[1];var Y=(0,u.useState)(""),A=St(Y,2),S=A[0],I=A[1];var O=(0,ot.d)(S,300);var j=vt(O);var k=(0,W.ww)((r=j.data)!==null&&r!==void 0?r:[]);var E=(0,ut.t)({isOpen:_,isDropdown:true,dependencies:[k.length]}),P=E.triggerRef,C=E.triggerWidth,D=E.position,T=E.popoverRef;(0,u.useEffect)((function(){if(!_){I("")}}),[_]);return(0,n.Y)(mt.A,{label:o,field:i,fieldState:l,disabled:c||k.length===0,loading:d,placeholder:f,helpText:p,isInlineLabel:v},(function(t){var e;return(0,n.Y)(gt.Fragment,null,(0,n.Y)("div",{css:Lt.inputWrapper,ref:P},(0,n.Y)("input",At({},t,{type:"text",onClick:function t(e){e.stopPropagation();w(true)},onKeyDown:function t(e){if(e.key==="Enter"){e.preventDefault();w(true)}if(e.key==="Tab"){w(false)}},autoComplete:"off",readOnly:true,disabled:c||k.length===0,value:i.value?(e=j.data)===null||e===void 0||(e=e.find((function(t){return t.id===i.value})))===null||e===void 0?void 0:e.name:"",placeholder:f})),(0,n.Y)("button",{tabIndex:-1,type:"button",disabled:c||k.length===0,"aria-label":(0,a.__)("Toggle options","tutor"),css:Lt.toggleIcon(_),onClick:function t(){w((function(t){return!t}))}},(0,n.Y)(s.A,{name:"chevronDown",width:20,height:20}))),(0,n.Y)(ut.Z,{isOpen:_,onClickOutside:function t(){return w(false)},onEscape:function t(){return w(false)}},(0,n.Y)("div",{css:[Lt.categoryWrapper,wt(wt({},K.V8?"right":"left",D.left),"top",D.top),true?"":0,true?"":0],ref:T,style:{maxWidth:C}},!!b&&(0,n.Y)("p",{css:Lt.listItemLabel},b),(0,n.Y)("div",{css:Lt.searchInput},(0,n.Y)("div",{css:Lt.searchIcon},(0,n.Y)(s.A,{name:"search",width:24,height:24})),(0,n.Y)("input",{type:"text",placeholder:(0,a.__)("Search","tutor"),value:S,onChange:function t(e){I(e.target.value)}})),(0,n.Y)(L.A,{when:k.length>0,fallback:(0,n.Y)("div",{css:Lt.notFound},(0,a.__)("No categories found.","tutor"))},(0,n.Y)("div",{css:[Lt.options,m,true?"":0,true?"":0]},k.map((function(t){return(0,n.Y)(Dt,{key:t.id,option:t,onChange:function t(e){i.onChange(e);w(false)}})})))),h&&(0,n.Y)("div",{css:Lt.clearButton},(0,n.Y)(x.A,{variant:"text",onClick:function t(){i.onChange(null);w(false)}},(0,a.__)("Clear selection","tutor"))))))}))};const Kt=Ct;var Dt=function t(e){var r=e.option,o=e.onChange,i=e.level,a=i===void 0?0:i;var u=r.children.length>0;var l=function t(){if(!u){return null}return r.children.map((function(t){return(0,n.Y)(Dt,{key:t.id,option:t,onChange:o,level:a+1})}))};return(0,n.Y)("div",{css:Lt.branchItem(a)},(0,n.Y)("button",{type:"button",onClick:function t(){return o(r.id)},title:r.name},(0,W.jT)(r.name)),l())};var Tt=true?{name:"21xn5r",styles:"transform:rotate(180deg)"}:0;var Lt={categoryWrapper:(0,n.AH)("position:absolute;background-color:",D.I6.background.white,";box-shadow:",D.r7.popover,";border-radius:",D.Vq[6],";border:1px solid ",D.I6.stroke.border,";padding:",D.YK[8]," 0;min-width:275px;"+(true?"":0),true?"":0),options:(0,n.AH)("max-height:455px;",N.x.overflowYAuto,";"+(true?"":0),true?"":0),notFound:(0,n.AH)(N.x.display.flex(),";align-items:center;",T.I.caption("regular"),";padding:",D.YK[8]," ",D.YK[16],";color:",D.I6.text.hints,";"+(true?"":0),true?"":0),searchInput:(0,n.AH)("position:sticky;top:0;padding:",D.YK[8]," ",D.YK[16],";input{",T.I.body("regular"),";width:100%;border-radius:",D.Vq[6],";border:1px solid ",D.I6.stroke["default"],";padding:",D.YK[4]," ",D.YK[16]," ",D.YK[4]," ",D.YK[32],";color:",D.I6.text.title,";appearance:textfield;:focus{",N.x.inputFocus,";}}"+(true?"":0),true?"":0),searchIcon:(0,n.AH)("position:absolute;left:",D.YK[24],";top:50%;transform:translateY(-50%);color:",D.I6.icon["default"],";display:flex;"+(true?"":0),true?"":0),branchItem:function t(e){return(0,n.AH)("position:relative;z-index:",D.fE.positive,";button{",N.x.resetButton,";",T.I.body("regular"),";",N.x.text.ellipsis(1),";color:",D.I6.text.title,";padding-left:calc(",D.YK[24]," + ",D.YK[24]," * ",e,");line-height:",D.K_[36],";padding-right:",D.YK[16],";width:100%;&:hover,&:focus,&:active{background-color:",D.I6.background.hover,";color:",D.I6.text.title,";}}"+(true?"":0),true?"":0)},toggleIcon:function t(e){return(0,n.AH)(N.x.resetButton,";position:absolute;top:",D.YK[4],";right:",D.YK[4],";display:flex;align-items:center;transition:transform 0.3s ease-in-out;color:",D.I6.icon["default"],";padding:",D.YK[6],";&:focus,&:active,&:hover{background:none;color:",D.I6.icon["default"],";}",e&&Tt,";"+(true?"":0),true?"":0)},inputWrapper:true?{name:"137a3a8",styles:"position:relative;input:read-only{background-color:inherit;}"}:0,clearButton:(0,n.AH)("padding:",D.YK[8]," ",D.YK[24],";box-shadow:",D.r7.dividerTop,";&>button{padding:0;}"+(true?"":0),true?"":0),listItemLabel:(0,n.AH)(T.I.caption(),";font-weight:",D.Wy.medium,";background-color:",D.I6.background.white,";color:",D.I6.text.hints,";padding:",D.YK[10]," ",D.YK[16],";"+(true?"":0),true?"":0),radioLabel:(0,n.AH)("line-height:",D.K_[32],";padding-left:",D.YK[2],";"+(true?"":0),true?"":0)};var Ht=r(41594);function Nt(t){"@babel/helpers - typeof";return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Wt(){return Wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wt.apply(null,arguments)}function Ft(t){return qt(t)||Rt(t)||Jt(t)||Bt()}function Bt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rt(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function qt(t){if(Array.isArray(t))return Zt(t)}function Mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(r),!0).forEach((function(e){Vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vt(t,e,r){return(e=Gt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gt(t){var e=zt(t,"string");return"symbol"==Nt(e)?e:e+""}function zt(t,e){if("object"!=Nt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Qt(t,e){return te(t)||Xt(t,e)||Jt(t,e)||$t()}function $t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jt(t,e){if(t){if("string"==typeof t)return Zt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zt(t,e):void 0}}function Zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Xt(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function te(t){if(Array.isArray(t))return t}var ee=function t(e){var r;var o=e.label,i=e.field,c=e.fieldState,d=e.disabled,f=e.loading,p=e.placeholder,v=e.helpText,h=e.optionsWrapperStyle;var b=(0,it.p)({shouldFocusError:true});var m=b.watch("search");var y=(0,ot.d)(m,300);var g=vt(y);var _=bt();var w=(0,u.useState)(false),Y=Qt(w,2),A=Y[0],S=Y[1];var I=(0,u.useState)(false),O=Qt(I,2),j=O[0],k=O[1];var E=(0,at.$)(),P=E.ref,C=E.isScrolling;(0,u.useEffect)((function(){if(!g.isLoading&&(g.data||[]).length>0){k(true)}}),[g.isLoading,g.data]);(0,u.useEffect)((function(){if(A){var t=setTimeout((function(){b.setFocus("name")}),250);return function(){clearTimeout(t)}}}),[A]);var D=(0,ut.t)({isOpen:A}),T=D.triggerRef,H=D.position,N=D.popoverRef;var F=(0,W.ww)((r=g.data)!==null&&r!==void 0?r:[]);var B=function t(){S(false);b.reset({name:"",parent:null,search:m})};var R=function t(e){if(e.name){_.mutate(Ut({name:e.name},e.parent&&{parent:e.parent}));B()}};return(0,n.Y)(mt.A,{label:o,field:i,fieldState:c,loading:f,placeholder:p,helpText:v},(function(){return(0,n.Y)(Ht.Fragment,null,(0,n.Y)("div",{css:[ie.options,h,true?"":0,true?"":0]},(0,n.Y)("div",{css:ie.categoryListWrapper,ref:P},(0,n.Y)(L.A,{when:!d&&(j||y)},(0,n.Y)(l.xI,{name:"search",control:b.control,render:function t(e){return(0,n.Y)("div",{css:ie.searchInput},(0,n.Y)("div",{css:ie.searchIcon},(0,n.Y)(s.A,{name:"search",width:24,height:24})),(0,n.Y)("input",{type:"text",placeholder:(0,a.__)("Search","tutor"),value:m,disabled:d||f,onChange:function t(r){e.field.onChange(r.target.value)}}))}})),(0,n.Y)(L.A,{when:!g.isLoading&&!f,fallback:(0,n.Y)(nt.YE,null)},(0,n.Y)(L.A,{when:F.length>0,fallback:(0,n.Y)("span",{css:ie.notFound},(0,a.__)("No categories found.","tutor"))},F.map((function(t,e){return(0,n.Y)(oe,{key:t.id,disabled:d,option:t,value:i.value,isLastChild:e===F.length-1,onChange:function t(e){i.onChange((0,et.jM)(i.value,(function(t){if(Array.isArray(t)){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Ft(t),[e])}return[e]})))}})}))))),(0,n.Y)(L.A,{when:!d},(0,n.Y)("div",{ref:T,css:ie.addButtonWrapper({isActive:C,hasCategories:g.isLoading||F.length>0})},(0,n.Y)("button",{disabled:d||f,type:"button",css:ie.addNewButton,onClick:function t(){return S(true)}},(0,n.Y)(s.A,{width:24,height:24,name:"plus"})," ",(0,a.__)("Add","tutor"))))),(0,n.Y)(ut.Z,{isOpen:A,onClickOutside:B,onEscape:B},(0,n.Y)("div",{css:[ie.categoryFormWrapper,Vt(Vt({},K.V8?"right":"left",H.left),"top",H.top),true?"":0,true?"":0],ref:N},(0,n.Y)(l.xI,{name:"name",control:b.control,rules:{required:(0,a.__)("Category name is required","tutor")},render:function t(e){return(0,n.Y)(yt.A,Wt({},e,{placeholder:(0,a.__)("Category name","tutor"),selectOnFocus:true}))}}),(0,n.Y)(l.xI,{name:"parent",control:b.control,render:function t(e){return(0,n.Y)(Kt,Wt({},e,{placeholder:(0,a.__)("Select parent","tutor"),clearable:!!e.field.value}))}}),(0,n.Y)("div",{css:ie.categoryFormButtons},(0,n.Y)(x.A,{variant:"text",size:"small",onClick:B},(0,a.__)("Cancel","tutor")),(0,n.Y)(x.A,{variant:"secondary",size:"small",loading:_.isPending,onClick:b.handleSubmit(R)},(0,a.__)("Ok","tutor"))))))}))};const re=(0,H.M)(ee);var ne=function t(e){return e.children.reduce((function(t,e){return t+ne(e)}),e.children.length)};var oe=function t(e){var r=e.option,o=e.value,i=e.onChange,a=e.isLastChild,u=e.disabled;var l=ne(r);var c=l>0;var s=(0,W.oj)(a,l);var d=function t(){if(!c){return null}return r.children.map((function(t,e){return(0,n.Y)(oe,{key:t.id,option:t,value:o,onChange:i,isLastChild:e===r.children.length-1,disabled:u})}))};return(0,n.Y)("div",{css:ie.branchItem({leftBarHeight:s,hasParent:r.parent!==0})},(0,n.Y)(rt.A,{checked:Array.isArray(o)?o.includes(r.id):o===r.id,label:(0,W.jT)(r.name),onChange:function t(){i(r.id)},labelCss:ie.checkboxLabel,disabled:u}),d())};var ie={options:(0,n.AH)("border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq[8],";padding:",D.YK[8]," 0;background-color:",D.I6.bg.white,";"+(true?"":0),true?"":0),categoryListWrapper:(0,n.AH)(N.x.overflowYAuto,";max-height:208px;"+(true?"":0),true?"":0),notFound:(0,n.AH)(N.x.display.flex(),";align-items:center;",T.I.caption("regular"),";padding:",D.YK[8]," ",D.YK[16],";color:",D.I6.text.hints,";"+(true?"":0),true?"":0),searchInput:(0,n.AH)("position:sticky;top:0;padding:",D.YK[4]," ",D.YK[16],";background-color:",D.I6.background.white,";z-index:",D.fE.dropdown,";input{",T.I.body("regular"),";width:100%;border-radius:",D.Vq[6],";border:1px solid ",D.I6.stroke["default"],";padding:",D.YK[4]," ",D.YK[16]," ",D.YK[4]," ",D.YK[32],";color:",D.I6.text.title,";appearance:textfield;:focus{",N.x.inputFocus,";}}"+(true?"":0),true?"":0),searchIcon:(0,n.AH)("position:absolute;left:",D.YK[24],";top:50%;transform:translateY(-50%);color:",D.I6.icon["default"],";display:flex;"+(true?"":0),true?"":0),checkboxLabel:(0,n.AH)("line-height:1.88rem!important;span:last-of-type{",N.x.text.ellipsis(1),";}"+(true?"":0),true?"":0),branchItem:function t(e){var r=e.leftBarHeight,o=e.hasParent;return(0,n.AH)("line-height:",D.YK[32],";position:relative;z-index:",D.fE.positive,";margin-inline:",D.YK[20]," ",D.YK[16],";&:after{content:'';position:absolute;height:",r,";width:1px;left:9px;top:26px;background-color:",D.I6.stroke.divider,";z-index:",D.fE.level,";}",o&&(0,n.AH)("&:before{content:'';position:absolute;height:1px;width:10px;left:-10px;top:",D.YK[16],";background-color:",D.I6.stroke.divider,";z-index:",D.fE.level,";}"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},addNewButton:(0,n.AH)(N.x.resetButton,";",T.I.small("medium"),";color:",D.I6.brand.blue,";padding:0 ",D.YK[8],";display:flex;align-items:center;border-radius:",D.Vq[2],";&:focus,&:active,&:hover{background:none;color:",D.I6.brand.blue,";}&:focus-visible{outline:2px solid ",D.I6.stroke.brand,";outline-offset:1px;}&:disabled{color:",D.I6.text.disable,";}"+(true?"":0),true?"":0),categoryFormWrapper:(0,n.AH)("position:absolute;background-color:",D.I6.background.white,";box-shadow:",D.r7.popover,";border-radius:",D.Vq[6],";border:1px solid ",D.I6.stroke.border,";padding:",D.YK[16],";min-width:306px;display:flex;flex-direction:column;gap:",D.YK[12],";"+(true?"":0),true?"":0),categoryFormButtons:(0,n.AH)("display:flex;justify-content:end;gap:",D.YK[8],";"+(true?"":0),true?"":0),addButtonWrapper:function t(e){var r=e.isActive,o=r===void 0?false:r,i=e.hasCategories,a=i===void 0?false:i;return(0,n.AH)("transition:box-shadow 0.3s ease-in-out;padding-inline:",D.YK[8],";padding-block:",a?D.YK[4]:"0px",";",o&&(0,n.AH)("box-shadow:",D.r7.scrollable,";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)}};var ae=r(55435);var ue=r(47855);const le=r.p+"images/92fb1ef207f274b44e6d8c8d4c539329-profile-photo.png";function ce(t){"@babel/helpers - typeof";return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}var se=["css"];function de(){return de=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},de.apply(null,arguments)}function fe(t,e){if(null==t)return{};var r,n,o=pe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function pe(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}function ve(t){return me(t)||be(t)||Se(t)||he()}function he(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function be(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function me(t){if(Array.isArray(t))return Ie(t)}function ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(r),!0).forEach((function(e){_e(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _e(t,e,r){return(e=we(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t){var e=Ye(t,"string");return"symbol"==ce(e)?e:e+""}function Ye(t,e){if("object"!=ce(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function xe(t,e){return je(t)||Oe(t,e)||Se(t,e)||Ae()}function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(t,e){if(t){if("string"==typeof t)return Ie(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(t,e):void 0}}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Oe(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function je(t){if(Array.isArray(t))return t}function ke(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Ee={id:0,name:(0,a.__)("Click to select user","tutor"),email:"example@example.com",avatar_url:"https://gravatar.com/avatar"};var Pe=function t(e){var r,o;var i=e.field,l=e.fieldState,c=e.options,d=e.onChange,f=d===void 0?W.lQ:d,p=e.handleSearchOnChange,v=e.isMultiSelect,h=v===void 0?false:v,b=e.label,m=e.placeholder,y=m===void 0?"":m,g=e.disabled,_=e.readOnly,w=e.loading,Y=e.isSearchable,x=Y===void 0?false:Y,A=e.helpText,S=e.emptyStateText,I=S===void 0?(0,a.__)("No user selected","tutor"):S,O=e.isInstructorMode,j=O===void 0?false:O;var k=(r=i.value)!==null&&r!==void 0?r:h?[]:Ee;var E=Array.isArray(k)?k.map((function(t){return String(t.id)})):[String(k.id)];var P=(o=C.P.current_user.roles)===null||o===void 0?void 0:o.includes(K.gt.ADMINISTRATOR);var D=(0,u.useState)(false),T=xe(D,2),H=T[0],N=T[1];var F=(0,u.useState)(""),B=xe(F,2),R=B[0],q=B[1];var M=(0,ot.d)(R);var U=c.filter((function(t){var e,r;var n=((e=t.name)===null||e===void 0?void 0:e.toLowerCase().includes(R.toLowerCase()))||((r=t.email)===null||r===void 0?void 0:r.toLowerCase().includes(R.toLowerCase()));var o=!E.includes(String(t.id));return n&&o}))||[];(0,u.useEffect)((function(){if(p){p(M)}else{}}),[M,p]);var V=(0,ut.t)({isOpen:H,isDropdown:true,dependencies:[U.length]}),G=V.triggerRef,z=V.triggerWidth,Q=V.position,$=V.popoverRef;var J=(0,ue.v)({options:U.map((function(t){return{label:t.name,value:t}})),isOpen:H,onSelect:function t(e){tt(e.value)},onClose:function t(){N(false);q("")},selectedValue:Array.isArray(k)?null:k}),Z=J.activeIndex,X=J.setActiveIndex;var tt=function t(e){var r=j?ge(ge({},e),{},{isRemoveAble:true}):e;var n=Array.isArray(k)?[].concat(ve(k),[r]):r;i.onChange(n);q("");f(n);N(false)};var et=function t(e){if(Array.isArray(k)){var r=k.filter((function(t){return t.id!==e}));i.onChange(r);f(r)}};var rt=(0,u.useRef)(null);(0,u.useEffect)((function(){if(H&&Z>=0&&rt.current){rt.current.scrollIntoView({block:"nearest",behavior:"smooth"})}}),[H,Z]);return(0,n.Y)(mt.A,{fieldState:l,field:i,label:b,disabled:g,readOnly:_,loading:w,helpText:A},(function(t){var e=t.css,r=fe(t,se);return(0,n.Y)("div",{css:De.mainWrapper},(0,n.Y)("div",{ref:G},!h&&!Array.isArray(k)&&(0,n.Y)("button",{type:"button",css:De.instructorItem({isDefaultItem:true}),onClick:function t(){return N((function(t){return!t}))},disabled:_||g||U.length===0},(0,n.Y)("div",{css:De.instructorInfo},(0,n.Y)("img",{src:k.avatar_url?k.avatar_url:le,alt:k.name,css:De.instructorAvatar}),(0,n.Y)("div",null,(0,n.Y)("div",{css:De.instructorName},k.name),(0,n.Y)("div",{css:De.instructorEmail},k.email))),(0,n.Y)(L.A,{when:!w},(0,n.Y)("div",{css:De.toggleIcon({isOpen:H})},(0,n.Y)(s.A,{name:"chevronDown",width:20,height:20})))),h&&(0,n.Y)("div",{css:De.inputWrapper},(0,n.Y)("div",{css:De.leftIcon},(0,n.Y)(s.A,{name:"search",width:24,height:24})),(0,n.Y)("input",de({},r,{onClick:function t(e){e.stopPropagation();N((function(t){return!t}))},onKeyDown:function t(e){if(e.key==="Enter"){e.preventDefault();N((function(t){return!t}))}if(e.key==="Tab"){N(false)}},className:"tutor-input-field",css:[e,De.input,true?"":0,true?"":0],autoComplete:"off",readOnly:_||!x,placeholder:y,value:R,onChange:function t(e){q(e.target.value)}})))),h&&Array.isArray(k)&&(k.length>0?(0,n.Y)("div",{css:De.instructorList},k.map((function(t){return(0,n.Y)("div",{key:t.id,css:De.instructorItem({isDefaultItem:false})},(0,n.Y)("div",{css:De.instructorInfo},(0,n.Y)("img",{src:t.avatar_url?t.avatar_url:le,alt:t.name,css:De.instructorAvatar}),(0,n.Y)("div",null,(0,n.Y)("div",{css:De.instructorName},t.name),(0,n.Y)("div",{css:De.instructorEmail},t.email))),(0,n.Y)(L.A,{when:j,fallback:(0,n.Y)("button",{type:"button",onClick:function e(){return et(t.id)},css:De.instructorDeleteButton,"data-instructor-delete-button":true},(0,n.Y)(s.A,{name:"cross",width:32,height:32}))},(0,n.Y)(L.A,{when:P||t.isRemoveAble},(0,n.Y)("button",{type:"button",onClick:function e(){return et(t.id)},css:De.instructorDeleteButton,"data-instructor-delete-button":true},(0,n.Y)(s.A,{name:"cross",width:32,height:32})))))}))):(0,n.Y)("div",{css:De.emptyState},(0,n.Y)("p",null,I))),(0,n.Y)(ut.Z,{isOpen:H,onClickOutside:function t(){N(false);q("")},onEscape:function t(){N(false);q("")}},(0,n.Y)("div",{css:[De.optionsWrapper,_e(_e(_e({},K.V8?"right":"left",Q.left),"top",Q.top),"maxWidth",z),true?"":0,true?"":0],ref:$},(0,n.Y)("ul",{css:[De.options,true?"":0,true?"":0]},!h&&(0,n.Y)("li",{css:De.inputWrapperListItem},(0,n.Y)("div",{css:[De.inputWrapper,De.portalInputWrapper,true?"":0,true?"":0]},(0,n.Y)("div",{css:De.leftIcon},(0,n.Y)(s.A,{name:"search",width:24,height:24})),(0,n.Y)("input",de({},r,{autoFocus:true,className:"tutor-input-field",css:[e,De.input,true?"":0,true?"":0],autoComplete:"off",readOnly:_||!x,placeholder:y,value:R,onChange:function t(e){q(e.target.value)}})))),(0,n.Y)(L.A,{when:U.length>0,fallback:(0,n.Y)("li",{css:De.noUserFound},(0,n.Y)("p",null,(0,a.__)("No user found","tutor")))},U.map((function(t,e){return(0,n.Y)("li",{key:String(t.id),css:De.optionItem,"data-active":Z===e,onMouseOver:function t(){return X(e)},onMouseLeave:function t(){return e!==Z&&X(-1)},ref:Z===e?rt:null,onFocus:function t(){return X(e)}},(0,n.Y)("button",{type:"button",css:De.label,onClick:function e(){var r=j?ge(ge({},t),{},{isRemoveAble:true}):t;var n=Array.isArray(k)?[].concat(ve(k),[r]):r;i.onChange(n);q("");f(n);N(false)},"aria-selected":Z===e},(0,n.Y)("img",{src:t.avatar_url?t.avatar_url:le,alt:t.name,css:De.instructorAvatar}),(0,n.Y)("div",null,(0,n.Y)("div",{css:De.instructorName},t.name),(0,n.Y)("div",{css:De.instructorEmail},t.email))))})))))))}))};const Ce=(0,H.M)(Pe);var Ke=true?{name:"21xn5r",styles:"transform:rotate(180deg)"}:0;var De={mainWrapper:true?{name:"1d3w5wq",styles:"width:100%"}:0,inputWrapper:true?{name:"1712kcx",styles:"width:100%;display:flex;justify-content:space-between;align-items:center;position:relative"}:0,portalInputWrapper:(0,n.AH)("padding:",D.YK[8],";"+(true?"":0),true?"":0),inputWrapperListItem:true?{name:"wrog09",styles:"position:sticky;top:0px;padding:0px;background-color:inherit"}:0,leftIcon:(0,n.AH)("position:absolute;left:",D.YK[12],";top:50%;transform:translateY(-50%);color:",D.I6.icon["default"],";display:flex;"+(true?"":0),true?"":0),input:(0,n.AH)(T.I.body(),";width:100%;padding-right:",D.YK[32],";padding-left:",D.YK[36],";",N.x.textEllipsis,";border-color:transparent;:focus{outline:none;box-shadow:none;}&.tutor-input-field{padding-right:",D.YK[32],";padding-left:",D.YK[36],";}"+(true?"":0),true?"":0),instructorList:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[8],";margin-top:",D.YK[8],";"+(true?"":0),true?"":0),instructorItem:function t(e){var r=e.isDefaultItem,o=r===void 0?false:r;return(0,n.AH)(N.x.resetButton,";position:relative;width:100%;display:flex;align-items:center;justify-content:space-between;padding:",D.YK[8]," ",D.YK[16]," ",D.YK[8]," ",D.YK[12],";border:1px solid transparent;border-radius:",D.Vq.input,";background-color:",D.I6.bg.white,";&:hover,&:focus,&:active{background-color:",D.I6.bg.white,";}&:focus{outline:2px solid ",D.I6.stroke.brand,";outline-offset:1px;}",o&&(0,n.AH)("border-color:",D.I6.stroke["default"],";cursor:pointer;"+(true?"":0),true?"":0)," &:hover{border-color:",D.I6.stroke.divider,";[data-instructor-delete-button]{opacity:1;}}",D.EA.smallTablet,"{[data-instructor-delete-button]{opacity:1;}}"+(true?"":0),true?"":0)},instructorInfo:(0,n.AH)("display:flex;align-items:center;gap:",D.YK[10],";"+(true?"":0),true?"":0),instructorAvatar:(0,n.AH)("height:40px;width:40px;border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq.circle,";"+(true?"":0),true?"":0),instructorName:(0,n.AH)(T.I.caption(),";display:flex;align-items:center;gap:",D.YK[4],";"+(true?"":0),true?"":0),instructorEmail:(0,n.AH)(T.I.small(),";color:",D.I6.text.subdued,";"+(true?"":0),true?"":0),optionsWrapper:true?{name:"1n0kzcr",styles:"position:absolute;width:100%"}:0,instructorDeleteButton:(0,n.AH)(N.x.crossButton,";color:",D.I6.icon["default"],";opacity:0;transition:none;&:hover,&:focus,&:active{background-color:",D.I6.bg.white,";}&:focus{box-shadow:",D.r7.focus,";}:focus-visible{opacity:1;}"+(true?"":0),true?"":0),options:(0,n.AH)("z-index:",D.fE.dropdown,";background-color:",D.I6.background.white,";list-style-type:none;box-shadow:",D.r7.popover,";margin:",D.YK[4]," 0;margin:0;max-height:400px;border:1px solid ",D.I6.stroke.border,";border-radius:",D.Vq[6],";",N.x.overflowYAuto,";scrollbar-gutter:auto;min-width:200px;"+(true?"":0),true?"":0),optionItem:(0,n.AH)(T.I.body(),";min-height:36px;height:100%;width:100%;display:flex;align-items:center;transition:background-color 0.3s ease-in-out;cursor:pointer;&[data-active='true']{background-color:",D.I6.background.hover,";}&:hover{background-color:",D.I6.background.hover,";}"+(true?"":0),true?"":0),label:(0,n.AH)(N.x.resetButton,";width:100%;height:100%;display:flex;gap:",D.YK[8],";padding:",D.YK[8]," ",D.YK[12],";text-align:left;line-height:",D.K_[24],";word-break:break-all;cursor:pointer;&:hover,&:focus,&:active{background:none;}&:focus-visible{outline:2px solid ",D.I6.stroke.brand,";outline-offset:-2px;border-radius:",D.Vq[6],";}"+(true?"":0),true?"":0),optionsContainer:true?{name:"v7yk7c",styles:"position:absolute;overflow:hidden auto;min-width:16px;min-height:16px;max-width:calc(100% - 32px);max-height:calc(100% - 32px)"}:0,toggleIcon:function t(e){var r=e.isOpen,o=r===void 0?false:r;return(0,n.AH)("position:absolute;top:0;bottom:0;right:",D.YK[8],";",N.x.flexCenter(),";color:",D.I6.icon["default"],";transition:transform 0.3s ease-in-out;",o&&Ke,";"+(true?"":0),true?"":0)},noUserFound:(0,n.AH)("padding:",D.YK[8],";text-align:center;"+(true?"":0),true?"":0),emptyState:(0,n.AH)(N.x.flexCenter(),";",T.I.caption(),";margin-top:",D.YK[8],";padding:",D.YK[8],";background-color:",D.I6.background.white,";border:1px solid ",D.I6.stroke.divider,";border-radius:",D.Vq[4],";"+(true?"":0),true?"":0)};function Te(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Le=function t(e){var r=e.label,o=e.onClick,i=o===void 0?W.lQ:o,a=e.showIcon,u=a===void 0?true:a,l=e.icon,c=l===void 0?(0,n.Y)(s.A,{name:"cross",width:20,height:20}):l,d=e.isClickable;if(d){return(0,n.Y)("button",{type:"button",css:We.wrapper({hasIcon:u,isClickable:true}),onClick:i},(0,n.Y)("div",{css:We.label},r),u&&(0,n.Y)("div",{css:We.iconWrapper,"data-icon-wrapper":true},c))}return(0,n.Y)("div",{css:We.wrapper({hasIcon:u,isClickable:false})},(0,n.Y)("div",{css:We.label},r),u&&(0,n.Y)("button",{type:"button",css:We.iconWrapper,onClick:i,"data-icon-wrapper":true},c))};const He=Le;var Ne=true?{name:"14unf7p",styles:"cursor:inherit"}:0;var We={wrapper:function t(e){var r=e.hasIcon,o=r===void 0?false:r,i=e.isClickable;return(0,n.AH)(N.x.resetButton,";background-color:#e4e5e7;border-radius:",D.Vq[24],";padding:",D.YK[4]," ",D.YK[8],";min-height:24px;transition:background-color 0.3s ease;",!i&&Ne," ",o&&(0,n.AH)("display:flex;justify-content:center;align-items:center;gap:",D.YK[2],";padding:",D.YK[4]," ",D.YK[8]," ",D.YK[4]," ",D.YK[12],";"+(true?"":0),true?"":0)," :hover{[data-icon-wrapper]{>svg{color:",D.I6.icon.hover,";}}}"+(true?"":0),true?"":0)},label:(0,n.AH)(T.I.caption(),";"+(true?"":0),true?"":0),iconWrapper:(0,n.AH)(N.x.resetButton,";border-radius:",D.Vq.circle,";transition:background-color 0.3s ease;height:20px;width:20px;text-align:center;&:focus,&:active,&:hover{background:none;}svg{color:",D.I6.icon["default"],";transition:color 0.3s ease;}"+(true?"":0),true?"":0)};var Fe=function t(e){return dt.v.get(ft.A.TAGS,{params:e})};var Be=function t(e){return(0,lt.I)({queryKey:["TagList",e],queryFn:function t(){return Fe(e).then((function(t){return t.data}))}})};var Re=function t(e){return dt.v.post(ft.A.TAGS,e)};var qe=function t(){var e=(0,o.jE)();var r=(0,st.d)(),n=r.showToast;return(0,ct.n)({mutationFn:Re,onSuccess:function t(){e.invalidateQueries({queryKey:["TagList"]})},onError:function t(e){n({type:"danger",message:(0,W.EL)(e)})}})};function Me(t){"@babel/helpers - typeof";return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}var Ue=["css"];function Ve(t,e,r){return(e=Ge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ge(t){var e=ze(t,"string");return"symbol"==Me(e)?e:e+""}function ze(t,e){if("object"!=Me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qe.apply(null,arguments)}function $e(t,e){if(null==t)return{};var r,n,o=Je(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Je(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}function Ze(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ze=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function t(e,r,n){return e[r]=n}}function s(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new E(n||[]);return o(a,"_invoke",{value:I(t,r,u)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",v="executing",h="completed",b={};function m(){}function y(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,Y=w&&w(w(P([])));Y&&Y!==r&&n.call(Y,a)&&(_=Y);var x=g.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var l=d(t[o],t,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==Me(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function I(e,r,n){var o=f;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var l=O(u,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?h:p,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Me(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(S.prototype),c(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,E.prototype={constructor:E,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return l.type="throw",l.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],l=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),b},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),b}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:P(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function Xe(t,e,r,n,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(n,o)}function tr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xe(i,n,o,a,u,"next",t)}function u(t){Xe(i,n,o,a,u,"throw",t)}a(void 0)}))}}function er(t){return or(t)||nr(t)||ur(t)||rr()}function rr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nr(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function or(t){if(Array.isArray(t))return lr(t)}function ir(t,e){return sr(t)||cr(t,e)||ur(t,e)||ar()}function ar(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ur(t,e){if(t){if("string"==typeof t)return lr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lr(t,e):void 0}}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function cr(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function sr(t){if(Array.isArray(t))return t}function dr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var fr=function t(e){var r,o,i;var l=e.field,c=e.fieldState,d=e.label,f=e.placeholder,p=f===void 0?"":f,v=e.disabled,h=e.readOnly,b=e.loading,m=e.helpText,y=e.removeOptionsMinWidth,g=y===void 0?false:y;var _=(r=l.value)!==null&&r!==void 0?r:[];var w=(0,u.useState)(""),Y=ir(w,2),x=Y[0],A=Y[1];var S=(0,ot.d)(x);var I=(0,u.useState)(false),O=ir(I,2),j=O[0],k=O[1];var E=Be({search:S});var P=qe();var C=(0,ut.t)({isOpen:j,isDropdown:true,dependencies:[(o=E.data)===null||o===void 0?void 0:o.length]}),D=C.triggerRef,T=C.triggerWidth,H=C.position,N=C.popoverRef;var F=(i=E.data)!==null&&i!==void 0?i:[];var B=function t(e,r){if(e){l.onChange([].concat(er(_),[r]))}else{l.onChange(_.filter((function(t){return t.id!==r.id})))}};var R=function(){var t=tr(Ze().mark((function t(){var e;return Ze().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:if(!x.length){r.next=7;break}r.next=3;return P.mutateAsync({name:x});case 3:e=r.sent;l.onChange([].concat(er(_),[e.data]));k(false);A("");case 7:case"end":return r.stop()}}),t)})));return function e(){return t.apply(this,arguments)}}();return(0,n.Y)(mt.A,{fieldState:c,field:l,label:d,disabled:v,readOnly:h,loading:b,helpText:m},(function(t){var e=t.css,r=$e(t,Ue);return(0,n.Y)("div",{css:hr.mainWrapper},(0,n.Y)("div",{css:hr.inputWrapper,ref:D},(0,n.Y)("input",Qe({},r,{css:[e,hr.input,true?"":0,true?"":0],onClick:function t(e){e.stopPropagation();k((function(t){return!t}))},onKeyDown:function t(e){if(e.key==="Enter"){e.preventDefault();k((function(t){return!t}))}if(e.key==="Tab"){k(false)}},autoComplete:"off",readOnly:h,placeholder:p,value:x,onChange:function t(e){A(e.target.value)}}))),_.length>0&&(0,n.Y)("div",{css:hr.tagsWrapper},_.map((function(t){return(0,n.Y)(He,{key:t.id,label:(0,W.jT)(t.name),onClick:function e(){return B(false,t)}})}))),(0,n.Y)(ut.Z,{isOpen:j,onClickOutside:function t(){return k(false)},onEscape:function t(){return k(false)}},(0,n.Y)("div",{css:[hr.optionsWrapper,Ve(Ve(Ve({},K.V8?"right":"left",H.left),"top",H.top),"maxWidth",T),true?"":0,true?"":0],ref:N},(0,n.Y)("ul",{css:[hr.options(g),true?"":0,true?"":0]},x.length>0&&(0,n.Y)("li",null,(0,n.Y)("button",{type:"button",css:hr.addTag,onClick:R},(0,n.Y)(s.A,{name:"plus",width:24,height:24}),(0,n.Y)("strong",null,(0,a.__)("Add","tutor"))," ",x)),(0,n.Y)(L.A,{when:F.length>0,fallback:(0,n.Y)("div",{css:hr.notTag},(0,a.__)("No tag created yet.","tutor"))},F.map((function(t){return(0,n.Y)("li",{key:String(t.id),css:hr.optionItem},(0,n.Y)(rt.A,{label:(0,W.jT)(t.name),checked:!!_.find((function(e){return e.id===t.id})),onChange:function e(r){return B(r,t)}}))})))))))}))};const pr=(0,H.M)(fr);var vr=true?{name:"16gsvie",styles:"min-width:200px"}:0;var hr={mainWrapper:true?{name:"1d3w5wq",styles:"width:100%"}:0,notTag:(0,n.AH)(T.I.caption(),";min-height:80px;display:flex;justify-content:center;align-items:center;color:",D.I6.text.subdued,";"+(true?"":0),true?"":0),inputWrapper:true?{name:"1712kcx",styles:"width:100%;display:flex;justify-content:space-between;align-items:center;position:relative"}:0,input:(0,n.AH)(T.I.body(),";width:100%;",N.x.textEllipsis,";:focus{outline:none;box-shadow:",D.r7.focus,";}"+(true?"":0),true?"":0),tagsWrapper:(0,n.AH)("display:flex;flex-wrap:wrap;align-items:center;gap:",D.YK[4],";margin-top:",D.YK[8],";"+(true?"":0),true?"":0),optionsWrapper:true?{name:"1n0kzcr",styles:"position:absolute;width:100%"}:0,options:function t(e){return(0,n.AH)("z-index:",D.fE.dropdown,";background-color:",D.I6.background.white,";list-style-type:none;box-shadow:",D.r7.popover,";padding:",D.YK[4]," 0;margin:0;max-height:400px;border:1px solid ",D.I6.stroke.border,";border-radius:",D.Vq[6],";",N.x.overflowYAuto,";scrollbar-gutter:auto;",!e&&vr,";"+(true?"":0),true?"":0)},optionItem:(0,n.AH)("min-height:40px;height:100%;width:100%;display:flex;align-items:center;padding:",D.YK[8],";transition:background-color 0.3s ease-in-out;label{width:100%;}&:hover{background-color:",D.I6.background.hover,";}"+(true?"":0),true?"":0),addTag:(0,n.AH)(N.x.resetButton,";",T.I.body()," line-height:",D.K_[24],";display:flex;align-items:center;gap:",D.YK[4],";width:100%;padding:",D.YK[8],";&:focus,&:active,&:hover{background-color:",D.I6.background.hover,";color:",D.I6.text.primary,";}"+(true?"":0),true?"":0)};var br=r(31652);var mr=function t(e){return dt.b.get(ft.A.USERS_LIST,{params:{filter:{search:e,role:[K.gt.ADMINISTRATOR,K.gt.TUTOR_INSTRUCTOR]}}})};var yr=function t(e){return(0,lt.I)({queryKey:["UserList",e],queryFn:function t(){return mr(e).then((function(t){return t.data.results.map((function(t){return{id:t.id,name:t.display_name,email:t.user_email,avatar_url:t.avatar_url}}))}))}})};var gr=function t(e){return dt.b.get(ft.A.TUTOR_INSTRUCTOR_SEARCH,{params:{course_id:e}}).then((function(t){return t.data}))};var _r=function t(e,r){return(0,lt.I)({queryKey:["InstructorList",e],queryFn:function t(){return gr(e).then((function(t){return t.map((function(t){return{id:t.id,name:t.display_name,email:t.user_email,avatar_url:t.avatar_url}}))}))},enabled:r})};var wr=r(47767);var Yr=r(83788);var xr=r(30437);var Ar=r(70396);var Sr=r(33191);var Ir=r(50707);var Or=r(15871);var jr=r(18831);var kr=r(43627);var Er=r(75206);var Pr=r(75382);const Cr=r.p+"images/8883d834437ecd54063a38ba8ec0ef37-subscriptions-empty-state-2x.webp";const Kr=r.p+"images/026952ce6dfdf3da34dc55d99f241520-subscriptions-empty-state.webp";function Dr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Tr=function t(e){var r=e.onCreateSubscription;return(0,n.Y)("div",{css:Lr.wrapper},(0,n.Y)("div",{css:Lr.banner},(0,n.Y)("img",{src:Kr,srcSet:"".concat(Kr," ").concat(Cr," 2x"),alt:(0,a.__)("Empty state banner","tutor")})),(0,n.Y)("div",{css:Lr.content},(0,n.Y)("h5",null,(0,a.__)("Boost Revenue with Subscriptions","tutor")),(0,n.Y)("p",null,(0,a.__)("Offer flexible subscription plans to maximize your earnings and provide students with affordable access to your courses.","tutor"))),(0,n.Y)("div",{css:Lr.action},(0,n.Y)(x.A,{variant:"secondary",icon:(0,n.Y)(s.A,{name:"plusSquareBrand",width:24,height:24}),onClick:r},(0,a.__)("Add Subscription","tutor"))))};var Lr={wrapper:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[32],";justify-content:center;max-width:640px;width:100%;padding-block:",D.YK[40],";margin-inline:auto;"+(true?"":0),true?"":0),content:(0,n.AH)("display:grid;gap:",D.YK[12],";text-align:center;max-width:566px;width:100%;margin:0 auto;h5{",T.I.heading5("medium"),";color:",D.I6.text.primary,";}p{",T.I.caption(),";color:",D.I6.text.hints,";}"+(true?"":0),true?"":0),action:true?{name:"zl1inp",styles:"display:flex;justify-content:center"}:0,banner:(0,n.AH)("width:100%;height:232px;background-color:",D.I6.background.status.drip,";display:flex;align-items:center;justify-content:center;border-radius:",D.Vq[8],";position:relative;overflow:hidden;img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;}"+(true?"":0),true?"":0)};var Hr=r(74979);var Nr=r(55787);var Wr=r(1438);var Fr=r(46068);var Br=r(41594);function Rr(t){"@babel/helpers - typeof";return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(t)}var qr=["css"];function Mr(t,e,r){return(e=Ur(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ur(t){var e=Vr(t,"string");return"symbol"==Rr(e)?e:e+""}function Vr(t,e){if("object"!=Rr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gr.apply(null,arguments)}function zr(t,e){if(null==t)return{};var r,n,o=Qr(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Qr(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}function $r(t,e){return en(t)||tn(t,e)||Zr(t,e)||Jr()}function Jr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zr(t,e){if(t){if("string"==typeof t)return Xr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xr(t,e):void 0}}function Xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tn(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function en(t){if(Array.isArray(t))return t}function rn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var nn=function t(e){var r;var o=e.field,i=e.fieldState,a=e.content,l=e.contentPosition,c=l===void 0?"left":l,d=e.showVerticalBar,f=d===void 0?true:d,p=e.type,v=p===void 0?"text":p,h=e.size,b=h===void 0?"regular":h,m=e.label,y=e.placeholder,g=y===void 0?"":y,_=e.disabled,w=e.readOnly,Y=e.loading,x=e.helpText,A=e.removeOptionsMinWidth,S=A===void 0?true:A,I=e.onChange,O=e.presetOptions,j=O===void 0?[]:O,k=e.selectOnFocus,E=k===void 0?false:k,P=e.wrapperCss,C=e.contentCss,D=e.removeBorder,T=D===void 0?false:D;var H=(r=o.value)!==null&&r!==void 0?r:"";var N=(0,u.useRef)(null);var W=(0,u.useState)(false),F=$r(W,2),B=F[0],R=F[1];var q=(0,ut.t)({isOpen:B,isDropdown:true}),M=q.triggerRef,U=q.triggerWidth,V=q.position,G=q.popoverRef;return(0,n.Y)(mt.A,{fieldState:i,field:o,label:m,disabled:_,readOnly:w,loading:Y,helpText:x,removeBorder:T,placeholder:g},(function(t){var e=t.css,r=zr(t,qr);return(0,n.Y)(Br.Fragment,null,(0,n.Y)("div",{css:[un.inputWrapper(!!i.error,T),P,true?"":0,true?"":0],ref:M},a&&c==="left"&&(0,n.Y)("div",{css:[un.inputLeftContent(f,b),C,true?"":0,true?"":0]},a),(0,n.Y)("input",Gr({},r,{css:[e,un.input(c,f,b),true?"":0,true?"":0],onClick:function t(){return R(true)},autoComplete:"off",readOnly:w,ref:function t(e){o.ref(e);N.current=e},onFocus:function t(){if(!E||!N.current){return}N.current.select()},value:H,onChange:function t(e){var r=v==="number"?e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"):e.target.value;o.onChange(r);if(I){I(r)}},"data-input":true})),a&&c==="right"&&(0,n.Y)("div",{css:un.inputRightContent(f,b)},a)),(0,n.Y)(ut.Z,{isOpen:B,onClickOutside:function t(){return R(false)},onEscape:function t(){return R(false)}},(0,n.Y)("div",{css:[un.optionsWrapper,Mr(Mr(Mr({},K.V8?"right":"left",V.left),"top",V.top),"maxWidth",U),true?"":0,true?"":0],ref:G},(0,n.Y)("ul",{css:[un.options(S),true?"":0,true?"":0]},j.map((function(t){return(0,n.Y)("li",{key:String(t.value),css:un.optionItem({isSelected:t.value===o.value})},(0,n.Y)("button",{type:"button",css:un.label,onClick:function e(){o.onChange(t.value);I===null||I===void 0||I(t.value);R(false)}},(0,n.Y)(L.A,{when:t.icon},(0,n.Y)(s.A,{name:t.icon,width:32,height:32})),(0,n.Y)("span",null,t.label)))}))))))}))};const on=nn;var an=true?{name:"16gsvie",styles:"min-width:200px"}:0;var un={mainWrapper:true?{name:"1d3w5wq",styles:"width:100%"}:0,inputWrapper:function t(e,r){return(0,n.AH)("display:flex;align-items:center;",!r&&(0,n.AH)("border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq[6],";box-shadow:",D.r7.input,";background-color:",D.I6.background.white,";"+(true?"":0),true?"":0)," ",e&&(0,n.AH)("border-color:",D.I6.stroke.danger,";background-color:",D.I6.background.status.errorFail,";"+(true?"":0),true?"":0),";&:focus-within{",N.x.inputFocus,";",e&&(0,n.AH)("border-color:",D.I6.stroke.danger,";"+(true?"":0),true?"":0),";}"+(true?"":0),true?"":0)},input:function t(e,r,o){return(0,n.AH)("&[data-input]{",T.I.body(),";border:none;box-shadow:none;background-color:transparent;padding-",e,":0;",r&&(0,n.AH)("padding-",e,":",D.YK[10],";"+(true?"":0),true?"":0),";",o==="large"&&(0,n.AH)("font-size:",D.J[24],";font-weight:",D.Wy.medium,";height:34px;",r&&(0,n.AH)("padding-",e,":",D.YK[12],";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)," &:focus{box-shadow:none;outline:none;}}"+(true?"":0),true?"":0)},label:(0,n.AH)(N.x.resetButton,";width:100%;height:100%;display:flex;align-items:center;gap:",D.YK[8],";margin:0 ",D.YK[12],";padding:",D.YK[6]," 0;text-align:left;line-height:",D.K_[24],";word-break:break-all;cursor:pointer;span{flex-shrink:0;}"+(true?"":0),true?"":0),optionsWrapper:true?{name:"1n0kzcr",styles:"position:absolute;width:100%"}:0,options:function t(e){return(0,n.AH)("z-index:",D.fE.dropdown,";background-color:",D.I6.background.white,";list-style-type:none;box-shadow:",D.r7.popover,";padding:",D.YK[4]," 0;margin:0;max-height:500px;border-radius:",D.Vq[6],";",N.x.overflowYAuto,";",!e&&an,";"+(true?"":0),true?"":0)},optionItem:function t(e){var r=e.isSelected,o=r===void 0?false:r;return(0,n.AH)(T.I.body(),";min-height:36px;height:100%;width:100%;display:flex;align-items:center;transition:background-color 0.3s ease-in-out;cursor:pointer;&:hover{background-color:",D.I6.background.hover,";}",o&&(0,n.AH)("background-color:",D.I6.background.active,";position:relative;&::before{content:'';position:absolute;top:0;left:0;width:3px;height:100%;background-color:",D.I6.action.primary["default"],";border-radius:0 ",D.Vq[6]," ",D.Vq[6]," 0;}"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},inputLeftContent:function t(e,r){return(0,n.AH)(T.I.small()," ",N.x.flexCenter()," height:40px;min-width:48px;color:",D.I6.icon.subdued,";padding-inline:",D.YK[12],";",r==="large"&&(0,n.AH)(T.I.body(),";"+(true?"":0),true?"":0)," ",e&&(0,n.AH)("border-right:1px solid ",D.I6.stroke["default"],";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},inputRightContent:function t(e,r){return(0,n.AH)(T.I.small()," ",N.x.flexCenter()," height:40px;min-width:48px;color:",D.I6.icon.subdued,";padding-inline:",D.YK[12],";",r==="large"&&(0,n.AH)(T.I.body(),";"+(true?"":0),true?"":0)," ",e&&(0,n.AH)("border-left:1px solid ",D.I6.stroke["default"],";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)}};function ln(t){"@babel/helpers - typeof";return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function cn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(r),!0).forEach((function(e){dn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dn(t,e,r){return(e=fn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fn(t){var e=pn(t,"string");return"symbol"==ln(e)?e:e+""}function pn(t,e){if("object"!=ln(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function vn(){return vn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vn.apply(null,arguments)}var hn=C.P.tutor_currency;function bn(t){var e=t.index;var r=(0,l.xW)();var o=r.watch("subscriptions.".concat(e,".offer_sale_price"));var i=r.watch("subscriptions.".concat(e,".regular_price"));var u=!!r.watch("subscriptions.".concat(e,".schedule_sale_price"));return(0,n.Y)("div",{css:mn.wrapper},(0,n.Y)("div",null,(0,n.Y)(l.xI,{control:r.control,name:"subscriptions.".concat(e,".offer_sale_price"),render:function t(e){return(0,n.Y)(k.A,vn({},e,{label:(0,a.__)("Offer sale price","tutor")}))}})),(0,n.Y)(L.A,{when:o},(0,n.Y)("div",{css:mn.inputWrapper},(0,n.Y)(l.xI,{control:r.control,name:"subscriptions.".concat(e,".sale_price"),rules:sn(sn({},(0,F.WN)()),{},{validate:function t(e){if(e&&i&&Number(e)>=Number(i)){return(0,a.__)("Sale price should be less than regular price","tutor")}if(e&&i&&Number(e)<=0){return(0,a.__)("Sale price should be greater than 0","tutor")}return undefined}}),render:function t(e){return(0,n.Y)(Yr.A,vn({},e,{type:"number",label:(0,a.__)("Sale Price","tutor"),content:(hn===null||hn===void 0?void 0:hn.symbol)||"$",selectOnFocus:true,contentCss:N.x.inputCurrencyStyle}))}}),(0,n.Y)(l.xI,{control:r.control,name:"subscriptions.".concat(e,".schedule_sale_price"),render:function t(e){return(0,n.Y)(I.A,vn({},e,{label:(0,a.__)("Schedule the sale price","tutor")}))}}),(0,n.Y)(L.A,{when:u},(0,n.Y)("div",{css:mn.datetimeWrapper},(0,n.Y)("label",null,(0,a.__)("Sale starts from","tutor")),(0,n.Y)("div",{css:N.x.dateAndTimeWrapper},(0,n.Y)(l.xI,{name:"subscriptions.".concat(e,".sale_price_from_date"),control:r.control,rules:{required:(0,a.__)("Schedule date is required","tutor")},render:function t(e){return(0,n.Y)(O.A,vn({},e,{isClearable:false,placeholder:"yyyy-mm-dd",disabledBefore:(new Date).toISOString()}))}}),(0,n.Y)(l.xI,{name:"subscriptions.".concat(e,".sale_price_from_time"),control:r.control,rules:{required:(0,a.__)("Schedule time is required","tutor")},render:function t(e){return(0,n.Y)(E.A,vn({},e,{interval:60,isClearable:false,placeholder:"hh:mm A"}))}}))),(0,n.Y)("div",{css:mn.datetimeWrapper},(0,n.Y)("label",null,(0,a.__)("Sale ends to","tutor")),(0,n.Y)("div",{css:N.x.dateAndTimeWrapper},(0,n.Y)(l.xI,{name:"subscriptions.".concat(e,".sale_price_to_date"),control:r.control,rules:{required:(0,a.__)("Schedule date is required","tutor"),validate:{checkEndDate:function t(n){var o=r.watch("subscriptions.".concat(e,".sale_price_from_date"));var i=n;if(o&&i){return new Date(o)>new Date(i)?(0,a.__)("Sales End date should be greater than start date","tutor"):undefined}return undefined}},deps:["subscriptions.".concat(e,".sale_price_from_date")]},render:function t(o){return(0,n.Y)(O.A,vn({},o,{isClearable:false,placeholder:"yyyy-mm-dd",disabledBefore:r.watch("subscriptions.".concat(e,".sale_price_from_date"))||undefined}))}}),(0,n.Y)(l.xI,{name:"subscriptions.".concat(e,".sale_price_to_time"),control:r.control,rules:{required:(0,a.__)("Schedule time is required","tutor"),validate:{checkEndTime:function t(n){var o=r.watch("subscriptions.".concat(e,".sale_price_from_date"));var i=r.watch("subscriptions.".concat(e,".sale_price_from_time"));var u=r.watch("subscriptions.".concat(e,".sale_price_to_date"));var l=n;if(o&&u&&i&&l){return new Date("".concat(o," ").concat(i))>new Date("".concat(u," ").concat(l))?(0,a.__)("Sales End time should be greater than start time","tutor"):undefined}return undefined}},deps:["subscriptions.".concat(e,".sale_price_from_date"),"subscriptions.".concat(e,".sale_price_from_time"),"subscriptions.".concat(e,".sale_price_to_date")]},render:function t(e){return(0,n.Y)(E.A,vn({},e,{interval:60,isClearable:false,placeholder:"hh:mm A"}))}})))))))}var mn={wrapper:(0,n.AH)("background-color:",D.I6.background.white,";padding:",D.YK[12],";border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq[8],";display:flex;flex-direction:column;gap:",D.YK[20],";"+(true?"":0),true?"":0),inputWrapper:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[12],";padding:",D.YK[4],";margin:-",D.YK[4],";"+(true?"":0),true?"":0),datetimeWrapper:(0,n.AH)("label{",T.I.caption(),";color:",D.I6.text.title,";}"+(true?"":0),true?"":0)};var yn=r(85420);function gn(t){"@babel/helpers - typeof";return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function _n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_n(Object(r),!0).forEach((function(e){Yn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yn(t,e,r){return(e=xn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xn(t){var e=An(t,"string");return"symbol"==gn(e)?e:e+""}function An(t,e){if("object"!=gn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Sn={id:"0",payment_type:"recurring",plan_type:"course",assign_id:"0",plan_name:"",recurring_value:"1",recurring_interval:"month",is_featured:false,regular_price:"0",sale_price:"0",sale_price_from_date:"",sale_price_from_time:"",sale_price_to_date:"",sale_price_to_time:"",recurring_limit:(0,a.__)("Until cancelled","tutor"),do_not_provide_certificate:false,enrollment_fee:"0",trial_value:"1",trial_interval:"day",charge_enrollment_fee:false,enable_free_trial:false,offer_sale_price:false,schedule_sale_price:false};var In=function t(e){var r,n,o,i,u,l,s,d,f,p;return{id:e.id,payment_type:(r=e.payment_type)!==null&&r!==void 0?r:"recurring",plan_type:(n=e.plan_type)!==null&&n!==void 0?n:"course",assign_id:e.assign_id,plan_name:(o=e.plan_name)!==null&&o!==void 0?o:"",recurring_value:(i=e.recurring_value)!==null&&i!==void 0?i:"0",recurring_interval:(u=e.recurring_interval)!==null&&u!==void 0?u:"month",is_featured:!!Number(e.is_featured),regular_price:(l=e.regular_price)!==null&&l!==void 0?l:"0",recurring_limit:e.recurring_limit==="0"?(0,a.__)("Until cancelled","tutor"):e.recurring_limit||"",enrollment_fee:(s=e.enrollment_fee)!==null&&s!==void 0?s:"0",trial_value:(d=e.trial_value)!==null&&d!==void 0?d:"0",trial_interval:(f=e.trial_interval)!==null&&f!==void 0?f:"day",sale_price:(p=e.sale_price)!==null&&p!==void 0?p:"0",charge_enrollment_fee:!!Number(e.enrollment_fee),enable_free_trial:!!Number(e.trial_value),offer_sale_price:!!Number(e.sale_price),schedule_sale_price:!!e.sale_price_from,do_not_provide_certificate:!Number(e.provide_certificate),sale_price_from_date:e.sale_price_from?(0,c["default"])((0,W.g1)(e.sale_price_from),K.Bd.yearMonthDay):"",sale_price_from_time:e.sale_price_from?(0,c["default"])((0,W.g1)(e.sale_price_from),K.Bd.hoursMinutes):"",sale_price_to_date:e.sale_price_to?(0,c["default"])((0,W.g1)(e.sale_price_to),K.Bd.yearMonthDay):"",sale_price_to_time:e.sale_price_to?(0,c["default"])((0,W.g1)(e.sale_price_to),K.Bd.hoursMinutes):""}};var On=function t(e){return wn(wn(wn(wn(wn(wn({},e.id&&String(e.id)!=="0"&&{id:e.id}),{},{payment_type:e.payment_type,plan_type:e.plan_type,assign_id:e.assign_id,plan_name:e.plan_name},e.payment_type==="recurring"&&{recurring_value:e.recurring_value,recurring_interval:e.recurring_interval}),{},{regular_price:e.regular_price,recurring_limit:e.recurring_limit===(0,a.__)("Until cancelled","tutor")?"0":e.recurring_limit,is_featured:e.is_featured?"1":"0"},e.charge_enrollment_fee&&{enrollment_fee:e.enrollment_fee}),e.enable_free_trial&&{trial_value:e.trial_value,trial_interval:e.trial_interval}),{},{sale_price:e.offer_sale_price?e.sale_price:"0"},e.schedule_sale_price&&{sale_price_from:(0,W.dn)(new Date("".concat(e.sale_price_from_date," ").concat(e.sale_price_from_time))),sale_price_to:(0,W.dn)(new Date("".concat(e.sale_price_to_date," ").concat(e.sale_price_to_time)))}),{},{provide_certificate:e.do_not_provide_certificate?"0":"1"})};var jn=function t(e){return dt.b.post(ft.A.GET_SUBSCRIPTIONS_LIST,{object_id:e})};var kn=function t(e){return(0,lt.I)({queryKey:["SubscriptionsList",e],queryFn:function t(){return jn(e).then((function(t){return t.data}))}})};var En=function t(e,r){return dt.b.post(ft.A.SAVE_SUBSCRIPTION,wn(wn({object_id:e},r.id&&{id:r.id}),r))};var Pn=function t(e){var r=(0,o.jE)();var n=(0,st.d)(),i=n.showToast;return(0,ct.n)({mutationFn:function t(r){return En(e,r)},onSuccess:function t(n){if(n.status_code===200||n.status_code===201){i({message:n.message,type:"success"});r.invalidateQueries({queryKey:["SubscriptionsList",e]})}},onError:function t(e){i({type:"danger",message:(0,W.EL)(e)})}})};var Cn=function t(e,r){return dt.b.post(ft.A.DELETE_SUBSCRIPTION,{object_id:e,id:r})};var Kn=function t(e){var r=(0,o.jE)();var n=(0,st.d)(),i=n.showToast;return(0,ct.n)({mutationFn:function t(r){return Cn(e,r)},onSuccess:function t(n,o){if(n.status_code===200){i({message:n.message,type:"success"});r.setQueryData(["SubscriptionsList",e],(function(t){return t.filter((function(t){return t.id!==String(o)}))}))}},onError:function t(e){i({type:"danger",message:(0,W.EL)(e)})}})};var Dn=function t(e,r){return dt.b.post(ft.A.DUPLICATE_SUBSCRIPTION,{object_id:e,id:r})};var Tn=function t(e){var r=(0,o.jE)();var n=(0,st.d)(),i=n.showToast;return(0,ct.n)({mutationFn:function t(r){return Dn(e,r)},onSuccess:function t(n){if(n.data){i({message:n.message,type:"success"});r.invalidateQueries({queryKey:["SubscriptionsList",e]})}},onError:function t(e){i({type:"danger",message:(0,W.EL)(e)})}})};var Ln=function t(e,r){return dt.b.post(ft.A.SORT_SUBSCRIPTION,{object_id:e,plan_ids:r})};var Hn=function t(e){var r=(0,o.jE)();var n=(0,st.d)(),i=n.showToast;return(0,ct.n)({mutationFn:function t(r){return Ln(e,r)},onSuccess:function t(n,o){if(n.status_code===200){r.setQueryData(["SubscriptionsList",e],(function(t){var e=o.map((function(t){return String(t)}));return t.sort((function(t,r){return e.indexOf(t.id)-e.indexOf(r.id)}))}));r.invalidateQueries({queryKey:["SubscriptionsList",e]})}},onError:function t(n){i({type:"danger",message:(0,W.EL)(n)});r.invalidateQueries({queryKey:["SubscriptionsList",e]})}})};var Nn=function t(){return wpAjaxInstance.get(endpoints.GET_MEMBERSHIP_PLANS).then((function(t){return t.data}))};var Wn=function t(){return useQuery({queryKey:["MembershipPlans"],queryFn:Nn})};var Fn=r(93490);var Bn=r(34419);function Rn(t){"@babel/helpers - typeof";return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(t)}function qn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qn(Object(r),!0).forEach((function(e){Un(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Un(t,e,r){return(e=Vn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vn(t){var e=Gn(t,"string");return"symbol"==Rn(e)?e:e+""}function Gn(t,e){if("object"!=Rn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function zn(){return zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zn.apply(null,arguments)}function Qn(t){return Zn(t)||Jn(t)||oo(t)||$n()}function $n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jn(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Zn(t){if(Array.isArray(t))return io(t)}function Xn(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xn=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function t(e,r,n){return e[r]=n}}function s(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new E(n||[]);return o(a,"_invoke",{value:I(t,r,u)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",v="executing",h="completed",b={};function m(){}function y(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,Y=w&&w(w(P([])));Y&&Y!==r&&n.call(Y,a)&&(_=Y);var x=g.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var l=d(t[o],t,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==Rn(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function I(e,r,n){var o=f;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var l=O(u,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?h:p,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Rn(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(S.prototype),c(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,E.prototype={constructor:E,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return l.type="throw",l.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],l=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),b},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),b}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:P(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function to(t,e,r,n,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(n,o)}function eo(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){to(i,n,o,a,u,"next",t)}function u(t){to(i,n,o,a,u,"throw",t)}a(void 0)}))}}function ro(t,e){return uo(t)||ao(t,e)||oo(t,e)||no()}function no(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oo(t,e){if(t){if("string"==typeof t)return io(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?io(t,e):void 0}}function io(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ao(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function uo(t){if(Array.isArray(t))return t}function lo(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var co=100;var so=C.P.tutor_currency;function fo(t){var e;var r=t.courseId,o=t.id,i=t.toggleCollapse,c=t.bgLight,d=c===void 0?false:c,f=t.isExpanded,p=t.isOverlay,v=p===void 0?false:p;var h=(0,u.useRef)(null);var b=(0,u.useRef)(null);var m=(0,u.useRef)(null);var y=(0,l.xW)();var g=y.watch("subscriptions");var _=g.findIndex((function(t){return t.id===o}));var w=y.watch("subscriptions.".concat(_));var Y=y.formState.isDirty;var x=y.formState.errors.subscriptions?Object.keys(y.formState.errors.subscriptions[_]||{}).length:0;var A=(0,u.useState)(false),S=ro(A,2),O=S[0],j=S[1];var k=(0,u.useState)(false),E=ro(k,2),P=E[0],C=E[1];(0,u.useEffect)((function(){if(f){var t=setTimeout((function(){y.setFocus("subscriptions.".concat(_,".plan_name"))}),co);if(_>0){var e;(e=h.current)===null||e===void 0||e.scrollIntoView({behavior:"smooth",block:"start"})}return function(){clearTimeout(t)}}}),[f]);(0,u.useEffect)((function(){var t=function t(e){if((0,Bn.O9)(h.current)&&!h.current.contains(e.target)){C(false)}};document.addEventListener("click",t);return function(){return document.removeEventListener("click",t)}}),[P]);var K=Kn(r);var T=Tn(r);var H=function(){var t=eo(Xn().mark((function t(){var e;return Xn().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return K.mutateAsync(Number(w.id));case 3:e=r.sent;if(e.data){j(false);if(f){i(w.id)}}r.next=10;break;case 7:r.prev=7;r.t0=r["catch"](0);console.error(r.t0);case 10:case"end":return r.stop()}}),t,null,[[0,7]])})));return function e(){return t.apply(this,arguments)}}();var B=function(){var t=eo(Xn().mark((function t(){var e;return Xn().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return T.mutateAsync(Number(w.id));case 2:e=r.sent;if(e.data){i(String(e.data))}case 4:case"end":return r.stop()}}),t)})));return function e(){return t.apply(this,arguments)}}();var R=(0,kr.gl)({id:w.id||"",animateLayoutChanges:Fn.J}),q=R.attributes,M=R.listeners,U=R.setNodeRef,V=R.transform,G=R.transition,z=R.isDragging;var Q=(0,u.useCallback)((function(t){if(t){U(t);h.current=t}}),[U]);var $=y.watch("subscriptions.".concat(_,".plan_name"));var J=y.watch("subscriptions.".concat(_,".charge_enrollment_fee"));var Z=y.watch("subscriptions.".concat(_,".is_featured"));var X=y.watch("subscriptions.".concat(_,".offer_sale_price"));var tt=!!y.watch("subscriptions.".concat(_,".schedule_sale_price"));var et=(0,Nr.zh)({height:f?(e=b.current)===null||e===void 0?void 0:e.scrollHeight:0,opacity:f?1:0,overflow:"hidden",config:{duration:300,easing:function t(e){return e*(2-e)}}},[J,Z,X,tt,Y,f,x]),rt=ro(et,2),ot=rt[0],it=rt[1];(0,u.useEffect)((function(){if((0,Bn.O9)(b.current)){var t;it.start({height:f?(t=b.current)===null||t===void 0?void 0:t.scrollHeight:0,opacity:f?1:0})}}),[J,Z,X,tt,Y,f,x]);var at=[3,6,9,12];var ut=[].concat(Qn(at.map((function(t){return{label:(0,a.sprintf)((0,a.__)("%s times","tutor"),t.toString()),value:String(t)}}))),[{label:(0,a.__)("Until cancelled","tutor"),value:(0,a.__)("Until cancelled","tutor")}]);var lt={transform:Hr.Ks.Transform.toString(V),transition:G,opacity:z?.3:undefined,background:z?D.I6.stroke.hover:undefined};return(0,n.Y)("form",zn({},q,{css:ho.subscription({bgLight:d,isActive:P,isDragging:v,isDeletePopoverOpen:O}),onClick:function t(){return C(true)},style:lt,ref:Q}),(0,n.Y)("div",{css:ho.subscriptionHeader(f)},(0,n.Y)("div",zn({css:ho.grabber({isFormDirty:Y})},Y?{}:M),(0,n.Y)(s.A,{"data-grabber":true,name:"threeDotsVerticalDouble",width:24,height:24}),(0,n.Y)("button",{type:"button",css:ho.title,disabled:Y,title:$,onClick:function t(){return!Y&&i(w.id)}},$,(0,n.Y)(L.A,{when:w.is_featured},(0,n.Y)(Wr.A,{content:(0,a.__)("Featured","tutor"),delay:200},(0,n.Y)(s.A,{name:"star",width:24,height:24}))))),(0,n.Y)("div",{css:ho.actions(f),"data-visually-hidden":true},(0,n.Y)(L.A,{when:!f},(0,n.Y)(Wr.A,{content:(0,a.__)("Edit","tutor"),delay:200},(0,n.Y)("button",{"data-cy":"edit-subscription",type:"button",disabled:Y,onClick:function t(){return!Y&&i(w.id)}},(0,n.Y)(s.A,{name:"edit",width:24,height:24})))),(0,n.Y)(L.A,{when:w.isSaved},(0,n.Y)(Wr.A,{content:(0,a.__)("Duplicate","tutor"),delay:200},(0,n.Y)("button",{"data-cy":"duplicate-subscription",type:"button",disabled:Y,onClick:B},(0,n.Y)(L.A,{when:!T.isPending,fallback:(0,n.Y)(nt.Ay,{size:24})},(0,n.Y)(s.A,{name:"copyPaste",width:24,height:24})))),(0,n.Y)(Wr.A,{content:(0,a.__)("Delete","tutor"),delay:200},(0,n.Y)("button",{"data-cy":"delete-subscription",ref:m,type:"button",disabled:Y,onClick:function t(){return j(true)}},(0,n.Y)(s.A,{name:"delete",width:24,height:24}))),(0,n.Y)("button",{type:"button",disabled:Y,onClick:function t(){return!Y&&i(w.id)},"data-collapse-button":true,title:(0,a.__)("Collapse/expand plan","tutor")},(0,n.Y)(s.A,{name:"chevronDown",width:24,height:24}))))),(0,n.Y)(Nr.CS.div,{style:Mn({},ot),css:ho.itemWrapper(f)},(0,n.Y)("div",{ref:b,css:N.x.display.flex("column")},(0,n.Y)("div",{css:ho.subscriptionContent},(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".plan_name"),rules:(0,F.WN)(),render:function t(e){return(0,n.Y)(yt.A,zn({},e,{placeholder:(0,a.__)("Enter plan name","tutor"),label:(0,a.__)("Plan Name","tutor")}))}}),(0,n.Y)("div",{css:ho.inputGroup},(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".regular_price"),rules:Mn(Mn({},(0,F.WN)()),{},{validate:function t(e){if(Number(e)<=0){return(0,a.__)("Price must be greater than 0","tutor")}}}),render:function t(e){return(0,n.Y)(Yr.A,zn({},e,{label:(0,a.__)("Price","tutor"),content:(so===null||so===void 0?void 0:so.symbol)||"$",placeholder:(0,a.__)("Plan price","tutor"),selectOnFocus:true,contentCss:N.x.inputCurrencyStyle,type:"number"}))}}),(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".recurring_value"),rules:Mn(Mn({},(0,F.WN)()),{},{validate:function t(e){if(Number(e)<1){return(0,a.__)("This value must be equal to or greater than 1","tutor")}}}),render:function t(e){return(0,n.Y)(yt.A,zn({},e,{label:(0,a.__)("Billing Interval","tutor"),placeholder:(0,a.__)("12","tutor"),selectOnFocus:true,type:"number"}))}}),(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".recurring_interval"),render:function t(e){return(0,n.Y)(ae.A,zn({},e,{label:(0,n.Y)("div",null,""),options:[{label:(0,a.__)("Day(s)","tutor"),value:"day"},{label:(0,a.__)("Week(s)","tutor"),value:"week"},{label:(0,a.__)("Month(s)","tutor"),value:"month"},{label:(0,a.__)("Year(s)","tutor"),value:"year"}],removeOptionsMinWidth:true}))}}),(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".recurring_limit"),rules:Mn(Mn({},(0,F.WN)()),{},{validate:function t(e){if(e===(0,a.__)("Until cancelled","tutor")){return true}if(Number(e)<=0){return(0,a.__)("Renew plan must be greater than 0","tutor")}return true}}),render:function t(e){return(0,n.Y)(on,zn({},e,{label:(0,a.__)("Billing Cycles","tutor"),placeholder:(0,a.__)("Select or type times to renewing the plan","tutor"),content:e.field.value!==(0,a.__)("Until cancelled","tutor")&&(0,a.__)("Times","tutor"),contentPosition:"right",type:"number",presetOptions:ut,selectOnFocus:true}))}})),(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".charge_enrollment_fee"),render:function t(e){return(0,n.Y)(I.A,zn({},e,{label:(0,a.__)("Charge enrollment fee","tutor")}))}}),(0,n.Y)(L.A,{when:J},(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".enrollment_fee"),rules:Mn(Mn({},(0,F.WN)()),{},{validate:function t(e){if(Number(e)<=0){return(0,a.__)("Enrollment fee must be greater than 0","tutor")}return true}}),render:function t(e){return(0,n.Y)(Yr.A,zn({},e,{label:(0,a.__)("Enrollment fee","tutor"),content:(so===null||so===void 0?void 0:so.symbol)||"$",placeholder:(0,a.__)("Enter enrollment fee","tutor"),selectOnFocus:true,contentCss:N.x.inputCurrencyStyle,type:"number"}))}})),(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".do_not_provide_certificate"),render:function t(e){return(0,n.Y)(I.A,zn({},e,{label:(0,a.__)("Do not provide certificate","tutor")}))}}),(0,n.Y)(l.xI,{control:y.control,name:"subscriptions.".concat(_,".is_featured"),render:function t(e){return(0,n.Y)(I.A,zn({},e,{label:(0,a.__)("Mark as featured","tutor")}))}}),(0,n.Y)(bn,{index:_})))),(0,n.Y)(Fr.A,{isOpen:O,triggerRef:m,closePopover:W.lQ,maxWidth:"258px",title:(0,a.sprintf)((0,a.__)('Delete "%s"',"tutor"),w.plan_name),message:(0,a.__)("Are you sure you want to delete this plan? This cannot be undone.","tutor"),animationType:yn.J6.slideUp,arrow:"auto",hideArrow:true,isLoading:K.isPending,confirmButton:{text:(0,a.__)("Delete","tutor"),variant:"text",isDelete:true},cancelButton:{text:(0,a.__)("Cancel","tutor"),variant:"text"},onConfirmation:H,onCancel:function t(){return j(false)}}))}var po=true?{name:"21xn5r",styles:"transform:rotate(180deg)"}:0;var vo=true?{name:"21xn5r",styles:"transform:rotate(180deg)"}:0;var ho={grabber:function t(e){var r=e.isFormDirty;return(0,n.AH)("display:flex;align-items:center;gap:",D.YK[4],";",T.I.body(),";color:",D.I6.text.hints,";width:100%;min-height:40px;[data-grabber]{color:",D.I6.icon["default"],";cursor:",r?"not-allowed":"grab",";flex-shrink:0;}span{max-width:496px;width:100%;",N.x.textEllipsis,";}"+(true?"":0),true?"":0)},trialWrapper:(0,n.AH)("display:grid;grid-template-columns:1fr 1fr;align-items:start;gap:",D.YK[8],";"+(true?"":0),true?"":0),title:(0,n.AH)(N.x.resetButton,";display:flex;align-items:center;color:",D.I6.text.hints,";flex-grow:1;gap:",D.YK[8],";:disabled{cursor:default;}svg{color:",D.I6.icon.brand,";}"+(true?"":0),true?"":0),titleField:(0,n.AH)("width:100%;position:relative;input{padding-right:",D.YK[128],"!important;}"+(true?"":0),true?"":0),titleActions:(0,n.AH)("position:absolute;right:",D.YK[4],";top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:",D.YK[8],";"+(true?"":0),true?"":0),subscription:function t(e){var r=e.bgLight,o=e.isActive,i=e.isDragging,a=e.isDeletePopoverOpen;return(0,n.AH)("width:100%;border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq.card,";overflow:hidden;transition:border-color 0.3s ease;[data-visually-hidden]{opacity:",a?1:0,";transition:opacity 0.3s ease;}",r&&(0,n.AH)("background-color:",D.I6.background.white,";"+(true?"":0),true?"":0)," ",o&&(0,n.AH)("border-color:",D.I6.stroke.brand,";"+(true?"":0),true?"":0)," ",i&&(0,n.AH)("box-shadow:",D.r7.drag,";[data-grabber]{cursor:grabbing;}"+(true?"":0),true?"":0)," &:hover:not(:disabled){[data-visually-hidden]{opacity:1;}}",D.EA.smallTablet,"{[data-visually-hidden]{opacity:1;}}"+(true?"":0),true?"":0)},itemWrapper:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(0,n.AH)(e&&(0,n.AH)("background-color:",D.I6.background.hover,";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},subscriptionHeader:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(0,n.AH)("padding:",D.YK[12]," ",D.YK[16],";display:flex;align-items:center;justify-content:space-between;",e&&(0,n.AH)("background-color:",D.I6.background.hover,";border-bottom:1px solid ",D.I6.stroke.border,";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},subscriptionContent:(0,n.AH)("padding:",D.YK[16],";display:flex;flex-direction:column;gap:",D.YK[12],";"+(true?"":0),true?"":0),actions:function t(e){return(0,n.AH)("display:flex;align-items:center;gap:",D.YK[4],";button{width:24px;height:24px;",N.x.resetButton,";color:",D.I6.icon["default"],";display:flex;align-items:center;justify-content:center;transition:color 0.3s ease;:disabled{cursor:not-allowed;color:",D.I6.icon.disable.background,";}&[data-collapse-button]{transition:transform 0.3s ease;",e&&vo,";svg{width:20px;height:20px;}&:hover:not(:disabled){color:",D.I6.icon.hover,";}}}"+(true?"":0),true?"":0)},collapse:function t(e){return(0,n.AH)("transition:transform 0.3s ease;svg{width:16px;height:16px;}",e&&po,";"+(true?"":0),true?"":0)},inputGroup:(0,n.AH)("display:grid;grid-template-columns:1fr 0.7fr 1fr 1fr;align-items:start;gap:",D.YK[8],";",D.EA.smallMobile,"{grid-template-columns:1fr;}"+(true?"":0),true?"":0)};var bo=r(98880);var mo=r(41594);function yo(t){"@babel/helpers - typeof";return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(t)}function go(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */go=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function t(e,r,n){return e[r]=n}}function s(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new E(n||[]);return o(a,"_invoke",{value:I(t,r,u)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",v="executing",h="completed",b={};function m(){}function y(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,Y=w&&w(w(P([])));Y&&Y!==r&&n.call(Y,a)&&(_=Y);var x=g.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var l=d(t[o],t,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==yo(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function I(e,r,n){var o=f;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var l=O(u,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?h:p,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yo(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(S.prototype),c(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,E.prototype={constructor:E,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return l.type="throw",l.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],l=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),b},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),b}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:P(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function _o(t,e,r,n,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(n,o)}function wo(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_o(i,n,o,a,u,"next",t)}function u(t){_o(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Yo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yo(Object(r),!0).forEach((function(e){Ao(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ao(t,e,r){return(e=So(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function So(t){var e=Io(t,"string");return"symbol"==yo(e)?e:e+""}function Io(t,e){if("object"!=yo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Oo(t,e){return Co(t)||Po(t,e)||ko(t,e)||jo()}function jo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ko(t,e){if(t){if("string"==typeof t)return Eo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eo(t,e):void 0}}function Eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Po(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Co(t){if(Array.isArray(t))return t}function Ko(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function Do(t){var e;var r=t.courseId,c=t.isBundle,d=c===void 0?false:c,f=t.title,p=t.subtitle,v=t.icon,h=t.closeModal,b=t.expandedSubscriptionId,m=t.createEmptySubscriptionOnMount;var y=(0,o.jE)();var g=(0,it.p)({defaultValues:{subscriptions:[]},mode:"onChange"});var _=(0,l.jz)({control:g.control,name:"subscriptions",keyName:"_id"}),w=_.append,Y=_.remove,A=_.move,S=_.fields;var I=(0,u.useState)(b||""),O=Oo(I,2),j=O[0],k=O[1];var E=(0,u.useState)(null),P=Oo(E,2),C=P[0],D=P[1];var T=!!(0,i.C)({queryKey:["SubscriptionsList",r]});var H=y.getQueryData(["SubscriptionsList",r]);var N=Hn(r);var F=Pn(r);var B=g.formState.isDirty;var R=g.getValues().subscriptions.find((function(t){return t.id===j}));var q=S.findIndex((function(t){return!t.isSaved}))!==-1?S.findIndex((function(t){return!t.isSaved})):(e=g.formState.dirtyFields.subscriptions)===null||e===void 0?void 0:e.findIndex((function(t){return(0,Bn.O9)(t)}));(0,u.useEffect)((function(){if(!H){return}if(S.length===0){return g.reset({subscriptions:H.map((function(t){return xo(xo({},In(t)),{},{isSaved:true})}))})}var t=H.map((function(t){var e=S.find((function(e){return e.id===t.id}));if(e){return xo(xo({},e),xo(xo({},In(t)),{},{isSaved:true}))}return xo(xo({},In(t)),{},{isSaved:true})}));g.reset({subscriptions:t})}),[H,T]);var M=function(){var t=wo(go().mark((function t(e){var n;return go().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;g.trigger();n=setTimeout(wo(go().mark((function t(){var n,o,i;return go().wrap((function t(a){while(1)switch(a.prev=a.next){case 0:n=g.formState.errors.subscriptions||[];if(!n.length){a.next=3;break}return a.abrupt("return");case 3:o=On(xo(xo({},e),{},{id:e.isSaved?e.id:"0",assign_id:String(r),plan_type:d?"bundle":"course"}));a.next=6;return F.mutateAsync(o);case 6:i=a.sent;if(i.status_code===200||i.status_code===201){k((function(t){return t===o.id?"":o.id||""}))}case 8:case"end":return a.stop()}}),t)}))),0);return o.abrupt("return",(function(){clearTimeout(n)}));case 6:o.prev=6;o.t0=o["catch"](0);g.reset();case 9:case"end":return o.stop()}}),t,null,[[0,6]])})));return function e(r){return t.apply(this,arguments)}}();var U=(0,Or.FR)((0,Or.MS)(Or.AN,{activationConstraint:{distance:10}}),(0,Or.MS)(Or.uN,{coordinateGetter:kr.JR}));(0,u.useEffect)((function(){if(m){var t=(0,W.Ak)();w(xo(xo({},Sn),{},{id:t,isSaved:false}));k(t)}}),[]);return(0,n.Y)(l.Op,g,(0,n.Y)(Pr.A,{onClose:function t(){return h({action:"CLOSE"})},icon:B?(0,n.Y)(s.A,{name:"warning",width:24,height:24}):v,title:B?K.vN.isAboveMobile?(0,a.__)("Unsaved Changes","tutor"):"":f,subtitle:B?f===null||f===void 0?void 0:f.toString():p,maxWidth:1218,actions:B&&(0,n.Y)(mo.Fragment,null,(0,n.Y)(x.A,{variant:"text",size:"small",onClick:function t(){return R?g.reset():h({action:"CLOSE"})}},R!==null&&R!==void 0&&R.isSaved?(0,a.__)("Discard Changes","tutor"):(0,a.__)("Cancel","tutor")),(0,n.Y)(x.A,{"data-cy":"save-subscription",loading:F.isPending,variant:"primary",size:"small",onClick:function t(){if(q!==-1&&R){M(R)}}},R!==null&&R!==void 0&&R.isSaved?(0,a.__)("Update","tutor"):(0,a.__)("Save","tutor")))},(0,n.Y)("div",{css:To.wrapper},(0,n.Y)(L.A,{when:S.length,fallback:(0,n.Y)(Tr,{onCreateSubscription:function t(){var e=(0,W.Ak)();w(xo(xo({},Sn),{},{id:e,isSaved:false}));k(e)}})},(0,n.Y)("div",{css:To.container},(0,n.Y)("div",{css:To.header},(0,n.Y)("h6",null,(0,a.__)("Subscription Plans","tutor"))),(0,n.Y)("div",{css:To.content},(0,n.Y)(Or.Mp,{sensors:U,collisionDetection:Or.fp,measuring:Fn.s,modifiers:[jr.Q_],onDragStart:function t(e){D(e.active.id)},onDragEnd:function(){var t=wo(go().mark((function t(e){var r,n,o,i,a;return go().wrap((function t(u){while(1)switch(u.prev=u.next){case 0:r=e.active,n=e.over;if(n){u.next=4;break}D(null);return u.abrupt("return");case 4:if(r.id!==n.id){o=S.findIndex((function(t){return t.id===r.id}));i=S.findIndex((function(t){return t.id===n.id}));a=(0,W.tw)(S,o,i);A(o,i);N.mutateAsync(a.map((function(t){return Number(t.id)})))}D(null);case 6:case"end":return u.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(0,n.Y)(kr.gB,{items:S,strategy:kr._G},(0,n.Y)(bo.A,{each:S},(function(t,e){return(0,n.Y)(fo,{key:t.id,id:t.id,courseId:r,toggleCollapse:function t(e){k((function(t){return t===e?"":e}))},onDiscard:!t.id?function(){Y(e)}:W.lQ,isExpanded:C?false:j===t.id})}))),(0,Er.createPortal)((0,n.Y)(Or.Hd,null,(0,n.Y)(L.A,{when:C},(function(t){return(0,n.Y)(fo,{id:t,courseId:r,toggleCollapse:W.lQ,bgLight:true,onDiscard:W.lQ,isExpanded:false,isOverlay:true})}))),document.body)),(0,n.Y)("div",null,(0,n.Y)(x.A,{variant:"secondary",icon:(0,n.Y)(s.A,{name:"plusSquareBrand",width:24,height:24}),disabled:B,onClick:function t(){var e=(0,W.Ak)();w(xo(xo({},Sn),{},{id:e,isSaved:false}));k(e)}},(0,a.__)("Add New Plan","tutor")))))))))}var To={wrapper:true?{name:"w1atjl",styles:"width:100%;height:100%"}:0,container:(0,n.AH)("max-width:640px;width:100%;padding-block:",D.YK[40],";margin-inline:auto;display:flex;flex-direction:column;gap:",D.YK[32],";",D.EA.smallMobile,"{padding-block:",D.YK[24],";padding-inline:",D.YK[8],";}"+(true?"":0),true?"":0),header:(0,n.AH)("display:flex;align-items:center;justify-content:space-between;h6{",T.I.heading6("medium"),";color:",D.I6.text.primary,";text-transform:none;letter-spacing:normal;}"+(true?"":0),true?"":0),content:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[16],";"+(true?"":0),true?"":0)};var Lo=r(41594);function Ho(t,e){switch(t){case"hour":return e>1?(0,a.__)("Hours","tutor"):(0,a.__)("Hour","tutor");case"day":return e>1?(0,a.__)("Days","tutor"):(0,a.__)("Day","tutor");case"week":return e>1?(0,a.__)("Weeks","tutor"):(0,a.__)("Week","tutor");case"month":return e>1?(0,a.__)("Months","tutor"):(0,a.__)("Month","tutor");case"year":return e>1?(0,a.__)("Years","tutor"):(0,a.__)("Year","tutor");case"until_cancellation":return(0,a.__)("Until Cancellation","tutor")}}function No(t){var e=t.subscription,r=t.courseId,o=t.isBundle;var i=(0,Ir.h)(),u=i.showModal;return(0,n.Y)("div",{"data-cy":"subscription-preview-item",css:Wo.wrapper},(0,n.Y)("div",{css:Wo.item},(0,n.Y)("p",{css:Wo.title},e.plan_name,(0,n.Y)(L.A,{when:e.is_featured},(0,n.Y)(s.A,{style:Wo.featuredIcon,name:"star",height:20,width:20}))),(0,n.Y)("div",{css:Wo.information},(0,n.Y)(L.A,{when:e.payment_type==="recurring",fallback:(0,n.Y)("span",null,(0,a.__)("Lifetime","tutor"))},(0,n.Y)("span",null,(0,a.sprintf)((0,a.__)("Renew every %s %s","tutor"),e.recurring_value.toString().padStart(2,"0"),Ho(e.recurring_interval,Number(e.recurring_value))))),(0,n.Y)(L.A,{when:e.payment_type!=="onetime"},(0,n.Y)(L.A,{when:e.recurring_limit===(0,a.__)("Until cancelled","tutor"),fallback:(0,n.Y)(Lo.Fragment,null,(0,n.Y)("span",null,""),(0,n.Y)("span",null,e.recurring_limit.toString().padStart(2,"0")," ",(0,a.__)("Billing Cycles","tutor")))},(0,n.Y)("span",null,""),(0,n.Y)("span",null,(0,a.__)("Until Cancellation","tutor")))))),(0,n.Y)("button",{type:"button",css:Wo.editButton,onClick:function t(){u({component:Do,props:{title:(0,a.__)("Manage Subscription Plans","tutor"),icon:(0,n.Y)(s.A,{name:"dollar-recurring",width:24,height:24}),expandedSubscriptionId:e.id,courseId:r,isBundle:o}})},"data-edit-button":true,"data-cy":"edit-subscription"},(0,n.Y)(s.A,{name:"pen",width:19,height:19})))}var Wo={wrapper:(0,n.AH)("display:flex;justify-content:space-between;align-items:center;background-color:",D.I6.background.white,";padding:",D.YK[8]," ",D.YK[12],";[data-edit-button]{opacity:0;transition:opacity 0.3s ease;}&:hover{background-color:",D.I6.background.hover,";[data-edit-button]{opacity:1;}}&:not(:last-of-type){border-bottom:1px solid ",D.I6.stroke["default"],";}"+(true?"":0),true?"":0),item:(0,n.AH)("min-height:48px;display:flex;flex-direction:column;justify-content:center;gap:",D.YK[4],";"+(true?"":0),true?"":0),title:(0,n.AH)(T.I.caption("medium"),";color:",D.I6.text.primary,";display:flex;align-items:center;"+(true?"":0),true?"":0),information:(0,n.AH)(T.I.small(),";color:",D.I6.text.hints,";display:flex;align-items:center;flex-wrap:wrap;gap:",D.YK[4],";"+(true?"":0),true?"":0),featuredIcon:(0,n.AH)("color:",D.I6.icon.brand,";"+(true?"":0),true?"":0),editButton:(0,n.AH)(N.x.resetButton,";",N.x.flexCenter(),";width:24px;height:24px;border-radius:",D.Vq[4],";color:",D.I6.icon["default"],";transition:color 0.3s ease,background 0.3s ease;&:hover{background:",D.I6.action.secondary["default"],";color:",D.I6.icon.brand,";}"+(true?"":0),true?"":0)};function Fo(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function Bo(t){var e=t.courseId,r=t.isBundle,o=r===void 0?false:r;var i=kn(e);var u=(0,Ir.h)(),l=u.showModal;if(i.isLoading){return(0,n.Y)(nt.YE,null)}if(!i.data){return null}var c=i.data;return(0,n.Y)("div",{css:Mo.outer},(0,n.Y)(L.A,{when:c.length>0},(0,n.Y)("div",{css:Mo.header},(0,a.__)("Subscriptions","tutor"))),(0,n.Y)("div",{css:Mo.inner({hasSubscriptions:c.length>0})},(0,n.Y)(bo.A,{each:c},(function(t,r){return(0,n.Y)(No,{key:r,subscription:In(t),courseId:e,isBundle:o})})),(0,n.Y)("div",{css:Mo.emptyState({hasSubscriptions:c.length>0})},(0,n.Y)(x.A,{"data-cy":"add-subscription",variant:"secondary",icon:(0,n.Y)(s.A,{name:"dollar-recurring",width:24,height:24}),onClick:function t(){l({component:Do,props:{title:(0,a.__)("Manage Subscription Plans","tutor"),icon:(0,n.Y)(s.A,{name:"dollar-recurring",width:24,height:24}),createEmptySubscriptionOnMount:true,courseId:e,isBundle:o}})}},(0,a.__)("Add Subscription","tutor")))))}const Ro=Bo;var qo=true?{name:"1e1ncky",styles:"border:none"}:0;var Mo={outer:(0,n.AH)("width:100%;display:flex;flex-direction:column;gap:",D.YK[8],";"+(true?"":0),true?"":0),inner:function t(e){var r=e.hasSubscriptions;return(0,n.AH)("background:",D.I6.background.white,";border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq.card,";width:100%;overflow:hidden;",!r&&qo,";"+(true?"":0),true?"":0)},header:(0,n.AH)("display:flex;align-items:center;justify-content:space-between;",T.I.body(),";color:",D.I6.text.title,";"+(true?"":0),true?"":0),emptyState:function t(e){var r=e.hasSubscriptions;return(0,n.AH)("padding:",r?"".concat(D.YK[8]," ").concat(D.YK[12]):0,";width:100%;&>button{width:100%;}"+(true?"":0),true?"":0)}};var Uo=r(41594);function Vo(t){"@babel/helpers - typeof";return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Go(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Go(Object(r),!0).forEach((function(e){Qo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qo(t,e,r){return(e=$o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $o(t){var e=Jo(t,"string");return"symbol"==Vo(e)?e:e+""}function Jo(t,e){if("object"!=Vo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zo.apply(null,arguments)}function Xo(t){return ni(t)||ri(t)||ei(t)||ti()}function ti(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ei(t,e){if(t){if("string"==typeof t)return oi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oi(t,e):void 0}}function ri(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ni(t){if(Array.isArray(t))return oi(t)}function oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ii=(0,P.p9)();var ai=function t(){var e,r,c,s,d,f,p,v,h,b,m;var y=(0,l.xW)();var g=(0,o.jE)();var _=(0,i.C)({queryKey:["CourseDetails",ii]});var w=(0,wr.Zp)();var Y=(0,wr.zy)(),x=Y.state;var A=(0,l.FH)({control:y.control,name:"course_price_type"});var S=(0,l.FH)({control:y.control,name:"course_product_id"});var I=(0,l.FH)({control:y.control,name:"course_selling_option"});var O=g.getQueryData(["CourseDetails",ii]);var j=C.P.tutor_currency;var k=!!C.P.tutor_pro_url;var E=((e=C.P.settings)===null||e===void 0?void 0:e.monetize_by)==="wc"||((r=C.P.settings)===null||r===void 0?void 0:r.monetize_by)==="tutor"||((c=C.P.settings)===null||c===void 0?void 0:c.monetize_by)==="edd"?[{label:(0,a.__)("Free","tutor"),value:"free"},{label:(0,a.__)("Paid","tutor"),value:"paid"}]:[{label:(0,a.__)("Free","tutor"),value:"free"}];var P=[{label:(0,a.__)("One-time purchase only","tutor"),value:"one_time"},{label:(0,a.__)("Subscription only","tutor"),value:"subscription"},{label:(0,a.__)("Subscription & one-time purchase","tutor"),value:"both"},{label:(0,a.__)("Membership only","tutor"),value:"membership"},{label:(0,a.__)("All","tutor"),value:"all"}];var D=(0,Sr.Wn)((s=C.P.settings)===null||s===void 0?void 0:s.monetize_by,ii?String(ii):"");var T=(0,Sr.b8)(S,String(ii),A,k?(d=C.P.settings)===null||d===void 0?void 0:d.monetize_by:undefined);var H=function t(e){var r;if(!e||!e.length){return[]}var n=O||{},o=n.course_pricing;var i=o!==null&&o!==void 0&&o.product_id&&o.product_id!=="0"&&o.product_name?{label:o.product_name||"",value:String(o.product_id)}:null;var a=(r=e.map((function(t){var e=t.post_title,r=t.ID;return{label:e,value:String(r)}})))!==null&&r!==void 0?r:[];var u=[i].concat(Xo(a)).filter(Bn.O9);var l=Array.from(new Map(u.map((function(t){return[t.value,t]}))).values());return l};(0,u.useEffect)((function(){if(D.isSuccess&&D.data){var t;var e=O||{},r=e.course_pricing;if(((t=C.P.settings)===null||t===void 0?void 0:t.monetize_by)==="wc"&&r!==null&&r!==void 0&&r.product_id&&r.product_id!=="0"&&!H(D.data).find((function(t){var e=t.value;return String(e)===String(r.product_id)}))){y.setValue("course_product_id","",{shouldValidate:true})}}}),[D.data]);(0,u.useEffect)((function(){var t;if(!C.P.edd_products||!C.P.edd_products.length){return}var e=O||{},r=e.course_pricing;if(((t=C.P.settings)===null||t===void 0?void 0:t.monetize_by)==="edd"&&r!==null&&r!==void 0&&r.product_id&&r.product_id!=="0"&&!C.P.edd_products.find((function(t){var e=t.ID;return String(e)===String(r.product_id)}))){y.setValue("course_product_id","",{shouldValidate:true})}}),[C.P.edd_products]);(0,u.useEffect)((function(){var t;if(((t=C.P.settings)===null||t===void 0?void 0:t.monetize_by)!=="wc"){return}if(T.isSuccess&&T.data){if(x!==null&&x!==void 0&&x.isError){w(Ar.P.CourseBasics.buildLink(),{state:{isError:false}});return}y.setValue("course_price",T.data.regular_price||"0",{shouldValidate:true});y.setValue("course_sale_price",T.data.sale_price||"0",{shouldValidate:true});return}var e=y.formState.dirtyFields.course_price;var r=y.formState.dirtyFields.course_sale_price;if(!e){y.setValue("course_price","0")}if(!r){y.setValue("course_sale_price","0")}}),[T.data]);return(0,n.Y)(Uo.Fragment,null,(0,n.Y)(l.xI,{name:"course_price_type",control:y.control,render:function t(e){return(0,n.Y)(xr.A,Zo({},e,{label:(0,a.__)("Pricing Model","tutor"),options:E,wrapperCss:li.priceRadioGroup}))}}),(0,n.Y)(L.A,{when:(0,W.GR)(K.oW.SUBSCRIPTION)&&((f=C.P.settings)===null||f===void 0?void 0:f.monetize_by)==="tutor"&&A==="paid"},(0,n.Y)(l.xI,{name:"course_selling_option",control:y.control,render:function t(e){return(0,n.Y)(ae.A,Zo({},e,{label:(0,a.__)("Purchase Options","tutor"),options:P}))}})),(0,n.Y)(L.A,{when:A==="paid"&&((p=C.P.settings)===null||p===void 0?void 0:p.monetize_by)==="wc"},(0,n.Y)(l.xI,{name:"course_product_id",control:y.control,render:function t(e){return(0,n.Y)(ae.A,Zo({},e,{label:(0,a.__)("Select product","tutor"),placeholder:(0,a.__)("Select a product","tutor"),options:[{label:(0,a.__)("Select a product","tutor"),value:"-1"}].concat(Xo(H(D.data))),helpText:(0,a.sprintf)((0,a.__)("You can select an existing WooCommerce product%s","tutor"),k?", alternatively, a new WooCommerce product will be created for you.":"."),isSearchable:true,loading:D.isLoading&&!e.field.value,isClearable:true}))}})),(0,n.Y)(L.A,{when:A==="paid"&&((v=C.P.settings)===null||v===void 0?void 0:v.monetize_by)==="edd"},(0,n.Y)(l.xI,{name:"course_product_id",control:y.control,rules:zo({},(0,F.WN)()),render:function t(e){return(0,n.Y)(ae.A,Zo({},e,{label:(0,a.__)("Select product","tutor"),placeholder:(0,a.__)("Select a product","tutor"),options:C.P.edd_products?C.P.edd_products.map((function(t){return{label:t.post_title,value:String(t.ID)}})):[],helpText:(0,a.__)("Sell your product, process by EDD","tutor"),isSearchable:true,loading:!!_&&!e.field.value}))}})),(0,n.Y)(L.A,{when:A==="paid"&&!["subscription","membership"].includes(I)&&(((h=C.P.settings)===null||h===void 0?void 0:h.monetize_by)==="tutor"||k&&((b=C.P.settings)===null||b===void 0?void 0:b.monetize_by)==="wc"&&S!=="-1")},(0,n.Y)("div",{css:li.coursePriceWrapper},(0,n.Y)(l.xI,{name:"course_price",control:y.control,rules:zo(zo({},(0,F.WN)()),{},{validate:function t(e){if(Number(e)<=0){return(0,a.__)("Price must be greater than 0","tutor")}return true}}),render:function t(e){return(0,n.Y)(Yr.A,Zo({},e,{label:(0,a.__)("Regular Price","tutor"),content:(j===null||j===void 0?void 0:j.symbol)||"$",placeholder:(0,a.__)("0","tutor"),type:"number",loading:!!_&&!e.field.value,selectOnFocus:true,contentCss:N.x.inputCurrencyStyle}))}}),(0,n.Y)(l.xI,{name:"course_sale_price",control:y.control,rules:{validate:function t(e){if(!e){return true}var r=y.getValues("course_price");if(Number(e)>=Number(r)){return(0,a.__)("Sale price must be less than regular price","tutor")}return true}},render:function t(e){return(0,n.Y)(Yr.A,Zo({},e,{label:(0,a.__)("Sale Price","tutor"),content:(j===null||j===void 0?void 0:j.symbol)||"$",placeholder:(0,a.__)("0","tutor"),type:"number",loading:!!_&&!e.field.value,selectOnFocus:true,contentCss:N.x.inputCurrencyStyle}))}}))),(0,n.Y)(L.A,{when:(0,W.GR)(K.oW.SUBSCRIPTION)&&((m=C.P.settings)===null||m===void 0?void 0:m.monetize_by)==="tutor"&&A==="paid"},(0,n.Y)(L.A,{when:!["one_time","membership"].includes(I)},(0,n.Y)(Ro,{courseId:ii}))))};const ui=(0,H.M)(ai);var li={priceRadioGroup:(0,n.AH)("display:flex;align-items:center;gap:",D.YK[36],";"+(true?"":0),true?"":0),coursePriceWrapper:(0,n.AH)("display:flex;align-items:flex-start;gap:",D.YK[16],";"+(true?"":0),true?"":0)};function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ci.apply(null,arguments)}function si(t){return pi(t)||fi(t)||bi(t)||di()}function di(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fi(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function pi(t){if(Array.isArray(t))return mi(t)}function vi(t,e){return gi(t)||yi(t,e)||bi(t,e)||hi()}function hi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bi(t,e){if(t){if("string"==typeof t)return mi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(t,e):void 0}}function mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function yi(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function gi(t){if(Array.isArray(t))return t}var _i=(0,P.p9)();var wi=function t(){var e,r,d,f;var p=(0,l.xW)();var v=(0,o.jE)();var h=(0,i.C)({queryKey:["CourseDetails",_i]});var b=(0,u.useState)(""),m=vi(b,2),y=m[0],g=m[1];var _=v.getQueryData(["CourseDetails",_i]);var w=C.P.current_user;var Y=(0,W.GR)(K.oW.TUTOR_MULTI_INSTRUCTORS);var x=!!C.P.tutor_pro_url;var A=((e=C.P.settings)===null||e===void 0?void 0:e.chatgpt_enable)==="on";var S=((r=C.P.settings)===null||r===void 0?void 0:r.instructor_can_change_course_author)!=="off";var I=((d=C.P.settings)===null||d===void 0?void 0:d.instructor_can_manage_co_instructors)!=="off";var O=String(w.data.id)===String((_===null||_===void 0?void 0:_.post_author.ID)||"");var k=w.roles.includes(K.gt.ADMINISTRATOR);var E=((_===null||_===void 0?void 0:_.course_instructors)||[]).find((function(t){return String(t.id)===String(w.data.id)}));var P=(0,W.GR)(K.oW.SUBSCRIPTION)&&((f=C.P.settings)===null||f===void 0?void 0:f.membership_only_mode);var D=p.watch("post_author");var T=x&&Y&&(k||E&&I);var H=k||O&&S;var N=(0,l.FH)({control:p.control,name:"visibility"});var F=[{label:(0,a.__)("Public","tutor"),value:"publish"},{label:(0,a.__)("Password Protected","tutor"),value:"password_protected"},{label:(0,a.__)("Private","tutor"),value:"private"}];var B=yr(y);var R=_r(String(_i),Y);var q=((_===null||_===void 0?void 0:_.course_instructors)||[]).map((function(t){return{id:t.id,name:t.display_name,email:t.user_email,avatar_url:t.avatar_url}}));var M=[].concat(si(q),si(R.data||[])).filter((function(t){return String(t.id)!==String(D===null||D===void 0?void 0:D.id)}));var U=function t(){var e=_===null||_===void 0?void 0:_.post_author;var r=p.getValues("course_instructors");var n=!!r.find((function(t){return String(t.id)===String(e===null||e===void 0?void 0:e.ID)}));var o={id:Number(e===null||e===void 0?void 0:e.ID),name:e===null||e===void 0?void 0:e.display_name,email:e.user_email,avatar_url:e===null||e===void 0?void 0:e.tutor_profile_photo_url,isRemoveAble:String(e===null||e===void 0?void 0:e.ID)!==String(w.data.id)};var i=n?r:[].concat(si(r),[o]);p.setValue("course_instructors",i)};return(0,n.Y)("div",{css:xi.sidebar},(0,n.Y)("div",{css:xi.statusAndDate},(0,n.Y)(l.xI,{name:"visibility",control:p.control,render:function t(e){return(0,n.Y)(ae.A,ci({},e,{label:(0,a.__)("Visibility","tutor"),placeholder:(0,a.__)("Select visibility status","tutor"),options:F,leftIcon:(0,n.Y)(s.A,{name:"eye",width:32,height:32}),loading:!!h&&!e.field.value,onChange:function t(){p.setValue("post_password","")}}))}}),(0,n.Y)(L.A,{when:_===null||_===void 0?void 0:_.post_modified},(function(t){return(0,n.Y)("div",{css:xi.updatedOn},(0,a.sprintf)((0,a.__)("Last updated on %s","tutor"),(0,c["default"])(new Date(t),K.Bd.dayMonthYear)||""))}))),(0,n.Y)(L.A,{when:N==="password_protected"},(0,n.Y)(l.xI,{name:"post_password",control:p.control,rules:{required:(0,a.__)("Password is required","tutor")},render:function t(e){return(0,n.Y)(yt.A,ci({},e,{label:(0,a.__)("Password","tutor"),placeholder:(0,a.__)("Enter password","tutor"),type:"password",isPassword:true,loading:!!h&&!e.field.value}))}})),(0,n.Y)(X,{visibilityKey:K.qP.COURSE_BUILDER.BASICS.SCHEDULING_OPTIONS}),(0,n.Y)(l.xI,{name:"thumbnail",control:p.control,render:function t(e){return(0,n.Y)(j.A,ci({},e,{label:(0,a.__)("Featured Image","tutor"),buttonText:(0,a.__)("Upload Thumbnail","tutor"),infoText:(0,a.sprintf)((0,a.__)("JPEG, PNG, GIF, and WebP formats, up to %s","tutor"),C.P.max_upload_size),generateWithAi:!x||A,loading:!!h&&!e.field.value,visibilityKey:K.qP.COURSE_BUILDER.BASICS.FEATURED_IMAGE}))}}),(0,n.Y)(l.xI,{name:"video",control:p.control,render:function t(e){return(0,n.Y)(br.A,ci({},e,{label:(0,a.__)("Intro Video","tutor"),buttonText:(0,a.__)("Upload Video","tutor"),infoText:(0,a.sprintf)((0,a.__)("MP4, and WebM formats, up to %s","tutor"),C.P.max_upload_size),loading:!!h&&!e.field.value,visibilityKey:K.qP.COURSE_BUILDER.BASICS.INTRO_VIDEO}))}}),(0,n.Y)(L.A,{when:!P},(0,n.Y)(ui,{visibilityKey:K.qP.COURSE_BUILDER.BASICS.PRICING_OPTIONS})),(0,n.Y)(l.xI,{name:"course_categories",control:p.control,defaultValue:[],render:function t(e){return(0,n.Y)(re,ci({},e,{label:(0,a.__)("Categories","tutor"),visibilityKey:K.qP.COURSE_BUILDER.BASICS.CATEGORIES}))}}),(0,n.Y)(l.xI,{name:"course_tags",control:p.control,render:function t(e){return(0,n.Y)(pr,ci({},e,{label:(0,a.__)("Tags","tutor"),placeholder:(0,a.__)("Add tags","tutor"),visibilityKey:K.qP.COURSE_BUILDER.BASICS.TAGS}))}}),(0,n.Y)(l.xI,{name:"post_author",control:p.control,render:function t(e){var r,o;return(0,n.Y)(Ce,ci({},e,{label:(0,a.__)("Author","tutor"),options:(r=(o=B.data)===null||o===void 0?void 0:o.map((function(t){return{id:t.id,name:t.name||"",email:t.email||"",avatar_url:t.avatar_url||""}})))!==null&&r!==void 0?r:[],placeholder:(0,a.__)("Search to add author","tutor"),isSearchable:true,disabled:!H,loading:B.isLoading,onChange:U,handleSearchOnChange:function t(e){g(e)},visibilityKey:K.qP.COURSE_BUILDER.BASICS.AUTHOR}))}}),(0,n.Y)(L.A,{when:T},(0,n.Y)(l.xI,{name:"course_instructors",control:p.control,render:function t(e){return(0,n.Y)(Ce,ci({},e,{label:(0,a.__)("Instructors","tutor"),options:M,placeholder:(0,a.__)("Search to add instructor","tutor"),isSearchable:true,isMultiSelect:true,loading:R.isLoading&&!e.field.value,emptyStateText:(0,a.__)("No instructors added.","tutor"),isInstructorMode:true,visibilityKey:K.qP.COURSE_BUILDER.BASICS.INSTRUCTORS}))}})))};const Yi=wi;var xi={sidebar:(0,n.AH)("border-left:1px solid ",D.I6.stroke.divider,";min-height:calc(100vh - ",D.$A,"px);padding-left:",D.YK[32],";padding-block:",D.YK[24],";display:flex;flex-direction:column;gap:",D.YK[16],";",D.EA.smallTablet,"{border-left:none;border-top:1px solid ",D.I6.stroke.divider,";padding-block:",D.YK[16],";padding-left:0;}"+(true?"":0),true?"":0),statusAndDate:(0,n.AH)(N.x.display.flex("column"),";gap:",D.YK[4],";"+(true?"":0),true?"":0),updatedOn:(0,n.AH)(T.I.caption(),";color:",D.I6.text.hints,";"+(true?"":0),true?"":0),priceRadioGroup:(0,n.AH)("display:flex;align-items:center;gap:",D.YK[36],";"+(true?"":0),true?"":0),coursePriceWrapper:(0,n.AH)("display:flex;align-items:flex-start;gap:",D.YK[16],";"+(true?"":0),true?"":0)};var Ai=r(29832);function Si(t){"@babel/helpers - typeof";return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}var Ii=["css"];function Oi(t,e,r){return(e=ji(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ji(t){var e=ki(t,"string");return"symbol"==Si(e)?e:e+""}function ki(t,e){if("object"!=Si(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ei.apply(null,arguments)}function Pi(t,e){if(null==t)return{};var r,n,o=Ci(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ci(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}function Ki(t){return Li(t)||Ti(t)||Wi(t)||Di()}function Di(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ti(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Li(t){if(Array.isArray(t))return Fi(t)}function Hi(t,e){return Ri(t)||Bi(t,e)||Wi(t,e)||Ni()}function Ni(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wi(t,e){if(t){if("string"==typeof t)return Fi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fi(t,e):void 0}}function Fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Bi(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Ri(t){if(Array.isArray(t))return t}function qi(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Mi=function t(e){var r;var o=e.field,i=e.fieldState,l=e.label,c=e.placeholder,s=c===void 0?"":c,d=e.disabled,f=e.readOnly,p=e.loading,v=e.helpText,h=e.removeOptionsMinWidth,b=h===void 0?false:h,m=e.options;var y=(r=o.value)!==null&&r!==void 0?r:[];var g=m.filter((function(t){return y.includes(t.value)}));var _=(0,u.useState)(""),w=Hi(_,2),Y=w[0],x=w[1];var A=(0,ot.d)(Y);var S=m.filter((function(t){return t.label.toLowerCase().includes(A.toLowerCase())}));var I=(0,u.useState)(false),O=Hi(I,2),j=O[0],k=O[1];var E=(0,ut.t)({isOpen:j,isDropdown:true}),P=E.triggerRef,C=E.triggerWidth,D=E.position,T=E.popoverRef;var H=function t(e,r){if(e){o.onChange([].concat(Ki(y),[r]))}else{o.onChange(y.filter((function(t){return t!==r})))}};return(0,n.Y)(mt.A,{fieldState:i,field:o,label:l,disabled:d,readOnly:f,loading:p,helpText:v},(function(t){var e=t.css,r=Pi(t,Ii);return(0,n.Y)("div",{css:Gi.mainWrapper},(0,n.Y)("div",{css:Gi.inputWrapper,ref:P},(0,n.Y)("input",Ei({},r,{css:[e,Gi.input,true?"":0,true?"":0],onClick:function t(){return k(true)},autoComplete:"off",readOnly:f,placeholder:s,value:Y,onChange:function t(e){x(e.target.value)}}))),y.length>0&&(0,n.Y)("div",{css:Gi.selectedOptionsWrapper},g.map((function(t){return(0,n.Y)(He,{key:t.value,label:t.label,onClick:function e(){return H(false,t.value)}})}))),(0,n.Y)(ut.Z,{isOpen:j,onClickOutside:function t(){return k(false)},onEscape:function t(){return k(false)}},(0,n.Y)("div",{css:[Gi.optionsWrapper,Oi(Oi(Oi({},K.V8?"right":"left",D.left),"top",D.top),"maxWidth",C),true?"":0,true?"":0],ref:T},(0,n.Y)("ul",{css:[Gi.options(b),true?"":0,true?"":0]},(0,n.Y)(L.A,{when:S.length>0,fallback:(0,n.Y)("div",{css:Gi.notTag},(0,a.__)("No option available.","tutor"))},(0,n.Y)(bo.A,{each:S},(function(t){return(0,n.Y)("li",{key:t.value,css:Gi.optionItem},(0,n.Y)(rt.A,{label:t.label,checked:!!y.find((function(e){return e===t.value})),onChange:function e(r){return H(r,t.value)}}))})))))))}))};const Ui=Mi;var Vi=true?{name:"16gsvie",styles:"min-width:200px"}:0;var Gi={mainWrapper:true?{name:"1d3w5wq",styles:"width:100%"}:0,notTag:(0,n.AH)(T.I.caption(),";min-height:80px;display:flex;justify-content:center;align-items:center;color:",D.I6.text.subdued,";"+(true?"":0),true?"":0),inputWrapper:true?{name:"1712kcx",styles:"width:100%;display:flex;justify-content:space-between;align-items:center;position:relative"}:0,input:(0,n.AH)(T.I.body(),";width:100%;",N.x.textEllipsis,";:focus{outline:none;box-shadow:",D.r7.focus,";}"+(true?"":0),true?"":0),selectedOptionsWrapper:(0,n.AH)("display:flex;flex-wrap:wrap;align-items:center;gap:",D.YK[4],";margin-top:",D.YK[8],";"+(true?"":0),true?"":0),optionsWrapper:true?{name:"1n0kzcr",styles:"position:absolute;width:100%"}:0,options:function t(e){return(0,n.AH)("z-index:",D.fE.dropdown,";background-color:",D.I6.background.white,";list-style-type:none;box-shadow:",D.r7.popover,";padding:",D.YK[4]," 0;margin:0;max-height:400px;border-radius:",D.Vq[6],";",N.x.overflowYAuto,";",!e&&Vi,";"+(true?"":0),true?"":0)},optionItem:(0,n.AH)("min-height:40px;height:100%;width:100%;display:flex;align-items:center;padding:",D.YK[8],";transition:background-color 0.3s ease-in-out;label{width:100%;}&:hover{background-color:",D.I6.background.hover,";}"+(true?"":0),true?"":0),addTag:(0,n.AH)(N.x.resetButton,";",T.I.body()," line-height:",D.K_[24],";display:flex;align-items:center;gap:",D.YK[4],";width:100%;padding:",D.YK[8],";&:hover{background-color:",D.I6.background.hover,";}"+(true?"":0),true?"":0)};function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zi.apply(null,arguments)}function Qi(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var $i=true?{name:"zmwa79",styles:"align-items:start;span{top:3px;}"}:0;var Ji=function t(){var e=(0,l.xW)();var r=[{label:(0,a.__)("Schedule course content by date","tutor"),value:"unlock_by_date"},{label:(0,a.__)("Content available after X days from enrollment","tutor"),value:"specific_days"},{label:(0,a.__)("Course content available sequentially","tutor"),value:"unlock_sequentially"},{label:(0,a.__)("Course content unlocked after finishing prerequisites","tutor"),value:"after_finishing_prerequisites",labelCss:$i},{label:(0,a.__)("None","tutor"),value:""}];if(!C.P.tutor_pro_url){return(0,n.Y)("div",{css:Xi.dripNoProWrapper},(0,n.Y)(s.A,{name:"crown",width:72,height:72}),(0,n.Y)("h6",{css:T.I.body("medium")},(0,a.__)("Content Drip is a pro feature","tutor")),(0,n.Y)("p",{css:Xi.dripNoProDescription},(0,a.__)("You can schedule your course content using  content drip options","tutor")),(0,n.Y)(x.A,{icon:(0,n.Y)(s.A,{name:"crown",width:24,height:24}),onClick:function t(){window.open(C.A.TUTOR_PRICING_PAGE,"_blank","noopener")}},(0,a.__)("Get Tutor LMS Pro","tutor")))}if(!(0,W.GR)(K.oW.CONTENT_DRIP)){return(0,n.Y)("div",{css:Xi.dripNoProWrapper},(0,n.Y)(s.A,{name:"contentDrip",width:72,height:72,style:Xi.dripIcon}),(0,n.Y)("h6",{css:T.I.body("medium")},(0,a.__)("Activate the Content Drip addon to use this feature.","tutor")),(0,n.Y)("p",{css:Xi.dripNoProDescription},(0,a.__)("Control when students can access lessons and quizzes using the Content Drip feature.","tutor")),(0,n.Y)(x.A,{variant:"secondary",icon:(0,n.Y)(s.A,{name:"linkExternal",width:24,height:24}),onClick:function t(){window.open(C.A.TUTOR_ADDONS_PAGE,"_blank","noopener")}},(0,a.__)("Enable Content Drip Addon","tutor")))}return(0,n.Y)("div",{css:Xi.dripWrapper},(0,n.Y)("h6",{css:Xi.dripTitle},(0,a.__)("Content Drip Type","tutor")),(0,n.Y)("p",{css:Xi.dripSubTitle},(0,a.__)("You can schedule your course content using one of the following Content Drip options","tutor")),(0,n.Y)(l.xI,{name:"contentDripType",control:e.control,render:function t(e){return(0,n.Y)(xr.A,zi({},e,{options:r,wrapperCss:Xi.radioWrapper}))}}))};const Zi=Ji;var Xi={dripWrapper:(0,n.AH)("background-color:",D.I6.background.white,";padding:",D.YK[16]," ",D.YK[24]," ",D.YK[32]," ",D.YK[32],";min-height:400px;",D.EA.smallMobile,"{padding:",D.YK[16],";}"+(true?"":0),true?"":0),dripTitle:(0,n.AH)(T.I.body("medium"),";margin-bottom:",D.YK[4],";"+(true?"":0),true?"":0),dripSubTitle:(0,n.AH)(T.I.small(),";color:",D.I6.text.hints,";margin-bottom:",D.YK[16],";"+(true?"":0),true?"":0),radioWrapper:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[8],";"+(true?"":0),true?"":0),dripNoProWrapper:(0,n.AH)("min-height:400px;background:",D.I6.background.white,";display:flex;flex-direction:column;align-items:center;justify-content:center;gap:",D.YK[4],";padding:",D.YK[24],";text-align:center;"+(true?"":0),true?"":0),dripNoProDescription:(0,n.AH)(T.I.caption(),";color:",D.I6.text.subdued,";max-width:320px;margin:0 auto ",D.YK[12],";"+(true?"":0),true?"":0),dripIcon:(0,n.AH)("color:",D.I6.icon.brand,";"+(true?"":0),true?"":0)};function ta(t){"@babel/helpers - typeof";return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ea(Object(r),!0).forEach((function(e){na(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function na(t,e,r){return(e=oa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oa(t){var e=ia(t,"string");return"symbol"==ta(e)?e:e+""}function ia(t,e){if("object"!=ta(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aa.apply(null,arguments)}function ua(t,e){return fa(t)||da(t,e)||ca(t,e)||la()}function la(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ca(t,e){if(t){if("string"==typeof t)return sa(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sa(t,e):void 0}}function sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function da(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function fa(t){if(Array.isArray(t))return t}function pa(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var va=(0,P.p9)();var ha=function t(){var e,r;var o=!!C.P.tutor_pro_url;var c=(0,l.xW)();var s=(0,i.C)({queryKey:["CourseDetails",va]});var d=(0,l.FH)({control:c.control,name:"course_enrollment_period"});var f=(0,l.FH)({control:c.control,name:"enrollment_starts_date"});var p=(0,l.FH)({control:c.control,name:"enrollment_starts_time"});var v=(0,l.FH)({control:c.control,name:"enrollment_ends_date"});var h=(0,l.FH)({control:c.control,name:"isScheduleEnabled"});var b=(0,l.FH)({control:c.control,name:"schedule_date"});var y=(0,l.FH)({control:c.control,name:"schedule_time"});var g=(0,u.useState)(false),w=ua(g,2),Y=w[0],A=w[1];var S=(0,W.GR)(K.oW.SUBSCRIPTION)&&((e=C.P.settings)===null||e===void 0?void 0:e.membership_only_mode);var j=(0,W.GR)(K.oW.ENROLLMENT);var P=new Date("".concat(b," ").concat(y));return(0,n.Y)("div",{css:ma.wrapper},(0,n.Y)(l.xI,{name:"maximum_students",control:c.control,render:function t(e){return(0,n.Y)(yt.A,aa({},e,{label:(0,a.__)("Maximum Student","tutor"),helpText:(0,a.__)("Number of students that can enrol in this course. Set 0 for no limits.","tutor"),placeholder:"0",type:"number",isClearable:true,selectOnFocus:true,loading:!!s&&!e.field.value}))}}),(0,n.Y)(L.A,{when:o&&j},(0,n.Y)(L.A,{when:!S&&((r=C.P.settings)===null||r===void 0?void 0:r.enrollment_expiry_enabled)==="on"},(0,n.Y)(l.xI,{name:"enrollment_expiry",control:c.control,render:function t(e){return(0,n.Y)(yt.A,aa({},e,{label:(0,a.__)("Enrollment Expiration","tutor"),helpText:(0,a.__)("Student's enrollment will be removed after this number of days. Set 0 for lifetime enrollment.","tutor"),placeholder:"0",type:"number",isClearable:true,selectOnFocus:true,loading:!!s&&!e.field.value}))}})),(0,n.Y)("div",{css:ma.enrollmentPeriod({isEnabled:d})},(0,n.Y)(l.xI,{name:"course_enrollment_period",control:c.control,rules:{deps:["schedule_date","schedule_time","enrollment_starts_date","enrollment_starts_time","enrollment_ends_date","enrollment_ends_time"]},render:function t(e){return(0,n.Y)(k.A,aa({},e,{label:(0,a.__)("Course Enrollment Period","tutor"),loading:!!s&&!e.field.value}))}}),(0,n.Y)(L.A,{when:d},(0,n.Y)("div",{css:ma.enrollmentDateWrapper},(0,n.Y)("div",{css:ma.enrollmentDate},(0,n.Y)("label",{htmlFor:"enrollment_starts_at"},(0,a.__)("Start Date","tutor")),(0,n.Y)("div",{id:"enrollment_starts_at",css:N.x.dateAndTimeWrapper},(0,n.Y)(l.xI,{name:"enrollment_starts_date",control:c.control,rules:ra(ra({},F.WN),{},{validate:{invalidDate:F.Kh,isAfterScheduleDate:function t(e){if(h&&P&&(0,m["default"])(_(new Date(e)),_(new Date(b)))){return(0,a.__)("Start date should be after the schedule date","tutor")}}},deps:["schedule_date","schedule_time","enrollment_starts_time","enrollment_ends_date","enrollment_ends_time"]}),render:function t(e){return(0,n.Y)(O.A,aa({},e,{loading:!!s&&!e.field.value,placeholder:(0,a.__)("Start Date","tutor"),dateFormat:K.Bd.monthDayYear}))}}),(0,n.Y)(l.xI,{name:"enrollment_starts_time",control:c.control,rules:ra(ra({},F.WN),{},{validate:{invalidTime:F.XA,isAfterScheduleTime:function t(e){if(h&&P&&(0,m["default"])(new Date("".concat(f," ").concat(e)),P)){return(0,a.__)("Start time should be after the schedule time","tutor")}}},deps:["schedule_date","schedule_time","enrollment_starts_date","enrollment_ends_date"]}),render:function t(e){return(0,n.Y)(E.A,aa({},e,{loading:!!s&&!e.field.value,placeholder:(0,a.__)("hh:mm a","tutor")}))}}))),(0,n.Y)(L.A,{when:Y||v,fallback:(0,n.Y)("div",null,(0,n.Y)(x.A,{variant:"secondary",size:"small",onClick:function t(){return A(true)},disabled:!!s||!f||!p},(0,a.__)("Add End Date","tutor")))},(0,n.Y)("div",{css:ma.enrollmentDate},(0,n.Y)("label",{htmlFor:"enrollment_ends_at"},(0,n.Y)("span",null,(0,a.__)("End Date","tutor")),(0,n.Y)(x.A,{variant:"text",size:"small",onClick:function t(){A(false);c.setValue("enrollment_ends_date","");c.setValue("enrollment_ends_time","")},css:ma.removeButton},(0,a.__)("Remove","tutor"))),(0,n.Y)("div",{id:"enrollment_ends_at",css:N.x.dateAndTimeWrapper},(0,n.Y)(l.xI,{name:"enrollment_ends_date",control:c.control,rules:ra(ra({},F.WN),{},{validate:{invalidDate:F.Kh,checkEndDate:function t(e){if((0,m["default"])(_(new Date(e)),_(new Date(f)))){return(0,a.__)("End date should be after the start date","tutor")}}},deps:["enrollment_starts_date","enrollment_starts_time","enrollment_ends_time"]}),render:function t(e){return(0,n.Y)(O.A,aa({},e,{loading:!!s&&!e.field.value,placeholder:(0,a.__)("End Date","tutor"),disabledBefore:f,dateFormat:K.Bd.monthDayYear}))}}),(0,n.Y)(l.xI,{name:"enrollment_ends_time",control:c.control,rules:ra(ra({},F.WN),{},{validate:{invalidTime:F.XA,checkEndTime:function t(e){if(f&&v&&p&&!(0,m["default"])(new Date("".concat(f," ").concat(p)),new Date("".concat(v," ").concat(e)))){return(0,a.__)("End time should be after the start time","tutor")}}},deps:["enrollment_starts_date","enrollment_starts_time","enrollment_ends_date"]}),render:function t(e){return(0,n.Y)(E.A,aa({},e,{loading:!!s&&!e.field.value,placeholder:(0,a.__)("hh:mm a","tutor")}))}}))))))),(0,n.Y)(l.xI,{name:"pause_enrollment",control:c.control,render:function t(e){return(0,n.Y)(I.A,aa({},e,{label:(0,a.__)("Pause Enrollment","tutor"),description:(0,a.__)("If you pause enrolment, students will no longer be able to enroll in the course.","tutor")}))}})))};const ba=ha;var ma={wrapper:(0,n.AH)(N.x.display.flex("column"),";gap:",D.YK[16],";background-color:",D.I6.background.white,";padding:",D.YK[16]," ",D.YK[24]," ",D.YK[32]," ",D.YK[32],";min-height:400px;",D.EA.smallMobile,"{padding:",D.YK[16],";}"+(true?"":0),true?"":0),enrollmentPeriod:function t(e){var r=e.isEnabled,o=r===void 0?false:r;return(0,n.AH)("padding:",D.YK[12],";border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq[8],";background-color:",D.I6.bg.white,";",o&&(0,n.AH)("padding-bottom:",D.YK[16],";"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},enrollmentDateWrapper:(0,n.AH)(N.x.display.flex("column"),";gap:",D.YK[8],";margin-top:",D.YK[16],";"+(true?"":0),true?"":0),enrollmentDate:(0,n.AH)(N.x.display.flex("column"),";gap:",D.YK[4],";label{",N.x.display.flex(),";align-items:center;justify-content:space-between;",T.I.caption(),";color:",D.I6.text.title,";}"+(true?"":0),true?"":0),removeButton:true?{name:"14nlu69",styles:"margin-left:auto;padding:0"}:0};var ya=r(96645);function ga(t){"@babel/helpers - typeof";return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_a.apply(null,arguments)}function wa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wa(Object(r),!0).forEach((function(e){xa(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xa(t,e,r){return(e=Aa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aa(t){var e=Sa(t,"string");return"symbol"==ga(e)?e:e+""}function Sa(t,e){if("object"!=ga(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ga(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ia(t,e){return Pa(t)||Ea(t,e)||ja(t,e)||Oa()}function Oa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ja(t,e){if(t){if("string"==typeof t)return ka(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ka(t,e):void 0}}function ka(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ea(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Pa(t){if(Array.isArray(t))return t}function Ca(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Ka=(0,P.p9)();var Da=true?{name:"1vqsuxb",styles:"button{min-width:auto;}"}:0;var Ta=function t(){var e,r;var o=(0,l.xW)();var c=(0,i.C)({queryKey:["CourseDetails",Ka]});var d=(0,ya.A)(K.qP.COURSE_BUILDER.BASICS.OPTIONS.GENERAL);var f=(0,ya.A)(K.qP.COURSE_BUILDER.BASICS.OPTIONS.CONTENT_DRIP);var p=(0,ya.A)(K.qP.COURSE_BUILDER.BASICS.OPTIONS.ENROLLMENT);var v=o.watch("contentDripType");var h=o.watch("enable_tutor_bp");var b=[d&&{label:(0,a.__)("General","tutor"),value:"general",icon:(0,n.Y)(s.A,{name:"settings",width:24,height:24})},f&&{label:(0,a.__)("Content Drip","tutor"),value:"content_drip",icon:(0,n.Y)(s.A,{name:"contentDrip",width:24,height:24}),activeBadge:!!v},p&&{label:(0,a.__)("Enrollment","tutor"),value:"enrollment",icon:(0,n.Y)(s.A,{name:"update",width:24,height:24})},(0,W.GR)(K.oW.BUDDYPRESS)&&{label:(0,a.__)("BuddyPress","tutor"),value:"buddyPress",icon:(0,n.Y)(s.A,{name:"buddyPress",width:24,height:24}),activeBadge:h}].filter(Boolean);var m=(0,u.useState)(((e=b[0])===null||e===void 0?void 0:e.value)||"general"),y=Ia(m,2),g=y[0],_=y[1];if(!b.length){return null}var w=K.vN.isAboveSmallMobile?b:b.map((function(t){return Ya(Ya({},t),{},{label:g===t.value?t.label:""})}));var Y=(C.P.difficulty_levels||[]).map((function(t){return{label:t.label,value:t.value}}));return(0,n.Y)("div",null,(0,n.Y)("label",{css:T.I.caption()},(0,a.__)("Options","tutor")),(0,n.Y)("div",{"data-cy":"course-settings",css:Ha.courseSettings},(0,n.Y)(Ai.A,{tabList:w,activeTab:g,onChange:_,orientation:!K.vN.isAboveSmallMobile?"horizontal":"vertical",wrapperCss:Da}),(0,n.Y)("div",{css:(0,n.AH)({borderLeft:"1px solid ".concat(D.I6.stroke.divider)},true?"":0,true?"":0)},g==="general"&&(0,n.Y)("div",{css:Ha.settingsOptions},(0,n.Y)(l.xI,{name:"course_level",control:o.control,render:function t(e){return(0,n.Y)(ae.A,_a({},e,{label:(0,a.__)("Difficulty Level","tutor"),placeholder:(0,a.__)("Select Difficulty Level","tutor"),helpText:(0,a.__)("Course difficulty level","tutor"),options:Y,isClearable:false,loading:!!c&&!e.field.value}))}}),(0,n.Y)("div",{css:Ha.courseAndQna},(0,n.Y)(l.xI,{name:"is_public_course",control:o.control,render:function t(e){return(0,n.Y)(k.A,_a({},e,{label:(0,a.__)("Public Course","tutor"),helpText:(0,a.__)("Make This Course Public. No Enrollment Required.","tutor"),loading:!!c&&!e.field.value}))}}),(0,n.Y)(L.A,{when:((r=C.P.settings)===null||r===void 0?void 0:r.enable_q_and_a_on_course)==="on"},(0,n.Y)(l.xI,{name:"enable_qna",control:o.control,render:function t(e){return(0,n.Y)(k.A,_a({},e,{label:(0,a.__)("Q&A","tutor"),helpText:(0,a.__)("Enable Q&A section for your course","tutor"),loading:!!c&&!e.field.value}))}})))),g==="content_drip"&&(0,n.Y)(Zi,null),g==="enrollment"&&(0,n.Y)(ba,null),g==="buddyPress"&&(0,n.Y)("div",{css:Ha.settingsOptions},(0,n.Y)(l.xI,{name:"enable_tutor_bp",control:o.control,render:function t(e){return(0,n.Y)(I.A,_a({},e,{label:(0,a.__)("Enable BuddyPress group activity feeds","tutor")}))}}),(0,n.Y)(l.xI,{name:"bp_attached_group_ids",control:o.control,render:function t(e){return(0,n.Y)(Ui,_a({},e,{label:(0,a.__)("BuddyPress Groups","tutor"),helpText:(0,a.__)("Assign this course to BuddyPress Groups","tutor"),placeholder:(0,a.__)("Search BuddyPress Groups","tutor"),options:(C.P.bp_groups||[]).map((function(t){return{label:t.name,value:String(t.id)}})),loading:!!c&&!e.field.value}))}})))))};const La=Ta;var Ha={courseSettings:(0,n.AH)("display:grid;grid-template-columns:200px 1fr;margin-top:",D.YK[12],";border:1px solid ",D.I6.stroke["default"],";border-radius:",D.Vq[6],";background-color:",D.I6.background["default"],";overflow:hidden;",D.EA.smallMobile,"{grid-template-columns:1fr;}"+(true?"":0),true?"":0),settingsOptions:(0,n.AH)("min-height:400px;display:flex;flex-direction:column;gap:",D.YK[12],";padding:",D.YK[16]," ",D.YK[32]," ",D.YK[48]," ",D.YK[32],";background-color:",D.I6.background.white,";",D.EA.smallMobile,"{padding:",D.YK[16],";}"+(true?"":0),true?"":0),courseAndQna:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[32],";margin-top:",D.YK[12],";"+(true?"":0),true?"":0)};var Na=r(47839);var Wa=r(41594);function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fa.apply(null,arguments)}function Ba(t,e){return Va(t)||Ua(t,e)||qa(t,e)||Ra()}function Ra(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qa(t,e){if(t){if("string"==typeof t)return Ma(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ma(t,e):void 0}}function Ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ua(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Va(t){if(Array.isArray(t))return t}var Ga=function t(e){var r=e.field,o=e.fieldState,i=e.label,l=i===void 0?"":i,c=e.baseURL,d=e.onChange;var f=r.value,p=f===void 0?"":f;var v="".concat(c,"/").concat(p);var h=(0,u.useState)(false),b=Ba(h,2),m=b[0],y=b[1];var g=(0,u.useState)(v),_=Ba(g,2),w=_[0],Y=_[1];var A="".concat(c,"/");var S=(0,u.useState)(p),I=Ba(S,2),O=I[0],j=I[1];(0,u.useEffect)((function(){if(c){Y("".concat(c,"/").concat(p))}if(p){j(p)}}),[c,p]);return(0,n.Y)(mt.A,{field:r,fieldState:o},(function(t){return(0,n.Y)("div",{css:za.aliasWrapper},l&&(0,n.Y)("label",{css:za.label},l,": "),(0,n.Y)("div",{css:za.linkWrapper},!m?(0,n.Y)(Wa.Fragment,null,(0,n.Y)("a",{href:w,target:"_blank",css:za.link,title:w,rel:"noreferrer"},w),(0,n.Y)("button",{css:za.iconWrapper,type:"button",onClick:function t(){return y((function(t){return!t}))}},(0,n.Y)(s.A,{name:"edit",width:24,height:24,style:za.editIcon}))):(0,n.Y)(Wa.Fragment,null,(0,n.Y)("span",{css:za.prefix,title:A},A),(0,n.Y)("div",{css:za.editWrapper},(0,n.Y)("input",Fa({},t,{className:"tutor-input-field",css:za.editable,type:"text",value:O,onChange:function t(e){return j(e.target.value)},autoComplete:"off"})),(0,n.Y)(x.A,{variant:"secondary",isOutlined:true,size:"small",buttonCss:za.saveBtn,onClick:function t(){y(false);r.onChange((0,W.qz)(O.replace(c,"")));d===null||d===void 0||d((0,W.qz)(O.replace(c,"")))}},(0,a.__)("Save","tutor")),(0,n.Y)(x.A,{buttonContentCss:za.cancelButton,variant:"text",size:"small",onClick:function t(){y(false);j(p)}},(0,a.__)("Cancel","tutor"))))))}))};var za={aliasWrapper:(0,n.AH)("display:flex;min-height:32px;align-items:center;gap:",D.YK[4],";",D.EA.smallMobile,"{flex-direction:column;gap:",D.YK[4],";align-items:flex-start;}"+(true?"":0),true?"":0),label:(0,n.AH)("flex-shrink:0;",T.I.caption(),";color:",D.I6.text.subdued,";margin:0px;"+(true?"":0),true?"":0),linkWrapper:(0,n.AH)("display:flex;align-items:center;width:fit-content;font-size:",D.J[14],";",D.EA.smallMobile,"{gap:",D.YK[4],";flex-wrap:wrap;}"+(true?"":0),true?"":0),link:(0,n.AH)(T.I.caption(),";color:",D.I6.text.subdued,";text-decoration:none;",N.x.text.ellipsis(1)," max-width:fit-content;word-break:break-all;"+(true?"":0),true?"":0),iconWrapper:(0,n.AH)(N.x.resetButton," margin-left:",D.YK[8],";height:24px;width:24px;background-color:",D.I6.background.white,";border-radius:",D.Vq[4],";:focus{",N.x.inputFocus,";}"+(true?"":0),true?"":0),editIcon:(0,n.AH)("color:",D.I6.icon["default"],";:hover{color:",D.I6.icon.brand,";}"+(true?"":0),true?"":0),prefix:(0,n.AH)(T.I.caption()," color:",D.I6.text.subdued,";",N.x.text.ellipsis(1)," word-break:break-all;max-width:fit-content;"+(true?"":0),true?"":0),editWrapper:(0,n.AH)("margin-left:",D.YK[2],";display:flex;align-items:center;width:fit-content;"+(true?"":0),true?"":0),editable:(0,n.AH)("&.tutor-input-field{",T.I.caption()," background:",D.I6.background.white,";width:208px;height:32px;border:1px solid ",D.I6.stroke["default"],";padding:",D.YK[8]," ",D.YK[12],";border-radius:",D.Vq.input,";margin-right:",D.YK[8],";outline:none;&:focus{border-color:",D.I6.stroke["default"],";box-shadow:none;outline:2px solid ",D.I6.stroke.brand,";outline-offset:1px;}}"+(true?"":0),true?"":0),saveBtn:(0,n.AH)("flex-shrink:0;margin-right:",D.YK[8],";"+(true?"":0),true?"":0),cancelButton:(0,n.AH)("color:",D.I6.text.brand,";"+(true?"":0),true?"":0)};const Qa=Ga;var $a=r(95037);var Ja=r(40804);var Za=r(44091);var Xa=r(51032);function tu(t){"@babel/helpers - typeof";return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(t)}function eu(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */eu=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function t(e,r,n){return e[r]=n}}function s(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new E(n||[]);return o(a,"_invoke",{value:I(t,r,u)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",v="executing",h="completed",b={};function m(){}function y(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,Y=w&&w(w(P([])));Y&&Y!==r&&n.call(Y,a)&&(_=Y);var x=g.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var l=d(t[o],t,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==tu(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function I(e,r,n){var o=f;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var l=O(u,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?h:p,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tu(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(S.prototype),c(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,E.prototype={constructor:E,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return l.type="throw",l.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],l=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),b},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),b}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:P(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function ru(t,e,r,n,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(n,o)}function nu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ru(i,n,o,a,u,"next",t)}function u(t){ru(i,n,o,a,u,"throw",t)}a(void 0)}))}}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(null,arguments)}function iu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function au(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?iu(Object(r),!0).forEach((function(e){uu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uu(t,e,r){return(e=lu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lu(t){var e=cu(t,"string");return"symbol"==tu(e)?e:e+""}function cu(t,e){if("object"!=tu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function su(t,e){return hu(t)||vu(t,e)||fu(t,e)||du()}function du(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fu(t,e){if(t){if("string"==typeof t)return pu(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pu(t,e):void 0}}function pu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vu(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function hu(t){if(Array.isArray(t))return t}var bu=(0,P.p9)();var mu=false;var yu=function t(){var e;var r=(0,Za._)(),c=r.fields;var s=(0,l.xW)();var d=(0,o.jE)();var f=(0,i.C)({queryKey:["CourseDetails",bu]});var p=(0,Sr.VD)();var v=(0,Xa.g)();var h=(0,u.useState)(false),b=su(h,2),m=b[0],y=b[1];var g=d.getQueryData(["CourseDetails",bu]);var _=!!C.P.tutor_pro_url;var w=((e=C.P.settings)===null||e===void 0?void 0:e.chatgpt_enable)==="on";var Y=s.watch("post_status");var x=s.watch("editor_used");return(0,n.Y)("div",{css:_u.wrapper},(0,n.Y)("div",{css:_u.mainForm({isWpEditorFullScreen:m})},(0,n.Y)("div",{css:_u.fieldsWrapper},(0,n.Y)("div",{css:_u.titleAndSlug},(0,n.Y)(l.xI,{name:"post_title",control:s.control,rules:au(au({},(0,F.WN)()),(0,F.wA)(255)),render:function t(e){return(0,n.Y)(yt.A,ou({},e,{label:(0,a.__)("Title","tutor"),placeholder:(0,a.__)("ex. Learn Photoshop CS6 from scratch","tutor"),isClearable:true,generateWithAi:!_||w,loading:!!f&&!e.field.value,onChange:function t(e){if(Y==="draft"&&!mu){s.setValue("post_name",(0,W.qz)(String(e)),{shouldValidate:true,shouldDirty:true})}}}))}}),(0,n.Y)(l.xI,{name:"post_name",control:s.control,render:function t(e){var r;return(0,n.Y)(Qa,ou({},e,{label:(0,a.__)("Course URL","tutor"),baseURL:"".concat(C.P.home_url,"/").concat((r=C.P.settings)===null||r===void 0?void 0:r.course_permalink_base),onChange:function t(){mu=true}}))}})),(0,n.Y)(l.xI,{name:"post_content",control:s.control,render:function t(e){return(0,n.Y)($a.A,ou({},e,{label:(0,a.__)("Description","tutor"),loading:!!f&&!e.field.value,max_height:280,generateWithAi:!_||w,hasCustomEditorSupport:true,editorUsed:x,editors:g===null||g===void 0?void 0:g.editors,onCustomEditorButtonClick:function t(){return s.handleSubmit((function(t){var e=(0,Sr.Qw)(t,(0,W.DE)({fields:c.Basic},{fields:c.Additional}));return p.mutateAsync(au(au({course_id:bu},e),{},{post_status:(0,W.q9)(s.getValues("post_status"),s.getValues("visibility"))}))}))()},onBackToWPEditorClick:function(){var t=nu(eu().mark((function t(e){return eu().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",v.mutateAsync({courseId:bu,builder:e}).then((function(t){s.setValue("editor_used",{name:"classic",label:(0,a.__)("Classic Editor","tutor"),link:""});return t})));case 1:case"end":return r.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onFullScreenChange:function t(e){y(e)}}))}}),(0,n.Y)(Ja.A,{section:"Basic.after_description",form:s}),(0,n.Y)(La,null),(0,n.Y)(Ja.A,{section:"Basic.after_settings",form:s})),(0,n.Y)(L.A,{when:K.vN.isAboveTablet},(0,n.Y)(Na.A,{styleModifier:_u.navigator}))),(0,n.Y)(Yi,null),(0,n.Y)(L.A,{when:!K.vN.isAboveTablet},(0,n.Y)(Na.A,{styleModifier:_u.navigator})))};const gu=yu;var _u={wrapper:(0,n.AH)("display:grid;grid-template-columns:1fr 338px;gap:",D.YK[32],";width:100%;",D.EA.smallTablet,"{grid-template-columns:1fr;gap:0;}"+(true?"":0),true?"":0),mainForm:function t(e){var r=e.isWpEditorFullScreen;return(0,n.AH)("padding-block:",D.YK[32]," ",D.YK[24],";align-self:start;top:",D.$A,"px;position:sticky;",r&&(0,n.AH)("z-index:",D.fE.header+1,";"+(true?"":0),true?"":0)," ",D.EA.smallTablet,"{padding-top:",D.YK[16],";position:unset;}"+(true?"":0),true?"":0)},fieldsWrapper:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[24],";"+(true?"":0),true?"":0),titleAndSlug:(0,n.AH)("display:flex;flex-direction:column;gap:",D.YK[8],";"+(true?"":0),true?"":0),sidebar:(0,n.AH)("border-left:1px solid ",D.I6.stroke.divider,";min-height:calc(100vh - ",D.$A,"px);padding-left:",D.YK[32],";padding-block:",D.YK[24],";display:flex;flex-direction:column;gap:",D.YK[16],";"+(true?"":0),true?"":0),priceRadioGroup:(0,n.AH)("display:flex;align-items:center;gap:",D.YK[36],";"+(true?"":0),true?"":0),coursePriceWrapper:(0,n.AH)("display:flex;align-items:flex-start;gap:",D.YK[16],";"+(true?"":0),true?"":0),navigator:(0,n.AH)("margin-top:",D.YK[40],";",D.EA.smallTablet,"{margin-top:0;}"+(true?"":0),true?"":0),statusAndDate:(0,n.AH)(N.x.display.flex("column"),";gap:",D.YK[4],";"+(true?"":0),true?"":0),updatedOn:(0,n.AH)(T.I.caption(),";color:",D.I6.text.hints,";"+(true?"":0),true?"":0)}}}]);