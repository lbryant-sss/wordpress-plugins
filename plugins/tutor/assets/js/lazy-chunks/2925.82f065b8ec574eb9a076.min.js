"use strict";(self["webpackChunktutor"]=self["webpackChunktutor"]||[]).push([[2925],{42925:(t,e,r)=>{r.r(e);r.d(e,{default:()=>co});var n=r(17437);var o=r(12470);var i=r(41594);var a=r.n(i);var u=r(38919);var s=r(942);var l=r(50707);var c=r(95790);var f=r(29200);var d=r(4704);var p=r(61711);var h=r(86150);var v=r(49785);var y=r(83788);function m(t,e){return x(t)||w(t,e)||b(t,e)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"==typeof t)return _(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function w(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function x(t){if(Array.isArray(t))return t}var E=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:300;var n=(0,i.useState)(e),o=m(n,2),a=o[0],u=o[1];(0,i.useEffect)((function(){var t=setTimeout((function(){u(e)}),r);return function(){clearTimeout(t)}}),[e,r]);return a};function A(t){"@babel/helpers - typeof";return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){return(e=Y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y(t){var e=j(t,"string");return"symbol"==A(e)?e:e+""}function j(t,e){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function T(t,e){return N(t)||C(t,e)||k(t,e)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t,e){if(t){if("string"==typeof t)return P(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function C(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function N(t){if(Array.isArray(t))return t}var H=function t(e){var r=(0,i.useState)(),n=T(r,2),o=n[0],a=n[1];var u=(0,v.mN)(e);return O(O({},u),{},{submitError:o,setSubmitError:a})};function K(t){"@babel/helpers - typeof";return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R.apply(null,arguments)}function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){U(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function U(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=V(t,"string");return"symbol"==K(e)?e:e+""}function V(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var F=function t(e){var r=e.onFilterItems;var a=H({defaultValues:{search:""}});var u=E(a.watch("search"));(0,i.useEffect)((function(){r(G({},u.length>0&&{search:u}))}),[r,u]);return(0,n.Y)(v.xI,{control:a.control,name:"search",render:function t(e){return(0,n.Y)(y.A,R({},e,{content:(0,n.Y)(s.A,{name:"search",width:24,height:24}),placeholder:(0,o.__)("Search...","tutor-pro"),showVerticalBar:false}))}})};const B=F;var q=r(52457);var z=r(62246);var W=r(45538);var X=r(24157);var Z=r(97286);var J=r(24880);var Q=r(57536);var $=r(48465);var tt=r(47186);var et=r(47849);var rt={error_unexpected:"msg_error_unexpected",error_verify_already_verified:"msg_error_verify_already_verified",error_already_exists:"msg_error_already_exists",error_login_bad_credentials:"msg_error_login_bad_credentials",error_invalid_phone_format:"msg_error_invalid_phone_format",error_anonymous_requester_info_required:"msg_error_anonymous_requester_info_required",error_login_user_email_not_verified:"msg_error_login_user_email_not_verified",error_password_is_incorrect:"msg_error_password_is_incorrect",error_user_is_inactive:"msg_error_user_is_inactive",error_new_email_already_taken:"msg_error_email_is_already_taken"};var nt=function t(e){if(localHasOwnProperty(rt,e)){return rt[e]}console.error("Missing BE error translations: ".concat(e));return e};var ot=r(34419);var it=null&&["non_field_errors"];function at(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */at=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function t(e,r,n){return e[r]=n}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new T(n||[]);return o(a,"_invoke",{value:O(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==r&&n.call(x,a)&&(_=x);var E=b.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==xt(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function O(e,r,n){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=I(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function I(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function Y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Y,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xt(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},A(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(E),l(E,s,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,T.prototype={constructor:T,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return s.type="throw",s.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var l=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),y},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:L(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function ut(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function st(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ut(i,n,o,a,u,"next",t)}function u(t){ut(i,n,o,a,u,"throw",t)}a(void 0)}))}}function lt(t){return pt(t)||dt(t)||ft(t)||ct()}function ct(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ft(t,e){if(t){if("string"==typeof t)return ht(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(t,e):void 0}}function dt(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function pt(t){if(Array.isArray(t))return ht(t)}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vt(t,e){if(null==t)return{};var r,n,o=yt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function yt(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bt(t,e,r){return(e=_t(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _t(t){var e=wt(t,"string");return"symbol"==xt(e)?e:e+""}function wt(t,e){if("object"!=xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function xt(t){"@babel/helpers - typeof";return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}var Et=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return Object.keys(e).reduce((function(t,n){var o=e[n];if(xt(o)==="object"&&!isPrimitivesArray(o)&&!isFileOrBlob(o)){return gt(gt({},t),Et(gt({},o),"".concat(r).concat(n,".")))}return gt(gt({},t),{},bt({},"".concat(r).concat(n),o))}),{})};var At=function t(e,r){var n=e;if(n.status===404||n.status===403||n.status===500){return{nonFieldErrors:["Unexpected error!"]}}var o=Et(r);var i=Et(n.data);var a=i.non_field_errors,u=vt(i,it);var s=isStringArray(a)?a:[];for(var l=0,c=Object.keys(u);l<c.length;l++){var f=c[l];if(!(f in o)){var d=i[f];if(isStringArray(d)){s.push.apply(s,lt(d))}}}return{nonFieldErrors:s.map(translateBeErrorMessage),fieldErrors:Object.keys(i).filter((function(t){return t in o})).reduce((function(t,e){var r=i[e];if(isStringArray(r)){return gt(gt({},t),{},bt({},e,r.map(translateBeErrorMessage)))}return t}),{})}};var St=function t(e,r,n){if(!isAxiosError(e)||!e.response){throw e}var o=At(e.response,n),i=o.fieldErrors,a=o.nonFieldErrors;if(a!==null&&a!==void 0&&a.length){r.setSubmitError(a[0])}if(i){for(var u=0,s=Object.keys(i);u<s.length;u++){var l=s[u];var c=i[l];if(c.length>0){r.setError(l,{message:c[0]})}}}};var Ot=function t(e,r){return function(){var t=st(at().mark((function t(n){return at().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:e.setSubmitError(undefined);o.prev=1;o.next=4;return r(n);case 4:o.next=9;break;case 6:o.prev=6;o.t0=o["catch"](1);St(o.t0,e,n);case 9:case"end":return o.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()};var It=function t(e,r){var n=new FormData;var o=function t(){var r=a[i];var o=e[r];if(Array.isArray(o)){o.forEach((function(t,e){if((0,et.$X)(t)||(0,ot.Kg)(t)){n.append("".concat(r,"[").concat(e,"]"),t)}else if((0,ot.Lm)(t)||(0,ot.Et)(t)){n.append("".concat(r,"[").concat(e,"]"),t.toString())}else if(xt(t)==="object"&&t!==null){n.append("".concat(r,"[").concat(e,"]"),JSON.stringify(t))}else{n.append("".concat(r,"[").concat(e,"]"),t)}}))}else{if((0,et.$X)(o)||(0,ot.Kg)(o)){n.append(r,o)}else if((0,ot.Lm)(o)){n.append(r,o.toString())}else if((0,ot.Et)(o)){n.append(r,"".concat(o))}else if(xt(o)==="object"&&o!==null){n.append(r,JSON.stringify(o))}else{n.append(r,o)}}};for(var i=0,a=Object.keys(e);i<a.length;i++){o()}n.append("_method",r.toUpperCase());return n};var Yt=function t(e){var r={};for(var n in e){var o=e[n];if(!(0,ot.O9)(o)){r[n]="null"}else if((0,ot.Lm)(o)){r[n]=o===true?"true":"false"}else{r[n]=o}}return r};function jt(t){"@babel/helpers - typeof";return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach((function(e){kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kt(t,e,r){return(e=Pt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pt(t){var e=Ct(t,"string");return"symbol"==jt(e)?e:e+""}function Ct(t,e){if("object"!=jt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Q.A.defaults.paramsSerializer=function(t){return tt.stringify(t)};var Nt=Q.A.create({baseURL:$.A.WP_API_BASE_URL});Nt.interceptors.request.use((function(t){t.headers||(t.headers={});t.headers["X-WP-Nonce"]=$.P.wp_rest_nonce;if(t.method&&["post","put","patch"].includes(t.method.toLocaleLowerCase())){if(t.data){t.data=It(t.data,t.method)}if(["put","patch"].includes(t.method.toLowerCase())){t.method="POST"}}if(t.params){t.params=Yt(t.params)}if(t.method&&["get","delete"].includes(t.method.toLowerCase())){t.params=Lt(Lt({},t.params),{},{_method:t.method})}return t}),(function(t){return Promise.reject(t)}));Nt.interceptors.response.use((function(t){return Promise.resolve(t).then((function(t){return t}))}));var Ht=Q.A.create({baseURL:$.A.WP_AJAX_BASE_URL});Ht.interceptors.request.use((function(t){t.headers||(t.headers={});t.method="POST";if(t.params){t.params=Yt(t.params)}t.data||(t.data={});var e=$.P.nonce_key;var r=$.P._tutor_nonce;t.data=Lt(Lt(Lt({},t.data),t.params),{},kt({action:t.url},e,r));t.data=It(t.data,t.method);t.params={};t.url=undefined;return t}),(function(t){return Promise.reject(t)}));Ht.interceptors.response.use((function(t){return Promise.resolve(t).then((function(t){return t.data}))}));var Kt=!!$.P.tutor_pro_url;var Rt={ADMIN_AJAX:"wp-admin/admin-ajax.php",TAGS:"course-tag",CATEGORIES:"course-category",USERS:"users",USERS_LIST:"tutor_user_list",ORDER_DETAILS:"tutor_order_details",ADMIN_COMMENT:"tutor_order_comment",ORDER_MARK_AS_PAID:"tutor_order_paid",ORDER_REFUND:"tutor_order_refund",ORDER_CANCEL:"tutor_order_cancel",ADD_ORDER_DISCOUNT:"tutor_order_discount",COURSE_LIST:"course_list",BUNDLE_LIST:"tutor_get_bundle_list",CATEGORY_LIST:"category_list",CREATED_COURSE:"tutor_create_course",TUTOR_INSTRUCTOR_SEARCH:"tutor_course_instructor_search",TUTOR_YOUTUBE_VIDEO_DURATION:"tutor_youtube_video_duration",TUTOR_UNLINK_PAGE_BUILDER:"tutor_unlink_page_builder",GENERATE_AI_IMAGE:"tutor_pro_generate_image",MAGIC_FILL_AI_IMAGE:"tutor_pro_magic_fill_image",MAGIC_TEXT_GENERATION:"tutor_pro_generate_text_content",MAGIC_AI_MODIFY_CONTENT:"tutor_pro_modify_text_content",USE_AI_GENERATED_IMAGE:"tutor_pro_use_magic_image",OPEN_AI_SAVE_SETTINGS:"tutor_pro_chatgpt_save_settings",GENERATE_COURSE_CONTENT:"tutor_pro_generate_course_content",GENERATE_COURSE_TOPIC_CONTENT:"tutor_pro_generate_course_topic_content",SAVE_AI_GENERATED_COURSE_CONTENT:"tutor_pro_ai_course_create",GENERATE_QUIZ_QUESTIONS:"tutor_pro_generate_quiz_questions",GET_SUBSCRIPTIONS_LIST:"tutor_subscription_plans",SAVE_SUBSCRIPTION:"tutor_subscription_plan_save",DELETE_SUBSCRIPTION:"tutor_subscription_plan_delete",DUPLICATE_SUBSCRIPTION:"tutor_subscription_plan_duplicate",SORT_SUBSCRIPTION:"tutor_subscription_plan_sort",GET_COURSE_DETAILS:"tutor_course_details",UPDATE_COURSE:"tutor_update_course",GET_COURSE_LIST:"tutor_course_list",GET_WC_PRODUCTS:"tutor_get_wc_products",GET_WC_PRODUCT_DETAILS:"tutor_get_wc_product",GET_QUIZ_DETAILS:"tutor_quiz_details",SAVE_QUIZ:"tutor_quiz_builder_save",QUIZ_IMPORT_DATA:"quiz_import_data",QUIZ_EXPORT_DATA:"quiz_export_data",DELETE_QUIZ:"tutor_quiz_delete",GET_ZOOM_MEETING_DETAILS:"tutor_zoom_meeting_details",SAVE_ZOOM_MEETING:"tutor_zoom_save_meeting",DELETE_ZOOM_MEETING:"tutor_zoom_delete_meeting",GET_GOOGLE_MEET_DETAILS:"tutor_google_meet_meeting_details",SAVE_GOOGLE_MEET:"tutor_google_meet_new_meeting",DELETE_GOOGLE_MEET:"tutor_google_meet_delete",GET_COURSE_CONTENTS:"tutor_course_contents",SAVE_TOPIC:"tutor_save_topic",DELETE_TOPIC:"tutor_delete_topic",DELETE_TOPIC_CONTENT:"tutor_delete_lesson",UPDATE_COURSE_CONTENT_ORDER:"tutor_update_course_content_order",DUPLICATE_CONTENT:"tutor_duplicate_content",GET_LESSON_DETAILS:"tutor_lesson_details",SAVE_LESSON:"tutor_save_lesson",GET_ASSIGNMENT_DETAILS:"tutor_assignment_details",SAVE_ASSIGNMENT:"tutor_assignment_save",GET_TAX_SETTINGS:"tutor_get_tax_settings",GET_H5P_QUIZ_CONTENT:"tutor_h5p_list_quiz_contents",GET_H5P_LESSON_CONTENT:"tutor_h5p_list_lesson_contents",GET_H5P_QUIZ_CONTENT_BY_ID:"tutor_h5p_quiz_content_by_id",GET_PAYMENT_SETTINGS:"tutor_payment_settings",GET_PAYMENT_GATEWAYS:"tutor_payment_gateways",INSTALL_PAYMENT_GATEWAY:"tutor_install_payment_gateway",REMOVE_PAYMENT_GATEWAY:"tutor_remove_payment_gateway",GET_ADDON_LIST:"tutor_get_all_addons",ADDON_ENABLE_DISABLE:"addon_enable_disable",TUTOR_INSTALL_PLUGIN:"tutor_install_plugin",GET_COUPON_DETAILS:"tutor_coupon_details",CREATE_COUPON:"tutor_coupon_create",UPDATE_COUPON:"tutor_coupon_update",COUPON_APPLIES_TO:"tutor_coupon_applies_to_list",CREATE_ENROLLMENT:"tutor_enroll_bulk_student",GET_COURSE_BUNDLE_LIST:"tutor_course_bundle_list",GET_UNENROLLED_USERS:"tutor_unenrolled_users",GET_MEMBERSHIP_PLANS:"tutor_membership_plans",SAVE_MEMBERSHIP_PLAN:"tutor_membership_plan_save",DUPLICATE_MEMBERSHIP_PLAN:"tutor_membership_plan_duplicate",DELETE_MEMBERSHIP_PLAN:"tutor_membership_plan_delete",GET_BUNDLE_DETAILS:"tutor_get_course_bundle_data",UPDATE_BUNDLE:"tutor_create_course_bundle",ADD_REMOVE_COURSE_TO_BUNDLE:"tutor_add_remove_course_to_bundle",GET_EXPORTABLE_CONTENT:"tutor_pro_exportable_contents",EXPORT_CONTENTS:Kt?"tutor_pro_export":"tutor_export_settings",IMPORT_CONTENTS:Kt?"tutor_pro_import":"tutor_import_settings",GET_IMPORT_EXPORT_HISTORY:"tutor_pro_export_import_history",DELETE_IMPORT_EXPORT_HISTORY:"tutor_pro_delete_export_import_history"};const Dt=Rt;function Gt(t){"@babel/helpers - typeof";return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vt(t,e,r){return(e=Ft(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ft(t){var e=Bt(t,"string");return"symbol"==Gt(e)?e:e+""}function Bt(t,e){if("object"!=Gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var qt=function t(e){return Ht.get(Dt.GET_COURSE_LIST,{params:e})};var zt=function t(e){var r=e.params,n=e.isEnabled;return(0,Z.I)({queryKey:["PrerequisiteCourses",r],queryFn:function t(){return qt(Mt({exclude:r.exclude,limit:r.limit,offset:r.offset,filter:r.filter},r.post_status&&{post_status:r.post_status})).then((function(t){return t.data}))},placeholderData:J.rX,enabled:n})};var Wt=function t(e){var r=e.courseId,n=e.builder;return wpAjaxInstance.post(endpoints.TUTOR_UNLINK_PAGE_BUILDER,{course_id:r,builder:n})};var Xt=function t(){return useMutation({mutationFn:Wt})};var Zt=function t(e){return Ht.get(Dt.BUNDLE_LIST,{params:e})};var Jt=function t(e){var r=e.params,n=e.isEnabled;return(0,Z.I)({queryKey:["PrerequisiteCourses",r],queryFn:function t(){return Zt(Mt({exclude:r.exclude,limit:r.limit,offset:r.offset,filter:r.filter},r.post_status&&{post_status:r.post_status})).then((function(t){return t.data}))},placeholderData:J.rX,enabled:n})};var Qt=r(94083);var $t=r(37706);function te(t){return oe(t)||ne(t)||re(t)||ee()}function ee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function re(t,e){if(t){if("string"==typeof t)return ie(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(t,e):void 0}}function ne(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function oe(t){if(Array.isArray(t))return ie(t)}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ae(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var ue=function t(e){var r,u,s,l,c,v;var y=e.form,m=e.type,g=m===void 0?"courses":m;var b=(0,X.B)(),_=b.pageInfo,w=b.onPageChange,x=b.itemsPerPage,E=b.offset,A=b.onFilterItems;var S=(0,i.useMemo)((function(){return y.watch(g)||[]}),[y,g]);var O=(0,i.useMemo)((function(){return S.map((function(t){return t.id}))}),[S]);var I=(0,i.useMemo)((function(){return{offset:E,limit:x,filter:_.filter,post_status:"any",exclude:[]}}),[E,x,_.filter]);var Y=zt({params:I,isEnabled:g==="courses"});var j=Jt({params:I,isEnabled:g==="course-bundle"});var T=(0,i.useMemo)((function(){var t,e,r,n;return g==="courses"?(t=(e=Y.data)===null||e===void 0?void 0:e.results)!==null&&t!==void 0?t:[]:(r=(n=j.data)===null||n===void 0?void 0:n.results)!==null&&r!==void 0?r:[]}),[g,(r=Y.data)===null||r===void 0?void 0:r.results,(u=j.data)===null||u===void 0?void 0:u.results]);var L=(0,i.useMemo)((function(){return T.map((function(t){return t.id}))}),[T]);var k=(0,i.useMemo)((function(){return T.length>0&&T.every((function(t){return O.includes(t.id)}))}),[T,O]);var P=(0,i.useCallback)((function(t){if(t){var e=T.filter((function(t){return!O.includes(t.id)}));y.setValue(g,[].concat(te(S),te(e)))}else{var r=S.filter((function(t){return!L.includes(t.id)}));y.setValue(g,r)}}),[T,O,L,S,y,g]);var C=(0,i.useCallback)((function(t){var e=O.includes(t.id);if(e){y.setValue(g,S.filter((function(e){return e.id!==t.id})))}else{y.setValue(g,[].concat(te(S),[t]))}}),[O,S,y,g]);var N=(0,i.useMemo)((function(){return[{Header:T.length?(0,n.Y)(f.A,{onChange:P,checked:!(Y.isLoading||Y.isRefetching)&&k,label:(0,o.__)("Name","tutor"),labelCss:le.checkboxLabel,"aria-label":(0,o.__)("Select all items","tutor")}):"#",Cell:function t(e){return(0,n.Y)("div",{css:le.checkboxWrapper},(0,n.Y)(f.A,{onChange:function t(){return C(e)},checked:O.includes(e.id),"aria-label":"".concat((0,o.__)("Select","tutor")," ").concat(e.title)}),(0,n.Y)("div",{css:le.courseItemWrapper},(0,n.Y)("img",{src:e.image||$t.A,css:le.thumbnail,alt:e.title||(0,o.__)("Course item","tutor")}),(0,n.Y)("div",{css:le.title},(0,n.Y)("div",null,e.title),(0,n.Y)(W.A,{when:g==="course-bundle"&&(e===null||e===void 0?void 0:e.total_courses)},(0,n.Y)("div",null,(0,o.sprintf)((0,o.__)("Total Courses: %d","tutor"),e.total_courses||0))))))}}]}),[T.length,P,Y.isLoading,Y.isRefetching,k,C,O,g]);if(Y.isLoading||j.isLoading){return(0,n.Y)(d.YE,{"aria-label":(0,o.__)("Loading","tutor")})}if(!Y.data&&!j.data){return(0,n.Y)("div",{css:le.errorMessage,role:"alert","aria-live":"assertive"},(0,o.__)("Something went wrong","tutor"))}var H=g==="courses"?(s=(l=Y.data)===null||l===void 0?void 0:l.total_items)!==null&&s!==void 0?s:0:(c=(v=j.data)===null||v===void 0?void 0:v.total_items)!==null&&c!==void 0?c:0;return(0,n.Y)(a().Fragment,null,(0,n.Y)("div",{css:le.tableActions},(0,n.Y)(B,{onFilterItems:A})),(0,n.Y)("div",{css:le.tableWrapper},(0,n.Y)(h.A,{columns:N,data:T,itemsPerPage:x,loading:Y.isFetching||Y.isRefetching})),(0,n.Y)("div",{css:le.paginatorWrapper},(0,n.Y)(p.A,{currentPage:_.page,onPageChange:w,totalItems:H,itemsPerPage:x})))};const se=a().memo(ue);var le={tableLabel:true?{name:"1flj9lk",styles:"text-align:left"}:0,tablePriceLabel:true?{name:"2qga7i",styles:"text-align:right"}:0,tableActions:(0,n.AH)("padding:",q.YK[20],";"+(true?"":0),true?"":0),tableWrapper:true?{name:"1uijx3y",styles:"max-height:calc(100vh - 350px);overflow:auto"}:0,checkboxWrapper:(0,n.AH)("display:flex;align-items:center;gap:",q.YK[12],";"+(true?"":0),true?"":0),checkboxLabel:(0,n.AH)(z.I.body(),";color:",q.I6.text.primary,";"+(true?"":0),true?"":0),paginatorWrapper:(0,n.AH)("margin:",q.YK[20]," ",q.YK[16],";"+(true?"":0),true?"":0),courseItemWrapper:(0,n.AH)("display:flex;align-items:center;gap:",q.YK[16],";"+(true?"":0),true?"":0),bundleBadge:(0,n.AH)(z.I.tiny(),";display:inline-block;padding:0px ",q.YK[8],";background-color:#9342e7;color:",q.I6.text.white,";border-radius:",q.Vq[40],";"+(true?"":0),true?"":0),subscriptionBadge:(0,n.AH)(z.I.tiny(),";display:flex;align-items:center;width:fit-content;padding:0px ",q.YK[6]," 0px ",q.YK[4],";background-color:",q.I6.color.warning[90],";color:",q.I6.text.white,";border-radius:",q.Vq[40],";"+(true?"":0),true?"":0),selectedBadge:(0,n.AH)("margin-left:",q.YK[4],";",z.I.tiny(),";padding:",q.YK[4]," ",q.YK[8],";background-color:",q.I6.background.disable,";color:",q.I6.text.title,";border-radius:",q.Vq[2],";white-space:nowrap;"+(true?"":0),true?"":0),title:(0,n.AH)(z.I.caption(),";color:",q.I6.text.primary,";",Qt.x.text.ellipsis(2),";text-wrap:pretty;div:is(:last-of-type):not(:only-of-type){margin-top:",q.YK[4],";",z.I.small("medium"),";color:",q.I6.text.hints,";}"+(true?"":0),true?"":0),thumbnail:(0,n.AH)("width:76px;height:48px;border-radius:",q.Vq[4],";object-fit:cover;object-position:center;"+(true?"":0),true?"":0),priceWrapper:true?{name:"1al764r",styles:"min-width:200px;text-align:right;[data-button]{display:none;}"}:0,price:(0,n.AH)(z.I.caption(),";display:flex;gap:",q.YK[4],";justify-content:end;"+(true?"":0),true?"":0),startingFrom:(0,n.AH)("color:",q.I6.text.hints,";"+(true?"":0),true?"":0),discountPrice:(0,n.AH)("text-decoration:line-through;color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),errorMessage:true?{name:"1tw8cl2",styles:"height:100px;display:flex;align-items:center;justify-content:center"}:0};function ce(t){return he(t)||pe(t)||de(t)||fe()}function fe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function de(t,e){if(t){if("string"==typeof t)return ve(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ve(t,e):void 0}}function pe(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function he(t){if(Array.isArray(t))return ve(t)}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ye(t){var e=t.title,r=t.closeModal,i=t.actions,a=t.form,s=t.type,l=s===void 0?"courses":s;var f=a.getValues(l)||[];var d=H({defaultValues:{courses:f,"course-bundle":f}});var p=(l==="courses"?d.watch("courses"):d.watch("course-bundle"))||[];var h=function t(){var e=d.getValues(l)||[];a.setValue(l,ce(e));d.setValue(l,[]);r({action:"CONFIRM"})};return(0,n.Y)(c.A,{onClose:function t(){return r({action:"CLOSE"})},title:p.length>0?(0,o.sprintf)((0,o.__)("%s selected","tutor"),p.length):e,actions:i,maxWidth:720},(0,n.Y)(se,{form:d,type:l}),(0,n.Y)("div",{css:ge.footer},(0,n.Y)(u.A,{size:"small",variant:"text",onClick:function t(){return r({action:"CLOSE"})}},(0,o.__)("Cancel","tutor")),(0,n.Y)(u.A,{size:"small",variant:"primary",onClick:h,disabled:p.length===0},(0,o.__)("Add","tutor"))))}const me=ye;var ge={footer:(0,n.AH)("box-shadow:0px 1px 0px 0px #e4e5e7 inset;height:56px;display:flex;align-items:center;justify-content:end;gap:",q.YK[16],";padding-inline:",q.YK[16],";"+(true?"":0),true?"":0)};var be,_e,we;function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xe.apply(null,arguments)}var Ee=function t(e){return i.createElement("svg",xe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 108 24"},e),be||(be=i.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M79.285 19.01h5.639v1.163H78.05V7.838h1.234V19.01ZM97.436 7.838v12.336h-1.234V9.706l-4.318 7.225h-.176l-4.317-7.225v10.468h-1.234V7.838h1.513l4.126 6.905 4.126-6.905zm5.991 12.548q-1.691 0-2.898-.802a4.18 4.18 0 0 1-1.683-2.212l1.057-.616q.335 1.146 1.234 1.788.898.644 2.308.643 1.374 0 2.141-.607.767-.608.767-1.613 0-.968-.705-1.463-.705-.493-2.326-1.021-1.92-.635-2.538-1.023-1.41-.845-1.41-2.45 0-1.567 1.093-2.476 1.092-.907 2.696-.907 1.445 0 2.503.749a4.55 4.55 0 0 1 1.568 1.912l-1.04.582q-.846-2.045-3.031-2.045-1.145 0-1.85.564-.705.565-.705 1.569 0 .916.635 1.374.634.459 2.096.934l.961.327q.291.097.846.316.555.221.82.388t.643.459q.379.29.546.581.168.292.299.705.133.414.132.89 0 1.57-1.145 2.51-1.145.944-3.014.944m-37.14-.202V8.099h2.337v1.207h.038c1.052-1.5 2.766-1.538 3.389-1.558v2.571a4.6 4.6 0 0 0-1.811.487c-.798.428-1.46 1.44-1.46 3.35v6.047l-2.493-.02Zm-3.635-6.034c0 2.055-1.659 3.727-3.698 3.727-2.04 0-3.698-1.672-3.698-3.728s1.659-3.727 3.698-3.727c2.04 0 3.698 1.672 3.698 3.727Zm.64-4.275a6.12 6.12 0 0 0-4.338-1.79 6.12 6.12 0 0 0-4.338 1.79 6 6 0 0 0-1.777 4.274 6 6 0 0 0 1.777 4.274 6.13 6.13 0 0 0 4.338 1.79 6.13 6.13 0 0 0 4.338-1.79 6 6 0 0 0 1.777-4.274c0-1.613-.63-3.13-1.777-4.274M50.087 20.174h-2.493V10.36h-1.81V8.082h1.81V2.906h2.493v5.176h2.18v2.278h-2.18zM34.8 8.082v5.666c0 3.292 1.46 4.168 3.31 4.168 2.065 0 3.486-1.325 3.486-4.245V8.082h2.493v12.093H41.81v-1.773h-.058c-.681 1.15-2.24 1.773-3.914 1.773-1.52 0-2.843-.487-3.797-1.325-1.11-.954-1.753-2.453-1.753-5.121V8.082zm-6.387 12.126H25.92v-9.856h-1.81V8.074h1.81V2.906h2.493v5.168h2.18v2.278h-2.18z",clipRule:"evenodd"})),_e||(_e=i.createElement("path",{fill:"#0049F8",fillRule:"evenodd",d:"M5.054 14.882a1.13 1.13 0 0 1-1.075-1.075V11.36c0-.592.482-1.075 1.075-1.075.592 0 1.075.483 1.075 1.075v2.447c0 .592-.445 1.075-1.002 1.075zm7.71 0c-.593 0-1.075-.444-1.075-1.037V11.36c0-.592.482-1.075 1.075-1.075.592 0 1.075.483 1.075 1.075v2.447a1.08 1.08 0 0 1-1.075 1.076Z",clipRule:"evenodd"})),we||(we=i.createElement("path",{fill:"#0049F8",fillRule:"evenodd",d:"M2.546 9.52c.48-1 1.44-1.64 2.56-1.68 1.598.04 2.88 1.398 2.841 3v5.404c.08.6.64 1 1.24.918.48-.08.88-.439.918-.918v-5.4c-.041-1.6 1.24-2.96 2.842-3.001 1.081 0 2.04.6 2.48 1.561 1.799 3.56.4 7.88-3.16 9.683a7.18 7.18 0 0 1-9.68-3.164c-1-2-1.038-4.4-.041-6.402ZM7.067 2.4h4.04v1.561A9 9 0 0 0 9.03 3.72c-.681 0-1.36.08-2 .2zm11.002 11.08c0-.24.04-.438.04-.721 0-3.28-1.76-6.281-4.64-7.881V2.4h1.761a1.18 1.18 0 0 0 1.202-1.202C16.432.518 15.91 0 15.23 0H2.946c-.68.041-1.198.559-1.198 1.24s.521 1.201 1.202 1.201h1.76v2.442c-4.363 2.396-6.003 7.88-3.603 12.239.12.2.2.359.321.558 3.4 5.722 12.521 6.281 15.602 6.32.28 0 .521-.12.76-.28.2-.2.28-.48.28-.76-.002.004-.002-9.48-.002-9.48Z",clipRule:"evenodd"})))};const Ae=Ee;var Se=function t(e){var r;var o=e.wrapperCss;var i=!!$.P.tutor_pro_url;return(0,n.Y)("button",{type:"button",css:[Qt.x.resetButton,Oe.logo,o,true?"":0,true?"":0]},(0,n.Y)(W.A,{when:i&&((r=$.P.settings)===null||r===void 0?void 0:r.course_builder_logo_url),fallback:(0,n.Y)(Ae,{width:108,height:24})},(function(t){return(0,n.Y)("img",{src:t,alt:"Tutor LMS"})})))};var Oe={logo:(0,n.AH)("padding-left:",q.YK[32],";cursor:default;&:focus,&:active,&:hover{background:none;}img{max-height:24px;width:auto;object-fit:contain;object-position:center;}",q.EA.smallTablet,"{padding-left:",q.YK[24],";}",q.EA.smallMobile,"{grid-area:logo;padding-left:",q.YK[16],";}"+(true?"":0),true?"":0)};const Ie=Se;var Ye=r(27793);var je=r(49804);var Te=r(98880);var Le=r(41594);function ke(){return ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ke.apply(null,arguments)}function Pe(t,e){return Re(t)||Ke(t,e)||Ne(t,e)||Ce()}function Ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(t,e){if(t){if("string"==typeof t)return He(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(t,e):void 0}}function He(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ke(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function Re(t){if(Array.isArray(t))return t}var De=!!$.P.tutor_pro_url;var Ge=function t(e){var r=e.form,i=e.bulkSelectionForm,a=e.exportableContent,c=e.isLoading,f=e.componentMapping,p=e.resetBulkSelection;var h=(0,l.h)(),y=h.showModal;var m=function t(e){if(!a||!Array.isArray(a)){return e}var r=function t(e,r,i){if(r===undefined){return(0,n.Y)("div",{css:Me.checkboxLabel},e,(0,n.Y)(W.A,{when:!De&&i!=="settings"},(0,n.Y)(Ye.A,{size:"small",content:(0,o.__)("Pro","tutor")})))}return(0,n.Y)("div",{css:Me.checkboxLabel},e,(0,n.Y)("span",null," (".concat(r,")")),(0,n.Y)(W.A,{when:!De},(0,n.Y)(Ye.A,{size:"small",content:(0,o.__)("Pro","tutor")})))};if(e.includes("__")){var u=e.split("__"),s=Pe(u,2),l=s[0],c=s[1];var f=a.find((function(t){return t.key===l}));if(!f){return e}var d=l==="courses"&&i.getValues("courses").length>0||l==="course-bundle"&&i.getValues("course-bundle").length>0;if(!f.contents){return e}var p=f.contents.find((function(t){return t.key===c}));if(!p){return e}return d?p.label:r(p.label,p.count,e)}var h=a.find((function(t){return t.key===e}));if(!h){return e}var v=function t(){var r={courses:i.getValues("courses").length,"course-bundle":i.getValues("course-bundle").length};return r[e]||0};var y=v();return y>0?r(h.label,y,e):r(h.label,h.count,e)};var g=function t(){if(c){return(0,n.Y)(d.YE,null)}if(!a||!Array.isArray(a)){return null}return(0,n.Y)(Le.Fragment,null,a.map((function(t){var e,a;var l=t.key;var c=r.watch(l);var d=((e=i.getValues(l))===null||e===void 0?void 0:e.length)||0;if(l==="keep_media_files"){return null}return(0,n.Y)("div",{key:l,css:Me.checkboxRow},(0,n.Y)("div",{css:Me.checkBoxWithButton},(0,n.Y)("div",{css:Me.checkBoxWithAction},(0,n.Y)(v.xI,{control:r.control,name:l,render:function t(e){return(0,n.Y)(je.A,ke({},e,{disabled:l!=="settings"&&!De,label:m(l)}))}}),(0,n.Y)(W.A,{when:d>0},(0,n.Y)(u.A,{variant:"danger",size:"small",onClick:function t(){return p(l)},icon:(0,n.Y)(s.A,{name:"cross",width:16,height:16})},(0,o.__)("Clear","tutor")))),(0,n.Y)(W.A,{when:c&&["courses","course-bundle"].includes(l)},(0,n.Y)(u.A,{variant:"secondary",buttonCss:Me.selectButton,size:"small",onClick:function t(){var e=f[l];y({component:e.modal.component,props:e.modal.props,depthIndex:q.fE.highest})}},(a=f[l])===null||a===void 0?void 0:a.bulkSelectionButtonLabel))),(0,n.Y)(W.A,{when:c&&((t===null||t===void 0?void 0:t.contents)||[]).length>0},(0,n.Y)("div",{css:Me.childCheckboxWrapper},(0,n.Y)("div",{css:Me.contentCheckboxWrapper},(0,n.Y)(Te.A,{each:(t===null||t===void 0?void 0:t.contents)||[]},(function(t){var e="".concat(l,"__").concat(t.key);return(0,n.Y)("div",{key:e,css:Me.checkboxRow({isContent:true})},(0,n.Y)(v.xI,{control:r.control,name:e,render:function t(r){return(0,n.Y)(je.A,ke({},r,{disabled:!De&&!c,label:m(e)}))}}))}))))))})))};return(0,n.Y)("div",{css:Me.wrapper},(0,n.Y)("div",{css:Me.formWrapper},(0,n.Y)("div",{css:Me.formTitle},(0,o.__)("What do you want to export","tutor")),(0,n.Y)("div",{css:Me.checkboxWrapper},g()),(0,n.Y)(W.A,{when:(a||[]).some((function(t){return t.key==="keep_media_files"}))&&(r.getValues("courses")||r.getValues("course-bundle"))},(0,n.Y)("div",{css:Me.contentCheckboxFooter},(0,n.Y)(v.xI,{control:r.control,name:"keep_media_files",render:function t(e){return(0,n.Y)(je.A,ke({},e,{label:(0,o.__)("Keep Media Files","tutor"),disabled:!De,description:(0,o.__)("If checked, course media files will also be exported with the course data.","tutor")}))}})))))};const Ue=Ge;var Me={wrapper:(0,n.AH)("height:calc(100vh - 140px);max-height:680px;padding:",q.YK[32]," 107px ",q.YK[32]," 107px;background-color:",q.I6.surface.courseBuilder,";border-top:1px solid ",q.I6.stroke.divider,";",q.EA.tablet,"{padding:",q.YK[24]," ",q.YK[16],";height:calc(100vh - 160px);}"+(true?"":0),true?"":0),formWrapper:(0,n.AH)(Qt.x.display.flex("column")," gap:",q.YK[12],";padding:",q.YK[16]," ",q.YK[20],";border-radius:",q.Vq.card,";background-color:",q.I6.background.white,";border:1px solid ",q.I6.stroke.divider,";"+(true?"":0),true?"":0),formTitle:(0,n.AH)(z.I.caption(),";color:",q.I6.text.title,";"+(true?"":0),true?"":0),checkboxWrapper:(0,n.AH)(Qt.x.display.flex("column")," border:1px solid ",q.I6.stroke.divider,";border-radius:",q.Vq.card,";overflow:hidden;"+(true?"":0),true?"":0),checkboxRow:function t(e){var r=e.isContent,o=r===void 0?false:r;return(0,n.AH)("padding:",q.YK[8]," ",q.YK[16],";",!o&&(0,n.AH)("&:not(:only-of-type):not(:last-of-type){border-bottom:1px solid ",q.I6.stroke.divider,";}"+(true?"":0),true?"":0),";"+(true?"":0),true?"":0)},checkboxLabel:(0,n.AH)(Qt.x.display.flex()," align-items:center;gap:",q.YK[4],";padding-block:",q.YK[2],";span{color:",q.I6.text.hints,";}"+(true?"":0),true?"":0),checkBoxWithButton:(0,n.AH)(Qt.x.display.flex()," justify-content:space-between;align-items:center;button{flex-shrink:0;}"+(true?"":0),true?"":0),checkBoxWithAction:(0,n.AH)(Qt.x.display.flex()," align-items:center;gap:",q.YK[8],";button{flex-shrink:0;}"+(true?"":0),true?"":0),childCheckboxWrapper:(0,n.AH)("margin-top:",q.YK[8],";border:1px solid ",q.I6.stroke.divider,";border-radius:",q.Vq.card,";overflow:hidden;"+(true?"":0),true?"":0),contentCheckboxWrapper:(0,n.AH)("display:grid;grid-template-columns:repeat(2, 1fr);",q.EA.smallMobile,"{grid-template-columns:1fr;}"+(true?"":0),true?"":0),contentCheckboxFooter:(0,n.AH)("padding:",q.YK[8]," ",q.YK[16]," ",q.YK[8]," ",q.YK[16],";border:1px solid ",q.I6.stroke.divider,";border-radius:",q.Vq.card,";background-color:",q.I6.primary[30],";&:only-of-type{border-top:none;}"+(true?"":0),true?"":0),selectButton:(0,n.AH)("background-color:",q.I6.background.white,";"+(true?"":0),true?"":0)};var Ve=r(53429);const Fe=r.p+"images/b3b8c3902b321693e6e96d7a634ac2e0-export-error.webp";const Be=r.p+"images/ac5065b42b52c1b1dc8f5dad5fb8038f-export-success.webp";const qe=r.p+"images/e73cf4a82824860a3b79181aed443649-import-error.webp";const ze=r.p+"images/818f0d48cd9849295fb12ee296a626d4-import-success.webp";function We(t){return Je(t)||Ze(t)||tr(t)||Xe()}function Xe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ze(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Je(t){if(Array.isArray(t))return er(t)}function Qe(t,e){return nr(t)||rr(t,e)||tr(t,e)||$e()}function $e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tr(t,e){if(t){if("string"==typeof t)return er(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?er(t,e):void 0}}function er(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rr(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function nr(t){if(Array.isArray(t))return t}var or="tutor-lms-data-".concat((0,Ve["default"])(new Date,"yyyy-MM-dd-HH-mm-ss"),".json");var ir=function t(e){var r,a,l,c;var f=e.state,d=e.fileSize,p=e.message,h=e.completedContents,v=e.onDownload,y=e.onClose,m=e.type;var g=(0,i.useState)(false),b=Qe(g,2),_=b[0],w=b[1];var x=(h===null||h===void 0||(r=h.courses)===null||r===void 0?void 0:r.success)||[];var E=(h===null||h===void 0||(a=h["course-bundle"])===null||a===void 0?void 0:a.success)||[];var A=h===null||h===void 0?void 0:h.settings;var S=(h===null||h===void 0||(l=h.courses)===null||l===void 0?void 0:l.failed)||[];var O=(h===null||h===void 0||(c=h["course-bundle"])===null||c===void 0?void 0:c.failed)||[];var I={import:{image:{success:ze,error:qe},imageAlt:{success:(0,o.__)("Import Successful","tutor"),error:(0,o.__)("Import Failed","tutor")},header:{success:(0,o.__)("Import Complete!","tutor"),error:(0,o.__)("Import Failed!","tutor")},subtitle:{success:S.length||O.length?(0,o.__)("Your Tutor LMS data was successfully imported. However, some items couldn't be imported. Here's the list:","tutor"):(0,o.__)("Your Tutor LMS data has been successfully imported.","tutor"),error:p||(0,o.__)("Something went wrong during import. Please try again!","tutor")},reportList:{success:(0,o.__)("Successfully Imported","tutor"),error:(0,o.__)("Failed to Import","tutor")}},export:{image:{success:Be,error:Fe},imageAlt:{success:(0,o.__)("Export Successful","tutor"),error:(0,o.__)("Export Failed!","tutor")},header:{success:(0,o.__)("Your Data is Ready to Download!","tutor"),error:(0,o.__)("Export Failed","tutor")},subtitle:{success:S.length||O.length?(0,o.__)("The export process has finished. However, certain items could not be exported. Check the summary below:","tutor"):(0,o.__)("Download the JSON file and use it to import your data into another Tutor LMS website.","tutor"),error:p||(0,o.__)("Something went wrong during export. Please try again!","tutor")},reportList:{success:(0,o.__)("Successfully Exported","tutor"),error:(0,o.__)("Failed to Export","tutor")}}};var Y=function t(e,r){if(r==="course"){return(0,o.sprintf)((0,o._n)("Course (%d)","Courses (%d)",e,"tutor"),e)}return(0,o.sprintf)((0,o._n)("Bundle (%d)","Bundles (%d)",e,"tutor"),e)};var j=function t(){var e=[];if(S.length>0){var r=Y(S.length,"course");e.push(r)}if(O.length>0){var n=Y(O.length,"bundle");e.push(n)}return e.join(", ")};var T=function t(){if(!h)return"";var e=h.settings;var r=[];if(x.length){var n=Y(x.length,"course");r.push(n)}if(E.length){var i=Y(E.length,"bundle");r.push(i)}if(e){r.push((0,o.__)("Settings","tutor"))}return r.join(", ")};return(0,n.Y)("div",{css:ur.statusWrapper},(0,n.Y)("img",{src:I[m].image[f],alt:I[m].imageAlt[f]}),(0,n.Y)("div",{css:ur.statusHeader},(0,n.Y)("div",{css:ur.statusTitle},I[m].header[f]),(0,n.Y)("div",{css:ur.statusSubtitle},I[m].subtitle[f])),(0,n.Y)(W.A,{when:f==="success",fallback:(0,n.Y)("div",{css:true},(0,n.Y)(u.A,{variant:"primary",size:"small",onClick:y},(0,o.__)("Okay","tutor")))},(0,n.Y)("div",{css:ur.reportList},(0,n.Y)(W.A,{when:[].concat(We(x),We(E)).length>0||A},(0,n.Y)("div",{css:ur.reportWrapper},(0,n.Y)("div",{css:ur.report},(0,n.Y)(s.A,{"data-check-icon":true,name:"checkFilledWhite",width:24,height:24}),(0,n.Y)("div",{css:ur.reportInfo},(0,n.Y)("div",{css:ur.reportLeft},(0,n.Y)("div",null,I[m].reportList.success),(0,n.Y)("div",null,T())))))),(0,n.Y)(W.A,{when:[].concat(We(S),We(O)).length>0},(0,n.Y)("button",{css:[Qt.x.resetButton,ur.reportWrapper,true?"":0,true?"":0],onClick:function t(){return w(!_)}},(0,n.Y)("div",{css:ur.report},(0,n.Y)(s.A,{"data-cross-icon":true,name:"crossCircle",width:28,height:28}),(0,n.Y)("div",{css:ur.reportInfo},(0,n.Y)("div",{css:ur.reportLeft},(0,n.Y)("div",null,I[m].reportList.error),(0,n.Y)("div",null,j())),(0,n.Y)(s.A,{"data-down-icon":true,name:"chevronDown",width:24,height:24}))),(0,n.Y)(W.A,{when:_},(0,n.Y)(W.A,{when:S.length>0},(0,n.Y)("div",{css:ur.failedItem},(0,n.Y)("label",null,(0,o.sprintf)((0,o._n)("Course ID (%d)","Course IDs (%d)",S.length,"tutor"),S.length)),(0,n.Y)("div",{css:ur.failedList},(0,n.Y)(Te.A,{each:S},(function(t){return(0,n.Y)("div",{key:t,css:ur.failedId},t)}))))),(0,n.Y)(W.A,{when:O.length>0},(0,n.Y)("div",{css:ur.failedItem},(0,n.Y)("label",null,(0,o.sprintf)((0,o._n)("Bundle ID (%d)","Bundle IDs (%d)",O.length,"tutor"),O.length)),(0,n.Y)("div",{css:ur.failedList},(0,n.Y)(Te.A,{each:O},(function(t){return(0,n.Y)("div",{key:t,css:ur.failedId},t)}))))))))),(0,n.Y)(W.A,{when:m==="export"&&([].concat(We(x),We(E)).length>0||A)},(0,n.Y)("div",{css:ur.file},(0,n.Y)("div",{css:ur.fileIcon},(0,n.Y)(s.A,{name:"attachmentLine",width:24,height:24})),(0,n.Y)("div",{css:ur.fileRight},(0,n.Y)("div",{css:ur.fileDetails},(0,n.Y)("div",{css:ur.fileName,title:or},or),(0,n.Y)("div",{css:ur.fileSize},(0,et.z3)(d||0))),(0,n.Y)("div",null,(0,n.Y)(u.A,{variant:"primary",size:"small",icon:(0,n.Y)(s.A,{name:"download",width:24,height:24}),onClick:function t(){return v===null||v===void 0?void 0:v(or)}},(0,o.__)("Download","tutor")))))),(0,n.Y)(W.A,{when:m==="import"},(0,n.Y)("div",null,(0,n.Y)(u.A,{variant:"primary",size:"small",onClick:y},(0,o.__)("Okay","tutor"))))))};const ar=ir;var ur={statusWrapper:(0,n.AH)(Qt.x.display.flex("column")," align-items:center;gap:",q.YK[16],";padding:",q.YK[32]," ",q.YK[24],";img{align-self:center;width:109px;height:auto;object-fit:contain;object-position:center;}"+(true?"":0),true?"":0),statusHeader:(0,n.AH)(Qt.x.display.flex("column")," gap:",q.YK[8],";align-items:center;text-align:center;padding-top:",q.YK[16],";"+(true?"":0),true?"":0),statusTitle:(0,n.AH)(z.I.heading6("medium"),";"+(true?"":0),true?"":0),statusSubtitle:(0,n.AH)(z.I.caption("regular"),";color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),reportList:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[8],";width:100%;padding-top:",q.YK[16],";"+(true?"":0),true?"":0),reportWrapper:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[12],";background-color:",q.I6.primary[30],";border-radius:",q.Vq[6],";padding:",q.YK[8]," ",q.YK[12],";"+(true?"":0),true?"":0),report:(0,n.AH)("width:100%;",Qt.x.display.flex(),";align-items:center;gap:",q.YK[12],";[data-check-icon]{color:",q.I6.icon.success,";flex-shrink:0;}[data-cross-icon]{color:",q.I6.icon.error,";flex-shrink:0;}[data-down-icon]{color:",q.I6.icon["default"],";flex-shrink:0;}"+(true?"":0),true?"":0),reportInfo:(0,n.AH)("width:100%;",Qt.x.display.flex(),";justify-content:space-between;align-items:center;"+(true?"":0),true?"":0),reportLeft:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[4],";div:first-of-type{",z.I.small(),";color:",q.I6.text.title,";}div:last-of-type{",z.I.small("medium"),";color:",q.I6.text.primary,";}"+(true?"":0),true?"":0),failedItem:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[8],";padding:",q.YK[8]," ",q.YK[12],";background-color:",q.I6.primary[30],";border-radius:",q.Vq[6],";label{",z.I.small("medium"),";}"+(true?"":0),true?"":0),failedList:(0,n.AH)("display:flex;flex-wrap:wrap;border-radius:",q.Vq[6],";gap:4px;"+(true?"":0),true?"":0),failedId:(0,n.AH)(z.I.tiny(),";background-color:",q.I6.background.white,";color:",q.I6.text.subdued,";padding:",q.YK[2]," ",q.YK[8],";border-radius:",q.Vq[4],";"+(true?"":0),true?"":0),file:(0,n.AH)(Qt.x.display.flex(),";height:64px;border:1px solid ",q.I6.stroke.divider,";overflow:hidden;border-radius:",q.Vq[6],";"+(true?"":0),true?"":0),fileIcon:(0,n.AH)(Qt.x.flexCenter(),";width:64px;height:100%;border-right:1px solid ",q.I6.stroke.divider,";flex-shrink:0;background-color:#f7f7f7;svg{color:",q.I6.icon.hover,";}"+(true?"":0),true?"":0),fileRight:(0,n.AH)("flex-grow:1;",Qt.x.display.flex(),";gap:",q.YK[8],";justify-content:space-between;align-items:center;padding:",q.YK[10]," ",q.YK[16]," ",q.YK[10]," ",q.YK[20],";"+(true?"":0),true?"":0),fileDetails:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[4],";"+(true?"":0),true?"":0),fileName:(0,n.AH)(z.I.small("medium"),";color:",q.I6.text.subdued,";",Qt.x.text.ellipsis(1),";width:100%;"+(true?"":0),true?"":0),fileSize:(0,n.AH)(z.I.tiny(),";color:",q.I6.text.hints,";"+(true?"":0),true?"":0)};const sr=r.p+"images/44d1411bd2c87317c5c5bd6191411c9d-export-inprogress.webp";const lr=r.p+"images/a302ff96d926c228e9f1f7478115884d-import-inprogress.webp";var cr=function t(e){var r=e.progress,i=e.message,a=e.type;var u={import:{image:lr,imageAlt:(0,o.__)("Importing...","tutor"),header:(0,o.__)("Importing...","tutor")},export:{image:sr,imageAlt:(0,o.__)("Exporting...","tutor"),header:(0,o.__)("Exporting your data...","tutor")}};return(0,n.Y)("div",{css:dr.progress},(0,n.Y)("img",{src:u[a].image,alt:u[a].imageAlt}),(0,n.Y)("div",{css:dr.progressHeader},(0,n.Y)("div",{css:z.I.caption()},u[a].header),(0,n.Y)("div",{css:dr.progressCount},r,"%")),(0,n.Y)("div",{css:dr.progressBar({progress:r})}),(0,n.Y)("div",{css:dr.progressInfo},i||u[a].header))};const fr=cr;var dr={progress:(0,n.AH)("width:100%;",Qt.x.display.flex("column"),";gap:",q.YK[4],";padding:",q.YK[32]," 91px ",q.YK[48]," 91px;img{align-self:center;width:120px;height:'auto';object-fit:contain;object-position:center;margin-bottom:",q.YK[36],";}"+(true?"":0),true?"":0),progressHeader:(0,n.AH)(Qt.x.display.flex(),";justify-content:space-between;"+(true?"":0),true?"":0),progressCount:(0,n.AH)(Qt.x.flexCenter(),";",z.I.tiny("bold"),";padding:",q.YK[2]," ",q.YK[8],";background-color:",q.I6.background.status.success,";color:",q.I6.text.success,";border-radius:",q.Vq[12],";"+(true?"":0),true?"":0),progressBar:function t(e){var r=e.progress,o=r===void 0?0:r;return(0,n.AH)("position:relative;width:100%;height:6px;background-color:",q.I6.color.black[10],";border-radius:",q.Vq[50],";overflow:hidden;&::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:",q.I6.bg.success,";border-radius:",q.Vq[50],";transition:width 0.3s ease-in;width:",o,"%;}"+(true?"":0),true?"":0)},progressInfo:(0,n.AH)(z.I.small(),";color:",q.I6.text.subdued,";"+(true?"":0),true?"":0)};var pr=r(97665);var hr=r(94747);var vr=r(40874);function yr(t){"@babel/helpers - typeof";return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function mr(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mr=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function t(e,r,n){return e[r]=n}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new T(n||[]);return o(a,"_invoke",{value:O(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==r&&n.call(x,a)&&(_=x);var E=b.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==yr(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function O(e,r,n){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=I(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function I(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function Y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Y,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yr(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},A(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(E),l(E,s,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,T.prototype={constructor:T,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return s.type="throw",s.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var l=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),y},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:L(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function gr(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function br(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gr(i,n,o,a,u,"next",t)}function u(t){gr(i,n,o,a,u,"throw",t)}a(void 0)}))}}function _r(t,e){return Sr(t)||Ar(t,e)||xr(t,e)||wr()}function wr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xr(t,e){if(t){if("string"==typeof t)return Er(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Er(t,e):void 0}}function Er(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ar(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function Sr(t){if(Array.isArray(t))return t}var Or={courses:false,"course-bundle":false,settings:false,courses__ids:[],"course-bundle__ids":[],courses__lesson:true,courses__tutor_quiz:true,courses__tutor_assignments:true,keep_media_files:false};var Ir=function t(e){var r;var n=e.data,o=e.exportableContent;var i={export_contents:[],keep_media_files:n.keep_media_files?"1":"0"};var a=function t(e){return o.some((function(t){return t.key===e}))};var u=function t(e,r){return o.some((function(t){var n;return t.key===e&&((n=t.contents)===null||n===void 0?void 0:n.some((function(t){return t.key===r})))}))};var s=new Set;Object.keys(n).forEach((function(t){if(!t.includes("__")&&n[t]&&t!=="keep_media_files"&&a(t)){s.add(t)}}));Object.keys(n).forEach((function(t){if(t.includes("__")){var e=t.split("__")[0];if(n[e]){s.add(e)}}}));s.forEach((function(t){var e;var r={type:t};var o="".concat(t,"__ids");if(n[o]&&Array.isArray(n[o])&&n[o].length>0){r.ids=n[o]}var a=[];Object.entries(n).forEach((function(e){var r=_r(e,2),n=r[0],o=r[1];if(n.startsWith("".concat(t,"__"))&&o===true){var i=n.split("__")[1];if(i&&i!=="ids"&&i!=="keep_media_files"&&u(t,i)){a.push(i)}}}));if(a.length>0){r.sub_contents=a}(e=i.export_contents)===null||e===void 0||e.push(r)}));if(!((r=i.export_contents)!==null&&r!==void 0&&r.length)){i.export_contents=undefined}return i};var Yr=function t(){return Ht.get(Dt.GET_EXPORTABLE_CONTENT)};var jr=function t(){var e=!!$.P.tutor_pro_url;return(0,Z.I)({queryKey:["ExportableContent"],queryFn:function t(){return Yr().then((function(t){return t.data}))},enabled:e})};var Tr=function(){var t=br(mr().mark((function t(e){return mr().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",Ht.post(Dt.EXPORT_CONTENTS,e.job_id?{job_id:e.job_id}:{export_contents:e.export_contents,keep_media_files:e.keep_media_files}).then((function(t){return t.data})));case 1:case"end":return r.stop()}}),t)})));return function e(r){return t.apply(this,arguments)}}();var Lr=function t(){var e=(0,pr.jE)();return(0,hr.n)({mutationFn:Tr,mutationKey:["ExportContents"],onSuccess:function t(r){if(r.job_progress===100){e.invalidateQueries({queryKey:["ImportExportHistory"]})}}})};var kr=function(){var t=br(mr().mark((function t(e){return mr().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",Ht.post(Dt.IMPORT_CONTENTS,e).then((function(t){return t.data})));case 1:case"end":return r.stop()}}),t)})));return function e(r){return t.apply(this,arguments)}}();var Pr=function t(){var e=(0,pr.jE)();return(0,hr.n)({mutationFn:kr,mutationKey:["ImportContents"],onSuccess:function t(r){if(r.job_progress===100){e.invalidateQueries({queryKey:["ImportExportHistory"]})}}})};var Cr=function t(){return Ht.get(Dt.GET_IMPORT_EXPORT_HISTORY).then((function(t){return t.data}))};var Nr=function t(){var e=!!$.P.tutor_pro_url;return(0,Z.I)({queryKey:["ImportExportHistory"],queryFn:function t(){return Cr()},enabled:e})};var Hr=function(){var t=br(mr().mark((function t(e){return mr().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",Ht.post(Dt.DELETE_IMPORT_EXPORT_HISTORY,{option_id:e}));case 1:case"end":return r.stop()}}),t)})));return function e(r){return t.apply(this,arguments)}}();var Kr=function t(){var e=(0,vr.d)(),r=e.showToast;var n=(0,pr.jE)();return(0,hr.n)({mutationFn:Hr,mutationKey:["DeleteImportExportHistory"],onSuccess:function t(e){n.invalidateQueries({queryKey:["ImportExportHistory"]});r({message:e.message,type:"success"})},onError:function t(e){r({message:(0,et.EL)(e),type:"danger"})}})};var Rr=r(41594);function Dr(t){"@babel/helpers - typeof";return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(t)}function Gr(t,e){return Br(t)||Fr(t,e)||Mr(t,e)||Ur()}function Ur(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mr(t,e){if(t){if("string"==typeof t)return Vr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vr(t,e):void 0}}function Vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Fr(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function Br(t){if(Array.isArray(t))return t}function qr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qr(Object(r),!0).forEach((function(e){Wr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wr(t,e,r){return(e=Xr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xr(t){var e=Zr(t,"string");return"symbol"==Dr(e)?e:e+""}function Zr(t,e){if("object"!=Dr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Jr=!!$.P.tutor_pro_url;var Qr=function t(e){var r=e.onClose,a=e.onExport,l=e.currentStep,f=e.onDownload,d=e.progress,p=e.fileSize,h=e.message,v=e.completedContents;var y=H({defaultValues:Or});var m=H({defaultValues:{courses:[],"course-bundle":[]}});var g=jr();var b=Jr?g.data:[{key:"courses",label:"Courses",contents:[{label:"Lessons",key:"lesson"},{label:"Quizzes",key:"tutor_quiz"},{label:"Assignments",key:"tutor_assignments"},{label:"Attachments",key:"attachments"}]},{key:"course-bundle",label:"Bundles",contents:[]},{key:"settings",label:"Settings",contents:[]},{key:"keep_media_files",label:"Keep media files",contents:[]}];var _=function t(e){if(e==="courses"){m.reset({courses:[],"course-bundle":m.getValues("course-bundle")})}if(e==="course-bundle"){m.reset({courses:m.getValues("courses"),"course-bundle":[]})}};(0,i.useEffect)((function(){if(g.isSuccess&&g.data){var t=g.data.filter((function(t){return t.key==="courses"}))[0].ids||[];var e=g.data.filter((function(t){return t.key==="course-bundle"}))[0].ids||[];y.setValue("courses__ids",t);y.setValue("course-bundle__ids",e)}}),[g.isSuccess]);var w=function t(){y.reset();r()};var x={courses:{modal:{component:me,props:{title:(0,o.__)("Select Courses","tutor"),type:"courses",form:m}},bulkSelectionButtonLabel:m.getValues("courses").length>0?(0,o.__)("Edit Selected Courses","tutor"):(0,o.__)("Select Specific Courses","tutor")},"course-bundle":{modal:{component:me,props:{title:(0,o.__)("Select Bundles","tutor"),type:"course-bundle",form:m}},bulkSelectionButtonLabel:m.getValues("course-bundle").length>0?(0,o.__)("Edit Selected Bundles","tutor"):(0,o.__)("Select Specific Bundles","tutor")}};var E=y.handleSubmit((function(t){var e=m.getValues(),r=e.courses,n=e["course-bundle"];a===null||a===void 0||a({data:zr(zr({},t),{},{courses__ids:r.length>0?r.map((function(t){return t.id})):y.getValues("courses__ids"),"course-bundle__ids":n.length>0?n.map((function(t){return t.id})):y.getValues("course-bundle__ids")}),exportableContent:g.data||[]})}));var A={initial:(0,n.Y)(Ue,{form:y,bulkSelectionForm:m,exportableContent:b||[],isLoading:g.isLoading,componentMapping:x,resetBulkSelection:_}),progress:(0,n.Y)(fr,{progress:d,message:h,type:"export"}),success:(0,n.Y)(ar,{state:"success",fileSize:p,message:h,completedContents:v,onDownload:f,onClose:w,type:"export"}),error:(0,n.Y)(ar,{state:"error",message:h,onClose:w,type:"export"})};return(0,n.Y)(c.A,{onClose:w,maxWidth:l==="initial"?823:500,isCloseAble:l!=="progress",entireHeader:(0,n.Y)(W.A,{when:l==="initial",fallback:(0,n.Y)(Rr.Fragment,null,"")},(0,n.Y)("div",{css:tn.header},(0,n.Y)("div",{css:tn.headerTitle},(0,n.Y)(Ie,{wrapperCss:tn.logo}),(0,n.Y)("span",null,(0,o.__)("Exporter","tutor"))),(0,n.Y)("div",null,(0,n.Y)(u.A,{variant:"primary",size:"small",icon:(0,n.Y)(s.A,{name:"export",width:24,height:24}),disabled:!Object.entries(y.getValues()).some((function(t){var e=Gr(t,2),r=e[0],n=e[1];if(!r.includes("__")){return n===true}return false})),onClick:E},(0,o.__)("Export","tutor")))))},A[l])};const $r=Qr;var tn={header:(0,n.AH)("height:64px;width:100%;",Qt.x.display.flex()," justify-content:space-between;align-items:center;padding-inline:88px;",q.EA.tablet,"{padding-inline:",q.YK[8]," ",q.YK[36],";}"+(true?"":0),true?"":0),headerTitle:(0,n.AH)(Qt.x.display.flex()," align-items:center;gap:",q.YK[4],";",z.I.heading6("medium")," color:",q.I6.text.brand,";"+(true?"":0),true?"":0),logo:(0,n.AH)("padding-left:0;",q.EA.smallTablet,"{padding-left:0;}"+(true?"":0),true?"":0)};var en=function t(e,r){var n,i,a,u;var s={inProgress:r==="export"?(0,o.__)("Export in progress...","tutor"):(0,o.__)("Import in progress...","tutor"),verb:r==="export"?(0,o.__)("exported","tutor"):(0,o.__)("imported","tutor"),failed:(0,o.__)("failed","tutor")};if(!e){return s.inProgress}var l=e.completed_contents;var c=(l===null||l===void 0||(n=l.courses)===null||n===void 0?void 0:n.success)||[];var f=(l===null||l===void 0||(i=l["course-bundle"])===null||i===void 0?void 0:i.success)||[];var d=l===null||l===void 0?void 0:l.settings;var p=(l===null||l===void 0||(a=l.courses)===null||a===void 0?void 0:a.failed)||[];var h=(l===null||l===void 0||(u=l["course-bundle"])===null||u===void 0?void 0:u.failed)||[];var v=p.length===0&&h.length===0;var y=function t(e,r){if(r==="course"){return(0,o.sprintf)((0,o._n)("%d Course","%d Courses",e,"tutor"),e)}return(0,o.sprintf)((0,o._n)("%d Bundle","%d Bundles",e,"tutor"),e)};if(!l||Object.keys(l).length===0){if(!v){var m=[];if(p.length){m.push(y(p.length,"course"))}if(h.length){m.push(y(h.length,"bundle"))}return"".concat(m.join(", ")," ").concat(s.failed)}return s.inProgress}var g=[];if(c.length){g.push(y(c.length,"course"))}if(f.length){g.push(y(f.length,"bundle"))}if(d){g.push((0,o.__)("Settings","tutor"))}var b=[];if(p.length){b.push(y(p.length,"course"))}if(h.length){b.push(y(h.length,"bundle"))}if(g.length===0&&b.length===0){return s.inProgress}var _="";if(g.length>0){_="".concat(g.join(", ")," ").concat(s.verb)}if(b.length>0){var w="".concat(b.join(", ")," ").concat(s.failed);_=_?"".concat(_,". ").concat(w):w}return _};const rn=en;var nn=function t(){var e=(0,l.h)(),r=e.showModal,a=e.updateModal,c=e.closeModal;var f=Lr(),d=f.data,p=f.mutateAsync,h=f.error,v=f.isError;var y=function t(e){var r=e.data,n=e.exportableContent;var o=Ir({data:r,exportableContent:n});p(o);a("export-modal",{currentStep:"progress",progress:0})};(0,i.useEffect)((function(){var t=function t(e){if(d&&(d===null||d===void 0?void 0:d.job_progress)<100){e.preventDefault();return}};window.addEventListener("beforeunload",t);return function(){window.removeEventListener("beforeunload",t)}}),[d]);(0,i.useEffect)((function(){var t=Number(d===null||d===void 0?void 0:d.job_progress);if(v){a("export-modal",{currentStep:"error",progress:0,message:(0,et.EL)(h)})}if(t<100){p({job_id:d===null||d===void 0?void 0:d.job_id})}if(t>0&&t<100){a("export-modal",{currentStep:"progress",progress:t,message:rn(d,"export")})}if(t===100&&d!==null&&d!==void 0&&d.exported_data){a("export-modal",{currentStep:"success",progress:100,fileSize:JSON.stringify(d===null||d===void 0?void 0:d.exported_data).length,completedContents:d===null||d===void 0?void 0:d.completed_contents,onDownload:function t(e){var r=new Blob([JSON.stringify(d===null||d===void 0?void 0:d.exported_data)],{type:"application/json"});var n=URL.createObjectURL(r);var o=document.createElement("a");o.href=n;o.download=e;document.body.appendChild(o);o.click();document.body.removeChild(o);URL.revokeObjectURL(n)}})}if(t===100&&!(d!==null&&d!==void 0&&d.exported_data)){a("export-modal",{currentStep:"error"})}}),[d,h,v]);return(0,n.Y)("div",{css:an.wrapper},(0,n.Y)("div",{css:an.title},(0,o.__)("Export","tutor")),(0,n.Y)("div",{css:an["export"]},(0,n.Y)("div",{css:an.exportHeader},(0,n.Y)("div",{css:an.exportTitle},(0,o.__)("Export Data","tutor")),(0,n.Y)("div",{css:an.exportSubtitle},(0,o.__)("Easily export your courses, lessons, quizzes, assignments, global settings, etc.","tutor"))),(0,n.Y)(u.A,{variant:"primary",size:"small",icon:(0,n.Y)(s.A,{name:"export",width:24,height:24}),onClick:function t(){return r({id:"export-modal",component:$r,depthIndex:q.fE.highest,props:{onClose:c,currentStep:"initial",onExport:y,progress:Number(d===null||d===void 0?void 0:d.job_progress)||0}})}},(0,o.__)("Initiate Export","tutor"))))};const on=nn;var an={wrapper:(0,n.AH)(Qt.x.display.flex("column")," gap:",q.YK[12],";"+(true?"":0),true?"":0),title:(0,n.AH)(z.I.body()," color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),export:(0,n.AH)(Qt.x.display.flex()," justify-content:space-between;gap:",q.YK[8],";align-items:center;padding:",q.YK[24],";border:1px solid ",q.I6.stroke.divider,";border-radius:",q.Vq[6],";background-color:",q.I6.background.white,";button{flex-shrink:0;}"+(true?"":0),true?"":0),exportHeader:(0,n.AH)(Qt.x.display.flex("column")," gap:",q.YK[6],";"+(true?"":0),true?"":0),exportTitle:(0,n.AH)(z.I.body("medium")," color:",q.I6.text.title,";"+(true?"":0),true?"":0),exportSubtitle:(0,n.AH)(z.I.small("regular")," color:",q.I6.text.subdued,";"+(true?"":0),true?"":0)};function un(t){"@babel/helpers - typeof";return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function sn(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sn=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function t(e,r,n){return e[r]=n}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new T(n||[]);return o(a,"_invoke",{value:O(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==r&&n.call(x,a)&&(_=x);var E=b.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==un(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function O(e,r,n){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=I(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function I(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function Y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Y,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(un(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},A(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(E),l(E,s,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,T.prototype={constructor:T,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return s.type="throw",s.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var l=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),y},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:L(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function ln(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function cn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ln(i,n,o,a,u,"next",t)}function u(t){ln(i,n,o,a,u,"throw",t)}a(void 0)}))}}function fn(t,e){return yn(t)||vn(t,e)||pn(t,e)||dn()}function dn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pn(t,e){if(t){if("string"==typeof t)return hn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hn(t,e):void 0}}function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vn(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function yn(t){if(Array.isArray(t))return t}function mn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var gn=function t(){var e=Nr();var r=Kr();var a=(0,i.useState)(null),l=fn(a,2),c=l[0],f=l[1];var d=e.data||[];var p=function(){var t=cn(sn().mark((function t(e){return sn().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:f(e);n.prev=1;n.next=4;return r.mutateAsync(e);case 4:n.prev=4;f(null);return n.finish(4);case 7:case"end":return n.stop()}}),t,null,[[1,,4,7]])})));return function e(r){return t.apply(this,arguments)}}();var v=(0,i.useCallback)((function(t){return(0,n.Y)("span",{css:_n.importExportLabel},(0,n.Y)(s.A,{name:t,width:16,height:16}),t==="import"?(0,o.__)("Imported","tutor"):(0,o.__)("Exported","tutor"))}),[]);var y=(0,i.useCallback)((function(t){if(t.option_name.includes("export")){return"export"}if(t.option_name.includes("import")){return"import"}return"import"}),[]);var m=function t(e,r){if(r==="course"){if(e===1){return(0,o.__)("Course","tutor")}return(0,o.sprintf)((0,o.__)("Courses (%d)","tutor"),e)}if(e===1){return(0,o.__)("Bundle","tutor")}return(0,o.sprintf)((0,o.__)("Bundles (%d)","tutor"),e)};var g=function t(e){var r,n;var o=e.option_value.completed_contents;if(!o){return""}var i=[];var a=((r=o.courses)===null||r===void 0?void 0:r.success)||[];if(a.length>0){var u=m(a.length,"course");i.push(u)}var s=((n=o["course-bundle"])===null||n===void 0?void 0:n.success)||[];if(s.length>0){var l=m(s.length,"bundle");i.push(l)}if(o.settings===true){i.push("Settings")}return i.join(", ")};if(d.length===0){return null}var b=[{Header:(0,n.Y)("span",{css:_n.tableHeader},(0,o.__)("Title","tutor")),Cell:function t(e){return(0,n.Y)("div",{css:_n.historyTitle},g(e))}},{Header:(0,n.Y)("span",{css:_n.tableHeader},(0,o.__)("Type","tutor")),Cell:function t(e){return v(y(e))}},{Header:(0,n.Y)("span",{css:_n.tableHeader},(0,o.__)("User","tutor")),Cell:function t(e){return(0,n.Y)("div",{css:_n.historyTitle},e.option_value.user_name)}},{Header:(0,n.Y)("span",{css:_n.tableHeader},(0,o.__)("Date","tutor")),Cell:function t(e){return(0,n.Y)("div",{css:_n.historyTitle},e.option_value.created_at)}},{Cell:function t(e){var r=c===e.option_id;return(0,n.Y)("div",{css:_n.action},(0,n.Y)(u.A,{"data-delete-history":true,size:"small",variant:"secondary",isOutlined:true,disabled:r,loading:r,onClick:function t(){return p(e.option_id)}},(0,o.__)("Delete","tutor")))}}];return(0,n.Y)("div",{css:_n.wrapper},(0,n.Y)("div",{css:_n.title},(0,o.__)("History","tutor")),(0,n.Y)("div",{css:_n.history({deletingItemId:c})},(0,n.Y)(h.A,{headerHeight:44,loading:e.isLoading,columns:b,data:d,isRounded:true,isBordered:true})))};const bn=gn;var _n={wrapper:(0,n.AH)(Qt.x.display.flex("column")," gap:",q.YK[12],";"+(true?"":0),true?"":0),title:(0,n.AH)(z.I.body()," color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),history:function t(e){var r=e.deletingItemId,o=r===void 0?null:r;return(0,n.AH)("border-radius:",q.Vq[6],";overflow:hidden;table{tbody{tr{background-color:",q.I6.background.white,";",z.I.small("medium")," [data-delete-history]{opacity:0;transition:opacity 0.2s ease-in-out;}",o?'[data-delete-history="'.concat(o,'"] { opacity: 1; }'):""," td:nth-of-type(n + 3){font-weight:",q.Wy.regular,";}&:hover{background-color:",q.I6.background.white,";[data-delete-history]{opacity:1;}}}}}"+(true?"":0),true?"":0)},tableHeader:(0,n.AH)(z.I.small()," color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),historyTitle:(0,n.AH)(z.I.small("medium")," ",Qt.x.display.flex()," align-items:center;gap:",q.YK[4],";min-width:80px;"+(true?"":0),true?"":0),activeTag:(0,n.AH)(z.I.tiny("medium")," background-color:",q.I6.color.success[40],";border-radius:",q.Vq[4],";color:",q.I6.text.success,";padding:",q.YK[4]," ",q.YK[8],";"+(true?"":0),true?"":0),dateWithSort:(0,n.AH)(Qt.x.display.flex()," align-items:center;gap:",q.YK[4],";"+(true?"":0),true?"":0),action:(0,n.AH)(Qt.x.display.flex()," align-items:center;justify-content:flex-end;"+(true?"":0),true?"":0),threeDot:true?{name:"rrel8y",styles:"width:24px;height:24px"}:0,importExportLabel:(0,n.AH)(Qt.x.display.flex()," align-items:center;gap:",q.YK[4],";",z.I.small("medium")," color:",q.I6.text.hints,";svg{color:",q.I6.icon["default"],";}"+(true?"":0),true?"":0)};var wn=r(41502);var xn=["onUpload","onError","acceptedTypes","multiple","disabled","children"];function En(){return En=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},En.apply(null,arguments)}function An(t,e){if(null==t)return{};var r,n,o=Sn(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Sn(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}function On(t){return Tn(t)||jn(t)||Yn(t)||In()}function In(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yn(t,e){if(t){if("string"==typeof t)return Ln(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ln(t,e):void 0}}function jn(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Tn(t){if(Array.isArray(t))return Ln(t)}function Ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Pn=function t(e){var r=e.acceptedTypes,n=e.onUpload,a=e.onError;var u=(0,i.useRef)(null);var s=function t(e){var i=e.target.files;if(!i){return}var u=[];var s=[];for(var l=0,c=On(i);l<c.length;l++){var f=c[l];if(!r.includes((0,et.dS)(f.name))){u.push((0,o.__)("Invalid file type","tutor"))}else if(f.size>wn.w3){u.push((0,o.__)("Maximum upload size exceeded","tutor"))}else{s.push(f)}}if(s.length){n(s)}if(u.length){a(u)}e.target.value=""};return{fileInputRef:u,handleChange:s}};var Cn=function t(e){var r=e.onUpload,n=e.onError,o=e.acceptedTypes,i=e.label,a=e.multiple,u=a===void 0?false:a,s=e.disabled,l=s===void 0?false:s;var c=Pn({acceptedTypes:o,onUpload:r,onError:n}),f=c.fileInputRef,d=c.handleChange;return ___EmotionJSX("button",{type:"button",css:Nn.uploadButton,onClick:function t(){var e;return(e=f.current)===null||e===void 0?void 0:e.click()},disabled:l},___EmotionJSX("input",{ref:f,type:"file",css:Nn.fileInput,accept:o.join(","),onChange:d,multiple:u,disabled:l}),___EmotionJSX(SVGIcon,{name:"storeImage",width:26,height:20}),___EmotionJSX("span",{css:Nn.text},i))};var Nn={uploadButton:(0,n.AH)(Qt.x.resetButton," background:",q.I6.background["default"],";border:1px dashed ",q.I6.stroke.border,";border-radius:",q.Vq[8],";display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;gap:",q.YK[12],";"+(true?"":0),true?"":0),fileInput:true?{name:"eivff4",styles:"display:none"}:0,text:(0,n.AH)("color:",q.I6.text.subdued,";",z.I.body(),";"+(true?"":0),true?"":0)};var Hn=function t(e){var r=e.onUpload,o=e.onError,i=e.acceptedTypes,a=e.multiple,s=a===void 0?false:a,l=e.disabled,c=l===void 0?false:l,f=e.children,d=An(e,xn);var p=Pn({acceptedTypes:i,onUpload:r,onError:o}),h=p.fileInputRef,v=p.handleChange;return(0,n.Y)(u.A,En({},d,{onClick:function t(){var e;return(e=h.current)===null||e===void 0?void 0:e.click()},disabled:c}),(0,n.Y)("input",{ref:h,type:"file",css:Nn.fileInput,accept:i.join(","),onChange:v,multiple:s,disabled:c}),f)};const Kn=null&&Cn;var Rn=r(41594);function Dn(t){"@babel/helpers - typeof";return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Gn(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Gn=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function t(e,r,n){return e[r]=n}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new T(n||[]);return o(a,"_invoke",{value:O(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==r&&n.call(x,a)&&(_=x);var E=b.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Dn(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function O(e,r,n){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=I(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function I(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function Y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Y,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Dn(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},A(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(E),l(E,s,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,T.prototype={constructor:T,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return s.type="throw",s.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var l=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),y},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:L(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function Un(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Mn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Un(i,n,o,a,u,"next",t)}function u(t){Un(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Vn(t,e){return Wn(t)||zn(t,e)||Bn(t,e)||Fn()}function Fn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bn(t,e){if(t){if("string"==typeof t)return qn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qn(t,e):void 0}}function qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function zn(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function Wn(t){if(Array.isArray(t))return t}function Xn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Zn=function t(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){try{var n;var i=(n=e.target)===null||n===void 0?void 0:n.result;var a=JSON.parse(i);t(a)}catch(t){r(new Error((0,o.__)("Invalid JSON file format","tutor")))}};n.onerror=function(){r(new Error((0,o.__)("Failed to read file","tutor")))};n.readAsText(e)}))};var Jn=!!$.P.tutor_pro_url;var Qn=function t(e){var r=e.files,a=e.currentStep,l=e.onClose,f=e.onImport,d=e.message,p=e.progress,h=e.completedContents;var v=(0,i.useState)(r),y=Vn(v,2),m=y[0],g=y[1];var b=(0,i.useState)(false),_=Vn(b,2),w=_[0],x=_[1];var E=(0,i.useState)(true),A=Vn(E,2),S=A[0],O=A[1];var I=(0,i.useState)(false),Y=Vn(I,2),j=Y[0],T=Y[1];var L=(0,vr.d)(),k=L.showToast;(0,i.useEffect)((function(){if(m.length===0){return}x(true);Zn(m[0]).then((function(t){var e=t===null||t===void 0?void 0:t.data.find((function(t){return t.content_type==="settings"}));x(false);T(e);g(m);O(true)}))["catch"]((function(){x(false);O(false)}))["finally"]((function(){x(false)}))}),[m]);var P=function t(e){if(e.length){g(e)}};var C=function t(e){k({message:e.join(", "),type:"danger"})};var N=function t(e){return(0,n.Y)(Rn.Fragment,null,(0,n.Y)("div",{css:to.selectedInfo},(0,n.Y)("div",{css:to.fileInfo},(0,n.Y)("div",{css:to.progressHeader},(0,n.Y)("div",{css:z.I.small()},w?(0,o.__)("Reading file...","tutor"):(0,o.__)("Selected","tutor")),(0,n.Y)(W.A,{when:w,fallback:(0,n.Y)(W.A,{when:S},(0,n.Y)("div",{css:to.progressCount},(0,o.__)("Ready to import","tutor")))},(0,n.Y)("div",{css:to.progressCount},(0,o.__)("Please wait...","tutor")))),(0,n.Y)("div",{css:to.file},(0,n.Y)("div",{css:to.fileIcon},(0,n.Y)(s.A,{name:"attachmentLine",width:24,height:24})),(0,n.Y)("div",{css:to.fileRight},(0,n.Y)("div",{css:to.fileDetails},(0,n.Y)("div",{css:to.fileName},e.name),(0,n.Y)("div",{css:to.fileSize},(0,et.z3)(e.size))),(0,n.Y)("div",null,(0,n.Y)(Hn,{"data-cy":"replace-file",variant:"tertiary",size:"small",onUpload:P,onError:C,acceptedTypes:[".csv",".json"]},(0,o.__)("Replace","tutor")))))),(0,n.Y)(W.A,{when:!S},(0,n.Y)("div",{css:to.alert},(0,n.Y)(s.A,{name:"warning",width:40,height:40}),(0,n.Y)("p",null,(0,o.__)("WARNING! Invalid file. Please upload a valid JSON file and try again.","tutor")))),(0,n.Y)(W.A,{when:S&&j},(0,n.Y)("div",{css:to.alert},(0,n.Y)(s.A,{name:"infoFill",width:40,height:40}),(0,n.Y)("p",null,(0,o.__)("WARNING! This will overwrite all existing settings, please proceed with caution.","tutor"))))),(0,n.Y)("div",{css:to.footer},(0,n.Y)("div",{css:to.actionButtons},(0,n.Y)(u.A,{variant:"text",size:"small",onClick:l},(0,o.__)("Cancel","tutor")),(0,n.Y)(u.A,{"data-cy":"import-csv",disabled:m.length===0||w||!S||!Jn&&!j,variant:"primary",size:"small",loading:w||a==="progress",onClick:Mn(Gn().mark((function t(){return Gn().wrap((function t(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",f(m[0]));case 1:case"end":return e.stop()}}),t)})))},(0,o.__)("Import","tutor")))))};var H=function t(e){return(0,n.Y)(fr,{progress:p||0,message:d||e.name,type:"import"})};var K=function t(e,r){return(0,n.Y)(ar,{onClose:l,state:r,fileSize:e.size,completedContents:h,type:"import",importFileName:e.name,message:d||""})};var R={initial:N(m[0]),progress:H(m[0]),success:K(m[0],"success"),error:K(m[0],"error")};return(0,n.Y)(c.A,{onClose:l,entireHeader:a==="initial"?undefined:(0,n.Y)(Rn.Fragment,null,""),maxWidth:500,title:a==="initial"?(0,o.__)("Import File","tutor"):undefined,isCloseAble:a!=="progress"},(0,n.Y)("div",{css:to.wrapper},R[a]))};const $n=Qn;var to={wrapper:true?{name:"15126hl",styles:"max-height:840px;transition:max-height 0.3s ease-in-out"}:0,title:(0,n.AH)(z.I.heading6("medium"),";text-align:center;margin-top:",q.YK[16],";"+(true?"":0),true?"":0),subtitle:(0,n.AH)(z.I.caption(),";color:",q.I6.text.subdued,";text-align:center;margin-bottom:",q.YK[8],";"+(true?"":0),true?"":0),progress:(0,n.AH)("width:100%;",Qt.x.display.flex("column"),";gap:",q.YK[4],";padding:",q.YK[32]," 91px ",q.YK[48]," 91px;img{align-self:center;width:83px;height:'auto';object-fit:contain;object-position:center;margin-bottom:",q.YK[36],";}"+(true?"":0),true?"":0),progressHeader:(0,n.AH)(Qt.x.display.flex(),";justify-content:space-between;"+(true?"":0),true?"":0),progressCount:(0,n.AH)(Qt.x.flexCenter(),";",z.I.tiny("bold"),";padding:",q.YK[2]," ",q.YK[8],";background-color:",q.I6.background.status.success,";color:",q.I6.text.success,";border-radius:",q.Vq[12],";"+(true?"":0),true?"":0),progressBar:function t(e){var r=e.progress,o=r===void 0?0:r;return(0,n.AH)("position:relative;width:100%;height:6px;background-color:",q.I6.color.black[10],";border-radius:",q.Vq[50],";overflow:hidden;&::after{content:'';position:absolute;top:0;left:0;height:100%;border-radius:",q.Vq[50],";transition:width 0.3s ease-in-out;width:",o,"%;background-color:",q.I6.bg.success,";}"+(true?"":0),true?"":0)},progressInfo:(0,n.AH)(z.I.small(),";color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),selectedInfo:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[20],";padding:",q.YK[20]," ",q.YK[16],";border-bottom:1px solid ",q.I6.stroke.divider,";"+(true?"":0),true?"":0),fileInfo:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[10],";"+(true?"":0),true?"":0),file:(0,n.AH)(Qt.x.display.flex(),";height:64px;border:1px solid ",q.I6.stroke.divider,";overflow:hidden;border-radius:",q.Vq[6],";width:100%;"+(true?"":0),true?"":0),fileIcon:(0,n.AH)("background-color:#f7f7f7;",Qt.x.flexCenter(),";width:64px;height:100%;border-right:1px solid ",q.I6.stroke.divider,";flex-shrink:0;svg{color:",q.I6.icon.disable.background,";}"+(true?"":0),true?"":0),fileRight:(0,n.AH)("flex-grow:1;",Qt.x.display.flex(),";justify-content:space-between;align-items:center;padding:",q.YK[10]," ",q.YK[16]," ",q.YK[10]," ",q.YK[20],";"+(true?"":0),true?"":0),fileDetails:(0,n.AH)("flex-grow:1;",Qt.x.display.flex("column"),";gap:",q.YK[4],";"+(true?"":0),true?"":0),fileName:(0,n.AH)(z.I.small("medium"),";color:",q.I6.text.subdued,";",Qt.x.text.ellipsis(1),";"+(true?"":0),true?"":0),fileSize:(0,n.AH)(z.I.tiny(),";color:",q.I6.text.hints,";"+(true?"":0),true?"":0),alert:(0,n.AH)(Qt.x.display.flex(),";align-items:flex-start;gap:",q.YK[8],";padding:",q.YK[20],";border-radius:",q.Vq[6],";background-color:",q.I6.background.status.warning,";svg{color:",q.I6.icon.warning,";flex-shrink:0;}p{",z.I.caption(),";color:",q.I6.text.warning,";}"+(true?"":0),true?"":0),footer:(0,n.AH)(Qt.x.display.flex(),";align-items:center;justify-content:flex-end;padding:",q.YK[12]," ",q.YK[16],";"+(true?"":0),true?"":0),actionButtons:(0,n.AH)(Qt.x.display.flex(),";align-items:center;gap:",q.YK[8],";"+(true?"":0),true?"":0),completed:(0,n.AH)(Qt.x.display.flex("column"),";align-items:center;gap:",q.YK[8],";padding-block:",q.YK[40]," ",q.YK[32],";"+(true?"":0),true?"":0),completedHeader:(0,n.AH)(Qt.x.display.flex("column"),";align-items:center;gap:",q.YK[8],";"+(true?"":0),true?"":0)};const eo=r.p+"images/4f2fd5bc3d59ba916eb2c2004a44b992-import-initial.webp";function ro(t){"@babel/helpers - typeof";return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(t)}function no(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */no=function t(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function t(e,r,n){return e[r]=n}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new T(n||[]);return o(a,"_invoke",{value:O(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==r&&n.call(x,a)&&(_=x);var E=b.prototype=m.prototype=Object.create(_);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==ro(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function t(n,o){function a(){return new e((function(t,e){r(n,o,t,e)}))}return i=i?i.then(a,a):a()}})}function O(e,r,n){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=I(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function I(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function Y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Y,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ro(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},A(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(E),l(E,s,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,T.prototype={constructor:T,reset:function e(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!r)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function e(r){if(this.done)throw r;var o=this;function i(e,n){return s.type="throw",s.arg=r,o.next=e,n&&(o.method="next",o.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var l=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function t(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),y},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function e(r,n,o){return this.delegate={iterator:L(r),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function oo(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function io(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){oo(i,n,o,a,u,"next",t)}function u(t){oo(i,n,o,a,u,"throw",t)}a(void 0)}))}}var ao=function t(){var e=(0,l.h)(),r=e.showModal,a=e.updateModal,u=e.closeModal;var s=Pr(),c=s.data,f=s.mutateAsync,d=s.isError,p=s.error,h=s.isPending;var v=function(){var t=io(no().mark((function t(e){return no().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:a("import-modal",{currentStep:"progress",progress:0,message:(0,o.__)("Import in progress","tutor")});r.prev=1;r.next=4;return f({data:e});case 4:r.next=10;break;case 6:r.prev=6;r.t0=r["catch"](1);a("import-modal",{currentStep:"error",message:r.t0?(0,et.EL)(r.t0):(0,o.__)("Something went wrong during import. Please try again!","tutor")});return r.abrupt("return");case 10:case"end":return r.stop()}}),t,null,[[1,6]])})));return function e(r){return t.apply(this,arguments)}}();var y=function(){var t=io(no().mark((function t(e){var n;return no().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:n=e[0];if(!(!n||!(n instanceof File))){o.next=3;break}return o.abrupt("return");case 3:r({component:$n,id:"import-modal",props:{files:e,currentStep:"initial",onClose:u,onImport:v}});case 4:case"end":return o.stop()}}),t)})));return function e(r){return t.apply(this,arguments)}}();(0,i.useEffect)((function(){var t=Number(c===null||c===void 0?void 0:c.job_progress);if(d){a("import-modal",{currentStep:"error",message:p?(0,et.EL)(p):(0,o.__)("Something went wrong during import. Please try again!","tutor")})}if(t<100){f({job_id:c===null||c===void 0?void 0:c.job_id})}if(t>0&&t<100){a("import-modal",{currentStep:"progress",progress:t,message:rn(c,"import")})}if(t===100){a("import-modal",{currentStep:"success",progress:100,onClose:function t(){u({action:"CLOSE"})},completedContents:c===null||c===void 0?void 0:c.completed_contents})}}),[c,h,p]);(0,i.useEffect)((function(){var t=function t(e){if(h){e.preventDefault();return}};window.addEventListener("beforeunload",t);return function(){window.removeEventListener("beforeunload",t)}}),[h]);return(0,n.Y)("div",{css:so.wrapper},(0,n.Y)("div",{css:so.title},(0,o.__)("Import","tutor")),(0,n.Y)("div",{css:so.fileUpload},(0,n.Y)("img",{css:so.emptyStateImage,src:eo,alt:"File Upload",width:100,height:100}),(0,n.Y)(Hn,{size:"small",acceptedTypes:[".json"],variant:"secondary",onError:et.lQ,onUpload:y},(0,o.__)("Choose a File","tutor")),(0,n.Y)("div",{css:so.description},(0,o.__)("Supported format: .JSON","tutor"))))};const uo=ao;var so={wrapper:(0,n.AH)(Qt.x.display.flex("column")," gap:",q.YK[12],";"+(true?"":0),true?"":0),title:(0,n.AH)(z.I.body()," color:",q.I6.text.subdued,";"+(true?"":0),true?"":0),fileUpload:(0,n.AH)(Qt.x.display.flex("column")," align-items:center;gap:",q.YK[8],";padding:",q.YK[16]," ",q.YK[24],";padding-block:",q.YK[48],";background-color:",q.I6.background.white,";position:relative;border-radius:",q.Vq.card,";::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:",q.Vq.card,";background-image:linear-gradient(to right, ",q.I6.stroke.border," 50%, rgba(255, 255, 255, 0) 0%),linear-gradient(",q.I6.stroke.border," 50%, rgba(255, 255, 255, 0) 0%),linear-gradient(to right, ",q.I6.stroke.border," 50%, rgba(255, 255, 255, 0) 0%),linear-gradient(",q.I6.stroke.border," 50%, rgba(255, 255, 255, 0) 0%);background-size:10px 1px,1px 10px;background-position:top,right,bottom,left;background-repeat:repeat-x,repeat-y;}"+(true?"":0),true?"":0),emptyStateImage:(0,n.AH)("width:52px;height:auto;",Qt.x.objectFit()," margin-bottom:",q.YK[20],";"+(true?"":0),true?"":0),description:(0,n.AH)(z.I.tiny()," color:",q.I6.text.subdued,";"+(true?"":0),true?"":0)};var lo=function t(){return(0,n.Y)("div",{css:fo.wrapper},(0,n.Y)(uo,null),(0,n.Y)(on,null),(0,n.Y)(bn,null))};const co=lo;var fo={wrapper:(0,n.AH)(Qt.x.display.flex("column"),";gap:",q.YK[20],";padding-bottom:",q.YK[20],";"+(true?"":0),true?"":0)}}}]);