var bfDateFieldsLogicCheck=function(){"use strict";const e=["date","advanced-datetime","datetime-local","time","month","week"];let t="";const n=(e,t,n,a)=>{if(!e)return null;try{switch(t){case"date":case"datetime-local":return new Date(e).getTime();case"advanced-datetime":{const t=r(n,a);return a?.inits?.[t]?.parseDate&&a.inits[t].parseDate(e).getTime(),new Date(e).getTime()}case"time":{const[t,n,r]=e.split(":");return 3600*+t+60*+n+ +(r||0)}case"week":{const[t,n]=e.split("-W");return((e,t)=>{const n=new Date(e,0,4),r=n.getDay()||7,a=new Date(n);return a.setDate(n.getDate()-r+1),a.setDate(a.getDate()+7*(t-1)),a})(+t,+n).getTime()}case"month":{const[t,n]=e.split("-");return 12*+t+ +n-1}default:return e}}catch(t){return console.error("Date normalization error:",t),e}},r=(e,n)=>{const r=((e,t)=>"undefined"!=typeof checkRepeatedField&&checkRepeatedField(e,t))(e,n)?`${e}[${t}]`:e;return n.inits&&!n.inits[r]?e:r};return function(r,a,s,c,i,l){t=l||"";const u=a[r.field]?.type;if(!e.includes(u))return;const o=n(s,u,i,r.field),d=n(c,u,i,r.field);if(console.log("parsedTargetValue",o,"parsedLogicValue",d),null===o)return!1;switch(r.logic){case"change":return!0;case"null":return!s&&0===s.length;case"not_null":return s&&s.length>0}if(null===d||!c)return!1;switch(r.logic){case"equal":return o===d;case"not_equal":return o!==d;case"contain":return((e,t,n,r,a)=>{if(!n)return!1;const s=bfSplit(r,a);let c=0;return s.forEach(e=>{n.length>0&&-1!==n.indexOf(e)&&(c+=1)}),c>0})(0,0,o,c,i);case"greater":return o>d;case"less":return o<d;case"greater_or_equal":return o>=d;case"less_or_equal":return o<=d;case"between":return((e,t,r,a)=>{const s=t[e.field]?.type;let c=a;"string"==typeof a&&(c=JSON.parse(a));const i=n(c.min,s),l=n(c.max,s);return r>=i&&r<=l})(r,a,o,c);default:return}}}();
