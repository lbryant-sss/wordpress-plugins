var ke=Object.defineProperty,He=Object.defineProperties;var Ie=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var me=(l,f,b)=>f in l?ke(l,f,{enumerable:!0,configurable:!0,writable:!0,value:b}):l[f]=b,A=(l,f)=>{for(var b in f||(f={}))Te.call(f,b)&&me(l,b,f[b]);if(oe)for(var b of oe(f))Be.call(f,b)&&me(l,b,f[b]);return l},V=(l,f)=>He(l,Ie(f));import{r as I,g as Re,j as t,ap as qe,i as ze,z as Le,u as Oe,a as Ue,_ as u,I as g,h as o,Q as Ee,bl as Ke,T as _,M as Ze,aJ as Je,aE as Qe,k as Ge,f as j,bC as y}from"./main-509.js";import{u as We}from"./bf-760-79.js";import{D as Xe,B as Ye}from"./bf-469-70.js";import{F as n}from"./bf-477-283.js";import{a as De}from"./bf-98-397.js";import{p as k}from"./bf-98-396.js";import{t as F}from"./bf-220-321.js";import{S as et}from"./bf-832-395.js";import{F as tt,a as st,S as it,A as lt,b as at,H as rt,c as nt,E as dt}from"./bf-84-233.js";import{A as ot}from"./bf-358-284.js";import{E as M}from"./bf-622-389.js";import{F as mt}from"./bf-529-386.js";import{F as pt}from"./bf-103-387.js";import{F as p}from"./bf-946-322.js";import{I as ct}from"./bf-432-398.js";import{P as ut}from"./bf-717-391.js";import{R as gt}from"./bf-522-388.js";import{U as pe}from"./bf-632-393.js";import{S as N}from"./bf-993-252.js";import"./bf-870-113.js";import"./bf-326-110.js";import"./bf-290-247.js";import"./bf-70-248.js";import"./bf-868-250.js";import"./bf-106-86.js";import"./bf-478-88.js";import"./bf-529-249.js";import"./bf-713-251.js";import"./bf-424-253.js";import"./bf-102-254.js";import"./bf-83-255.js";import"./bf-850-87.js";import"./bf-819-256.js";import"./bf-411-78.js";import"./bf-203-271.js";import"./bf-495-80.js";import"./bf-413-105.js";import"./bf-324-281.js";import"./bf-966-282.js";import"./bf-782-325.js";function xt(){var E,K,Z,J,Q,G,W,X,Y,D,ee,te,se,ie,le,ae,re,ne,de;const{fieldKey:l}=Re();if(!l)return t.jsx(t.Fragment,{children:"No field exist with this field key"});const f=qe(Je),[b,T]=I.useState(!1),[x,h]=ze(Qe),e=Le(x[l]),ce=Oe(Ge),P=I.useRef(),v=e.adminLbl||"",ue=e.inputMode||"text",ge=e.defaultValue||"",xe=e.suggestions||[],fe=e!=null&&e.ac?e.ac.trim().split(","):["Off"],he=e.mn||"",ve=e.mx||"",B=e.valid.regexr||"",je=e.valid.flags||"",c=ce.err||{},{css:r}=Ue(),R=s=>s.replace(/\$_bf_\$/g,"\\"),q=s=>s.replace(/\\/g,"$_bf_$"),ye=s=>{if(!g)return;s.target.checked?(e.defaultValue=e.lbl||l,e.defaultValueHide=!0):(e.defaultValueHide=!1,delete e.defaultValue);const i=s.target.checked?"on":"off",a=j(x,m=>{m[l]=e});h(a),y({event:`Default value ${i}: ${e.lbl||v||l}`,type:`${i.toLowerCase()}_defaultValue`,state:{fields:a,fldKey:l}})},be=({target:{value:s}})=>{if(!g)return;s===""?delete e.defaultValue:e.defaultValue=s;const i=j(x,a=>{a[l]=e});h(i),y({event:`Default value updated: ${s||e.lbl||v||l}`,type:"change_defaultValue",state:{fields:i,fldKey:l}})};function $e(s){var a;s.target.value===""?delete e.mn:(e.mn=s.target.value,e.err||(e.err={}),e.err.mn||(e.err.mn={}),e.err.mn.dflt=((a=c[e.typ])==null?void 0:a.mn)||(c==null?void 0:c.mn)||`<p style="margin:0">Minimum number is ${s.target.value}<p>`,e.err.mn.show=!0);const i=j(x,m=>{m[l]=e});h(i),y({event:`Min value updated to ${s.target.value}: ${e.lbl||v||l}`,type:"set_min",state:{fields:i,fldKey:l}})}function we(s){var a;s.target.value===""?delete e.mx:(e.mx=s.target.value,e.err||(e.err={}),e.err.mx||(e.err.mx={}),e.err.mx.dflt=((a=c[e.typ])==null?void 0:a.mx)||(c==null?void 0:c.mx)||`<p style="margin:0">Maximum number is ${s.target.value}</p>`,e.err.mx.show=!0);const i=j(x,m=>{m[l]=e});h(i),y({event:`Max value updated to ${s.target.value}: ${e.lbl||v||l}`,type:"set_max",state:{fields:i,fldKey:l}})}const Fe=s=>{var m;if(!g)return;const{value:i}=s.target;if(i==="")delete e.valid.regexr;else{const d=q(i);e.valid.regexr=d,e.err||(e.err={}),e.err.regexr||(e.err.regexr={});const $=k.find(w=>w.val===d);e.err.regexr.dflt=$?`<p style="margin:0">${$.msg}</p>`:((m=c[e.typ])==null?void 0:m.regexr)||(c==null?void 0:c.regexr)||'<p style="margin:0">Pattern not matched</p>',e.err.regexr.show=!0,e.typ==="password"&&delete e.valid.validations}const a=j(x,d=>{d[l]=e});h(a),y({event:`Regex Pattern updated: ${e.lbl||v||l}`,type:"set_regexr",state:{fields:a,fldKey:l}})},z=s=>{var a,m,d;if((m=(a=P==null?void 0:P.current)==null?void 0:a._tippy)==null||m.hide(),!g)return;if(s==="")delete e.valid.regexr;else{const $=q(s);e.valid.regexr=$,e.err||(e.err={}),e.err.regexr||(e.err.regexr={});const w=k.find(C=>C.val===$);e.err.regexr.dflt=w?`<p style="margin:0">${w.msg}</p>`:((d=c[e.typ])==null?void 0:d.regexr)||(c==null?void 0:c.regexr)||'<p style="margin:0">Pattern not matched</p>',e.err.regexr.show=!0,e.typ==="password"&&delete e.valid.validations}const i=j(x,$=>{$[l]=e});h(i),y({event:`Regex Pattern updated: ${e.lbl||v||l}`,type:"set_regexr",state:{fields:i,fldKey:l}})},Ne=s=>{if(!g)return;s.target.value===""?delete e.valid.flags:e.valid.flags=s.target.value;const i=j(x,a=>{a[l]=e});h(i),y({event:`Regex Pattern Flag updated: ${e.lbl||v||l}`,type:"set_flags",state:{fields:i,fldKey:l}})},L=s=>{var i,a;return`^${s.digit||""}${s.lower||""}${s.upper||""}${s.special||""}.{${((i=s==null?void 0:s.limit)==null?void 0:i.mn)||0},${((a=s==null?void 0:s.limit)==null?void 0:a.mx)||""}}$`},O=s=>`<p style="margin:0">Password must consist at least ${Object.keys(s).map(i=>{if(i==="digit")return"one number";if(i==="lower")return"one lowercase character";if(i==="upper")return"one uppercase character";if(i==="special")return"one special character";if(i==="limit")return`${s.limit.mn}${s.limit.mx?` to ${s.limit.mx}`:""} characters`}).join(", ").replace(/, ([^,]*)$/," and $1")}</p>`,S=s=>{var w;if(!g)return;const{checked:i,name:a,value:m}=s.target;e.err||(e.err={}),e.err.regexr||(e.err.regexr={}),e.valid.validations||(e.valid.validations={});const{validations:d}=e.valid;i?a==="limit"?(d.limit={},d.limit.mn=8,d.limit.mx=32):d[a]=m:delete d[a],e.valid.validations=d,Object.keys(d).length?(e.valid.regexr=L(d),e.err.regexr.dflt=O(d),e.err.regexr.show=!0):(e.err.regexr.dflt=((w=c[e.typ])==null?void 0:w.regexr)||(c==null?void 0:c.regexr)||'<p style="margin:0">Pattern not matched</p>',delete e.valid.regexr,delete e.err.regexr.show);const $=j(x,C=>{C[l]=e});h($),y({event:`Password validation updated: ${e.lbl||v||l}`,type:`set_password_validation_${d}`,state:{fields:$,fldKey:l}})},U=s=>{if(!g)return;const{name:i,value:a}=s.target,{validations:m}=e.valid;a?e.valid.validations.limit[i]=a:delete e.valid.validations.limit[i],e.valid.regexr=L(m),e.err.regexr.dflt=O(m);const d=i==="mx"?"max":"min",$=j(x,w=>{w[l]=e});h($),y({event:`Password ${d} limit updated to ${a}: ${e.lbl||v||l}`,type:`change_password_${d}_limit`,state:{fields:$,fldKey:l}})},Se=()=>{T(!0)},_e=()=>{T(!1)},Pe=s=>{const i=s.split(",");let a="";if(i.length===1)a=s;else{const d=i.length-1;i[d]==="on"?a="on":i[d]==="off"?a="off":i.includes("on")?(i.splice(i.indexOf("on"),1),a=i.join(",")):i.includes("off")?(i.splice(i.indexOf("off"),1),a=i.join(",")):a=s}a?e.ac=a:delete e.ac;const m=j(x,d=>{d[l]=e});h(m),y({event:`Auto Complete updated ${a}: ${e.lbl||v||l}`,type:`change_autoComplete_${s}`,state:{fields:m,fldKey:l}})},Me=({target:{checked:s}})=>{s?e.acHide=!0:delete e.acHide;const i=s?"on":"off",a=j(x,m=>{m[l]=e});h(a),y({event:`Auto Complete  ${i}: ${e.lbl||v||l}`,type:`change_autoComplete_${i}`,state:{fields:a,fldKey:l}})},Ce=({target:{value:s}})=>{s!==""&&(e.inputMode=s);const i=j(x,a=>{a[l]=e});h(i),y({event:`Field Input mode update to ${s}: ${e.lbl||v||l}`,type:"change_input_mode",state:{fields:i,fldKey:l}})},Ae=s=>{e.suggestions=s;const i=j(x,a=>{a[l]=e});h(i),f({unsaved:!0}),y({event:`Suggestion Update: ${e.lbl||v||l}`,type:"suggestion_update",state:{fields:i,fldKey:l}})},Ve=({target:{checked:s}})=>{if(!g)return;s?e.suggestionHide=!0:(e.suggestionHide=!1,delete e.suggestions);const i=s?"on":"off",a=j(x,m=>{m[l]=e});h(a),y({event:`Suggestion ${i}: ${e.lbl||v||l}`,type:`${i.toLowerCase()}_defaultValue`,state:{fields:a,fldKey:l}})};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"",children:[t.jsx(tt,{title:"Field Settings",subtitle:e.typ,fieldKey:l}),t.jsx(st,{}),t.jsx(p,{}),t.jsx(it,{}),t.jsx(p,{}),t.jsx(lt,{}),t.jsx(p,{}),t.jsx(at,{}),t.jsx(p,{}),t.jsx(ct,{}),t.jsx(p,{}),t.jsx(ut,{}),t.jsx(p,{}),t.jsx(rt,{}),t.jsx(p,{}),e.typ!=="password"&&t.jsxs(t.Fragment,{children:[t.jsx(N,V(A({id:"dflt-val-stng",title:u("Default value"),className:r(n.fieldSection,n.hover_tip),switching:!0,tip:F.defaultValue,tipProps:{width:250,icnSize:17},toggleAction:ye,toggleChecked:e==null?void 0:e.defaultValueHide,open:e==null?void 0:e.defaultValueHide},g&&{disable:!(e!=null&&e.defaultValueHide)}),{isPro:!0,proProperty:"defaultValue",children:t.jsx("div",{className:r(n.placeholder),children:t.jsx("input",{"data-testid":"dflt-val-stng-inp","aria-label":"Default value for this Field",placeholder:"Type default value here...",className:r(n.input),type:e.typ==="textarea"?"text":e.typ,value:ge,onChange:be})})})),t.jsx(p,{})]}),["number","date","datetime-local","time","month","week"].includes(e.typ)&&t.jsxs(t.Fragment,{children:[t.jsx(N,{id:"nmbr-stng",title:"Value Range(Min/Max):",className:r(n.fieldSection),children:t.jsxs("div",{className:r({mx:5}),children:[t.jsxs("div",{className:r(n.fieldNumber,{py:"0px !important"}),children:[t.jsx("span",{children:u("Minimum:")}),t.jsx("input",{"data-testid":"nmbr-stng-min-inp",title:"Minimum value for this field","aria-label":"Minimum value for this field",placeholder:"Type minimum value here...",className:r(n.input,n.w140),type:e.typ,value:he,onChange:$e})]}),e.mn&&t.jsx(M,{id:"nmbr-stng-min",type:"mn",title:"Min Error Message",tipTitle:`By enabling this feature, user will see the error message when input value is less than ${e.mn}`}),t.jsxs("div",{className:r(n.fieldNumber,{py:"0px !important"}),children:[t.jsx("span",{children:u("Maximum:")}),t.jsx("input",{"data-testid":"nmbr-stng-max-inp",title:"Maximum value for this field","aria-label":"Maximum value for this field",placeholder:"Type maximun value here...",className:r(n.input,n.w140),type:e.typ,value:ve,onChange:we})]}),e.mx&&t.jsx(M,{id:"nmbr-stng-max",type:"mx",title:"Max Error Message",tipTitle:`By enabling this feature, user will see the error message when input value is greater than ${e.mx}`})]})}),t.jsx(p,{})]}),!(e.typ==="password"||e.typ==="date"||e.typ==="time"||e.typ==="datetime-local"||e.typ==="color"||e.typ==="month"||e.typ==="week"||e.typ==="textarea")&&t.jsxs(t.Fragment,{children:[t.jsx(N,V(A({id:"sgsn-stng",title:u("Suggestion"),className:r(n.fieldSection,n.hover_tip),switching:!0,tip:F.suggestion,tipProps:{width:250,icnSize:17},toggleAction:Ve,toggleChecked:e==null?void 0:e.suggestionHide,open:e==null?void 0:e.suggestionHide},g&&{disable:!(e!=null&&e.suggestionHide)}),{isPro:!0,proProperty:"suggestion",children:t.jsx("div",{className:r(n.placeholder,o.mb1),children:t.jsxs(Ee,{variant:"primary-outline",size:"sm",className:r({mt:10}),onClick:Se,dataTestId:"sgsn-stng-btn",children:[u("Add/Edit Suggestions"),t.jsx("span",{className:r(H.plsIcn),children:t.jsx(Ke,{size:"13",stroke:"4"})})]})})})),t.jsx(p,{}),t.jsx(N,{id:"ato-cmplt",title:u("Auto Complete"),className:r(n.fieldSection,n.hover_tip),switching:!0,tip:F.autoComplete,tipProps:{width:250,icnSize:17},toggleAction:Me,toggleChecked:e==null?void 0:e.acHide,open:e==null?void 0:e.acHide,disable:!e.acHide,children:t.jsx("div",{className:r(n.placeholder),children:t.jsx(We,{"data-testid":"ato-cmplt-slct",defaultValue:fe,className:`${r(n.multiselectInput)} `,placeholder:"Select one",options:De,onChange:s=>Pe(s),disableChip:!0})})}),t.jsx(p,{})]}),e.typ==="text"&&t.jsxs(t.Fragment,{children:[t.jsx(N,{id:"inp-mod-stng",title:u("Input mode"),className:r(n.fieldSection,n.hover_tip),tip:F.inputMode,tipProps:{width:250,icnSize:17},isPro:!0,proProperty:"inputMode",children:t.jsx("div",{className:r(n.placeholder),children:t.jsx("select",{"data-testid":"inp-mod-stng-slct",className:r(n.input),"aria-label":"Input mode for this Field",placeholder:"Type field inpur mode here...",value:ue,onChange:Ce,children:ft.map(s=>t.jsx("option",{value:s,children:s},s))})})}),t.jsx(p,{})]}),e.typ.match(/^(text|url|textarea|password|number|email|username|)$/)&&t.jsxs(t.Fragment,{children:[t.jsx(N,{id:"ptrn-stng",title:u("RegEx Pattern"),className:r(n.fieldSection),isPro:!0,tip:F.pattern,proProperty:"regexPattern",children:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:r(o.mr2,o.mt3,o.pl1),children:[t.jsxs("div",{className:r(o.flxcb,o.ml1),children:[t.jsxs("h4",{className:r(o.m0,n.title),children:[u("Expression"),":"]}),t.jsxs(Xe,{instance:P,children:[t.jsx("button",{"data-testid":"ptrn-stng-exprsn-btn","data-close":!0,type:"button",className:r(H.dotBtn),unselectable:"on",draggable:"false",style:{cursor:"pointer"},title:u("Fields"),children:t.jsx(Ye,{size:"19"})}),t.jsx("div",{children:t.jsx("ul",{role:"menu",children:(E=k)==null?void 0:E.map((s,i)=>t.jsxs("li",{"data-testid":`ptrn-stng-expn-itm-${i}`,role:"menuitem",className:`${r(H.button)} btnHover`,onKeyDown:()=>z(s.val),onClick:()=>z(s.val),children:[t.jsx("span",{children:s.lbl}),t.jsx("br",{}),t.jsx("small",{children:R(s.val)})]},i))})})]})]}),t.jsx(ot,{id:"ptrn-stng-expn",ariaLabel:"Pattern for input field",placeholder:"e.g. ([A-Z])\\w+",list:"patterns",disabled:!g,value:R(B),changeAction:Fe})]}),t.jsx("div",{className:r({mr:5},o.pl1),children:t.jsx(et,{id:"ptrn-stng-flg",inpType:"text",title:u("Flags:"),value:je,action:Ne,placeholder:"e.g. g",cls:r(n.input),disabled:!g})}),B&&t.jsx(M,{id:"ptrn-stng-expn",type:"regexr",title:"Error Message",tipTitle:F.patternsErrMsg})]})}),t.jsx(p,{})]}),t.jsx(gt,{}),t.jsx(p,{}),t.jsx(nt,{}),t.jsx(p,{}),t.jsx(pt,{}),t.jsx(p,{}),t.jsx(mt,{}),t.jsx(p,{}),e.typ.match(/^(url|number|email|)$/)&&t.jsxs(t.Fragment,{children:[t.jsx(N,{id:"nmbr-stng",title:"Invalid Error Message:",className:r(n.fieldSection),children:t.jsx(M,{id:"invalid-err-msg",type:"invalid",title:"Invalid Error Message",tipTitle:"By enabling this feature, user will see the error message when input value is Invalid"})}),t.jsx(p,{})]}),e.typ==="password"&&t.jsxs(t.Fragment,{children:[t.jsx(N,{id:"pass-vldsn-stng",title:u("Validations"),className:r(n.fieldSection),isPro:!0,proProperty:"validation",children:t.jsxs("div",{className:r(o.mt1,o.flxClm),children:[t.jsx(_,{id:"pass-vldsn-stng-dgt",className:r(o.w10),cls:r(o.mr2),name:"digit",checked:((Z=(K=e.valid)==null?void 0:K.validations)==null?void 0:Z.digit)||!1,value:"(?=.*[0-9])",title:u("At least one digit (0-9)"),onChange:S,disabled:!g}),t.jsx(_,{id:"pass-vldsn-stng-lwr",className:r(o.w10,o.mt2),cls:r(o.mr2),name:"lower",checked:((Q=(J=e.valid)==null?void 0:J.validations)==null?void 0:Q.lower)||!1,value:"(?=.*[a-z])",title:u("At least one lowercase character (a-z)"),onChange:S,disabled:!g}),t.jsx(_,{id:"pass-vldsn-stng-upr",className:r(o.w10,o.mt2),cls:r(o.mr2),name:"upper",checked:((W=(G=e.valid)==null?void 0:G.validations)==null?void 0:W.upper)||!1,value:"(?=.*[A-Z])",title:u("At least one uppercase character (A-Z)"),onChange:S,disabled:!g}),t.jsx(_,{id:"pass-vldsn-stng-spcl",className:r(o.w10,o.mt2),cls:r(o.mr2),name:"special",checked:((Y=(X=e.valid)==null?void 0:X.validations)==null?void 0:Y.special)||!1,value:"(?=.*[~!@#$%^&*(){}[$_bf_$]<>+$_bf_$-_=$_bf_$$_bf_$/|;:,.])",title:u("At least one special character (~!@#$%^&*(){}[]<>+-_=/\\|;:,.)"),onChange:S,disabled:!g}),t.jsx(_,{id:"pass-vldsn-stng-lmt",className:r(o.w10,o.mt2),cls:r(o.mr2),name:"limit",checked:((ee=(D=e.valid)==null?void 0:D.validations)==null?void 0:ee.limit)||!1,value:".{8,32}",title:u("Limit Password Length"),onChange:S,disabled:!g}),((se=(te=e.valid)==null?void 0:te.validations)==null?void 0:se.limit)&&t.jsxs("div",{children:[t.jsxs("div",{className:r(n.fieldNumber),children:[t.jsx("span",{children:u("Min:")}),t.jsx("input",{"data-testid":"pass-vldsn-stng-lmt-min-inp",name:"mn","aria-label":"Minimum number for this field",placeholder:"Type minimum number here...",className:r(n.inputNumber),type:"number",value:(ae=(le=(ie=e.valid)==null?void 0:ie.validations)==null?void 0:le.limit)==null?void 0:ae.mn,onChange:U})]}),t.jsxs("div",{className:r(n.fieldNumber),children:[t.jsx("span",{children:u("Max:")}),t.jsx("input",{"data-testid":"pass-vldsn-stng-lmt-max-inp",name:"mx","aria-label":"Maximum number for this field",placeholder:"Type maximum number here...",className:r(n.inputNumber),type:"number",value:(de=(ne=(re=e.valid)==null?void 0:re.validations)==null?void 0:ne.limit)==null?void 0:de.mx,onChange:U})]})]})]})}),t.jsx(p,{})]}),t.jsx("div",{className:"pos-rel",children:e.typ.match(/^(email|username)$/)&&t.jsxs(t.Fragment,{children:[t.jsx(pe,{type:"userUnique",title:"Validate as User Unique",tipTitle:F.userUnique,className:r(n.fieldSection,n.hover_tip),isUnique:"show"}),t.jsx(p,{})]})}),e.typ.match(/^(text|url|textarea|password|number|email|color|date|username|)$/)&&t.jsxs(t.Fragment,{children:[t.jsx(pe,{type:"entryUnique",title:"Unique Entry",tipTitle:F.uniqueEntry,className:r(n.fieldSection,n.hover_tip),isUnique:"show"}),t.jsx(p,{})]})]}),t.jsx(Ze,{md:!0,autoHeight:!0,show:b,setModal:_e,className:"o-v",title:u("Suggestion"),children:t.jsx("div",{className:"pos-rel",children:t.jsx(dt,{optionMdl:b,options:xe,setOptions:s=>Ae(s),lblKey:"lbl",valKey:"val",checkByDefault:!1})})})]})}var ls=I.memo(xt);const ft=["none","text","decimal","numeric","tel","search","email","url"],H={dotBtn:{b:0,brs:5,mr:15,curp:1},button:{dy:"block",w:"100%",ta:"left",b:0,bd:"none",p:3,curp:1,"&:hover":{bd:"var(--white-0-95)",cr:"var(--black-0)",brs:8},fs:11},plsIcn:{ml:8,mt:3,tm:"rotate(45deg)"}};export{ls as default};
