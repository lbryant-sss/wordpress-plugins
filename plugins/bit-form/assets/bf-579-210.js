var k=Object.defineProperty;var g=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(e,a,o)=>a in e?k(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,c=(e,a)=>{for(var o in a||(a={}))V.call(a,o)&&y(e,o,a[o]);if(g)for(var o of g(a))P.call(a,o)&&y(e,o,a[o]);return e};import{c as _,V as M,_ as m,u as $,j as n,bo as w,W as S,$ as B}from"./main-559.js";import{i as O}from"./bf-669-79.js";import{M as q}from"./bf-574-113.js";import{B as A}from"./bf-472-172.js";const E=(e,a,o,s)=>{const t=c({},o);t[e].splice(a,0,{}),s(c({},t))},G=(e,a,o)=>{const s=_({post_type:e==null?void 0:e.post_type},"bitforms_get_metabox_fields").then(t=>{var i,p,r,u;return t!==void 0&&t.success&&((i=t==null?void 0:t.data)!=null&&i.metaboxFields&&a(t.data.metaboxFields),(p=t==null?void 0:t.data)!=null&&p.metaboxFile&&o(t.data.metaboxFile)),((r=t==null?void 0:t.data)==null?void 0:r.metaboxFields.length)!==0||((u=t==null?void 0:t.data)==null?void 0:u.metaboxFile.length)!==0?"Successfully refresh MetaBox Fields.":"MetaBox Fields not found"});M.promise(s,{success:t=>t,error:m("Error Occured"),loading:m("Loading MetaBox Fields...")})},I=(e,a,o,s)=>{const t=c({},o);t[e].length>1&&t[e].splice(a,1),s(c({},t))},j=(e,a,o,s,t)=>{const i=c({},s);i[e][o][a.target.name]=a.target.value,t(c({},i))},W=e=>!((e!=null&&e.post_map?e.post_map.filter(o=>!o.formField&&o.postField&&o.required):[]).length>0),H=e=>!((e!=null&&e.metabox_map?e.metabox_map.filter(o=>!o.formField&&o.acfField&&o.required):[]).length>0),J=(e,a)=>{const o=_({},"bitforms_get_post_type").then(s=>{var t,i,p;if(s&&s.success){let r=c({},e);return(t=s==null?void 0:s.data)!=null&&t.post_types&&(r=Object.values((i=s==null?void 0:s.data)==null?void 0:i.post_types),a(r)),((p=s==null?void 0:s.data)==null?void 0:p.post_types.length)!==0?"Successfully refresh Post Types.":" Post Types not found"}});M.promise(o,{success:s=>s,error:m("Error Occured"),loading:m("Loading Post Types...")})};function K({i:e,type:a,formFields:o,field:s,dataConf:t,setDataConf:i,customFields:p,fieldType:r}){var f;const u=$(B),{isPro:h}=u,N={metabox:{propName:"metabox_map",fldName:"metaboxField"},post:{propName:"post_map",fldName:"postField"},metaboxFile:{propName:"metabox_file_map",fldName:"metaboxFileUpload"}},{propName:d,fldName:x}=N[a],v=(l,T)=>{const F=c({},t);F[d][T].customValue=l.target.value,i(F)},b=!!p.find(l=>l.key===s[x]&&l.required);return n.jsxs("div",{className:"flx mt-2 mr-1",children:[n.jsxs("div",{className:"flx integ-fld-wrp",children:[n.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:s.formField||"",onChange:l=>j(d,l,e,t,i),children:[n.jsx("option",{value:"",children:m("Select Field")}),a!=="metaboxFile"?n.jsxs(n.Fragment,{children:[n.jsx(A,{formFields:o,notAllowFieldType:["file-up"]}),n.jsx("option",{value:"custom",children:m("Custom...")})]}):n.jsx("optgroup",{label:"Form Fields",children:o.map(l=>w.includes(l.type)&&n.jsx("option",{value:l.key,children:l.name},`ff-zhcrm-${l.key}`))}),r!=="file"&&n.jsx("optgroup",{label:`General Smart Codes ${h?"":"(PRO)"}`,children:h&&((f=O)==null?void 0:f.map(l=>n.jsx("option",{value:l.name,children:l.label},`ff-rm-${l.name}`)))})]}),s.formField==="custom"&&n.jsx(q,{onChange:l=>v(l,e),label:m("Custom Value"),className:"mr-2",type:"text",value:s.customValue,placeholder:m("Custom Value")}),n.jsxs("select",{className:"btcd-paper-inp",name:x,value:s[x]||"",onChange:l=>j(d,l,e,t,i),disabled:b,children:[n.jsx("option",{value:"",children:m("Select Field")}),p==null?void 0:p.map(l=>n.jsx("option",{value:l.key,children:`${l.name}`},`${l.name}-1`))]})]}),!b&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>E(d,e,t,i),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),n.jsx("button",{onClick:()=>I(d,e,t,i),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:n.jsx(S,{size:"15"})})]})]})}export{K as F,E as a,G as b,W as c,H as d,J as r};
