var _e=Object.defineProperty,Ne=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var pe=(t,s,i)=>s in t?_e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i,E=(t,s)=>{for(var i in s||(s={}))Se.call(s,i)&&pe(t,i,s[i]);if(he)for(var i of he(s))Te.call(s,i)&&pe(t,i,s[i]);return t},V=(t,s)=>Ne(t,Be(s));import{a as G,j as e,h as ke,r as F,i as O,ap as re,cD as Ce,f as R,_ as c,W as I,ek as Z,eu as D,g as M,u as k,ev as L,J as ce,m as te,I as Fe,M as de,ay as ze,F as $e,c as xe,e as Me,Q as ae,L as Le,V as He,bq as We,ej as Ae}from"./main-509.js";import{T as Ee,a as Re,b as fe,c as ge,B as Ve,d as Ie}from"./bf-760-79.js";import{D as Je,p as Ue}from"./bf-469-70.js";import{F as v}from"./bf-477-283.js";import{F as T,I as Ke}from"./bf-946-322.js";import{a as Oe,S as me,B as Pe,A as J}from"./bf-768-379.js";import{C as Ge,T as qe,a as Qe,b as Xe,c as we,S as le,d as Ye}from"./bf-993-252.js";import{a as Ze,s as De}from"./bf-208-289.js";import{S as ie,G as se}from"./bf-868-250.js";import{C as je}from"./bf-89-378.js";import{u as et}from"./bf-411-78.js";import{C as tt}from"./bf-915-376.js";import st from"./bf-371-243.js";import{O as nt}from"./bf-290-247.js";import"./bf-870-113.js";import"./bf-106-86.js";import"./bf-478-88.js";import"./bf-529-249.js";import"./bf-70-248.js";import"./bf-424-253.js";import"./bf-850-87.js";import"./bf-753-290.js";import"./bf-227-183.js";import"./bf-225-324.js";import"./bf-782-325.js";import"./bf-753-277.js";import"./bf-536-278.js";import"./bf-495-80.js";function ve({value:t,id:s,onChangeHandler:i}){const{css:a}=G();return e.jsx("div",{className:a(ke.flxc,{cg:3}),children:e.jsx("div",{title:t||"Configure",className:a(ye.preview_wrp),children:e.jsxs(Je,{onShow:()=>{},onHide:()=>{},children:[e.jsx("button",{onClick:"usjk",type:"button",className:a(ye.pickrBtn),"data-testid":`${s}-modal-btn`,children:t||"Configure"}),e.jsx(Oe,{value:t,className:a({p:5}),onChangeHandler:i})]})})})}const ye={preview_wrp:{bd:"var(--white-0-95)",w:130,mnw:130,brs:10,p:7,pr:"3px !important",flx:"center-between",h:30,":hover":{bs:"0 0 0 1px var(--white-0-83)"}},preview:{w:25,h:25,b:"1px solid gray",brs:7,curp:1,mr:7},clearBtn:{brs:"50%",p:4,w:17,h:17,b:"none",flx:"center",bd:"transparent",cr:"var(--white-0-50)",curp:1,":hover":{cr:"var(--black-0)",bd:"#d3d1d1"}},pickrBtn:{b:"none",curp:1,bd:"transparent",ws:"nowrap",to:"ellipsis",p:0,h:28,w:94,dy:"block",ow:"hidden",ta:"start"},clrVal:{w:90,ws:"nowrap",textOverflow:"ellipsis",ta:"left",ow:"hidden"},active:{focusShadow:1}},at={caption:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"},tableWrp:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"},table:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px",width:""},tHead:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"},oddRow:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"},evenRow:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"},editBtn:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"},viewBtn:{background:{"background-color":!0},border:{"border-style":!0,"border-color":!0,"border-width":!0,"border-radius":!0},color:"","font-size":"","font-weight":"","font-style":"","text-align":"",margin:"5px",padding:"5px"}};var lt=at;function U({styleLayer:t,clsNameKey:s,states:i}){var q,Q,A;const[a,u]=F.useState(s),w=lt[t],[W,d]=O(Z),{css:l}=G(),o=(q=W.table_styles.style)==null?void 0:q[a],j=Object.keys(o||{}),[y,C]=F.useState(""),m=re(D),$=[{label:"Default",icn:"Default",show:["icn"],tip:"Default Style"}];i&&((Q=Object.keys(i))==null||Q.map(n=>{const p=n?Ce(n):"Default";$.push({label:p,icn:p,show:["icn"],tip:`${p} Style`})}));const h=n=>{n==="Default"?(C(""),u(s)):(C(n),u(`${s}${i[n]}`))};Object.entries(w||{}).forEach(([n,p])=>{typeof p=="object"&&!(j!=null&&j.includes(n))&&Object.keys(p).find(b=>j.includes(b))&&j.push(n)});const B=Object.keys(w).filter(n=>!j.includes(n)),P=n=>{d(p=>R(p,b=>{b.table_styles.style[a][n]=""})),m(p=>V(E({},p),{unsaved:!0}))},r=(n,p)=>{d(b=>R(b,K=>{K.table_styles.style[a][n]=p})),m(b=>V(E({},b),{unsaved:!0}))},S=n=>{d(p=>R(p,b=>{Object.keys(n).forEach(K=>{b.table_styles.style[a][K]=n[K]})}))},g=n=>()=>{d(p=>R(p,b=>{delete b.table_styles.style[a][n]}))},z=n=>{const p={};switch(n==="border"&&(p["border-style"]=o==null?void 0:o["border-style"],p["border-color"]=o==null?void 0:o["border-color"],p["border-width"]=o==null?void 0:o["border-width"],p["border-radius"]=o==null?void 0:o["border-radius"]),n){case"background":case"background-color":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Background color")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(je,{id:"caption",allowImage:!1,allowVariable:!1,allowGradient:!1,value:(o==null?void 0:o[n])||"",onChangeHandler:b=>r(n,b.color)}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"color":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Color")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(je,{allowImage:!1,allowVariable:!1,allowGradient:!1,id:"caption",value:o==null?void 0:o[n],onChangeHandler:b=>r(n,b.color)}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"margin":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Margin")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(ve,{id:"Margin",value:o==null?void 0:o[n],onChangeHandler:b=>r(n,b)}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"padding":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Padding")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(ve,{id:"padding",value:o==null?void 0:o[n],onChangeHandler:b=>r(n,b)}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"font-weight":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Font Weight")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(we,{options:De,value:String(o==null?void 0:o[n]),onChange:b=>r(n,b),w:130,h:30,id:"fld-font-weight"}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"font-style":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Font Style")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(we,{options:Ze,value:String(o==null?void 0:o[n]),onChange:b=>r(n,b),w:130,h:30,id:"fld-font-style"}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"text-align":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Text Align")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(ie,{className:l({w:130}),show:["icn"],tipPlace:"bottom",options:[{icn:e.jsx(qe,{size:"17"}),label:"left",tip:"Left"},{icn:e.jsx(Qe,{size:"17"}),label:"center",tip:"Center"},{icn:e.jsx(Xe,{size:"17"}),label:"right",tip:"Right"}],onChange:b=>r(n,b),defaultActive:(o==null?void 0:o[n])||"left"}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"border":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Border")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(Pe,{value:p,onChangeHandler:b=>S(b)}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"font-size":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Font Size")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(me,{className:l({w:130}),onChangeHandler:b=>r(n,b),value:o==null?void 0:o[n],width:"128px",dataTestId:"fld-font-size",sliderWidth:"200px"}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]});case"width":return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:c("Width")}),e.jsxs("div",{className:l({flx:"center-between"}),children:[e.jsx(me,{className:l({w:130}),onChangeHandler:b=>r(n,b),value:o==null?void 0:o[n],width:"128px",dataTestId:"table-width",sliderWidth:"200px"}),e.jsx("button",{type:"button",onClick:g(n),className:`${l(H.propsDelBtn)} delete-btn`,children:e.jsx(I,{size:"20"})})]})]})}};return e.jsxs(e.Fragment,{children:[$.length>1&&e.jsx(ie,{square:!0,noShadow:!0,defaultActive:"Default",options:$,size:60,component:"button",onChange:n=>h(n),show:["icn"],variant:"lightgray",width:"100%",wideTab:!0}),e.jsx(se,{overflw:"",open:y.toLowerCase()==="",children:j.map((n,p)=>{const b=z(n);return b?e.jsx("div",{className:l(H.main),children:b},`css-prop-${p*5}`):null})}),i&&((A=Object.keys(i))==null?void 0:A.map((n,p)=>e.jsx(se,{overflw:"",open:y.toLowerCase()===n.toLowerCase(),children:j.map((b,K)=>z(b)?e.jsx("div",{className:l(H.main),children:z(b)},`css-prop-${K*5}`):null)},`css-prop-${p*5}`))),B.length>0&&e.jsx(Ge,{id:"individual-style",properties:B,setProperty:n=>P(n)})]})}const H={main:{flx:"center-between",p:"5px 15px","&:hover .delete-btn":{tm:"scale(1)"}},propsDelBtn:{se:20,flx:"center",b:"none",p:0,mr:1,tn:".2s all",curp:1,brs:"50%",ml:10,tm:"scale(0)",bd:"none",cr:"var(--red-100-61)",lt:-15,":hover":{bd:"#ffd0d0",cr:"#460000"}}};function ot(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl-caption`;return e.jsx(J,{title:c("Caption"),children:e.jsx(U,{styleLayer:"caption",clsNameKey:u})})}function it(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-thead`;return e.jsx(J,{title:c("Column Header"),children:e.jsx(U,{styleLayer:"tHead",clsNameKey:u})})}function rt(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl-edit-btn`,w={Hover:":hover",Focus:":focus","Focus visible":":focus-visible"};return e.jsx(J,{title:c("Edit Button"),children:e.jsx(U,{styleLayer:"editBtn",clsNameKey:u,states:w})})}function ct(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl-pgn-slt`,w={Hover:":hover",focus:":focus","Focus visible":":focus-visible"};return e.jsx(J,{title:c("Page Select Box"),children:e.jsx(U,{styleLayer:"viewBtn",clsNameKey:u,states:w})})}function dt(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-pgn-btn`,w={Hover:":hover",Focus:":focus","Focus visible":":focus-visible"};return e.jsx(J,{title:c("Pagination Button"),children:e.jsx(U,{styleLayer:"viewBtn",clsNameKey:u,states:w})})}function bt(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-serc-bx`,w={Focus:":focus","Focus visible":":focus-visible"};return e.jsx(J,{title:c("Search Box"),children:e.jsx(U,{styleLayer:"viewBtn",clsNameKey:u,states:w})})}function ut(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl`;return e.jsx(J,{title:c("Table"),children:e.jsx(U,{styleLayer:"table",clsNameKey:u})})}function ht(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl tr`,w={Hover:":hover","Nth child even":":nth-child(even)","Nth child odd":":nth-child(odd)"};return e.jsx(J,{title:c("Table Rows"),children:e.jsx(U,{styleLayer:"caption",clsNameKey:u,states:w})})}function pt(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl-wrp`;return e.jsx(J,{title:c("Table Wrapper"),children:e.jsx(U,{styleLayer:"tableWrp",clsNameKey:u})})}function xt(){const{formID:t,viewId:s}=M(),i=k(L),u=`.bf${t}-${s==="new"?i:s}-tbl-view-btn`,w={Hover:":hover",Focus:":focus","Focus visible":":focus-visible"};return e.jsx(J,{title:c("View Button"),children:e.jsx(U,{styleLayer:"viewBtn",clsNameKey:u,states:w})})}function ft(){const{css:t}=G();return e.jsxs("div",{className:t(gt.main),children:[e.jsx(T,{}),e.jsx(pt,{}),e.jsx(T,{}),e.jsx(ot,{}),e.jsx(T,{}),e.jsx(bt,{}),e.jsx(T,{}),e.jsx(ut,{}),e.jsx(T,{}),e.jsx(it,{}),e.jsx(T,{}),e.jsx(ht,{}),e.jsx(T,{}),e.jsx(rt,{}),e.jsx(T,{}),e.jsx(xt,{}),e.jsx(T,{}),e.jsx(dt,{}),e.jsx(T,{}),e.jsx(ct,{}),e.jsx(T,{})]})}const gt={main:{mxh:"73vh",owy:"auto"}};function mt({clmItem:t,index:s}){const{css:i}=G(),{thead:a,fk:u,w}=t,[W,d]=O(Z),l=k(ce),o=W.table_config.columnsMap.length,j=re(D),y=m=>{const $=[...W.table_config.columnsMap];m==="add"&&$.splice(s+1,0,{thead:"header name",fk:"",w:"10%"}),m==="remove"&&$.splice(s,1);const h=R(W,B=>{B.table_config.columnsMap=[...$]});d(E({},h)),j(B=>V(E({},B),{unsaved:!0}))},C=(m,$)=>{d(h=>R(h,B=>{B.table_config.columnsMap[s][m]=$})),j(h=>V(E({},h),{unsaved:!0}))};return e.jsxs("div",{className:i(oe.fldMapRow),children:[e.jsxs("div",{className:i({flx:"center-between",gp:5}),children:[e.jsx("input",{className:i(v.input),type:"text","aria-label":"Table head title",placeholder:"Table head title",value:a,name:"thead",onChange:m=>C(m.target.name,m.target.value)}),e.jsx("input",{className:i(v.input),type:"text","aria-label":"Table head title",placeholder:"Table head title",value:w,name:"w",onChange:m=>C(m.target.name,m.target.value)}),e.jsx(tt,{value:u,onChange:m=>C("fk",m),formFields:l})]}),e.jsxs("div",{className:i({flx:"center-between",gp:5}),children:[e.jsx("button",{type:"button",className:i(oe.btn),onClick:()=>y("add"),children:"+"}),e.jsx("button",{type:"button",className:i(oe.btn),onClick:()=>y("remove"),style:{visibility:o>1?"visible":"hidden"},children:"-"})]})]})}const oe={fldMapRow:{flx:"center-between",gp:10},btn:{b:"1px solid rgb(230, 230, 230) !important",cur:"pointer",brs:"50%","&:hover":{bd:"var(--b-79-96)"}}};function wt(){var m,$,h,B,P;const{css:t}=G(),[s,i]=F.useState([]),[a,u]=O(Z),w=re(D),W=((m=a==null?void 0:a.table_config)==null?void 0:m.caption)||"",d=(($=a==null?void 0:a.table_config)==null?void 0:$.actionsBtn.editButton)||"",l=((h=a==null?void 0:a.table_config)==null?void 0:h.actionsBtn.viewButton)||"",o=((B=a==null?void 0:a.table_config)==null?void 0:B.actionsBtn.head)||"",j=(P=a==null?void 0:a.table_config)==null?void 0:P.columnsMap;et("bitforms_get_all_wp_pages",{},{fetchCondition:Fe,onSuccess:r=>i(r)});const y=(r,S)=>{u(g=>R(g,z=>{te(z,r,S)})),w(g=>V(E({},g),{unsaved:!0}))},C=(r,S)=>{u(g=>R(g,z=>{S?te(z,r,!0):te(z,r,!1)})),w(g=>V(E({},g),{unsaved:!0}))};return e.jsxs("div",{className:t(x.main),children:[e.jsx(T,{}),e.jsxs("div",{className:t(x.caption),children:[e.jsx("span",{className:t(x.toolTitle,{w:180}),children:c("Table Caption")}),e.jsx("input",{"data-testid":"nam-stng-inp","aria-label":"Table Caption",placeholder:"Table Caption",className:t(v.input),value:W,onChange:r=>y("table_config->caption",r.target.value)})]}),e.jsx(T,{}),e.jsxs("div",{className:t(x.section),children:[e.jsx("span",{className:t(x.toolTitle),children:c("Column Mapping")}),e.jsx("div",{className:t(x.fldMapRow),children:e.jsxs("div",{className:t(x.colMapTitleWrp),children:[e.jsx("span",{className:t(x.colMapTitle),children:c("Column Header")}),e.jsx("span",{className:t(x.colMapTitle),children:c("Column Width")}),e.jsx("span",{className:t(x.colMapTitle),children:c("Form Field")})]})}),e.jsx("div",{className:t(x.fldMap),children:j==null?void 0:j.map((r,S)=>e.jsx(F.Fragment,{children:e.jsx(mt,{index:S,clmItem:r})},`map-field-${S+1}`))})]}),e.jsx(T,{}),e.jsxs(le,{id:"table-head-button",title:c("Action Column"),className:t(v.fieldSection,v.hover_tip),switching:!0,tipProps:{width:250,icnSize:17},toggleAction:({target:{checked:r}})=>C("table_config->actionsBtn->head->show",r),toggleChecked:o==null?void 0:o.show,disable:!(o!=null&&o.show),open:o==null?void 0:o.show,children:[e.jsxs("div",{className:t(v.placeholder,x.headTitlSec),children:[e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:c("Column Title")}),e.jsx("input",{"data-testid":"Table=action-title-header","aria-label":"Table action title header",placeholder:"Table action title header",className:t(v.input),value:o.thead,onChange:r=>y("table_config->actionsBtn->head->thead",r.target.value)})]}),e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:c("Column Width")}),e.jsx("input",{"data-testid":"nam-stng-inp","aria-label":"header width",placeholder:"Header Width",className:t(v.input),value:o.w,onChange:r=>y("table_config->actionsBtn->head->w",r.target.value)})]})]}),e.jsx(T,{}),e.jsx(le,{id:"table-edit-button",title:c("Edit Button"),className:t(v.fieldSection,v.hover_tip),switching:!0,tipProps:{width:250,icnSize:17},toggleAction:({target:{checked:r}})=>C("table_config->actionsBtn->editButton->show",r),toggleChecked:d==null?void 0:d.show,disable:!(d!=null&&d.show),open:d==null?void 0:d.show,children:e.jsxs("div",{className:t(v.placeholder),children:[e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:c("Redirect Page")}),e.jsxs("select",{"aria-label":"Redirect page for redirect",className:t(v.input),value:d.slug,onChange:r=>y("table_config->actionsBtn->editButton->slug",r.target.value),name:"",id:"edit","data-testid":"edit-button-slug",children:[e.jsx("option",{value:"custom",children:c("Custom Page")}),s&&s.map((r,S)=>e.jsx("option",{value:r.url,children:r.title},`r-url-${S+22}`))]})]}),e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:"Redirect Link"}),e.jsx("input",{"data-testid":"edit-button-slug-txt","aria-label":"Edit button slug",placeholder:"Edit button slug",className:t(v.input,{mb:5}),value:d.slug,onChange:r=>y("table_config->actionsBtn->editButton->slug",r.target.value)})]}),e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:"Button Text"}),e.jsx("input",{"data-testid":"edit-button-txt","aria-label":"Edit button text",placeholder:"Edit button text",className:t(v.input),value:d.btnTxt,onChange:r=>y("table_config->actionsBtn->editButton->btnTxt",r.target.value)})]})]})}),e.jsx(T,{}),e.jsx(le,{id:"table-view-button",title:c("View Button"),className:t(v.fieldSection,v.hover_tip),switching:!0,tipProps:{width:250,icnSize:17},toggleAction:({target:{checked:r}})=>C("table_config->actionsBtn->viewButton->show",r),toggleChecked:l.show,open:l.show,disable:!(l!=null&&l.show),children:e.jsxs("div",{className:t(v.placeholder),children:[e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:c("Redirect Page")}),e.jsxs("select",{"aria-label":"Redirect page for redirect",className:t(v.input),value:l.slug,onChange:r=>y("table_config->actionsBtn->viewButton->slug",r.target.value),name:"",id:"edit","data-testid":"edit-button-slug",children:[e.jsx("option",{value:"custom",children:c("Custom Page")}),s&&s.map((r,S)=>e.jsx("option",{value:r.url,children:r.title},`r-url-${S+22}`))]})]}),e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:c("Redirect Link")}),e.jsx("input",{"data-testid":"view-button-slug","aria-label":"View button slug",placeholder:"View button slug",className:t(v.input),value:l.slug,onChange:r=>y("table_config->actionsBtn->viewButton->slug",r.target.value)})]}),e.jsxs("div",{className:t(x.rowWrp),children:[e.jsx("span",{className:t(x.rowLabel),children:c("Button Text")}),e.jsx("input",{"data-testid":"view-button-txt","aria-label":"View button Text",placeholder:"View button Text",className:t(v.input),value:l.btnTxt,onChange:r=>y("table_config->actionsBtn->viewButton->btnTxt",r.target.value)})]})]})})]}),e.jsx(T,{})]})}const x={main:{mxh:"73vh",owy:"auto"},titleSec:{flx:"center-between"},section:{p:10},caption:{flx:"jc",p:"5px 10px"},fldMap:{pl:8},toolTitle:{fw:700,my:10,pb:5,pt:5,pl:5},fldMapRow:{flx:"center-between",gp:10,pl:8},downmenuinput:{w:"100% !important",fs:12},rowWrp:{flx:"between",ai:"center"},rowLabel:{w:155,mt:5,fw:400},colMapTitleWrp:{w:"100%",fw:400,mt:10,p:"0px 5px"},colMapTitle:{w:"32%",dy:"inline-block"},headTitlSec:{mx:14,mb:15},headTitl:{mt:10,fw:500}};function jt(){G(),M(),k(L);const[t,s]=F.useState(!1),[i,a]=F.useState("");return e.jsxs(e.Fragment,{children:[e.jsxs(Ee,{selectedTabClassName:"s-t-l-active",children:[e.jsxs(Re,{className:"flx m-0",children:[e.jsx(fe,{className:"btcd-s-tab-link",children:e.jsx("b",{children:c("Setting")})}),e.jsx(fe,{className:"btcd-s-tab-link",children:e.jsx("b",{children:c("Style")})})]}),e.jsx(ge,{children:e.jsx(wt,{})}),e.jsx(ge,{children:e.jsx(ft,{})})]}),e.jsxs(de,{md:!0,autoHeight:!0,show:t,setModal:s,className:"o-v",title:c("Icons"),children:[e.jsx("div",{className:"pos-rel"}),e.jsx(Ke,{iconType:i,setModal:s})]})]})}function vt(){var a;const t=k(Z),s=((a=t==null?void 0:t.table_styles)==null?void 0:a.style)||{},i=ze(s);return e.jsx("style",{children:i})}function yt(){var S,g,z,q,Q;const{css:t}=G();F.useState(!1);const[s,i]=O(Z),[a,u]=F.useState("Builder Settings");O(D);const[w,W]=F.useState(!1);F.useState(!1),k(ce);const d=k(L),{formID:l,viewId:o}=M();$e(),s.table_name;const j=((S=s==null?void 0:s.table_config)==null?void 0:S.columnsMap)||[],y=((g=s==null?void 0:s.table_config)==null?void 0:g.caption)||"",C=(z=s==null?void 0:s.table_config)==null?void 0:z.actionsBtn.viewButton,m=(q=s==null?void 0:s.table_config)==null?void 0:q.actionsBtn.editButton,$=(Q=s==null?void 0:s.table_config)==null?void 0:Q.actionsBtn.head;let h=o;o==="new"&&(h=d);const B=()=>($==null?void 0:$.show)===!0?e.jsx("th",{width:$.w,children:$.thead}):!1,P=()=>{if(C.show)return e.jsx("button",{type:"button",className:`bf${l}-${h}-tbl-view-btn`,children:C.btnTxt})},r=()=>{if(m.show)return e.jsx("button",{type:"button",className:`bf${l}-${h}-tbl-edit-btn`,children:m.btnTxt})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:t($t.builder),children:[e.jsx(vt,{}),e.jsxs("div",{className:`bf${l}-${h}-tbl-wrp`,children:[y&&e.jsx("div",{className:`bf${l}-${h}-tbl-caption`,children:y}),e.jsx("div",{className:`bf${l}-${h}-tbl-top-bar`,children:e.jsxs("label",{"aria-label":"search-bar",htmlFor:"search-box",children:["Search",e.jsx("input",{id:"search-box",className:`bf${l}-${h}-serc-bx`,type:"text",name:"search"})]})}),e.jsxs("table",{className:`bf${l}-${h}-tbl`,children:[e.jsx("thead",{className:`bf${l}-${h}-thead`,children:e.jsxs("tr",{children:[j.map(A=>e.jsx("th",{width:A==null?void 0:A.w,children:A.thead})),B()]})}),e.jsx("tbody",{className:`bf${l}-${h}-tbody`,children:Array(4).fill().map(()=>e.jsxs("tr",{children:[j.map(A=>e.jsx("td",{width:A.w,children:"Data Cell"})),B()&&e.jsx("td",{children:e.jsxs("div",{className:`bf${l}-${h}-tbl-action-btns`,children:[r(),P()]})})]}))})]}),e.jsxs("div",{className:`bf${l}-${h}-tbl-footer`,children:[e.jsx("span",{children:"Total Response 100"}),e.jsxs("div",{className:"pgn",children:[e.jsx("button",{className:`bf${l}-${h}-pgn-btn`,type:"button",children:"«"}),e.jsx("button",{className:`bf${l}-${h}-pgn-btn`,type:"button",children:"‹"}),e.jsx("button",{className:`bf${l}-${h}-pgn-btn`,type:"button",children:"›"}),e.jsx("button",{className:`bf${l}-${h}-pgn-btn`,type:"button",children:"»"}),e.jsx("span",{children:"Page 1 of 10"}),e.jsxs("select",{className:`bf${l}-${h}-tbl-pgn-slt`,name:"limit",id:"limit",children:[e.jsx("option",{value:"",children:"10"}),e.jsx("option",{value:"",children:"20"}),e.jsx("option",{value:"",children:"30"})]})]})]})]})]}),e.jsxs(de,{md:!0,autoHeight:!0,show:w,setModal:W,className:"o-v",title:e.jsx("div",{className:t(nt.modalTitleBar),children:e.jsx(ie,{width:300,wideTab:!0,tipPlace:"bottom",defaultActive:a,onChange:u,options:[{label:"Builder Settings"},{label:"Custom Code"}]})}),closeOnOutsideClick:!1,children:[e.jsx(se,{open:a==="Builder Settings",children:e.jsx(Ye,{})}),e.jsx(se,{open:a==="Custom Code",children:e.jsx(st,{})})]})]})}const $t={topSection:{flx:"center-between",bb:"0.5px solid var(--white-0-83)",p:"8px"},builder:{p:10},settingBtn:{mr:10,"&:hover":{cr:"var(--b-50)"}}};function _t({formID:t,tblID:s}){return{[`.bf${t}-${s}-tbl-wrp`]:{padding:"10px",color:"#525252","font-family":"sans-serif"},[`.bf${t}-${s}-tbl`]:{"overflow-x":"auto","border-width":"1px","border-style":"solid","border-color":"#e5e5e5","border-radius":"8px","border-collapse":"separate","border-spacing":0,width:"100%"},[`.bf${t}-${s}-tbl::-webkit-scrollbar`]:{height:"8px"},[`.bf${t}-${s}-tbl::-webkit-scrollbar-thumb`]:{background:" #007bff","border-radius":"40px"},[`.bf${t}-${s}-tbl::-webkit-scrollbar-track`]:{background:"#ffffff","border-radius":"40px"},[`.bf${t}-${s}-tbl-caption`]:{"font-size":"20px",padding:"20px","font-weight":700,"text-align":"center"},[`.bf${t}-${s}-tbl tr`]:{},[`.bf${t}-${s}-tbl tr:hover`]:{background:"#eef4fb"},[`.bf${t}-${s}-tbl tr:nth-child(even)`]:{background:"#eef4fb"},[`.bf${t}-${s}-tbl tr:nth-child(odd)`]:{},[`.bf${t}-${s}-tbl tr:last-child td`]:{"border-bottom":"none"},[`.bf${t}-${s}-tbl th,.bf${t}-${s}-tbl td`]:{padding:"10px","border-bottom":"1px solid #e5e5e5"},[`.bf${t}-${s}-thead`]:{color:"#5e5e5e"},[`.bf${t}-${s}-tbl-edit-btn`]:{color:"#fff","background-color":"#007bff","border-color":"#007bff","font-weight":400,"text-align":"center","border-style":"solid","border-width":"1px",padding:"5px 12px","font-size":"1rem","border-radius":"5px",transition:"color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out",cursor:"pointer","text-decoration":"none"},[`.bf${t}-${s}-tbl-edit-btn:hover`]:{color:"#fff !important","background-color":"#0069d9","border-color":"#0062cc"},[`.bf${t}-${s}-tbl-edit-btn:focus-visible`]:{outline:0,"box-shadow":"0 0 0 0.2rem rgba(0, 123, 255, 0.25)"},[`.bf${t}-${s}-tbl-edit-btn:focus`]:{outline:0,"box-shadow":" 0 0 0 0.2rem rgba(0, 123, 255, 0.25)"},[`.bf${t}-${s}-tbl-view-btn`]:{color:"#fff","background-color":"#007bff","border-color":"#007bff","font-weight":400,"text-align":"center","border-style":"solid","border-width":"1px",padding:"5px 12px","font-size":"1rem","border-radius":"5px",transition:"color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out",cursor:"pointer","text-decoration":"none"},[`.bf${t}-${s}-tbl-view-btn:hover`]:{color:"#ffffff !important","background-color":"#0069d9","border-color":"#0062cc"},[`.bf${t}-${s}-tbl-view-btn:focus-visible`]:{outline:0,"box-shadow":"0 0 0 0.2rem rgba(0, 123, 255, 0.25)"},[`.bf${t}-${s}-tbl-view-btn:focus`]:{outline:0,"box-shadow":" 0 0 0 0.2rem rgba(0, 123, 255, 0.25)"},[`.bf${t}-${s}-tbl-top-bar`]:{display:"flex","align-items":"center","justify-content":"end","font-size":"1rem",margin:"0 0 10px 0"},[`.bf${t}-${s}-tbl-action-btns`]:{display:"flex","align-items":"center","justify-content":"end",gap:"10px"},[`.bf${t}-${s}-tbl-pgn-slt`]:{padding:"4px 10px","border-color":"#ebebeb","border-width":"1px","border-style":"solid",width:"74px",height:"34px","background-color":"#ffffff",transition:"box-shadow .15s ease-in-out","font-size":"16px",color:"#525252","border-radius":"23px"},[`.bf${t}-${s}-tbl-pgn-slt:focus`]:{outline:0,"box-shadow":"0 0 0 0.1px hsla(215, 100%, 50%, 100%)","border-color":"hsla(215, 100%, 50%, 100%)"},[`.bf${t}-${s}-tbl-pgn-slt:focus-visible`]:{outline:0,"box-shadow":"0 0 0 0.1px hsla(215, 100%, 50%, 100%)","border-color":"hsla(215, 100%, 50%, 100%)"},[`.bf${t}-${s}-serc-bx`]:{border:"1px solid #e6e6e6",width:"150px","border-radius":"3px",height:"29px",background:"#ffffff",transition:"box-shadow 0.3s ease 0s",padding:"0px 5px","font-size":"16px",color:"#525252"},[`.bf${t}-${s}-serc-bx:focus`]:{outline:0,"box-shadow":"0 0 0 0.1px hsla(215, 100%, 50%, 100%)","border-color":"hsla(215, 100%, 50%, 100%)"},[`.bf${t}-${s}-serc-bx:focus-visible`]:{outline:0,"box-shadow":"0 0 0 0.1px hsla(215, 100%, 50%, 100%)","border-color":"hsla(215, 100%, 50%, 100%)"},[`.bf${t}-${s}-tbl-footer`]:{display:"flex","justify-content":"space-between","align-items":"center","margin-top":"10px",color:"#525252"},[`.bf${t}-${s}-pgn-btn`]:{"background-color":"#ffffff",color:"#525252","font-weight":400,"text-align":"center","border-width":"1px","border-style":"solid","border-color":"#e7ecf2",padding:"5px 10px","font-size":"1rem","border-radius":"50%",transition:"color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out",cursor:"pointer",margin:"0 3px"},[`.bf${t}-${s}-pgn-btn:hover`]:{"background-color":"#f1f1f1","border-color":"#f1f1f1"},[`.bf${t}-${s}-pgn-btn:focus-visible`]:{outline:0,"box-shadow":"0 0 0 0.15rem hsla(211, 95%, 85%, 0.25)"},[`.bf${t}-${s}-pgn-btn:focus`]:{outline:0,"box-shadow":"0 0 0 0.15rem hsla(211, 95%, 85%, 0.25)"},[`.bf${t}-${s}-pgn-btn:disable`]:{"background-color":"#dddcdc","border-color":"#f1f1f1",color:"#b5acac"}}}const Nt=(t,s)=>({id:s,form_id:t,table_name:"Untitle View",access_control:{},table_config:{caption:"Bitform Table View",columnsMap:[{thead:"header name",fk:"",w:"10%"}],actionsBtn:{head:{thead:"Action",w:"10%",show:!0},editButton:{btnTxt:"Edit",slug:"",show:!0,preIcn:"",sufIcn:""},viewButton:{btnTxt:"View",slug:"",show:!0,preIcn:"",sufIcn:""}}},table_styles:{theme:"bitform",style:_t({tblID:s,formID:t})},single_entry_view_config:{show:!0,style:"",js:"",body:`<p>Single Entry View</p>
 <a href="{back_to_view}">◀Back</a>`}});var Bt=Nt;function ss(){var n,p,b,K,ne,be;const{viewId:t,formID:s,formType:i}=M(),{css:a}=G(),u=k(We),[w,W]=O(L),[d,l]=O(Z),[o,j]=O(D),[y,C]=F.useState(!1),[m,$]=O(Ae),[h,B]=F.useState(!0),[P,r]=F.useState(!1),S=k(ce),g=$e(),z=d.table_name;(n=d==null?void 0:d.table_config)!=null&&n.columnsMap,(p=d==null?void 0:d.table_config)!=null&&p.caption,(b=d==null?void 0:d.table_config)==null||b.actionsBtn.viewButton,(K=d==null?void 0:d.table_config)==null||K.actionsBtn.editButton,(ne=d==null?void 0:d.table_config)==null||ne.actionsBtn.head;const q=N=>{const{value:_}=N.target;l(f=>R(f,X=>{X.table_name=_})),j(f=>V(E({},f),{unsaved:!0}))},Q=(N,_)=>{l(f=>R(f,X=>{te(X,`single_entry_view_config->${N}`,_)})),j(f=>V(E({},f),{unsaved:!0}))},A=()=>{r(!0);const N=xe(d,"bitforms_update_view").then(_=>{const{table:f}=_.data,X={id:f.id,form_id:f.form_id,table_name:f.table_name,table_config:JSON.parse(f.table_config),table_styles:JSON.parse(f.table_styles),single_entry_view_config:JSON.parse(f.single_entry_view_config),access_control:JSON.parse(f.access_control)};return l(X),r(!1),j(ee=>V(E({},ee),{unsaved:!1})),_}).finally(()=>r(!1));He.promise(N,{loading:c("Updating..."),success:_=>{var f;return((f=_==null?void 0:_.data)==null?void 0:f.message)||(_==null?void 0:_.data)},error:()=>c("Error occurred, Please try again.")})};return F.useEffect(()=>{if(t==="new"){const N=Bt(s,u);xe(N,"bitforms_create_new_view").then(_=>{const{table:f}=_.data,X={id:f.id,form_id:f.form_id,table_name:f.table_name,table_config:JSON.parse(f.table_config),table_styles:JSON.parse(f.table_styles),single_entry_view_config:JSON.parse(f.single_entry_view_config),access_control:JSON.parse(f.access_control)};l(X),$(ee=>R(ee,ue=>(ue=[...ee,f],ue))),W(u),F.startTransition(()=>g(`/form/settings/edit/${s}/data-views/${u}`,{replace:!0}))}).catch(_=>{}),B(!1)}else{const N=m.find(_=>_.id===t);if(typeof N=="undefined"&&t!=="new")g(`/form/settings/edit/${s}/data-views`,{replace:!0});else{B(!1);const _={id:N.id,form_id:N.form_id,table_name:N.table_name,table_config:JSON.parse(N.table_config),table_styles:JSON.parse(N.table_styles),single_entry_view_config:JSON.parse(N.single_entry_view_config),access_control:JSON.parse(N.access_control)};l(_)}}},[t,s]),e.jsxs(e.Fragment,{children:[h?e.jsx(Me,{className:a({flx:"center",mt:"20%"})}):e.jsxs("div",{className:a(Y.main),children:[e.jsxs("div",{className:a(Y.topBar),children:[e.jsxs("div",{className:a({flx:"center-between",p:"5px 10px"}),children:[e.jsxs(ae,{className:`${a({mr:10})}`,onClick:()=>g(`/form/settings/${i}/${s}/data-views`),size:"sm",variant:"secondary-outline",children:[e.jsx(Ve,{className:"mr-1"}),c("View List")]}),e.jsx("input",{className:a(v.input,{ml:0,mt:0,w:300}),type:"text","aria-label":"Table name",placeholder:"Table name",value:z,onChange:q})]}),e.jsxs("div",{className:a(Y.topSection),children:[e.jsx(Ue,{className:a({mr:17,w:170}),cls:a(Y.downmenuinput),value:`[bitform-view id='${t}']`}),e.jsxs("div",{className:a({flx:"align-center"}),children:[e.jsx(ae,{className:a({mr:10}),size:"sm",onClick:()=>C(!0),children:c("Details Page")}),e.jsxs(ae,{onClick:A,size:"sm",variant:o.unsaved?"primary":"disabled",children:[c("Update"),P&&e.jsx(Le,{size:16,clr:"#fff",className:"ml-2"})]})]})]})]}),e.jsxs("div",{className:a(Y.mainContent),children:[e.jsx("div",{className:a(Y.settingBar),children:e.jsx(jt,{})}),e.jsx("div",{className:a(Y.bldr),children:e.jsx(yt,{})})]})]}),e.jsx(de,{md:!0,autoHeight:!0,show:y,setModal:C,className:"o-v",title:c("Details Page Styling"),closeOnOutsideClick:!0,children:e.jsx(Ie,{height:"300px",id:`mail-tem-${s}`,formFields:S,value:(be=d==null?void 0:d.single_entry_view_config)==null?void 0:be.body,onChangeHandler:N=>Q("body",N),width:"100%"})})]})}const Y={topSection:{flx:"center-between",p:"5px 10px"},topBar:{bb:"0.5px solid var(--white-0-83)",flx:"between",fd:"row"},toolTitle:{fw:700,mt:10,mb:11},downmenuinput:{w:"100% !important",fs:12},main:{dy:"flex",fd:"column",h:"100vh"},mainContent:{dy:"flex",fd:"row",h:"-webkit-fill-available"},settingBar:{w:"30%",br:"0.5px solid var(--white-0-83)"},bldr:{w:"70%"}};export{ss as default};
