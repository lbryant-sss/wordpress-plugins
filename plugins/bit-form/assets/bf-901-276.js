var E=Object.defineProperty;var x=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var u=(r,e,a)=>e in r?E(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,c=(r,e)=>{for(var a in e||(e={}))j.call(e,a)&&u(r,a,e[a]);if(x)for(var a of x(e))S.call(e,a)&&u(r,a,e[a]);return r};import{w as v,r as s,j as i,S as w,k as R}from"./main-143.js";import"./bf-317-69.js";import{S as I}from"./bf-551-119.js";import{b as F}from"./bf-926-74.js";import{I as N}from"./bf-127-329.js";import{N as L}from"./bf-699-399.js";import C from"./bf-438-236.js";import{h as P,c as T}from"./bf-322-363.js";import{R as _}from"./bf-135-364.js";import"./bf-520-72.js";import"./bf-408-185.js";import"./bf-236-398.js";function V({formFields:r,setIntegration:e,integrations:a,allIntegURL:b}){const k=v(),[f,m]=s.useState(!1),[l,p]=s.useState(1),[y,d]=s.useState({show:!1}),h=[{key:"email",label:"Email",required:!0},{key:"firstname",label:"First name",required:!1},{key:"lastname",label:"Last name",required:!1},{key:"gender",label:"Gender",required:!1},{key:"title",label:"Title",required:!1},{key:"zip",label:"Zip",required:!1},{key:"birthdate",label:"Birthdate",required:!1},{key:"extra1",label:"Extra field 1",required:!1},{key:"extra2",label:"Extra field 2",required:!1},{key:"extra3",label:"Extra field 3",required:!1},{key:"extra4",label:"Extra field 4",required:!1},{key:"extra5",label:"Extra field 5",required:!1},{key:"extra6",label:"Extra field 6",required:!1},{key:"extra7",label:"Extra field 7",required:!1},{key:"extra8",label:"Extra field 8",required:!1},{key:"extra9",label:"Extra field 9",required:!1},{key:"extra10",label:"Extra field 10",required:!1}],[t,o]=s.useState({name:"Rapidmail",type:"Rapidmail",username:"",password:"",field_map:[{formField:"",rapidmailFormField:""}],recipientsFields:h,actions:{}}),q=()=>{F(a,e,b,t,k)},g=n=>{if(!T(t)){R.error("Please map mandatory fields");return}t.field_map.length>0&&p(n)};return document.querySelector(".btcd-s-wrp").scrollTop=0,i.jsxs("div",{children:[i.jsx(w,{snack:y,setSnackbar:d}),i.jsx("div",{className:"txt-center w-9 mt-2 cal-width",children:i.jsx(I,{step:3,active:l})}),i.jsx(C,{rapidmailConf:t,setRapidmailConf:o,step:l,setstep:p,isLoading:f,setIsLoading:m,setSnackbar:d}),i.jsxs("div",{className:"btcd-stp-page",style:c({},l===2&&{width:900,height:"auto",overflow:"visible"}),children:[i.jsx(_,{formFields:r,handleInput:n=>P(n,t,o),rapidmailConf:t,setRapidmailConf:o,isLoading:f,setIsLoading:m,setSnackbar:d}),i.jsx(L,{nextPageHandler:()=>g(3),disabled:!(t!=null&&t.recipient_id)})]}),i.jsx(N,{step:l,saveConfig:()=>q()})]})}export{V as default};
