var ve=Object.defineProperty,fe=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var me=(d,c,o)=>c in d?ve(d,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[c]=o,b=(d,c)=>{for(var o in c||(c={}))Ne.call(c,o)&&me(d,o,c[o]);if(ce)for(var o of ce(c))ke.call(c,o)&&me(d,o,c[o]);return d},de=(d,c)=>fe(d,we(c));import{g as Fe,u as oe,w as ye,v as Ce,a as Te,r as u,j as e,d as ze,_ as a,U as Pe,b as y,O as Se,K as he,G as $e,f as v,P as Be,Q as Oe,aK as De,z as Ie,$ as Me}from"./main-381.js";import{B as Le}from"./bf-540-79.js";import{C as g}from"./bf-841-104.js";import{T as We}from"./bf-964-112.js";import"./bf-878-172.js";function Re(){var z,P,S,$,B,O,D,I,M,L,W,Y,A,X,E,U,_,H,R,G,K,J,Q,V,q,Z,ee,te,ae,se,ie,le,ne,re;const[d,c]=Fe(De),o=oe(Ie),{formType:f,formID:x}=ye(),w=Ce(),{css:i}=Te(),pe=oe(Me),{pdf:p}=pe.allFormSettings,[n,N]=u.useState({show:!1}),C=()=>{n.show=!1,N(b({},n)),w(`/form/settings/${f}/${x}/pdf-templates`)},ge=()=>{n.show=!1,N(b({},n)),w("/app-settings/pdf")},xe=()=>{n.btnTxt=a("Go to PDF Settings"),n.body=a("Please configure PDF settings first."),n.btnClass="blue",n.action=()=>{ge()},n.show=!0,n.btn2Txt=a("Back"),N(b({},n))};u.useEffect(()=>{p===void 0&&xe()},[p]),p!=null&&p.id&&delete p.id;const[s,k]=u.useState({title:"Untitled PDF Template",setting:de(b({},p),{password:{static:!0,pass:""}}),body:"PDF body"}),l=(t,r)=>{let m=r;k(j=>v(j,ue=>{t==="setting->font"&&(m=Be(m)),Oe(ue,t,m)}))},T=(t,r)=>{k(m=>v(m,j=>{t.target.checked?j.setting.watermark.active=r:delete j.setting.watermark.active}))},F=()=>{const t=d.length,r=v(d,m=>{m.push(s),m.push({updateTem:1})});c(r),w(`/form/settings/${f}/${x}/pdf-templates/${t}`)},be=t=>{k(r=>v(r,m=>{t.target.checked?m.setting.override=!0:m.setting.override=!1}))},je=()=>{if(typeof wp!="undefined"&&wp.media){const t=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});t.on("select",()=>{const{url:r}=t.state().get("selection").first().toJSON();l("watermark->img->src",r)}),t.open()}};return u.useEffect(()=>{F()},[]),e.jsxs("div",{style:{width:900},children:[e.jsx(ze,{show:n.show,close:C,btnTxt:n.btnTxt,btnClass:n.btnClass,body:n.body,action:n.action,btn2Txt:a("Back"),btn2Action:C}),e.jsxs(Pe,{to:`/form/settings/${f}/${x}/pdf-templates`,className:`${i(y.btn)} btcd-btn-o-gray`,children:[e.jsx(Le,{className:"mr-1"}),a("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:F,className:`${i(y.btn)} blue f-right`,type:"button",children:a("Save Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsxs("b",{className:"w-2",style:{width:103},children:[a("Template Name:")," "]}),e.jsx("input",{onChange:t=>l(t.target.name,t.target.value),name:"title",type:"text",className:"btcd-paper-inp w-9",placeholder:a("Template Name"),value:s.title})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:a("Body:")}),e.jsx("label",{htmlFor:`pdf-tem-${x}`,className:"mt-2 w-10",children:e.jsx(We,{id:`pdf-tem-${x}`,formFields:o,value:s.body,onChangeHandler:t=>l("body",t),width:"100%",height:300,mapAllFieldWithTable:!0,mapAllField:!0})})]}),e.jsx("div",{className:i(h.checkbox),children:e.jsx(g,{onChange:t=>be(t),checked:s.setting.override,title:"Override PDF global setting"})}),s.setting.override&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:i(h.size),children:[e.jsxs("label",{htmlFor:"paper_size",className:i({mr:20,w:300}),children:[e.jsx("b",{children:a("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:t=>l("setting->paperSize",t.target.value),value:s.setting.paperSize,className:"btcd-paper-inp mt-1 w-100",children:Se.map((t,r)=>e.jsx("option",{value:t.value,children:t.label},`${r}-${t.val}`))})]}),e.jsxs("label",{htmlFor:"orientation",className:i({w:300}),children:[e.jsx("b",{children:a("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:t=>l("setting->orientation",t.target.value),value:s.setting.orientation,className:"btcd-paper-inp mt-1 w-100",children:[e.jsx("option",{value:"p",children:a("Portrait")}),e.jsx("option",{value:"l",children:a("Landscape")})]})]})]}),e.jsxs("div",{className:i(h.size),children:[e.jsxs("label",{htmlFor:"font",className:i({mr:20,w:300}),children:[e.jsx("b",{children:a("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:t=>l("setting->font",t.target.value),value:(P=(z=s.setting)==null?void 0:z.font)==null?void 0:P.name,className:"btcd-paper-inp mt-1",children:Object.keys(he).map(t=>e.jsx("optgroup",{label:t,children:he[t].map((r,m)=>e.jsx("option",{value:r.name,children:r.name},`${m}-${r.name}`))},t))})]}),e.jsxs("label",{htmlFor:"fontSize",className:i({w:300}),children:[e.jsx("b",{children:a("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:t=>l("setting->fontSize",t.target.value),value:s.setting.fontSize,className:"btcd-paper-inp mt-1",placeholder:a("Font Size"),type:"number"})]})]}),e.jsx("div",{className:i(h.size),children:e.jsxs("label",{htmlFor:"pdfFileName",className:i({w:300}),children:[e.jsx("b",{children:a("PDF File Name")}),e.jsx("input",{id:"pdfFileName",name:"pdfFileName",onChange:t=>l("setting->pdfFileName",t.target.value),value:(S=s.setting)==null?void 0:S.pdfFileName,className:"btcd-paper-inp mt-1",placeholder:a("PDF File Name"),type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:a("Watermark")}),e.jsx(g,{name:"active",onChange:t=>T(t,"txt"),checked:((B=($=s.setting)==null?void 0:$.watermark)==null?void 0:B.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:a("Text")})})}),e.jsx(g,{name:"active",onChange:t=>T(t,"img"),checked:((D=(O=s.setting)==null?void 0:O.watermark)==null?void 0:D.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:a("Image")})})})]})}),((I=s.setting.watermark)==null?void 0:I.active)&&e.jsxs("div",{className:i(h.bdr),children:[s.setting.watermark.active==="txt"&&e.jsx("div",{className:i(h.size),children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:a("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:t=>l("setting->watermark->txt",t.target.value),value:(L=(M=s.setting)==null?void 0:M.watermark)==null?void 0:L.txt,className:"btcd-paper-inp mt-1",placeholder:a("Watermark Text"),type:"text"})]})}),s.setting.watermark.active==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:i({flx:"align-center"}),children:[e.jsx("b",{children:a("Watermark Image")}),e.jsx($e,{className:"ml-2",onClick:je,children:a("Upload")}),((Y=(W=s.setting.watermark)==null?void 0:W.img)==null?void 0:Y.src)&&e.jsx("img",{className:i(h.img),src:(X=(A=s.setting.watermark)==null?void 0:A.img)==null?void 0:X.src,alt:""})]})}),e.jsxs("div",{className:i(h.size),children:[e.jsxs("label",{htmlFor:"width",className:i({w:300}),children:[e.jsx("b",{children:a("Width")}),e.jsx("input",{id:"width",onChange:t=>l("setting->watermark->img->width",t.target.value),value:(_=(U=(E=s.setting)==null?void 0:E.watermark)==null?void 0:U.img)==null?void 0:_.width,className:"btcd-paper-inp mt-1",placeholder:a("Image width"),type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:i({w:300}),children:[e.jsx("b",{children:a("Height")}),e.jsx("input",{id:"height",onChange:t=>l("setting->watermark->img->height",t.target.value),value:(G=(R=(H=s.setting)==null?void 0:H.watermark)==null?void 0:R.img)==null?void 0:G.height,className:"btcd-paper-inp mt-1",placeholder:a("Image height"),type:"number"})]})]}),e.jsxs("div",{className:i(h.size),children:[e.jsxs("label",{htmlFor:"posX",className:i({w:300}),children:[e.jsx("b",{children:a("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:t=>l("setting->watermark->img->posX",t.target.value),value:(Q=(J=(K=s.setting)==null?void 0:K.watermark)==null?void 0:J.img)==null?void 0:Q.posX,className:"btcd-paper-inp mt-1",placeholder:a("Position X"),type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:i({w:300}),children:[e.jsx("b",{children:a("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:t=>l("setting->watermark->img->posY",t.target.value),value:(Z=(q=(V=s.setting)==null?void 0:V.watermark)==null?void 0:q.img)==null?void 0:Z.posY,className:"btcd-paper-inp mt-1",placeholder:a("Position Y"),type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:a("Show watermark behind the page content")}),e.jsx(g,{radio:!0,name:"imgBehind",onChange:t=>l("setting->watermark->img->imgBehind",t.target.value),checked:((ae=(te=(ee=s.setting)==null?void 0:ee.watermark)==null?void 0:te.img)==null?void 0:ae.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:a("Yes")})}),value:"true"}),e.jsx(g,{radio:!0,name:"imgBehind",onChange:t=>l("setting->watermark->img->imgBehind",t.target.value),checked:((le=(ie=(se=s.setting)==null?void 0:se.watermark)==null?void 0:ie.img)==null?void 0:le.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:a("No")})}),value:"false"})]})})]}),e.jsx("div",{className:i(h.size),children:e.jsxs("label",{htmlFor:"opacity",className:i({w:300}),children:[e.jsx("b",{children:a("Opacity (0-100)")}),e.jsx("input",{id:"opacity",name:"alpha",onChange:t=>l("setting->watermark->alpha",t.target.value),value:(re=(ne=s.setting)==null?void 0:ne.watermark)==null?void 0:re.alpha,className:"btcd-paper-inp mt-1",placeholder:a("Opacity"),max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:a("Language Direction")}),e.jsx(g,{radio:!0,name:"direction",onChange:t=>l("setting->direction",t.target.value),checked:s.setting.direction==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:a("LTR")})}),value:"ltr"}),e.jsx(g,{radio:!0,name:"direction",onChange:t=>l("setting->direction",t.target.value),checked:s.setting.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:a("RTL")})}),value:"rtl"})]})}),e.jsx("button",{id:"secondary-update-btn",onClick:F,className:`${i(y.btn)} blue f-right`,type:"button",children:a("Save Template")})]})]})}const h={wrp:{flx:"space-between",mt:20},checkbox:{mt:10},font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20,b:"1px solid var(--white-0-89)",bs:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",brs:5}};export{Re as default};
