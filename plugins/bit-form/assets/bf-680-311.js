import{j as e,w as q,g as _,q as X,u as ee,a as ne,r as U,cK as O,cG as T,_ as s,ai as i,D as re,J as te,f as h,bx as g,aA as ce,aQ as ae,H as le}from"./main-381.js";import{F as d}from"./bf-829-285.js";import{C as $}from"./bf-841-104.js";import{S as H}from"./bf-112-395.js";import{a as B}from"./bf-992-252.js";import{F as se,b as ie,c as oe}from"./bf-461-235.js";import{F as S}from"./bf-779-322.js";import{S as x}from"./bf-816-254.js";import"./bf-375-83.js";import"./bf-540-79.js";import"./bf-691-85.js";import"./bf-79-86.js";import"./bf-946-109.js";import"./bf-500-70.js";import"./bf-964-112.js";import"./bf-878-172.js";import"./bf-461-113.js";import"./bf-445-114.js";import"./bf-332-249.js";import"./bf-444-250.js";import"./bf-781-251.js";import"./bf-914-253.js";import"./bf-719-255.js";import"./bf-739-256.js";import"./bf-594-257.js";import"./bf-199-84.js";import"./bf-960-258.js";import"./bf-4-78.js";import"./bf-81-321.js";import"./bf-678-273.js";import"./bf-556-286.js";import"./bf-57-80.js";import"./bf-450-283.js";import"./bf-765-284.js";const de=[{currency:"United Arab Emirates Dirham",code:"AED"},{currency:"Albanian lek",code:"ALL"},{currency:"Armenian dram",code:"AMD"},{currency:"Argentine peso",code:"ARS"},{currency:"Australian dollar",code:"AUD"},{currency:"Aruban florin",code:"AWG"},{currency:"Barbadian dollar",code:"BBD"},{currency:"Bangladeshi taka",code:"BDT"},{currency:"Bermudian dollar",code:"BMD"},{currency:"Brunei dollar",code:"BND"},{currency:"Bolivian boliviano",code:"BOB"},{currency:"Bahamian dollar",code:"BSD"},{currency:"Botswana pula",code:"BWP"},{currency:"Belize dollar",code:"BZD"},{currency:"Canadian dollar",code:"CAD"},{currency:"Swiss franc",code:"CHF"},{currency:"Chinese yuan renminbi",code:"CNY"},{currency:"Colombian peso",code:"COP"},{currency:"Costa Rican colon",code:"CRC"},{currency:"Cuban peso",code:"CUP"},{currency:"Czech koruna",code:"CZK"},{currency:"Danish krone",code:"DKK"},{currency:"Dominican peso",code:"DOP"},{currency:"Algerian dinar",code:"DZD"},{currency:"Egyptian pound",code:"EGP"},{currency:"Ethiopian birr",code:"ETB"},{currency:"European euro",code:"EUR"},{currency:"Fijian dollar",code:"FJD"},{currency:"Pound sterling",code:"GBP"},{currency:"Gibraltar pound",code:"GIP"},{currency:"Ghanian Cedi",code:"GHS"},{currency:"Gambian dalasi",code:"GMD"},{currency:"Guatemalan quetzal",code:"GTQ"},{currency:"Guyanese dollar",code:"GYD"},{currency:"Hong Kong dollar",code:"HKD"},{currency:"Honduran lempira",code:"HNL"},{currency:"Croatian kuna",code:"HRK"},{currency:"Haitian gourde",code:"HTG"},{currency:"Hungarian forint",code:"HUF"},{currency:"Indonesian rupiah",code:"IDR"},{currency:"Israeli new shekel",code:"ILS"},{currency:"Indian rupee",code:"INR"},{currency:"Jamaican dollar",code:"JMD"},{currency:"Kenyan shilling",code:"KES"},{currency:"Kyrgyzstani som",code:"KGS"},{currency:"Cambodian riel",code:"KHR"},{currency:"Cayman Islands dollar",code:"KYD"},{currency:"Kazakhstani tenge",code:"KZT"},{currency:"Lao kip",code:"LAK"},{currency:"Lebanese pound",code:"LBP"},{currency:"Sri Lankan rupee",code:"LKR"},{currency:"Liberian dollar",code:"LRD"},{currency:"Lesotho loti",code:"LSL"},{currency:"Moroccan dirham",code:"MAD"},{currency:"Moldovan leu",code:"MDL"},{currency:"Macedonian denar",code:"MKD"},{currency:"Myanmar kyat",code:"MMK"},{currency:"Mongolian tugrik",code:"MNT"},{currency:"Macanese pataca",code:"MOP"},{currency:"Mauritian rupee",code:"MUR"},{currency:"Maldivian rufiyaa",code:"MVR"},{currency:"Malawian kwacha",code:"MWK"},{currency:"Mexican peso",code:"MXN"},{currency:"Malaysian ringgit",code:"MYR"},{currency:"Namibian dollar",code:"NAD"},{currency:"Nigerian naira",code:"NGN"},{currency:"Nicaraguan cordoba",code:"NIO"},{currency:"Norwegian krone",code:"NOK"},{currency:"Nepalese rupee",code:"NPR"},{currency:"New Zealand dollar",code:"NZD"},{currency:"Peruvian sol",code:"PEN"},{currency:"Papua New Guinean kina",code:"PGK"},{currency:"Philippine peso",code:"PHP"},{currency:"Pakistani rupee",code:"PKR"},{currency:"Qatari riyal",code:"QAR"},{currency:"Russian ruble",code:"RUB"},{currency:"Saudi Arabian riyal",code:"SAR"},{currency:"Seychellois rupee",code:"SCR"},{currency:"Swedish krona",code:"SEK"},{currency:"Singapore dollar",code:"SGD"},{currency:"Sierra Leonean leone",code:"SLL"},{currency:"Somali shilling",code:"SOS"},{currency:"South Sudanese pound",code:"SSP"},{currency:"Salvadoran colÃ³n",code:"SVC"},{currency:"Swazi lilangeni",code:"SZL"},{currency:"Thai baht",code:"THB"},{currency:"Trinidad and Tobago dollar",code:"TTD"},{currency:"Tanzanian shilling",code:"TZS"},{currency:"United States dollar",code:"USD"},{currency:"Uruguayan peso",code:"UYU"},{currency:"Uzbekistani so'm",code:"UZS"},{currency:"Yemeni rial",code:"YER"},{currency:"South African rand",code:"ZAR"}];function ue({title:c,value:m,action:y,name:f,options:F,className:n,cls:A}){return e.jsxs("div",{className:`mt-3 setting-inp ${n}`,children:[e.jsx("span",{children:c}),e.jsx("select",{className:A||"btcd-paper-inp mt-1",value:m,onChange:y,name:f,children:F.map(j=>e.jsx("option",{value:j.value,children:j.name},`btcd-k-${j.name}`))})]})}function We(){var D,P,z;const{fieldKey:c}=q(),[m,y]=_(ce),[f,F]=_(ae),n=X(m[c]),A=Object.entries(m),j=ee(le),{css:a}=ne(),[I,k]=U.useState(()=>{var r,t;return(r=n==null?void 0:n.options)!=null&&r.notes?Object.entries((t=n==null?void 0:n.options)==null?void 0:t.notes).map(([l,o])=>({key:l,value:o})):[{}]}),Z=(n==null?void 0:n.payType)==="subscription",b=n.options.amountType==="dynamic",K=(n==null?void 0:n.newOrderId)||!1;U.useEffect(()=>{var r,t,l;O(c,"razorpayAmountFldMissing"),O(c,"razorpayAmountMissing"),O(c,"razorpayOrderIdFldMissing"),b&&!((r=n.options)!=null&&r.amountFld)?T({fieldKey:c,errorKey:"razorpayAmountFldMissing",errorMsg:s("Razorpay Dyanmic Amount Field is not Selected"),errorUrl:`field-settings/${c}`}):!b&&(!((t=n.options)!=null&&t.amount)||parseInt((l=n.options)==null?void 0:l.amount,10)<=0)&&T({fieldKey:c,errorKey:"razorpayAmountMissing",errorMsg:s("Razorpay Fixed Amount is not valid"),errorUrl:`field-settings/${c}`}),n.includeOrderId&&!n.newOrderId&&!n.orderIdFld&&T({fieldKey:c,errorKey:"razorpayOrderIdFldMissing",errorMsg:s("Razorpay Order ID Field is not Selected"),errorUrl:`field-settings/${c}`})},[(D=n.options)==null?void 0:D.amountType,(P=n.options)==null?void 0:P.amount,(z=n.options)==null?void 0:z.amountFld,n.includeOrderId,n.newOrderId,n.orderIdFld]);const W=[{name:s("Left"),value:"left"},{name:s("Center"),value:"center"},{name:s("Right"),value:"right"}],Y=r=>{n.payIntegID=r.target.value;const t=h(m,l=>{l[c]=n});y(t),g({event:`Cofiguration changed to "${r.target.value}": ${n.lbl||c}`,type:"set_configuration",state:{fields:t,fldKey:c}})},p=(r,t,l)=>{l?(n.options[l]||(n.options[l]={}),t?n.options[l][r]=t:delete n.options[l][r]):t?n.options[r]=t:delete n.options[r],l==="invoice"&&r==="generate"&&(n.options.invoice.itemName="Due Amount");const o=h(m,u=>{u[c]=n});y(o),g({event:`${me[r]} to ${t}: ${n.lbl||c}`,type:`${r}_changed`,state:{fields:o,fldKey:c}})},w=r=>{r.target.value?n.options.amountType=r.target.value:delete n.options.amountType;const t=h(m,l=>{l[c]=n});y(t),g({event:`Amount Type changed to "${r.target.value}": ${n.lbl||c}`,type:"set_amount_type",state:{fields:t,fldKey:c}})},R=({target:{name:r,value:t}})=>{n[r]=t;const l=h(m,u=>{u[c]=n});y(l);let o=f;r==="align"&&(o=h(f,u=>{u.fields[c].classes[`.${c}-razorpay-wrp`]["justify-content"]=t}),F(o)),g({event:`Button Style changed to "${t}": ${n.lbl||c}`,type:"set_button_style",state:{fields:l,styles:o,fldKey:c}})},J=r=>{n.fulW=r.target.checked;const t=h(f,o=>{r.target.checked?(o.fields[c].classes[`.${c}-razorpay-btn`].width="100%",delete o.fields[c].classes[`.${c}-razorpay-btn`]["min-width"]):(o.fields[c].classes[`.${c}-razorpay-btn`]["min-width"]="160px",delete o.fields[c].classes[`.${c}-razorpay-btn`].width)});F(t);const l=h(m,o=>{o[c]=n});y(l),g({event:`Full Width "${r.target.checked?"On":"Off"}": ${n.lbl||c}`,type:"set_button_width",state:{fields:l,styles:t,fldKey:c}})},Q=r=>{n.subTitl=r.target.checked;const t=h(m,l=>{l[c]=n});y(t),g({event:`Subtitle "${r.target.checked?"On":"Off"}": ${n.lbl||c}`,type:"set_sub_title",state:{fields:t,fldKey:c}})},C=(r,t,l,o)=>{const u=[...I];if(r==="add")return u.push({}),k(u),M(u);if(r==="delete")return u.splice(t,1),k(u),M(u);u[t][l]=o,k(u),M(u)},M=r=>{var E,L;const t={};let l=-1;const{length:o}=I;for(;++l<o;)(E=r[l])!=null&&E.key&&((L=r[l])!=null&&L.value)&&(t[r[l].key]=r[l].value);n.options.notes=t;const u=h(m,G=>(G[c]=n,G));y(u),g({event:`Notes Changes: ${n.lbl||c}`,type:"set_notes",state:{fields:u,fldKey:c}})},v=(r,t)=>{n[r]=t;const l=h(m,o=>{o[c]=n});y(l),g({event:`${r} "${t?"On":"Off"}": ${n.lbl||c}`,type:`${r}_changed`,state:{fields:l,fldKey:c}})},N=r=>{let t;return r==="amount"?t=/^(radio|number|currency)/:r==="desc"?t=/text|username/g:r==="email"?t=/text|email/g:r==="number"?t=/number/g:r==="orderId"&&(t=/text|radio|select|html-select/g),A.filter(o=>o[1].typ.match(t)).map(o=>e.jsx("option",{value:o[0],children:o[1].adminLbl||o[1].lbl},o[0]))},V=()=>j.filter(t=>t.type==="Razorpay").map(t=>e.jsx("option",{value:t.id,children:t.name},t.id));return e.jsxs("div",{children:[e.jsx(se,{title:"Field Settings",subtitle:n.typ,fieldKey:c}),e.jsx(ie,{}),e.jsx(S,{}),e.jsxs("div",{className:a(i.ml2,i.mr2,i.mt2,i.p1),children:[e.jsx("b",{children:s("Razorpay Accounts")}),e.jsx("br",{}),e.jsxs("select",{"data-testid":"slct-cnfg-slct",name:"payIntegID",id:"payIntegID",onChange:Y,className:a(d.input),value:n.payIntegID,children:[e.jsx("option",{value:"",children:"Select Account"}),V()]})]}),(n==null?void 0:n.payIntegID)&&e.jsxs(e.Fragment,{children:[!Z&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:a(i.ml2,i.p1),children:[e.jsx("b",{children:s("Amount Type")}),e.jsx("br",{}),e.jsx($,{id:"amnt-typ-fxd",onChange:w,radio:!0,checked:!b,title:s("Fixed"),value:"fixed"}),e.jsx($,{id:"amnt-typ-dynmc",onChange:w,radio:!0,checked:b,title:s("Dynamic"),value:"dynamic"})]}),!b&&e.jsx("div",{className:a(i.ml2,i.mr2,i.p1),children:e.jsx(H,{id:"amnt",inpType:"number",title:s("Amount"),value:n.options.amount||"",action:r=>p("amount",r.target.value),cls:a(d.input)})}),b&&e.jsxs("div",{className:a(i.ml2,i.mr2,i.p1),children:[e.jsx("b",{children:s("Select Amount Field")}),e.jsxs("select",{"data-testid":"slct-amnt-fld-slct",onChange:r=>p(r.target.name,r.target.value),name:"amountFld",className:a(d.input),value:n.options.amountFld,children:[e.jsx("option",{value:"",children:s("Select Field")}),N("amount")]})]})]}),e.jsx("div",{className:a(i.ml2,i.mr2,i.p1),children:e.jsxs("label",{htmlFor:"recap-thm",children:[e.jsx("b",{children:s("Currency")}),e.jsx("select",{"data-testid":"crncy-slct",onChange:r=>p(r.target.name,r.target.value),name:"currency",value:n.options.currency,className:a(d.input),children:re(de,"currency").map(r=>e.jsx("option",{value:r.code,children:`${r.currency} - ${r.code}`},r.currency))})]})}),e.jsxs("div",{className:a(i.ml2,i.mr2,i.p1),children:[e.jsx("b",{children:s("Account Name")}),e.jsx("br",{}),e.jsx("input",{"data-testid":"acnt-nam-inp","aria-label":"Account Name",type:"text",className:a(d.input),placeholder:"Account Name",name:"name",value:n.options.name||"",onChange:r=>p(r.target.name,r.target.value)})]}),e.jsxs("div",{className:a(i.ml2,i.mr2,i.p1),children:[e.jsx("b",{children:s("Description")}),e.jsx("br",{}),e.jsx("textarea",{"data-testid":"dscrptn-txt-ara",className:a(d.input),placeholder:"Order Description",name:"description",rows:"5",value:n.options.description||"",onChange:r=>p(r.target.name,r.target.value)})]})]}),e.jsx(S,{}),e.jsxs(x,{id:"order-stng",title:"Include Order ID",className:a(d.fieldSection),switching:!0,toggleAction:r=>{v("includeOrderId",r.target.checked),r.target.checked||v("newOrderId",!1),r.target.checked&&!(n!=null&&n.orderIdFld)&&v("newOrderId",!0)},toggleChecked:n==null?void 0:n.includeOrderId,open:n==null?void 0:n.includeOrderId,disable:!(n!=null&&n.includeOrderId),children:[e.jsx("div",{className:a({}),children:e.jsx($,{id:"amnt-typ-fxd",onChange:r=>v("newOrderId",r.target.checked),check:!0,sqr:!0,checked:K,title:s("Generate new ID"),value:"newOrderId"})}),!K&&e.jsxs("div",{className:a(i.ml2,i.mr2,i.p1),children:[e.jsx("b",{children:s("Select Order Id Field")}),e.jsxs("select",{"data-testid":"slct-amnt-fld-slct",onChange:r=>v(r.target.name,r.target.value),name:"orderIdFld",className:a(d.input),value:(n==null?void 0:n.orderIdFld)||"",children:[e.jsx("option",{value:"",children:s("Select Field")}),N("orderId")]})]})]}),e.jsx(S,{}),e.jsxs(x,{id:"adtnl-stng",title:"Additional Settings",className:a(d.fieldSection),children:[e.jsxs(x,{id:"adtnl-stng-btn",title:"Button",className:a(d.fieldSection),children:[e.jsx(H,{id:"btn-txt",inpType:"text",title:s("Button Text"),value:n.btnTxt||"",name:"btnTxt",action:R,className:a(i.mt0,{pr:1}),cls:a(d.input)}),e.jsx(ue,{id:"btn-algn",className:a({pr:1}),title:s("Button Align:"),options:W,value:n.align,action:R,name:"align",cls:a(d.input)}),e.jsx(B,{id:"btn-txt",title:s("Full Width"),action:J,isChecked:n.fulW,className:"mt-5"}),e.jsx(B,{id:"sub-titl",title:s("Subtitle:"),action:Q,isChecked:n==null?void 0:n.subTitl,className:"mt-5"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs(x,{id:"thm-stng",title:"Theme",className:a(d.fieldSection),children:[e.jsxs("div",{className:a(i.flxcb,i.mt2),children:[e.jsx("b",{children:s("Theme Color:")}),e.jsx("input",{"data-testid":"thm-clr-inp","aria-label":"Theme color",className:"ml-2",type:"color",value:n.options.theme.color,onChange:r=>p("color",r.target.value,"theme")})]}),e.jsxs("div",{className:a(i.flxcb,i.mt2),children:[e.jsx("b",{children:s("Background Color:")}),e.jsx("input",{"data-testid":"bg-clr-inp","aria-label":"Background color",className:"ml-2",type:"color",value:n.options.theme.backdrop_color,onChange:r=>p("backdrop_color",r.target.value,"theme")})]})]}),e.jsx("div",{className:"btcd-hr"}),e.jsx(x,{id:"mdl-stng",title:"Modal",className:a(d.fieldSection),children:e.jsx(B,{id:"cnfrm-cls",className:a(i.mt2),title:s("Confirm on Close:"),action:r=>p("confirm_close",r.target.checked,"modal"),isChecked:n.options.modal.confirm_close})}),e.jsx("div",{className:"btcd-hr"}),e.jsx(x,{id:"prfil-stng",title:"Prefill",className:a(d.fieldSection),children:e.jsxs("div",{children:[e.jsxs("div",{className:a(i.mt2,{px:1}),children:[e.jsx("b",{children:s("Name :")}),e.jsxs("select",{"data-testid":"prfil-nam-slct",onChange:r=>p(r.target.name,r.target.value,"prefill"),name:"prefillNameFld",className:a(d.input),value:n.options.prefill.prefillNameFld,children:[e.jsx("option",{value:"",children:s("Select Field")}),N("desc")]})]}),e.jsxs("div",{className:a(i.mt2,{px:1}),children:[e.jsx("b",{children:s("Email :")}),e.jsxs("select",{"data-testid":"prfil-eml-slct",onChange:r=>p(r.target.name,r.target.value,"prefill"),name:"prefillEmailFld",className:a(d.input),value:n.options.prefill.prefillEmailFld,children:[e.jsx("option",{value:"",children:s("Select Field")}),N("email")]})]}),e.jsxs("div",{className:a(i.mt2,{px:1}),children:[e.jsx("b",{children:s("Contact :")}),e.jsxs("select",{"data-testid":"prfil-cntct-slct",onChange:r=>p(r.target.name,r.target.value,"prefill"),name:"prefillContactFld",className:a(d.input),value:n.options.prefill.prefillContactFld,children:[e.jsx("option",{value:"",children:s("Select Field")}),N("number")]})]})]})}),e.jsx("div",{className:"btcd-hr"}),e.jsxs(x,{id:"nots-stng",title:"Notes",className:a(d.fieldSection),children:[e.jsxs("div",{className:"flx",children:[e.jsx("div",{className:"w-10",children:e.jsx("b",{children:s("Key :")})}),e.jsx("div",{className:"w-10",children:e.jsx("b",{children:s("Value :")})})]}),I.map((r,t)=>e.jsxs("div",{className:"flx",children:[e.jsx("div",{className:a({pl:2}),children:e.jsx("input",{"data-testid":"nots-key-inp","aria-label":"Note key",className:a(d.input,{pr:1}),type:"text",value:r.key,onChange:l=>C("edit",t,"key",l.target.value)})}),e.jsx("div",{className:"ml-1",children:e.jsx("input",{"data-testid":"nots-val-inp","aria-label":"Note value",className:a(d.input),type:"text",value:r.value,onChange:l=>C("edit",t,"value",l.target.value)})}),e.jsx("button",{"data-testid":"nots-del-btn",className:"icn-btn ml-1 mt-3",type:"button","aria-label":"btn",onClick:()=>C("delete",t),children:e.jsx(te,{})})]},`rp${t*2}`)),e.jsx("div",{className:"txt-center mt-2",children:e.jsx("button",{"data-testid":"nots-ad-btn",className:"icn-btn",type:"button",onClick:()=>C("add"),children:"+"})})]})]}),e.jsx(S,{})]}),e.jsx(oe,{}),e.jsx(S,{})]})}const me={amount:"Amount changed",amountFld:"Amount Field Selected",currency:"Currency Selected",name:"Account Name Modifyed",description:"Description Changed",color:"Color changed",backdrop_color:"Backdrop Color changed",confirm_close:"Confirm on close",prefillNameFld:"Profile Name Selected",prefillEmailFld:"Profile Email Selected",prefillContactFld:"Profile Contact Field"};export{We as default};
