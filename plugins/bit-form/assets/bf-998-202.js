import{u as y,j as e,_ as l,X as F,$ as k,e as R}from"./main-200.js";import{j as I,P as A}from"./bf-602-79.js";import{ac as M}from"./bf-29-81.js";import{h as v,a as W,b as g,d as _}from"./bf-262-201.js";import{r as $,b as G,c as H}from"./bf-199-172.js";import{M as V}from"./bf-543-114.js";import{B as P}from"./bf-148-173.js";function S({i:d,formFields:b,field:i,sheetConf:s,setSheetConf:r}){var p,u,n,o,x;const c=y(k),{isPro:m}=c;return e.jsxs("div",{className:"flx mt-2 mr-1",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:a=>v(a,d,s,r),children:[e.jsx("option",{value:"",children:l("Select Field")}),e.jsx(P,{formFields:b,notAllowFieldType:["file-up"]}),e.jsx("option",{value:"custom",children:l("Custom...")}),e.jsx("optgroup",{label:`General Smart Codes ${m?"":"(PRO)"}`,children:m&&((p=I)==null?void 0:p.map(a=>e.jsx("option",{value:a.name,children:a.label},`ff-rm-${a.name}`)))})]}),i.formField==="custom"&&e.jsx(V,{onChange:a=>W(a,d,s,r),label:l("Custom Value"),className:"mr-2",type:"text",value:i.customValue,placeholder:l("Custom Value")}),e.jsxs("select",{className:"btcd-paper-inp",name:"googleSheetField",value:i.googleSheetField||"",onChange:a=>v(a,d,s,r),children:[e.jsx("option",{value:"",children:l("Select Field")}),((x=(o=(n=(u=s.default)==null?void 0:u.headers)==null?void 0:n[s.spreadsheetId])==null?void 0:o[s.worksheetName])==null?void 0:x[s.headerRow])&&Object.values(s.default.headers[s.spreadsheetId][s.worksheetName][s.headerRow]).map((a,h)=>e.jsx("option",{value:a,children:a},`gsheet-${h*2}`))]})]}),e.jsx("button",{onClick:()=>g(d,s,r),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>_(d,s,r),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx(F,{})})]})}function J({formID:d,formFields:b,handleInput:i,sheetConf:s,setSheetConf:r,isLoading:c,setisLoading:m,setSnackbar:p,setShowMdl:u}){var n,o,x,a,h,j,N;return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{className:"wdt-150 d-in-b",children:l("Authorize App:")}),e.jsxs("select",{className:"btcd-paper-inp w-6",value:s.parentAppId,onChange:i,name:"parentAppId",children:[e.jsx("option",{value:"",children:l("Select an App")}),M([s.type]).map(t=>e.jsx("option",{value:t.id,children:t.integration_name},t.id))]}),e.jsx("button",{"aria-label":"Add New",onClick:()=>u(!0),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Add New Authorize App"'},type:"button",disabled:c,children:e.jsx(A,{size:18})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-150 d-in-b",children:l("Spreadsheets:")}),e.jsxs("select",{onChange:i,name:"spreadsheetId",value:s.spreadsheetId,className:"btcd-paper-inp w-6",children:[e.jsx("option",{value:"",children:l("Select Spreadsheet")}),((n=s==null?void 0:s.default)==null?void 0:n.spreadsheets)&&Object.keys(s.default.spreadsheets).map(t=>e.jsx("option",{value:s.default.spreadsheets[t].spreadsheetId,children:s.default.spreadsheets[t].spreadsheetName},t))]}),e.jsx("button",{onClick:()=>$(d,s,r,m,p),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Spreadsheet"'},type:"button",disabled:c,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-150 d-in-b",children:"Worksheet:"}),e.jsxs("select",{onChange:i,name:"worksheetName",value:s.worksheetName,className:"btcd-paper-inp w-6",children:[e.jsx("option",{value:"",children:l("Select Worksheet")}),((x=(o=s==null?void 0:s.default)==null?void 0:o.worksheets)==null?void 0:x[s.spreadsheetId])&&s.default.worksheets[s.spreadsheetId].map(t=>e.jsx("option",{value:t.properties.title,children:t.properties.title},t.properties.sheetId))]}),e.jsx("button",{onClick:()=>G(d,s,r,m,p),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Sheet Worksheets"'},type:"button",disabled:c,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-150 d-in-b",children:l("Header Row:")}),e.jsx("input",{type:"text",min:"1",className:"btcd-paper-inp w-6",placeholder:"Header Row",onChange:i,value:s.headerRow,name:"headerRow"}),e.jsx("button",{onClick:()=>H(d,s,r,m,p),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Worksheet Headers"'},type:"button",disabled:c,children:"↻"}),e.jsx("br",{}),e.jsx("small",{className:"mt-3 d-blk",style:{marginLeft:155,lineHeight:1.8},children:l("By default, first row of the worksheet is considered as header row. This can be used if tabular data starts from any row other than the first row.")}),e.jsx("br",{}),c&&e.jsx(R,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),((N=(j=(h=(a=s.default)==null?void 0:a.headers)==null?void 0:h[s.spreadsheetId])==null?void 0:j[s.worksheetName])==null?void 0:N[s.headerRow])&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:l("Map Fields")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:l("Form Fields")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:l("Google Fields")})})]}),s.field_map.map((t,w)=>e.jsx(S,{i:w,field:t,sheetConf:s,formFields:b,setSheetConf:r},`sheet-m-${w+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>g(s.field_map.length,s,r),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]})]})}export{J as G};
