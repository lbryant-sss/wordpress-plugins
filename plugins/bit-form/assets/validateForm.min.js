var validateForm=function(){"use strict";let e,t,i={},n=[];const l=t=>window?.bf_globals?.[e].inits?.[t],r=(e,t,i)=>{const n=Number(i)>1?`${e}[${i}]`:e;return t.inits&&!t.inits[n]?e:n},d=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const l=Object.entries(t);for(let e=0;e<l.length;e+=1){const[t,r]=l[e];if(r?.fieldName===n)return i[n]=t,t}return""},o=()=>{const n=new FormData(bfSelect(`#form-${e}`)),l={},r=Array.from(n.entries());return i={},r.forEach(([e,i])=>{const n=d(e),r=e.replace("[]","");n in t&&(l[r]?(Array.isArray(l[r])||(l[r]=[l[r]]),l[r].push(i)):l[r]=i)}),l},a=(t,i,l,r="")=>{const d=bfSelect(`#form-${e} ${r} .${i}-err-wrp`),o=bfSelect(`.${i}-err-txt`,d),a=bfSelect(`.${i}-err-msg`,d);let s=!1;try{s="grid"===getComputedStyle(d).display,s&&(d.style.removeProperty("opacity"),d.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){s=!1}o&&"err"in(l||{})&&(t&&l?.err?.[t]?.show?(o.innerHTML=l.err[t].custom?l.err[t].msg:l.err[t].dflt,s?setStyleProperty(d,"grid-template-rows","1fr"):setTimeout(()=>{a.style.removeProperty("display"),setStyleProperty(d,"height",`${o.offsetHeight}px`),setStyleProperty(d,"opacity",1)},100),n.push(i)):(o.innerHTML="",s?setStyleProperty(d,"grid-template-rows","0fr"):(setStyleProperty(d,"height",0),setStyleProperty(d,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:s},{step:f,otherOptions:c}={}){i?e=i:s?.form?.id&&([,e]=s.form.id.split("form-"));const p=window?.bf_globals?.[e];if(void 0===p)return!1;let u={};n=[];const y=p.configs.bf_separator;if(f){let e=p.layout[f-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map(e=>e.i),n=p.nestedLayout||{};Object.entries(n).forEach(([e,t])=>{if(i.includes(e)){const e=t.lg.map(e=>e.i);i.push(...e)}}),t=i.reduce((e,t)=>({...e,[t]:p.fields[t]}),{})}else t=p.fields;const{modifiedFields:m}=p;if(m&&Object.assign(t,m),i)u=o();else if(s){if(!p.validateFocusLost&&!c?.validateOnInput)return!0;const e=d(s.name);u=o(),t={[e]:t[e]}}let h=!0;const F=Object.entries(t);let{length:V}=F;for(;V--;){const[t,i]=F[V];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,p);n=getRepeatedIndexes(e,p,s)}for(let d=0;d<n.length;d+=1){const o=n[d],s=o?`${i.fieldName}[${o}]`:i.fieldName,f=`#form-${e}`,c=o?`.rpt-index-${o}`:"",m=i.typ,F="string"==typeof u[s]?u[s].trim():u[s],V=r(t,p,o);if(bfSelect(`${f} ${c} .${t}.fld-hide, ${f} .fld-hide ${c} .${t}`)){a("",t,i,c);continue}let g="";"check"!==m&&"image-select"!==m||(g="undefined"!=typeof checkFldValidation?checkFldValidation(F,i):""),"check"!==m&&"radio"!==m||g||"undefined"==typeof customOptionValidation||(g=customOptionValidation(e,t,i)),F||g||"0"===F||(g="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),a(g,t,i,c),g?h=!1:F&&("number"===m&&"undefined"!=typeof nmbrFldValidation?g=nmbrFldValidation(F,i):"email"===m&&"undefined"!=typeof emailFldValidation?g=emailFldValidation(F,i):"url"===m&&"undefined"!=typeof urlFldValidation?g=urlFldValidation(F,i):["decision-box","gdpr"].includes(m)&&"undefined"!=typeof dcsnbxFldValidation?g=dcsnbxFldValidation(F,i):["check","select","image-select"].includes(m)&&"undefined"!=typeof checkMinMaxOptions?g=checkMinMaxOptions(F,i,y):"range"===m&&"undefined"!=typeof checkMinMaxValue?g=checkMinMaxValue(F,i):"file-up"===m&&"undefined"!=typeof fileupFldValidation?g=fileupFldValidation(l(V),F,i):"advanced-file-up"===m&&"undefined"!=typeof advanceFileUpFldValidation?g=advanceFileUpFldValidation(l(V),i):"phone-number"===m&&"undefined"!=typeof phoneNumberFldValidation?g=phoneNumberFldValidation(l(V),i):"currency"===m&&"undefined"!=typeof currencyFldValidation&&(g=currencyFldValidation(l(V),i)),g||"undefined"==typeof bfDatetimeFldValidation||(g=bfDatetimeFldValidation(l(V),F,i)),i?.valid?.inputMask&&!g&&(g="undefined"!=typeof inputMaskValidation?inputMaskValidation(e,t,F,i):null),i?.valid?.regexr&&!g&&(g="undefined"!=typeof regexPatternValidation?regexPatternValidation(F,i):null),a(g,t,i,c),g&&(h=!1))}}return moveToFirstErrFld(p,n),h}}();
