var validateForm=function(){"use strict";let e,t,i={},n=[];const r=t=>window?.bf_globals?.[e].inits?.[t],l=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const r=Object.entries(t);for(let e=0;e<r.length;e+=1){const[t,l]=r[e];if(l?.fieldName===n)return i[n]=t,t}return""},d=()=>{const n=new FormData(bfSelect(`#form-${e}`)),r={},d=Array.from(n.entries());return i={},d.forEach(([e,i])=>{const n=l(e),d=e.replace("[]","");n in t&&(r[d]?(Array.isArray(r[d])||(r[d]=[r[d]]),r[d].push(i)):r[d]=i)}),r},o=(t,i,r,l="")=>{const d=bfSelect(`#form-${e} ${l} .${i}-err-wrp`),o=bfSelect(`.${i}-err-txt`,d),a=bfSelect(`.${i}-err-msg`,d);let f=!1;try{f="grid"===getComputedStyle(d).display,f&&(d.style.removeProperty("opacity"),d.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){f=!1}o&&"err"in(r||{})&&(t&&r?.err?.[t]?.show?(o.innerHTML=r.err[t].custom?r.err[t].msg:r.err[t].dflt,f?setStyleProperty(d,"grid-template-rows","1fr"):setTimeout(()=>{a.style.removeProperty("display"),setStyleProperty(d,"height",`${o.offsetHeight}px`),setStyleProperty(d,"opacity",1)},100),n.push(i)):(o.innerHTML="",f?setStyleProperty(d,"grid-template-rows","0fr"):(setStyleProperty(d,"height",0),setStyleProperty(d,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:f,otherOptions:c}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const s=window?.bf_globals?.[e];if(void 0===s)return!1;let p={};n=[];const u=s.configs.bf_separator;if(f){let e=s.layout[f-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map(e=>e.i),n=s.nestedLayout||{};Object.entries(n).forEach(([e,t])=>{if(i.includes(e)){const e=t.lg.map(e=>e.i);i.push(...e)}}),t=i.reduce((e,t)=>({...e,[t]:s.fields[t]}),{})}else t=s.fields;const{modifiedFields:y}=s;if(y&&Object.assign(t,y),i)p=d();else if(a){if(!s.validateFocusLost&&!c?.validateOnInput)return!0;const e=l(a.name);p=d(),t={[e]:t[e]}}let m=!0;const h=Object.entries(t);let{length:F}=h;for(;F--;){const[t,i]=h[F];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,s);n=getRepeatedIndexes(e,s,a)}for(let l=0;l<n.length;l+=1){const d=n[l],a=d?`${i.fieldName}[${d}]`:i.fieldName,f=d?`.rpt-index-${d}`:"",c=i.typ,s="string"==typeof p[a]?p[a].trim():p[a];if(bfSelect(`#form-${e} ${f} .${t}.fld-hide`)){o("",t,i,f);continue}let y="";"check"!==c&&"image-select"!==c||(y="undefined"!=typeof checkFldValidation?checkFldValidation(s,i):""),"check"!==c&&"radio"!==c||y||"undefined"==typeof customOptionValidation||(y=customOptionValidation(e,t,i)),s||y||"0"===s||(y="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),o(y,t,i,f),y?m=!1:s&&("number"===c&&"undefined"!=typeof nmbrFldValidation?y=nmbrFldValidation(s,i):"email"===c&&"undefined"!=typeof emailFldValidation?y=emailFldValidation(s,i):"url"===c&&"undefined"!=typeof urlFldValidation?y=urlFldValidation(s,i):["decision-box","gdpr"].includes(c)&&"undefined"!=typeof dcsnbxFldValidation?y=dcsnbxFldValidation(s,i):["check","select","image-select"].includes(c)&&"undefined"!=typeof checkMinMaxOptions?y=checkMinMaxOptions(s,i,u):"range"===c&&"undefined"!=typeof checkMinMaxValue?y=checkMinMaxValue(s,i):"file-up"===c&&"undefined"!=typeof fileupFldValidation?y=fileupFldValidation(s,i):"advanced-file-up"===c&&"undefined"!=typeof advanceFileUpFldValidation?y=advanceFileUpFldValidation(r(t),i):"phone-number"===c&&"undefined"!=typeof phoneNumberFldValidation?y=phoneNumberFldValidation(r(t),i):"currency"===c&&"undefined"!=typeof currencyFldValidation&&(y=currencyFldValidation(r(t),i)),y||"undefined"==typeof bfDatetimeFldValidation||(y=bfDatetimeFldValidation(r(t),s,i)),i?.valid?.regexr&&!y&&(y="undefined"!=typeof regexPatternValidation?regexPatternValidation(s,i):null),o(y,t,i,f),y&&(m=!1))}}return moveToFirstErrFld(s,n),m}}();
