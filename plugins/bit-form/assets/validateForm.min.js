var validateForm=function(){"use strict";let e,t,i={},n=[];const r=t=>window?.bf_globals?.[e].inits?.[t],l=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const r=Object.entries(t);for(let e=0;e<r.length;e+=1){const[t,l]=r[e];if(l?.fieldName===n)return i[n]=t,t}return""},o=()=>{const n=new FormData(bfSelect(`#form-${e}`)),r={},o=Array.from(n.entries());return i={},o.forEach((([e,i])=>{const n=l(e),o=e.replace("[]","");n in t&&(r[o]?(Array.isArray(r[o])||(r[o]=[r[o]]),r[o].push(i)):r[o]=i)})),r},d=(t,i,r,l="")=>{const o=bfSelect(`#form-${e} ${l} .${i}-err-wrp`),d=bfSelect(`.${i}-err-txt`,o),a=bfSelect(`.${i}-err-msg`,o);let c=!1;try{c="grid"===getComputedStyle(o).display,c&&(o.style.removeProperty("opacity"),o.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){c=!1}d&&"err"in(r||{})&&(t&&r?.err?.[t]?.show?(d.innerHTML=r.err[t].custom?r.err[t].msg:r.err[t].dflt,c?setStyleProperty(o,"grid-template-rows","1fr"):setTimeout((()=>{a.style.removeProperty("display"),setStyleProperty(o,"height",`${d.offsetHeight}px`),setStyleProperty(o,"opacity",1)}),100),n.push(i)):(d.innerHTML="",c?setStyleProperty(o,"grid-template-rows","0fr"):(setStyleProperty(o,"height",0),setStyleProperty(o,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:c,otherOptions:s}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const f=window?.bf_globals?.[e];if(void 0===f)return!1;let p={};n=[];const u=f.configs.bf_separator;if(c){let e=f.layout[c-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map((e=>e.i)),n=f.nestedLayout||{};Object.entries(n).forEach((([e,t])=>{if(i.includes(e)){const e=t.lg.map((e=>e.i));i.push(...e)}})),t=i.reduce(((e,t)=>({...e,[t]:f.fields[t]})),{})}else t=f.fields;const{modifiedFields:y}=f;if(y&&Object.assign(t,y),i)p=o();else if(a){if(!f.validateFocusLost&&!s?.validateOnInput)return!0;const e=l(a.name);p=o(),t={[e]:t[e]}}let m=!0;const h=Object.entries(t);let{length:F}=h;for(;F--;){const[t,i]=h[F];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,f);n=getRepeatedIndexes(e,f,a)}for(let l=0;l<n.length;l+=1){const o=n[l],a=o?`${i.fieldName}[${o}]`:i.fieldName,c=o?`.rpt-index-${o}`:"",s=i.typ,f="string"==typeof p[a]?p[a].trim():p[a];if(bfSelect(`#form-${e} ${c} .${t}.fld-hide`)){d("",t,i,c);continue}let y="";"check"!==s&&"image-select"!==s||(y="undefined"!=typeof checkFldValidation?checkFldValidation(f,i):""),"check"!==s&&"radio"!==s||y||"undefined"==typeof customOptionValidation||(y=customOptionValidation(e,t,i)),f||y||"0"===f||(y="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),d(y,t,i,c),y?m=!1:f&&("number"===s&&"undefined"!=typeof nmbrFldValidation?y=nmbrFldValidation(f,i):"email"===s&&"undefined"!=typeof emailFldValidation?y=emailFldValidation(f,i):"url"===s&&"undefined"!=typeof urlFldValidation?y=urlFldValidation(f,i):["decision-box","gdpr"].includes(s)&&"undefined"!=typeof dcsnbxFldValidation?y=dcsnbxFldValidation(f,i):["check","select","image-select"].includes(s)&&"undefined"!=typeof checkMinMaxOptions?y=checkMinMaxOptions(f,i,u):"range"===s&&"undefined"!=typeof checkMinMaxValue?y=checkMinMaxValue(f,i):"file-up"===s&&"undefined"!=typeof fileupFldValidation?y=fileupFldValidation(f,i):"advanced-file-up"===s&&"undefined"!=typeof advanceFileUpFldValidation?y=advanceFileUpFldValidation(r(t),i):"phone-number"===s&&"undefined"!=typeof phoneNumberFldValidation?y=phoneNumberFldValidation(r(t),i):"currency"===s&&"undefined"!=typeof currencyFldValidation&&(y=currencyFldValidation(r(t),i)),i?.valid?.regexr&&!y&&(y="undefined"!=typeof regexPatternValidation?regexPatternValidation(f,i):null),d(y,t,i,c),y&&(m=!1))}}return moveToFirstErrFld(f,n),m}}();
