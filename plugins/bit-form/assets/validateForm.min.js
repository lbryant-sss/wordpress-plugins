var validateForm=function(){"use strict";let e,t,i={},n=[];const d=t=>window?.bf_globals?.[e].inits?.[t],r=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const d=Object.entries(t);for(let e=0;e<d.length;e+=1){const[t,r]=d[e];if(r?.fieldName===n)return i[n]=t,t}return""},l=()=>{const n=new FormData(bfSelect(`#form-${e}`)),d={},l=Array.from(n.entries());return i={},l.forEach(([e,i])=>{const n=r(e),l=e.replace("[]","");n in t&&(d[l]?(Array.isArray(d[l])||(d[l]=[d[l]]),d[l].push(i)):d[l]=i)}),d},o=(t,i,d,r="")=>{const l=bfSelect(`#form-${e} ${r} .${i}-err-wrp`),o=bfSelect(`.${i}-err-txt`,l),a=bfSelect(`.${i}-err-msg`,l);let c=!1;try{c="grid"===getComputedStyle(l).display,c&&(l.style.removeProperty("opacity"),l.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){c=!1}o&&"err"in(d||{})&&(t&&d?.err?.[t]?.show?(o.innerHTML=d.err[t].custom?d.err[t].msg:d.err[t].dflt,c?setStyleProperty(l,"grid-template-rows","1fr"):setTimeout(()=>{a.style.removeProperty("display"),setStyleProperty(l,"height",`${o.offsetHeight}px`),setStyleProperty(l,"opacity",1)},100),n.push(i)):(o.innerHTML="",c?setStyleProperty(l,"grid-template-rows","0fr"):(setStyleProperty(l,"height",0),setStyleProperty(l,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:c,otherOptions:f}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const s=window?.bf_globals?.[e];if(void 0===s)return!1;let p={};n=[];const u=s.configs.bf_separator;if(c){let e=s.layout[c-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map(e=>e.i),n=s.nestedLayout||{};Object.entries(n).forEach(([e,t])=>{if(i.includes(e)){const e=t.lg.map(e=>e.i);i.push(...e)}}),t=i.reduce((e,t)=>({...e,[t]:s.fields[t]}),{})}else t=s.fields;const{modifiedFields:y}=s;if(y&&Object.assign(t,y),i)p=l();else if(a){if(!s.validateFocusLost&&!f?.validateOnInput)return!0;const e=r(a.name);p=l(),t={[e]:t[e]}}let m=!0;const h=Object.entries(t);let{length:F}=h;for(;F--;){const[t,i]=h[F];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,s);n=getRepeatedIndexes(e,s,a)}for(let r=0;r<n.length;r+=1){const l=n[r],a=l?`${i.fieldName}[${l}]`:i.fieldName,c=l?`.rpt-index-${l}`:"",f=i.typ,s="string"==typeof p[a]?p[a].trim():p[a];if(bfSelect(`#form-${e} ${c} .${t}.fld-hide`)){o("",t,i,c);continue}let y="";"check"!==f&&"image-select"!==f||(y="undefined"!=typeof checkFldValidation?checkFldValidation(s,i):""),"check"!==f&&"radio"!==f||y||"undefined"==typeof customOptionValidation||(y=customOptionValidation(e,t,i)),s||y||"0"===s||(y="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),o(y,t,i,c),y?m=!1:s&&("number"===f&&"undefined"!=typeof nmbrFldValidation?y=nmbrFldValidation(s,i):"email"===f&&"undefined"!=typeof emailFldValidation?y=emailFldValidation(s,i):"url"===f&&"undefined"!=typeof urlFldValidation?y=urlFldValidation(s,i):["decision-box","gdpr"].includes(f)&&"undefined"!=typeof dcsnbxFldValidation?y=dcsnbxFldValidation(s,i):["check","select","image-select"].includes(f)&&"undefined"!=typeof checkMinMaxOptions?y=checkMinMaxOptions(s,i,u):"range"===f&&"undefined"!=typeof checkMinMaxValue?y=checkMinMaxValue(s,i):"file-up"===f&&"undefined"!=typeof fileupFldValidation?y=fileupFldValidation(s,i):"advanced-file-up"===f&&"undefined"!=typeof advanceFileUpFldValidation?y=advanceFileUpFldValidation(d(t),i):"phone-number"===f&&"undefined"!=typeof phoneNumberFldValidation?y=phoneNumberFldValidation(d(t),i):"currency"===f&&"undefined"!=typeof currencyFldValidation?y=currencyFldValidation(d(t),i):"advanced-datetime"===f&&"undefined"!=typeof advancedDatetimeFldValidation&&(y=advancedDatetimeFldValidation(d(t),i)),i?.valid?.regexr&&!y&&(y="undefined"!=typeof regexPatternValidation?regexPatternValidation(s,i):null),o(y,t,i,c),y&&(m=!1))}}return moveToFirstErrFld(s,n),m}}();
