var validateForm=function(){"use strict";let e,t,i={},n=[];const l=t=>window?.bf_globals?.[e].inits?.[t],d=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const l=Object.entries(t);for(let e=0;e<l.length;e+=1){const[t,d]=l[e];if(d?.fieldName===n)return i[n]=t,t}return""},r=()=>{const n=new FormData(bfSelect(`#form-${e}`)),l={},r=Array.from(n.entries());return i={},r.forEach(([e,i])=>{const n=d(e),r=e.replace("[]","");n in t&&(l[r]?(Array.isArray(l[r])||(l[r]=[l[r]]),l[r].push(i)):l[r]=i)}),l},o=(t,i,l,d="")=>{const r=bfSelect(`#form-${e} ${d} .${i}-err-wrp`),o=bfSelect(`.${i}-err-txt`,r),a=bfSelect(`.${i}-err-msg`,r);let f=!1;try{f="grid"===getComputedStyle(r).display,f&&(r.style.removeProperty("opacity"),r.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){f=!1}o&&"err"in(l||{})&&(t&&l?.err?.[t]?.show?(o.innerHTML=l.err[t].custom?l.err[t].msg:l.err[t].dflt,f?setStyleProperty(r,"grid-template-rows","1fr"):setTimeout(()=>{a.style.removeProperty("display"),setStyleProperty(r,"height",`${o.offsetHeight}px`),setStyleProperty(r,"opacity",1)},100),n.push(i)):(o.innerHTML="",f?setStyleProperty(r,"grid-template-rows","0fr"):(setStyleProperty(r,"height",0),setStyleProperty(r,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:f,otherOptions:s}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const c=window?.bf_globals?.[e];if(void 0===c)return!1;let p={};n=[];const u=c.configs.bf_separator;if(f){let e=c.layout[f-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map(e=>e.i),n=c.nestedLayout||{};Object.entries(n).forEach(([e,t])=>{if(i.includes(e)){const e=t.lg.map(e=>e.i);i.push(...e)}}),t=i.reduce((e,t)=>({...e,[t]:c.fields[t]}),{})}else t=c.fields;const{modifiedFields:y}=c;if(y&&Object.assign(t,y),i)p=r();else if(a){if(!c.validateFocusLost&&!s?.validateOnInput)return!0;const e=d(a.name);p=r(),t={[e]:t[e]}}let m=!0;const h=Object.entries(t);let{length:F}=h;for(;F--;){const[t,i]=h[F];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,c);n=getRepeatedIndexes(e,c,a)}for(let d=0;d<n.length;d+=1){const r=n[d],a=r?`${i.fieldName}[${r}]`:i.fieldName,f=r?`.rpt-index-${r}`:"",s=i.typ,c="string"==typeof p[a]?p[a].trim():p[a];if(bfSelect(`#form-${e} ${f} .${t}.fld-hide`)){o("",t,i,f);continue}let y="";"check"!==s&&"image-select"!==s||(y="undefined"!=typeof checkFldValidation?checkFldValidation(c,i):""),"check"!==s&&"radio"!==s||y||"undefined"==typeof customOptionValidation||(y=customOptionValidation(e,t,i)),c||y||"0"===c||(y="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),o(y,t,i,f),y?m=!1:c&&("number"===s&&"undefined"!=typeof nmbrFldValidation?y=nmbrFldValidation(c,i):"email"===s&&"undefined"!=typeof emailFldValidation?y=emailFldValidation(c,i):"url"===s&&"undefined"!=typeof urlFldValidation?y=urlFldValidation(c,i):["decision-box","gdpr"].includes(s)&&"undefined"!=typeof dcsnbxFldValidation?y=dcsnbxFldValidation(c,i):["check","select","image-select"].includes(s)&&"undefined"!=typeof checkMinMaxOptions?y=checkMinMaxOptions(c,i,u):"range"===s&&"undefined"!=typeof checkMinMaxValue?y=checkMinMaxValue(c,i):"file-up"===s&&"undefined"!=typeof fileupFldValidation?y=fileupFldValidation(l(t),c,i):"advanced-file-up"===s&&"undefined"!=typeof advanceFileUpFldValidation?y=advanceFileUpFldValidation(l(t),i):"phone-number"===s&&"undefined"!=typeof phoneNumberFldValidation?y=phoneNumberFldValidation(l(t),i):"currency"===s&&"undefined"!=typeof currencyFldValidation&&(y=currencyFldValidation(l(t),i)),y||"undefined"==typeof bfDatetimeFldValidation||(y=bfDatetimeFldValidation(l(t),c,i)),i?.valid?.inputMask&&!y&&(y="undefined"!=typeof inputMaskValidation?inputMaskValidation(e,t,c,i):null),i?.valid?.regexr&&!y&&(y="undefined"!=typeof regexPatternValidation?regexPatternValidation(c,i):null),o(y,t,i,f),y&&(m=!1))}}return moveToFirstErrFld(c,n),m}}();
