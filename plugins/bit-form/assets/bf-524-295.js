import{w as X,g as k,q as Y,r as g,a as Z,u as tt,_ as c,j as t,M as et,I as st,f as d,bx as x,dQ as nt,dO as lt,dR as at,aA as it,aQ as ot,aU as rt,de as ct,dP as dt}from"./main-381.js";import{F as o}from"./bf-829-285.js";import{a as ut}from"./bf-992-252.js";import{A as pt}from"./bf-556-286.js";import{F as mt}from"./bf-682-386.js";import{F as bt,b as xt,H as ft,c as gt}from"./bf-461-235.js";import{F as p,I as ht}from"./bf-779-322.js";import{F as R}from"./bf-81-321.js";import{S as h}from"./bf-816-254.js";import"./bf-375-83.js";import"./bf-540-79.js";import"./bf-691-85.js";import"./bf-79-86.js";import"./bf-946-109.js";import"./bf-500-70.js";import"./bf-964-112.js";import"./bf-878-172.js";import"./bf-461-113.js";import"./bf-445-114.js";import"./bf-332-249.js";import"./bf-444-250.js";import"./bf-781-251.js";import"./bf-914-253.js";import"./bf-719-255.js";import"./bf-739-256.js";import"./bf-594-257.js";import"./bf-199-84.js";import"./bf-960-258.js";import"./bf-4-78.js";import"./bf-57-80.js";import"./bf-841-104.js";import"./bf-450-283.js";import"./bf-765-284.js";import"./bf-678-273.js";function Zt(){const{fieldKey:e}=X(),[r,m]=k(it),n=Y(r[e]),[v,j]=g.useState({}),[M,y]=g.useState(!1),[E,H]=g.useState(""),{txt:W,align:O,txtAlign:K,fulW:S,btnTyp:T}=n,[L,z]=g.useState(O),{css:i}=Z(),[D,f]=k(ot),Q=tt(rt),$=[{name:c("Left"),value:"start"},{name:c("Center"),value:"center"},{name:c("Right"),value:"end"}],I=[{name:"Reset",value:"reset",disabled:!1},{name:"Button",value:"button",disabled:!1}];st&&I.push({name:"Save Draft",value:"save-draft",disabled:!1});function V(s){n.txt=s.target.value;const l=d(r,a=>{a[e]=n});m(l),x({event:`Button text updated : ${n.txt}`,type:"change_btn_txt",state:{fields:l,fldKey:e}})}function q(s){const{value:l}=s.target;if(n.btnTyp=l,n.btnTyp==="submit"&&A()){j({btnTyp:c("Already have a submit button")}),setTimeout(()=>{j({btnTyp:""})},3e3);return}v.btnTyp&&j({btnTyp:""});let a="var(--btn-bg)",u="var(--btn-c)",_="var(--btn-bdr-clr)",w="var(--btn-bdr)",C="var(--btn-bdr-width)";l==="reset"&&(a="hsla(240, 12%, 94%, 100)",u="hsla(208, 46%, 25%, 100)"),l==="save-default"&&(a="hsla(0, 0%, 100%, 100)",u="var(--btn-bgc)",_="var(--btn-bgc)",w="solid",C="1px"),f(F=>d(F,b=>{b.fields[e].classes[`.${e}-btn`].background=a,b.fields[e].classes[`.${e}-btn`].color=u,l!=="save-draft"&&(b.fields[e].classes[`.${e}-btn`]["border-color"]=_,b.fields[e].classes[`.${e}-btn`]["border-style"]=w,b.fields[e].classes[`.${e}-btn`]["border-width"]=C,b.fields[e].classes[`.${e}-btn:hover`].color="var(--btn-c)")}));const P=d(r,F=>{F[e]=n});m(P),x({event:`Button Type updated to ${l}: ${n.txt}`,type:"set_btn_typ",state:{fields:P,fldKey:e}})}function U(s){const{value:l}=s.target;f(a=>d(a,u=>{u.fields[e].classes[`.${e}-inp-fld-wrp`]["justify-content"]=l})),n.align=l,m(d(r,a=>{a[e]=n})),z(l),x({event:`Button Alignment changed to ${l}: ${n.txt}`,type:"set_btn_align",state:{fields:r,fldKey:e}})}function G(s){const{value:l}=s.target;f(a=>d(a,u=>{u.fields[e].classes[`.${e}-btn`]["justify-content"]=l})),n.txtAlign=l,m(d(r,a=>{a[e]=n})),x({event:`Button Text Alignment changed to ${l}: ${n.txt}`,type:"set_btn_text_align",state:{fields:r,fldKey:e}})}const A=()=>Object.values(r).filter(l=>l.typ==="button"&&l.btnTyp==="submit").length>=1;(!A()||T==="submit")&&I.push({name:"Submit",value:"submit",disabled:!0});function J(s){f(a=>d(a,u=>{u.fields[e].classes[`.${e}-btn`].width=s.target.checked?"100%":"auto"})),n.fulW=s.target.checked;const l=d(r,a=>{a[e]=n});m(l),x({event:`Button Full width ${s.target.checked?"on":"off"}`,type:"set_btn_full",state:{fields:l,fldKey:e}})}const B=s=>{nt(D,e,ct[s])||lt(Q,s),at(s,e),H(s),y(!0)},N=s=>{if(n[s]){delete n[s];const l=d(r,a=>{a[e]=n});m(l),x({event:`${dt[s]} Icon Deleted`,type:`delete_${s}`,state:{fldKey:e,fields:l}})}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"",children:[t.jsx(bt,{title:"Field Settings",subtitle:n.typ,fieldKey:e}),t.jsx(xt,{}),t.jsx(p,{}),t.jsxs(h,{id:"btn-txt-stng",title:c("Button Text"),className:i(o.fieldSection),open:!0,children:[t.jsx("div",{className:i(o.placeholder),children:t.jsx(pt,{id:"btn-txt","aria-label":"Button text",placeholder:"Type text here...",value:W,changeAction:V})}),t.jsx(R,{label:"Leading Icon",iconSrc:n==null?void 0:n.btnPreIcn,styleRoute:"btn-pre-i",setIcon:()=>B("btnPreIcn"),removeIcon:()=>N("btnPreIcn"),isPro:!0}),t.jsx(R,{label:"Trailing Icon",iconSrc:n==null?void 0:n.btnSufIcn,styleRoute:"btn-suf-i",setIcon:()=>B("btnSufIcn"),removeIcon:()=>N("btnSufIcn"),isPro:!0})]}),t.jsx(p,{}),t.jsx(ft,{}),t.jsx(p,{}),t.jsx(mt,{}),t.jsx(p,{}),t.jsx("div",{className:i(o.fieldSection,{pr:"36px"}),children:t.jsx(ut,{id:"ful-wid-btn",tip:"By disabling this option, the button full width will be remove",title:c("Full Width"),action:J,isChecked:S||""})}),t.jsx(p,{}),!S&&t.jsx(h,{id:"btn-algn",title:c("Button Align"),className:i(o.fieldSection),open:!0,children:t.jsx("div",{className:i(o.placeholder),children:t.jsx("select",{"data-testid":"btn-algn-slct",className:i(o.input),name:"",id:"",value:L,onChange:U,children:$.map(s=>t.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})})}),S&&t.jsx(h,{id:"txt-algn",title:c("Text Align"),className:i(o.fieldSection),open:!0,children:t.jsx("div",{className:i(o.placeholder),children:t.jsx("select",{"data-testid":"txt-algn-slct",className:i(o.input),name:"",id:"",value:K||"center",onChange:G,children:$.map(s=>t.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})})}),t.jsx(p,{}),t.jsxs(h,{id:"btn-typ",title:c("Button Type"),className:i(o.fieldSection),open:!0,children:[t.jsx("div",{className:i(o.placeholder),children:t.jsx("select",{"data-testid":"btn-typ-slct",className:i(o.input),name:"",id:"",value:T,onChange:q,children:I.map(s=>t.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})}),v.btnTyp&&t.jsx("span",{className:i({cr:"red",ml:10}),children:v.btnTyp})]}),t.jsx(p,{}),t.jsx(gt,{})]}),t.jsxs(et,{md:!0,autoHeight:!0,show:M,setModal:y,className:"o-v",title:c("Icons"),children:[t.jsx("div",{className:"pos-rel"}),t.jsx(ht,{iconType:E,addPaddingOnSelect:!1,setModal:y})]})]})}export{Zt as default};
