var I=Object.defineProperty;var j=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var f=(i,l,a)=>l in i?I(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,r=(i,l)=>{for(var a in l||(l={}))L.call(l,a)&&f(i,a,l[a]);if(j)for(var a of j(l))z.call(l,a)&&f(i,a,l[a]);return i};import{g as M,r as S,a as F,k as R,_ as o,j as e,N as T,a9 as V,E as O,x as P,d as H,l as q,b as B,b6 as Y,a8 as E,az as G,f as J,c as K,p as _,V as Q,u as U,q as W,s as u,bi as C,bj as w,b1 as X}from"./main-763.js";import{L as Z}from"./bf-186-183.js";import{S as ee}from"./bf-596-184.js";import{i as y,F as k}from"./bf-814-69.js";import{t as N}from"./bf-895-185.js";import"./bf-563-72.js";function se({formID:i}){const[l,a]=M(G),[s,m]=S.useState({show:!1}),{css:x}=F(),{pathname:d}=R(),D=t=>{const c=J(l,n=>{n.splice(t+1,0,{title:n[t].title,sub:n[t].sub,body:n[t].body}),n.push({updateTem:1})});a(c)},$=(t,c)=>{if(c.original.id){const n=K({formID:i,id:c.original.id},"bitforms_delete_mailtemplate").then(b=>{if(b!==void 0&&b.success){const h=_(l);h.splice(t,1),a(h)}});Q.promise(n,{loading:"Deleting",success:"Successfully Deleted",error:"Error Occurred"})}else{const n=_(l);n.splice(t,1),a(n)}},p=()=>{s.show=!1,m(r({},s))},g=(t,c)=>{s.btnTxt=o("Delete"),s.body=o("Are you sure to delete this template"),s.btnClass="",s.action=()=>{$(t,c),p()},s.show=!0,m(r({},s))},v=t=>{s.btnTxt=o("Duplicate"),s.body=o("Are you sure to duplicate this template?"),s.btnClass="blue",s.action=()=>{D(t),p()},s.show=!0,m(r({},s))},A=[{Header:o("Template Name"),accessor:"title",Cell:t=>e.jsx(T,{to:`${d}/${t.row.index}`,children:e.jsx("b",{children:t.cell.value})})},{Header:o("Action"),accessor:"action",Cell:t=>e.jsxs(e.Fragment,{children:[e.jsx(y,{onClick:()=>v(t.row.index),className:"icn-btn mr-2 tooltip pos-rel",style:{"--tooltip-txt":`'${o("Duplicate")}'`},children:e.jsx(V,{size:"22"})}),e.jsx(T,{to:`${d}/${t.row.index}`,className:"icn-btn mr-2 flx flx-center tooltip pos-rel",style:{"--tooltip-txt":`'${o("Edit")}'`},children:e.jsx(O,{size:"22"})}),e.jsx(y,{onClick:()=>g(t.row.index,t.row),className:"icn-btn tooltip pos-rel",style:{"--tooltip-txt":`'${o("Delete")}'`},children:e.jsx(P,{size:"21"})})]})}];return e.jsxs("div",{className:"w-7",children:[e.jsx(H,{show:s.show,close:p,btnTxt:s.btnTxt,btnClass:s.btnClass,body:s.body,action:s.action}),e.jsx("h2",{children:o("Email Templates")}),e.jsxs("h5",{children:["How to setup Email Templates & Send Email Notification:  ",e.jsx("a",{href:N.emailTemplates.link,target:"_blank",rel:"noreferrer",className:"yt-txt ml-1 mr-1",children:"YouTube"}),e.jsx("a",{href:N.emailTemplatesDoc.link,target:"_blank",rel:"noreferrer",className:"doc-txt",children:"Documentation"})]}),e.jsxs("div",{className:"",children:[e.jsxs(q,{to:`${d}/new`,className:`${x(B.btn)} blue`,children:[e.jsx(Z,{size:"20"})," ",o("Add New Template")]}),l.length>0?e.jsx(Y,{height:"60vh",className:"btcd-neu-table mr-1",columns:A,data:l}):e.jsxs("div",{className:x(E.btcdEmpty,E.txCenter),children:[e.jsx(ee,{size:"50"}),o("Empty")]})]})]})}const te=C(()=>w(()=>import("./bf-555-181.js"),["./bf-555-181.js","./main-763.js","./main-763.css","./bf-563-72.js","./bf-620-410.css","./bf-814-69.js","./bf-623-409.css"],import.meta.url),{fallback:e.jsx(k,{})}),le=C(()=>w(()=>import("./bf-309-182.js"),["./bf-309-182.js","./main-763.js","./main-763.css","./bf-563-72.js","./bf-620-410.css","./bf-814-69.js","./bf-623-409.css"],import.meta.url),{fallback:e.jsx(k,{})});function de(){const i=U(X);return e.jsxs(W,{children:[e.jsx(u,{index:!0,element:e.jsx(se,{formID:i})}),e.jsx(u,{path:"/new",element:e.jsx(te,{})}),e.jsx(u,{path:"/:id",element:e.jsx(le,{})})]})}export{de as default};
