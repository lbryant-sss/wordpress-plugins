import{g as G,i as P,A as J,r as h,a as Q,u as tt,_ as r,j as t,M as et,I as st,dU as nt,f as u,bD as x,dX as lt,dV as at,dY as it,aF as ot,aV as rt,aZ as ct,dj as dt,dW as ut}from"./main-311.js";import{F as c}from"./bf-185-284.js";import{a as pt}from"./bf-31-251.js";import{F as bt,b as mt,A as xt,H as ft,c as gt}from"./bf-80-233.js";import{A as ht}from"./bf-630-285.js";import{F as vt}from"./bf-855-387.js";import{F as p,I as jt}from"./bf-618-323.js";import{F as M}from"./bf-461-322.js";import{S as v}from"./bf-989-253.js";import"./bf-129-86.js";import"./bf-228-79.js";import"./bf-174-88.js";import"./bf-6-110.js";import"./bf-810-70.js";import"./bf-577-113.js";import"./bf-984-247.js";import"./bf-363-248.js";import"./bf-306-249.js";import"./bf-469-250.js";import"./bf-561-252.js";import"./bf-787-254.js";import"./bf-858-255.js";import"./bf-537-256.js";import"./bf-982-87.js";import"./bf-237-257.js";import"./bf-797-78.js";import"./bf-492-80.js";import"./bf-978-105.js";import"./bf-571-282.js";import"./bf-846-283.js";import"./bf-27-272.js";function Jt(){const{fieldKey:e}=G(),[d,b]=P(ot),n=J(d[e]),[j,y]=h.useState({}),[R,S]=h.useState(!1),[H,W]=h.useState(""),{txt:E,align:L,txtAlign:V,fulW:I,btnTyp:$}=n,[z,D]=h.useState(L),{css:i}=Q(),[K,f]=P(rt),O=tt(ct),A=[{name:r("Left"),value:"start"},{name:r("Center"),value:"center"},{name:r("Right"),value:"end"}],F=[{name:"Reset",value:"reset",disabled:!1},{name:"Button",value:"button",disabled:!1}];st&&F.push({name:"Save Draft",value:"save-draft",disabled:!1});function U(s){const{value:l}=s.target,a=nt(l);n.txt=a;const o=u(d,g=>{g[e]=n});b(o),x({event:`Button text updated : ${n.txt}`,type:"change_btn_txt",state:{fields:o,fldKey:e}})}function X(s){const{value:l}=s.target;if(n.btnTyp=l,n.btnTyp==="submit"&&B()){y({btnTyp:r("Already have a submit button")}),setTimeout(()=>{y({btnTyp:""})},3e3);return}j.btnTyp&&y({btnTyp:""});let a="var(--btn-bg)",o="var(--btn-c)",g="var(--btn-bdr-clr)",C="var(--btn-bdr)",k="var(--btn-bdr-width)";l==="reset"&&(a="hsla(240, 12%, 94%, 100)",o="hsla(208, 46%, 25%, 100)"),l==="save-default"&&(a="hsla(0, 0%, 100%, 100)",o="var(--btn-bgc)",g="var(--btn-bgc)",C="solid",k="1px"),f(T=>u(T,m=>{m.fields[e].classes[`.${e}-btn`].background=a,m.fields[e].classes[`.${e}-btn`].color=o,l!=="save-draft"&&(m.fields[e].classes[`.${e}-btn`]["border-color"]=g,m.fields[e].classes[`.${e}-btn`]["border-style"]=C,m.fields[e].classes[`.${e}-btn`]["border-width"]=k,m.fields[e].classes[`.${e}-btn:hover`].color="var(--btn-c)")}));const w=u(d,T=>{T[e]=n});b(w),x({event:`Button Type updated to ${l}: ${n.txt}`,type:"set_btn_typ",state:{fields:w,fldKey:e}})}function Y(s){const{value:l}=s.target;f(a=>u(a,o=>{o.fields[e].classes[`.${e}-inp-fld-wrp`]["justify-content"]=l})),n.align=l,b(u(d,a=>{a[e]=n})),D(l),x({event:`Button Alignment changed to ${l}: ${n.txt}`,type:"set_btn_align",state:{fields:d,fldKey:e}})}function Z(s){const{value:l}=s.target;f(a=>u(a,o=>{o.fields[e].classes[`.${e}-btn`]["justify-content"]=l})),n.txtAlign=l,b(u(d,a=>{a[e]=n})),x({event:`Button Text Alignment changed to ${l}: ${n.txt}`,type:"set_btn_text_align",state:{fields:d,fldKey:e}})}const B=()=>Object.values(d).filter(l=>l.typ==="button"&&l.btnTyp==="submit").length>=1;(!B()||$==="submit")&&F.push({name:"Submit",value:"submit",disabled:!0});function q(s){f(a=>u(a,o=>{o.fields[e].classes[`.${e}-btn`].width=s.target.checked?"100%":"auto"})),n.fulW=s.target.checked;const l=u(d,a=>{a[e]=n});b(l),x({event:`Button Full width ${s.target.checked?"on":"off"}`,type:"set_btn_full",state:{fields:l,fldKey:e}})}const N=s=>{lt(K,e,dt[s])||at(O,s),it(s,e),W(s),S(!0)},_=s=>{if(n[s]){delete n[s];const l=u(d,a=>{a[e]=n});b(l),x({event:`${ut[s]} Icon Deleted`,type:`delete_${s}`,state:{fldKey:e,fields:l}})}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"",children:[t.jsx(bt,{title:"Field Settings",subtitle:n.typ,fieldKey:e}),t.jsx(mt,{}),t.jsx(p,{}),t.jsxs(v,{id:"btn-txt-stng",title:r("Button Text"),className:i(c.fieldSection),open:!0,children:[t.jsx("div",{className:i(c.placeholder),children:t.jsx(ht,{id:"btn-txt","aria-label":"Button text",placeholder:"Type text here...",value:E,changeAction:U})}),t.jsx(M,{label:r("Leading Icon"),iconSrc:n==null?void 0:n.btnPreIcn,styleRoute:"btn-pre-i",setIcon:()=>N("btnPreIcn"),removeIcon:()=>_("btnPreIcn"),isPro:!0}),t.jsx(M,{label:r("Trailing Icon"),iconSrc:n==null?void 0:n.btnSufIcn,styleRoute:"btn-suf-i",setIcon:()=>N("btnSufIcn"),removeIcon:()=>_("btnSufIcn"),isPro:!0})]}),t.jsx(p,{}),t.jsx(xt,{}),t.jsx(p,{}),t.jsx(ft,{}),t.jsx(p,{}),t.jsx(vt,{}),t.jsx(p,{}),t.jsx("div",{className:i(c.fieldSection,{pr:"36px"}),children:t.jsx(pt,{id:"ful-wid-btn",tip:"By disabling this option, the button full width will be remove",title:r("Full Width"),action:q,isChecked:I||""})}),t.jsx(p,{}),!I&&t.jsx(v,{id:"btn-algn",title:r("Button Align"),className:i(c.fieldSection),open:!0,children:t.jsx("div",{className:i(c.placeholder),children:t.jsx("select",{"data-testid":"btn-algn-slct",className:i(c.input),name:"",id:"",value:z,onChange:Y,children:A.map(s=>t.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})})}),I&&t.jsx(v,{id:"txt-algn",title:r("Text Align"),className:i(c.fieldSection),open:!0,children:t.jsx("div",{className:i(c.placeholder),children:t.jsx("select",{"data-testid":"txt-algn-slct",className:i(c.input),name:"",id:"",value:V||"center",onChange:Z,children:A.map(s=>t.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})})}),t.jsx(p,{}),t.jsxs(v,{id:"btn-typ",title:r("Button Type"),className:i(c.fieldSection),open:!0,children:[t.jsx("div",{className:i(c.placeholder),children:t.jsx("select",{"data-testid":"btn-typ-slct",className:i(c.input),name:"",id:"",value:$,onChange:X,children:F.map(s=>t.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})}),j.btnTyp&&t.jsx("span",{className:i({cr:"red",ml:10}),children:j.btnTyp})]}),t.jsx(p,{}),t.jsx(gt,{})]}),t.jsxs(et,{md:!0,autoHeight:!0,show:R,setModal:S,className:"o-v",title:r("Icons"),children:[t.jsx("div",{className:"pos-rel"}),t.jsx(jt,{iconType:H,addPaddingOnSelect:!1,setModal:S})]})]})}export{Jt as default};
