import{v as I,t as j,r as o,a as w,j as t,S as k,B as v,a8 as N,_ as G}from"./main-763.js";import"./bf-814-69.js";import{B as _}from"./bf-563-72.js";import{S as y}from"./bf-919-119.js";import{a as B,G as C,s as R}from"./bf-199-357.js";import{I as b}from"./bf-412-329.js";import E from"./bf-446-234.js";import{h as F,d as P}from"./bf-918-358.js";import"./bf-895-185.js";import"./bf-731-74.js";import"./bf-68-359.js";import"./bf-289-398.js";import"./bf-441-399.js";function Q({formFields:l,setIntegration:d,integrations:p,allIntegURL:h}){const g=I(),{formID:i}=j(),[m,n]=o.useState(!1),[s,c]=o.useState(1),{css:f}=w(),[u,a]=o.useState({show:!1}),[e,r]=o.useState({name:"Google Sheet API",type:"Google Sheet",clientId:"",clientSecret:"",spreadsheetId:"",worksheetName:"",field_map:[{formField:"",googleSheetField:""}],header:"ROWS",headerRow:"A1",actions:{}});o.useEffect(()=>{window.opener&&B("googleSheet")},[]);const S=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!P(e)){a({show:!0,msg:"Please map fields to continue."});return}e.spreadsheetId!==""&&e.worksheetName!==""&&e.field_map.length>0&&c(3)};return t.jsxs("div",{children:[t.jsx(k,{snack:u,setSnackbar:a}),t.jsx("div",{className:"txt-center w-9 mt-2 cal-width",children:t.jsx(y,{step:3,active:s})}),t.jsx(E,{formID:i,sheetConf:e,setSheetConf:r,step:s,setstep:c,setSnackbar:a,isLoading:m,setisLoading:n}),t.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,height:s===2&&"100%"},children:[t.jsx(C,{formID:i,formFields:l,handleInput:x=>F(x,e,r,i,n,a),sheetConf:e,setSheetConf:r,isLoading:m,setisLoading:n,setSnackbar:a}),t.jsxs(v,{onClick:()=>S(),disabled:!e.spreadsheetId||!e.worksheetName||e.field_map.length<1,className:f(N.ftRight),children:[G("Next"),t.jsx(_,{className:"ml-1 rev-icn"})]})]}),t.jsx(b,{step:s,saveConfig:()=>R(p,d,h,e,g)})]})}export{Q as default};
