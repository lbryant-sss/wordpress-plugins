var k=Object.defineProperty;var g=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(e,o,s)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,c=(e,o)=>{for(var s in o||(o={}))V.call(o,s)&&y(e,s,o[s]);if(g)for(var s of g(o))P.call(o,s)&&y(e,s,o[s]);return e};import{c as _,V as M,_ as m,u as S,j as n,bf as $,x as w,$ as B}from"./main-579.js";import{S as O,M as q}from"./bf-559-69.js";import{B as A}from"./bf-750-359.js";const E=(e,o,s,a)=>{const t=c({},s);t[e].splice(o,0,{}),a(c({},t))},U=(e,o,s)=>{const a=_({post_type:e==null?void 0:e.post_type},"bitforms_get_metabox_fields").then(t=>{var i,p,r,u;return t!==void 0&&t.success&&((i=t==null?void 0:t.data)!=null&&i.metaboxFields&&o(t.data.metaboxFields),(p=t==null?void 0:t.data)!=null&&p.metaboxFile&&s(t.data.metaboxFile)),((r=t==null?void 0:t.data)==null?void 0:r.metaboxFields.length)!==0||((u=t==null?void 0:t.data)==null?void 0:u.metaboxFile.length)!==0?"Successfully refresh MetaBox Fields.":"MetaBox Fields not found"});M.promise(a,{success:t=>t,error:m("Error Occured"),loading:m("Loading MetaBox Fields...")})},I=(e,o,s,a)=>{const t=c({},s);t[e].length>1&&t[e].splice(o,1),a(c({},t))},j=(e,o,s,a,t)=>{const i=c({},a);i[e][s][o.target.name]=o.target.value,t(c({},i))},G=e=>!((e!=null&&e.post_map?e.post_map.filter(s=>!s.formField&&s.postField&&s.required):[]).length>0),H=e=>!((e!=null&&e.metabox_map?e.metabox_map.filter(s=>!s.formField&&s.acfField&&s.required):[]).length>0),J=(e,o)=>{const s=_({},"bitforms_get_post_type").then(a=>{var t,i,p;if(a&&a.success){let r=c({},e);return(t=a==null?void 0:a.data)!=null&&t.post_types&&(r=Object.values((i=a==null?void 0:a.data)==null?void 0:i.post_types),o(r)),((p=a==null?void 0:a.data)==null?void 0:p.post_types.length)!==0?"Successfully refresh Post Types.":" Post Types not found"}});M.promise(s,{success:a=>a,error:m("Error Occured"),loading:m("Loading Post Types...")})};function K({i:e,type:o,formFields:s,field:a,dataConf:t,setDataConf:i,customFields:p,fieldType:r}){var f;const u=S(B),{isPro:h}=u,N={metabox:{propName:"metabox_map",fldName:"metaboxField"},post:{propName:"post_map",fldName:"postField"},metaboxFile:{propName:"metabox_file_map",fldName:"metaboxFileUpload"}},{propName:d,fldName:x}=N[o],v=(l,T)=>{const F=c({},t);F[d][T].customValue=l.target.value,i(F)},b=!!p.find(l=>l.key===a[x]&&l.required);return n.jsxs("div",{className:"flx mt-2 mr-1",children:[n.jsxs("div",{className:"flx integ-fld-wrp",children:[n.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:a.formField||"",onChange:l=>j(d,l,e,t,i),children:[n.jsx("option",{value:"",children:m("Select Field")}),o!=="metaboxFile"?n.jsxs(n.Fragment,{children:[n.jsx(A,{formFields:s,notAllowFieldType:["file-up"]}),n.jsx("option",{value:"custom",children:m("Custom...")})]}):n.jsx("optgroup",{label:"Form Fields",children:s.map(l=>$.includes(l.type)&&n.jsx("option",{value:l.key,children:l.name},`ff-zhcrm-${l.key}`))}),r!=="file"&&n.jsx("optgroup",{label:`General Smart Codes ${h?"":"(PRO)"}`,children:h&&((f=O)==null?void 0:f.map(l=>n.jsx("option",{value:l.name,children:l.label},`ff-rm-${l.name}`)))})]}),a.formField==="custom"&&n.jsx(q,{onChange:l=>v(l,e),label:m("Custom Value"),className:"mr-2",type:"text",value:a.customValue,placeholder:m("Custom Value")}),n.jsxs("select",{className:"btcd-paper-inp",name:x,value:a[x]||"",onChange:l=>j(d,l,e,t,i),disabled:b,children:[n.jsx("option",{value:"",children:m("Select Field")}),p==null?void 0:p.map(l=>n.jsx("option",{value:l.key,children:`${l.name}`},`${l.name}-1`))]})]}),!b&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>E(d,e,t,i),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),n.jsx("button",{onClick:()=>I(d,e,t,i),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:n.jsx(w,{size:"15"})})]})]})}export{K as F,E as a,U as b,G as c,H as d,J as r};
