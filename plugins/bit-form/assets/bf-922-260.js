var U=Object.defineProperty,q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var j=(l,s,o)=>s in l?U(l,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[s]=o,c=(l,s)=>{for(var o in s||(s={}))J.call(s,o)&&j(l,o,s[o]);if(b)for(var o of b(s))K.call(s,o)&&j(l,o,s[o]);return l},T=(l,s)=>q(l,G(s));import{g as Y,r as Q,a as W,v as X,w as Z,al as ee,u as $,k as te,_ as n,j as e,U as _,aj as se,E as ae,J as oe,d as le,G as ne,bb as ie,ai as y,I as re,c1 as ce,f as w,aK as de,c0 as me,$ as pe,c as ue,q as C,V as fe,s as xe,t as x,bm as N,x as v,B as he}from"./main-381.js";import{F as D}from"./bf-500-70.js";import{L as be}from"./bf-180-327.js";import{S as je}from"./bf-315-328.js";import{t as g}from"./bf-35-88.js";import{B as P}from"./bf-461-113.js";import"./bf-540-79.js";import"./bf-964-112.js";import"./bf-878-172.js";import"./bf-445-114.js";function Te({formID:l}){const[s,o]=Y(de),[a,p]=Q.useState({show:!1}),{css:k}=W(),E=X(),{formType:F}=Z(),I=ee(me),A=$(pe);let{pdf:u}=A.allFormSettings;u===void 0&&(u={direction:"ltr",font:{name:"DejaVuSansCondensed",fontFamily:"dejavusanscondensed"},fontColor:"#000000",fontFamily:"dejavusanscondensed",fontSize:10,orientation:"p",paperSize:"a4",pdfFileName:"",watermark:{}});const{pathname:h}=te(),S=t=>{const r=w(s,i=>{const{title:d,body:m,setting:B}=i[t],H=`${d} - Copy`;i.splice(t+1,0,{title:H,body:m,setting:B}),i.push({updateTem:1})});o(r)},z=(t,r)=>{if(r.original.id){const i=ue({formID:l,id:r.original.id},"bitforms_delete_pdf_template").then(d=>{if(d!==void 0&&d.success){const m=C(s);m.splice(t,1),o(m)}});fe.promise(i,{loading:"Deleting",success:"Successfully Deleted",error:"Error Occurred"})}else{const i=C(s);i.splice(t,1),o(i)}},f=()=>{a.show=!1,p(c({},a))},L=(t,r)=>{a.btnTxt=n("Delete"),a.body=n("Are you sure to delete this template"),a.btnClass="",a.action=()=>{z(t,r),f()},a.show=!0,p(c({},a))},M=t=>{a.btnTxt=n("Duplicate"),a.body=n("Are you sure to duplicate this template?"),a.btnClass="blue",a.action=()=>{S(t),f()},a.show=!0,p(c({},a))},R={title:"Untitled PDF Template",setting:T(c({},u),{password:{static:!0,pass:""}}),body:"${bf_all_data}"},V=()=>{if(!re){I(c({show:!0},ce.pdfProInstalledAlert));return}const t=s.length,r=w(s,i=>{i.push(R),i.push({updateTem:1})});o(r),E(`/form/settings/${F}/${l}/pdf-templates/${t}`)},O=[{Header:n("Template Name"),accessor:"title",Cell:t=>e.jsx(_,{to:`${h}/${t.row.index}`,children:e.jsx("b",{children:t.cell.value})})},{Header:n("Action"),accessor:"action",Cell:t=>e.jsxs(e.Fragment,{children:[e.jsx(P,{onClick:()=>M(t.row.index),className:"icn-btn mr-2 tooltip pos-rel",style:{"--tooltip-txt":`'${n("Duplicate")}'`},children:e.jsx(se,{size:"22"})}),e.jsx(_,{to:`${h}/${t.row.index}`,className:"icn-btn mr-2 flx flx-center tooltip pos-rel",style:{"--tooltip-txt":`'${n("Edit")}'`},children:e.jsx(ae,{size:"22"})}),e.jsx(P,{onClick:()=>L(t.row.index,t.row),className:"icn-btn tooltip pos-rel",style:{"--tooltip-txt":`'${n("Delete")}'`},children:e.jsx(oe,{size:"21"})})]})}];return e.jsxs("div",{className:"w-7",children:[e.jsx(le,{show:a.show,close:f,btnTxt:a.btnTxt,btnClass:a.btnClass,body:a.body,action:a.action}),e.jsx("h2",{children:n("PDF Templates")}),e.jsxs("h5",{className:"mt-3",children:["How to setup PDF Templates:",e.jsx("a",{href:g.pdfTemplate.link,target:"_blank",rel:"noreferrer",className:"yt-txt ml-1 mr-1",children:"YouTube"}),e.jsx("a",{href:g.pdfTemplateDoc.link,target:"_blank",rel:"noreferrer",className:"doc-txt",children:"Documentation"})]}),e.jsxs("div",{className:"",children:[e.jsxs(ne,{size:"sm",onClick:V,children:[e.jsx(be,{size:"20"}),"Â ",n("Add New Template")]}),s.length>0?e.jsx(ie,{height:"60vh",className:"btcd-neu-table mr-1",columns:O,data:s.sort((t,r)=>r.id-t.id)}):e.jsxs("div",{className:k(y.btcdEmpty,y.txCenter),children:[e.jsx(je,{size:"50"}),n("Empty")]})]})]})}const _e=N(()=>v(()=>import("./bf-708-329.js"),["./bf-708-329.js","./main-381.js","./main-381.css","./bf-540-79.js","./bf-381-406.css","./bf-841-104.js","./bf-964-112.js","./bf-878-172.js"],import.meta.url),{fallback:e.jsx(D,{})}),ye=N(()=>v(()=>import("./bf-218-330.js"),["./bf-218-330.js","./main-381.js","./main-381.css","./bf-540-79.js","./bf-381-406.css","./bf-878-172.js","./bf-841-104.js","./bf-500-70.js","./bf-964-112.js","./bf-461-113.js","./bf-445-114.js","./bf-521-405.css"],import.meta.url),{fallback:e.jsx(D,{})});function Ie(){const l=$(he);return e.jsxs(xe,{children:[e.jsx(x,{index:!0,element:e.jsx(Te,{formID:l})}),e.jsx(x,{path:"/new",element:e.jsx(_e,{})}),e.jsx(x,{path:"/:id",element:e.jsx(ye,{})})]})}export{Ie as default};
