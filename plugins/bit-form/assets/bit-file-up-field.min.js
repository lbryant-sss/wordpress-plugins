var bit_file_up_field=function(){"use strict";return class{#e=null;#t=null;#s=null;#i=null;#l=null;#a=null;#r=null;#c=null;#n=null;#h={};#o=[];#f=null;#d={};#p="";#u={};#m={};#v="";#g="";#b=[];#w={id:"upload",name:"upload",required:!0,multiple:!1,maxSize:0,sizeUnit:"KB",isItTotalMax:!1,showMaxSize:!0,showSelectStatus:!0,fileSelectStatus:"No Choosen File",allowedFileType:"",showFileList:!0,showFilePreview:!0,showFileSize:!0,accept:".pdf,.exe,.msi",duplicateAllow:!1,capture:"",minFile:0,maxFile:0,onchange:()=>{console.log("Hellow World")},oninput:()=>{}};constructor(e,t){Object.assign(this.#w,t),this.#f=t.document?t.document:document,this.#d=t.window?t.window:window,this.#u=t.attributes||{},this.#m=t.classNames||{},this.#p=t.contentId||"",this.#e="string"==typeof e?this.#f.querySelector(e):e,this.#v=this.#w.fieldKey,this.fieldKey=this.#v,this.#g=t.assetsURL||"",this.init()}init(){this.#t=this.#C(`.${this.#v}-label`),this.#s=this.#C(`.${this.#v}-inp-btn`),this.#i=this.#C(`.${this.#v}-file-select-status`),this.#l=this.#C(`.${this.#v}-file-input-wrpr`),this.#a=this.#C(`.${this.#v}-max-size-lbl`),this.#r=this.#C(`.${this.#v}-file-upload-input`),this.#n=this.#C(`.${this.#v}-file-input-wrpr .err-wrp`);const{multiple:e,allowedFileType:t,accept:s,showSelectStatus:i,fileSelectStatus:l,oldFiles:a}=this.#w;this.#r.multiple=e,this.#r.accept=t?`${t}, ${s}`:s,i&&this.#i?this.#i.innerHTML=l:this.#i?.remove(),this.#h={},this.#L(),a&&this.#F(a),this.#S(this.#r,"change",e=>this.#y(e)),this.#S(this.#s,"click",()=>this.#r.click())}#x(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.error("Invalid JSON string",e)}return Array.isArray(e)?e:[]}#F(e){const t=this.#x(e);this.#b=t,this.#c||this.#A(),t.forEach(e=>{this.#E(e)});const s=this.#$("input");s.type="hidden",s.name=this.#z(),s.value=this.#b.toString(),this.#l.appendChild(s)}#E(e){const t=this.#$("div"),s=e.replace(/( |\.|\(|\))/g,"");if(t.id=`file-wrp-${s}`,this.#U(t,"file-wrpr"),"file-wrpr"in this.#m){const e=this.#m["file-wrpr"];e&&this.#I(t,e)}if("file-wrpr"in this.#u){const e=this.#u["file-wrpr"];this.#T(t,e)}const i=this.#$("div");this.#U(i,"file-details");const l=this.#$("a");if(this.#U(l,"file-title"),"file-title"in this.#m){const e=this.#m["file-title"];e&&this.#I(l,e)}if("file-title"in this.#w.attributes){const e=this.#w.attributes["file-title"];this.#T(l,e)}this.#N(l,"target","_blank"),this.#N(l,"href",`${this.#w.baseDLURL}&fileID=${e}`),this.#K(l,e),i.append(l),t.append(i);const a=this.#$("button");if(this.#U(a,"cross-btn"),"cross-btn"in this.#m){const e=this.#m["cross-btn"];e&&this.#I(a,e)}if(this.#N(a,"data-file-id",s),this.#N(a,"data-file-name",e),this.#N(a,"type","button"),"cross-btn"in this.#w.attributes){const e=this.#w.attributes["cross-btn"];this.#T(a,e)}this.#K(a,"×"),this.#S(a,"click",e=>this.#k(e)),t.append(a),this.#c.appendChild(t)}#y(e){const{files:t}=this.#r,{sizeUnit:s,allowMaxSize:i,maxSize:l,maxSizeErrMsg:a,isItTotalMax:r,multiple:c,showFileList:n,fileExistMsg:h,showFilePreview:o,showFileSize:f,showSelectStatus:d,fileSelectStatus:p,minFile:u,minFileErrMsg:m,maxFile:v,maxFileErrMsg:g}=this.#w,b=this.#M(s,l);let w=0;const C=[];this.#O(this.#n,"active"),r&&Object.values(this.#h).forEach(e=>{w+=e.size}),!c&&t.length>0&&(this.#h={},this.#c&&this.#K(this.#c,""));for(let e=0;e<t.length;e+=1){const s=t[e],c=s.name.replace(/( |\.|\(|\))/g,"");if(this.#h[c])C.push(h);else if(!i||!l||s.size+w<=b)if(!(v>0)||Object.keys(this.#h).length<v){if(this.#h[c]=s,n){this.#c||this.#A();const e=this.#$("div");if(e.id=`file-wrp-${c}`,this.#U(e,"file-wrpr"),"file-wrpr"in this.#m){const t=this.#m["file-wrpr"];t&&this.#I(e,t)}if("file-wrpr"in this.#u){const t=this.#u["file-wrpr"];this.#T(e,t)}if(o){const t=this.#$("img");if(t.src=this.#W(s),t.alt="Image Uploaded",this.#U(t,"file-preview"),"file-preview"in this.#m){const e=this.#m["file-preview"];e&&this.#I(t,e)}if("file-preview"in this.#u){const e=this.#u["file-preview"];this.#T(t,e)}e.append(t)}const t=this.#$("div");this.#U(t,"file-details");const i=this.#$("span");if(this.#U(i,"file-title"),"file-title"in this.#m){const e=this.#m["file-title"];e&&this.#I(i,e)}if("file-title"in this.#w.attributes){const e=this.#w.attributes["file-title"];this.#T(i,e)}if(this.#K(i,s.name),t.append(i),f){const e=this.#$("span");if(this.#U(e,"file-size"),"file-size"in this.#m){const t=this.#m["file-size"];t&&this.#I(e,t)}if("file-size"in this.#w.attributes){const t=this.#w.attributes["file-size"];this.#T(e,t)}this.#K(e,this.#j(s.size)),t.append(e)}e.append(t);const l=this.#$("button");if(this.#U(l,"cross-btn"),"cross-btn"in this.#m){const e=this.#m["cross-btn"];e&&this.#I(l,e)}if(this.#N(l,"data-file-id",c),"cross-btn"in this.#w.attributes){const e=this.#w.attributes["cross-btn"];this.#T(l,e)}this.#K(l,"×"),e.append(l),this.#c.append(e)}r&&(w+=s.size)}else this.#n.innerHTML=g,this.#U(this.#n,"active"),setTimeout(()=>{this.#O(this.#n,"active")},3e3);else C.push(a)}this.#R(`.${this.#v}-file-input-wrpr .cross-btn`).forEach(e=>{this.#S(e,"click",e=>this.#B(e))});const L=Object.keys(this.#h).length;this.#H(),L&&d?this.#i.innerText=`${L} file${L>1?"s":""} selected`:d&&(this.#i.innerHTML=p),u>0&&L<u&&(this.#n.innerHTML=m,this.#U(this.#n,"active")),!this.#c&&C.length>0&&this.#A(),C.map((e,t)=>{this.#c.insertAdjacentHTML("afterbegin",`\n      <div id='err-${t}' class="err-wrp">\n          ${e}\n      </div>`);const s=this.#C(`#err-${t}`);this.#U(s,"active"),setTimeout(()=>{this.#O(s,"active")},3e3),setTimeout(()=>{s?.remove(),Object.keys(this.#h).length||this.#L()},5e3)})}#A(){if(this.#c=this.#$("div"),this.#U(this.#c,"files-list"),"files-list"in this.#m){const e=this.#m["files-list"];e&&this.#I(this.#c,e)}if("files-list"in this.#u){const e=this.#u["files-list"];this.#T(this.#c,e)}this.#l.append(this.#c)}#L(){this.#c?.remove(),this.#c=null}#H(){const e=new DataTransfer;Object.values(this.#h)?.forEach(t=>{e.items.add(t)}),this.#r.files=e.files}#k(e){const t=e.target.getAttribute("data-file-id"),s=e.target.getAttribute("data-file-name");this.#_(`#file-wrp-${t}`),this.#b=this.#b.filter(e=>e!==s),this.#C(`input[name="${this.#z()}"]`).value=this.#b.toString()}#B=e=>{const t=e.target.getAttribute("data-file-id");this.#_(`#file-wrp-${t}`),delete this.#h[t];const s=Object.keys(this.#h).length;s?this.#i.innerText=`${s} file${s>1?"s":""} selected`:(this.#i.innerHTML=this.#w.fileSelectStatus,this.#L()),this.#H()};#C(e){return this.#e.querySelector(e)}#R(e){return this.#e.querySelectorAll(e)}#_(e){this.#C(e)?.remove()}#$(e){return this.#f.createElement(e)}#W(e){switch(e.name.substring(e.name.lastIndexOf(".")+1)){case"xbm":case"tif":case"pjp":case"pjpeg":case"svgz":case"jpg":case"jpeg":case"ico":case"tiff":case"gif":case"svg":case"bmp":case"png":case"jfif":case"webp":return URL.createObjectURL(e);case"7z":case"arj":case"deb":case"pkg":case"rar":case".rpm":case".gz":case"z":case"zip":return`${this.#g}/zip-compressed.svg`;case"key":case"odp":case"pps":case"ppt":case"pptx":return`${this.#g}/presentation.svg`;case"_RF_":case"doc":case"docx":case"odt":case"pdf":case"rtf":case"tex":case"txt":case"wks":case"wps":case"wpd":return`${this.#g}/document.svg`;case"csv":case"dat":case"db":case"dbf":case"log":case"mdb":case"sav":case"sql":case"tar":case"sqlite":case"xml":return`${this.#g}/database.svg`;case"opus":case"flac":case"webm":case"weba":case"wav":case"ogg":case"m4a":case"mp3":case"oga":case"mid":case"amr":case"aiff":case"wma":case"au":case"acc":case"wpl":case"ogm":case"wmv":case"mpg":case"ogv":case"mov":case"asx":case"mpeg":case"mp4":case"m4v":case"avi":case"3gp":case"flv":case"mkv":case"swf":return`${this.#g}/file-audio.svg`;default:return`${this.#g}/paperclip.svg`}}#S(e,t,s){e.addEventListener(t,s),this.#o.push({element:e,eventType:t,eventAction:s})}#U(e,t){e.classList.add(t)}#O(e,t){e.classList.remove(t)}#K(e,t){e.textContent=t}#N(e,t,s){e?.setAttribute?.(t,s)}#I(e,t){t.trim().split(/\b\s+\b/g).forEach(t=>this.#U(e,t))}#T(e,t){const s=t.length;if(s)for(let i=0;i<s;i+=1)this.#N(e,t[i].key,t[i].value)}#j(e){return e<1024?`${e}Bytes`:e>=1024&&e<1048576?`${(e/1024).toFixed(1)}KB`:e>=1048576&&e<1073741824?`${(e/1048576).toFixed(1)}MB`:e>=1073741824?`${(e/1073741824).toFixed(1)}GB`:void 0}#M(e,t){switch(e){case"Bytes":return t;case"KB":return 1024*t;case"MB":return 1048576*t;case"GB":return 1073741824*t;default:return 0}}#q(){this.#o.forEach(({element:e,eventType:t,eventAction:s})=>{e.removeEventListener(t,s)})}#z(){return"undefined"!=typeof checkRepeatedField&&checkRepeatedField(this.#v,this.#d?.bf_globals?.[this.#p])?`${this.#v}_old[]`:`${this.#v}_old`}checkValidate(){return 0===this.#b.length&&0===Object.keys(this.#h).length?"req":""}set value(e){this.#F(e)}get value(){return this.#h}destroy(){this.#c&&(this.#c.innerHTML=""),this.#q()}reset(){this.destroy(),this.init()}}}();
