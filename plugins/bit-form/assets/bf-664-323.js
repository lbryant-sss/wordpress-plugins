var A=Object.defineProperty,B=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var $=(s,a,l)=>a in s?A(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,d=(s,a)=>{for(var l in a||(a={}))I.call(a,l)&&$(s,l,a[l]);if(T)for(var l of T(a))P.call(a,l)&&$(s,l,a[l]);return s},c=(s,a)=>B(s,_(a));import{r,g as H,u as f,e3 as R,v as D,t as G,a as L,j as e,M as O,_ as n,Q,b as g,aI as U,y as V,$ as W,f as N}from"./main-215.js";import{B as q}from"./bf-458-78.js";import{S as z}from"./bf-945-171.js";import{T as J}from"./bf-262-111.js";function te(){var y;const[s,a]=r.useState({title:"Untitled Template",sub:"Email Subject",body:"${bf_all_data}"}),[l,v]=H(U),p=f(V),[u]=r.useState(()=>p.filter(t=>!R.includes(t.typ))),[w,F]=r.useState(!1),{formType:h,formID:m}=D(),S=G(),{css:b}=L(),M=f(W),{isPro:x}=M,C=t=>{a(i=>N(i,o=>{o.body=t}))},j=({target:{name:t,value:i}})=>{a(o=>c(d({},o),{[t]:i}))},E=()=>{const t=N(l,i=>{i.push(s),i.push({updateTem:1})});v(t),S(`/form/settings/${h}/${m}/email-templates`)},k=({target:{value:t}})=>{a(i=>c(d({},i),{sub:i.sub+t})),setTimeout(()=>{t=""},100)};return e.jsxs("div",{style:{width:900},children:[e.jsx(O,{show:w,setModal:F,title:n("Browse Template"),children:e.jsx("h4",{className:"txt-dp",children:n("Email Templates Coming soon")})}),e.jsxs(Q,{to:`/form/settings/${h}/${m}/email-templates`,className:`${b(g.btn)} btcd-btn-o-gray`,children:[e.jsx(q,{className:"mr-1"}),n("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:E,className:`${b(g.btn)} blue f-right`,type:"button",children:n("Save Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsxs("b",{style:{width:103},children:[n("Template Name:")," "]}),e.jsx("input",{onChange:j,name:"title",type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:s.title})]}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsx("b",{style:{width:100},children:"Subject:"}),e.jsx("input",{onChange:j,name:"sub",type:"text",className:"btcd-paper-inp w-7",placeholder:"Email Subject Here",value:s.sub}),e.jsxs("select",{onChange:k,className:"btcd-paper-inp ml-2",style:{width:150},children:[e.jsx("option",{value:"",children:n("Add field")}),e.jsx("optgroup",{label:"Form Fields",children:u!==null&&u.map(t=>!t.type.match(/^(file-up|recaptcha)$/)&&e.jsx("option",{value:`\${${t.key}}`,children:t.name},t.key))}),e.jsx("optgroup",{label:`General Smart Codes ${x?"":"(PRO)"}`,children:x&&((y=z)==null?void 0:y.map(t=>e.jsx("option",{value:`\${${t.name}}`,children:t.label},`ff-rm-${t.name}`)))})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:n("Body:")}),e.jsx("label",{htmlFor:`mail-tem-${m}`,className:"mt-2 w-10",children:e.jsx(J,{id:`mail-tem-${m}`,formFields:p,value:s.body,onChangeHandler:C,width:"100%",mapAllFieldWithTable:!0,mapAllField:!0})})]})]})}export{te as default};
