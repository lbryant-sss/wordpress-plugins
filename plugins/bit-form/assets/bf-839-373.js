var I=Object.defineProperty;var j=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var v=(s,e,t)=>e in s?I(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,L=(s,e)=>{for(var t in e||(e={}))_.call(e,t)&&v(s,t,e[t]);if(j)for(var t of j(e))k.call(e,t)&&v(s,t,e[t]);return s};import{v as C,r as m,j as a,S as F,V as d}from"./main-643.js";import"./bf-816-79.js";import{S as N}from"./bf-346-262.js";import{a7 as b}from"./bf-397-81.js";import{I as w}from"./bf-840-187.js";import{N as P}from"./bf-170-108.js";import E from"./bf-2-126.js";import{h as T,c as V}from"./bf-602-184.js";import{M as q}from"./bf-341-227.js";import"./bf-53-88.js";import"./bf-123-183.js";import"./bf-312-185.js";import"./bf-351-114.js";import"./bf-171-172.js";function $({formFields:s,setIntegration:e,integrations:t,allIntegURL:f}){const u=C(),[g,p]=m.useState(!1),[r,h]=m.useState(1),[S,l]=m.useState({show:!1}),[i,c]=m.useState({name:"MailerLite",type:"MailerLite",auth_token:"",field_map:[{formField:"",mailerLiteFormField:"email"}],mailer_lite_type:"",mailerLiteFields:[],groups:[],group_ids:[],actions:{}}),M=()=>{p(!0),b(t,e,f,i,u,"","").then(n=>{var x;n.success?(d.success((x=n.data)==null?void 0:x.msg),u(f)):d.error(n.data||n)})},y=o=>{if(!V(i)){d.error("Please map mandatory fields");return}i.field_map.length>0&&h(o),document.querySelector(".btcd-s-wrp").scrollTop=0};return a.jsxs("div",{children:[a.jsx(F,{snack:S,setSnackbar:l}),a.jsx("div",{className:"txt-center mt-2",children:a.jsx(N,{step:3,active:r})}),a.jsx(E,{mailerLiteConf:i,setMailerLiteConf:c,step:r,setstep:h,isLoading:g,setIsLoading:p,setSnackbar:l}),a.jsxs("div",{className:"btcd-stp-page",style:L({},r===2&&{width:900,height:"auto",overintegrations:"visible"}),children:[a.jsx(q,{formFields:s,handleInput:o=>T(o,i,c),mailerLiteConf:i,setMailerLiteConf:c,isLoading:g,setIsLoading:p,setSnackbar:l}),a.jsx(P,{nextPageHandler:()=>y(3)})]}),a.jsx(w,{step:r,saveConfig:()=>M()})]})}export{$ as default};
