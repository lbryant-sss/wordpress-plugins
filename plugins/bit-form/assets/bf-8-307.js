import{g as ie,i as le,ap as ne,z as ae,u as L,a as se,r as re,_ as a,j as e,h as s,R as K,m as M,d4 as oe,cL as F,cP as f,f as g,bC as _,V as U,aE as ce,aU as de,U as me,$ as pe}from"./main-559.js";import{u as ue,C as I}from"./bf-669-79.js";import{t as $}from"./bf-16-321.js";import{F as d}from"./bf-96-283.js";import{C as E}from"./bf-728-105.js";import{S as he}from"./bf-279-395.js";import{a as ge}from"./bf-48-250.js";import{A as k}from"./bf-51-284.js";import{F as xe,c as fe}from"./bf-4-233.js";import{F as m}from"./bf-559-322.js";import{S as y}from"./bf-600-252.js";import"./bf-285-110.js";import"./bf-298-70.js";import"./bf-574-113.js";import"./bf-649-247.js";import"./bf-478-248.js";import"./bf-291-249.js";import"./bf-963-251.js";import"./bf-773-253.js";import"./bf-697-254.js";import"./bf-225-255.js";import"./bf-384-87.js";import"./bf-559-88.js";import"./bf-952-256.js";import"./bf-121-78.js";import"./bf-286-271.js";import"./bf-816-86.js";import"./bf-643-80.js";import"./bf-867-281.js";import"./bf-924-282.js";const ye={AED:"United Arab Emirates Dirham",AUD:"Australian Dollar",BGN:"Bulgarian Lev",BRL:"Brazilian Real",CAD:"Canadian Dollar",CHF:"Swiss Franc",CZK:"Czech Koruna",DKK:"Danish Krone",EUR:"Euro",GBP:"British Pound Sterling",HKD:"Hong Kong Dollar",HRK:"Croatian Kuna",HUF:"Hungarian Forint",ILS:"Israeli New Sheqel",ISK:"Icelandic Króna",JPY:"Japanese Yen",MXN:"Mexican Peso",MYR:"Malaysian Ringgit",NOK:"Norwegian Krone",NZD:"New Zealand Dollar",PHP:"Philippine Peso",PLN:"Polish Zloty",RON:"Romanian Leu",RUB:"Russian Ruble",SEK:"Swedish Krona",SGD:"Singapore Dollar",THB:"Thai Baht",TWD:"New Taiwan Dollar",USD:"United States Dollar",ZAR:"South African Rand"},je={en_US:"English (United States)(en_US)",en_GB:"English (United Kingdom)(en_GB)",nl_NL:"Dutch (Netherlands)(nl_NL)",nl_BE:"Dutch (Belgium)(nl_BE)",fr_FR:"French (France)(fr_FR)",fr_BE:"French (Belgium)(fr_FR)",de_DE:"German (Germany)(fr_FR)",de_AT:"German (Austria)(fr_FR)",de_CH:"German (Switzerland)(fr_FR)",es_ES:"Spanish (Spain)(fr_FR)",ca_ES:"Catalan (Spain)(fr_FR)",pt_PT:"Portuguese (Portugal)(fr_FR)",it_IT:"Italian (Italy)(fr_FR)",nb_NO:"Norwegian (Bokmål)(fr_FR)",sv_SE:"Swedish (Sweden)(fr_FR)",fi_FI:"Finnish (Finland)(fr_FR)",da_DK:"Danish (Denmark)(fr_FR)",is_IS:"Icelandic (Iceland)(fr_FR)",hu_HU:"Hungarian (Hungary)(fr_FR)",pl_PL:"Polish (Poland)(fr_FR)",lv_LV:"Latvian (Latvia)(fr_FR)",lt_LT:"Lithuanian (Lithuania)(fr_FR)"},be=[{title:"Apple Pay",method:"applepay",min:.01,max:5e4},{title:"Bancontact",method:"bancontact",min:.01,max:5e4},{title:"Bank Transfer",method:"banktransfer",min:.01,max:1e6},{title:"Belfius",method:"belfius",min:.01,max:5e4},{title:"Credit Card",method:"creditcard",min:0,max:1e4},{title:"Direct Debit",method:"directdebit",min:.01,max:1e3},{title:"EPS",method:"eps",min:1,max:1e4},{title:"Gift Card",method:"giftcard",min:.01,max:5e4},{title:"Giropay",method:"giropay",min:1,max:1e4},{title:"iDEAL",method:"ideal",min:.01,max:5e4},{title:"KBC",method:"kbc",min:.01,max:5e4},{title:"MyBank",method:"mybank",min:.01,max:5e4},{title:"PayPal",method:"paypal",min:0,max:1e4},{title:"Paysafecard",method:"paysafecard",min:1,max:999},{title:"Przelewy24",method:"przelewy24",min:.01,max:55e3},{title:"Sofort",method:"sofort",min:.01,max:5e4},{title:"Twint",method:"twint",min:.01,max:5e4}];function Xe(){var w;const{fieldKey:n}=ie(),[u,x]=le(ce),H=ne(de),r=ae(u[n]),G=Object.entries(u),O=L(me),j=((w=r.config)==null?void 0:w.amountType)==="dynamic",{css:l}=se(),{payIntegID:D,config:o,txt:z,btnFulW:v,btnAlign:V,txtAlign:W}=r,{allPages:Z}=L(pe),S=re.useRef(null),T=[{name:a("Left"),value:"start"},{name:a("Center"),value:"center"},{name:a("Right"),value:"end"}],b=(t,i,c)=>{t?f(n,i):F({fieldKey:n,errorKey:i,errorMsg:a(c),errorUrl:`field-settings/${n}`})},p=(t,i)=>{switch(i?M(r,t,i):oe(r,t),t){case"config->amount":Number(i)<.01?F({fieldKey:n,errorKey:"mollieAmountMin",errorMsg:a(`Mollie Minimum Amount is ${.01}`),errorUrl:`field-settings/${n}`}):(f(n,"mollieAmountMin"),f(n,"mollieAmountMissing"));break;case"config->amountFld":b(i,"mollieAmountFldMissing","Mollie Dynamic Amount Field is not Selected");break;case"config->redirect_url":b(i,"mollieRedirectUrlMissing","Mollie Redirect Url is not Selected");break;case"config->currency":b(i,"mollieCurrencyMissing","Mollie Currency is not Selected");break;case"config->description":b(i,"mollieDescriptionMissing","Mollie Description is Required");break}const c=g(u,h=>{h[n]=r});x(c),_({event:`${Fe[t]} to ${i}: ${r.lbl||n}`,type:`${t}_changed`,state:{fields:c,fldKey:n}})},P=t=>{t.target.value?r.config.amountType=t.target.value:delete r.config.amountType,delete r.config.amount,delete r.config.amountFld,r.config.amountType==="dynamic"?(f(n,"mollieAmountMissing"),F({fieldKey:n,errorKey:"mollieAmountFldMissing",errorMsg:a("Mollie Dynamic Amount Field is not Selected"),errorUrl:`field-settings/${n}`})):(f(n,"mollieAmountFldMissing"),F({fieldKey:n,errorKey:"mollieAmountMissing",errorMsg:a("Mollie Fixed Amount is not valid"),errorUrl:`field-settings/${n}`}));const i=g(u,c=>{c[n]=r});x(i),_({event:`Amount Type Changed to "${t.target.value}": ${r.lbl||n}`,type:"set_amount",state:{fields:i,fldKey:n}})},q=()=>G.filter(i=>i[1].typ.match(/^(radio|number|currency)/)).map(i=>e.jsx("option",{value:i[0],children:i[1].adminLbl||i[1].lbl},i[0])),Y=()=>O.filter(i=>i.type==="Mollie").map(i=>e.jsx("option",{value:i.id,children:i.name},i.id));function J(t){r.txt=t.target.value;const i=g(u,c=>{c[n]=r});x(i),_({event:`Mollie pay button text updated : ${r.txt}`,type:"change_mollie_pay_btn_txt",state:{fields:i,fldKey:n}})}const X=()=>be.map(t=>({value:t.method,label:t.title})),Q=t=>{if(t){const c=t.split(",");M(r,"config->payment_method",c)}else M(r,"config->payment_method",["creditcard"]);const i=g(u,c=>{c[n]=r});x(i)},A=(t,i)=>{let c=null,h=null;H(N=>g(N,C=>{t==="btnFulW"?(C.fields[n].classes[`.${n}-mollie-btn`].width=i?"100%":"auto",c=`Button Full width ${i?"on":"off"}`,h="set_btn_full"):t==="txtAlign"?(C.fields[n].classes[`.${n}-mollie-btn`]["justify-content"]=i,c=`Button Text Align ${i}`,h="set_btn_txt_align"):t==="btnAlign"&&(C.fields[n].classes[`.${n}-mollie-wrp`]["justify-content"]=i,c=`Button Align ${i}`,h="set_btn_align")})),r[t]=i;const B=g(u,N=>{N[n]=r});x(B),_({event:c,type:h,state:{fields:B,fldKey:n}})},ee=t=>navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t):(S.current.setAttribute("value",t),S.current.select(),new Promise((i,c)=>{document.execCommand("copy")?i():c()})),te=()=>{ee("[bitform_payments]").then(()=>U.success(a("Copied on clipboard."))).catch(()=>U.error(a("Failed to Copy, Try Again.")))};return e.jsxs("div",{children:[e.jsx(xe,{title:"Field Settings",subtitle:r.typ,fieldKey:n}),e.jsx(y,{id:"slct-cnfg-stng",title:"Mollie Accounts",className:l(d.fieldSection),open:!0,children:e.jsxs("select",{"data-testid":"slct-cnfg-slct",name:"payIntegID",id:"payIntegID",onChange:t=>p(t.target.name,t.target.value),className:l(d.input),value:D,children:[e.jsx("option",{value:"",children:"Select Account"}),Y()]})}),e.jsx(m,{}),D&&e.jsxs(e.Fragment,{children:[e.jsxs(y,{id:"btn-txt-stng",title:a("Redirect Page Url"),className:l(d.fieldSection),open:!0,children:[e.jsx("div",{className:l(d.placeholder),children:e.jsxs("select",{"data-testid":"prfil-page_url-slct",onChange:t=>p("config->redirect_url",t.target.value),className:l(d.input),value:(o==null?void 0:o.redirect_url)||"",children:[e.jsx("option",{value:"",children:a("Select Page")}),Z.map(t=>e.jsx("option",{value:t.url,children:t.title},t.title))]})}),e.jsxs("div",{className:l(d.placeholder),children:[e.jsx("p",{children:"Page URL"}),e.jsx("input",{"data-testid":"nam-stng-inp","aria-label":"Name for this Field",placeholder:"Name for this Field",className:l(d.input),value:(o==null?void 0:o.redirect_url)||"",onChange:t=>p("config->redirect_url",t.target.value)})]}),e.jsxs("p",{className:l({fw:400,cr:"#5c5959"}),children:[e.jsx("strong",{children:"Note: "}),"Create/Edit a page and insert the shortcode"," ",e.jsx("span",{title:"Click for Copy shortcode",role:"button",tabIndex:"0",onClick:te,className:l({cr:"#44484a",cur:"pointer","&:hover":{cr:"#0056b3",td:"underline"}}),children:e.jsx("strong",{children:"[bitform_payments]"})})," ","into the page content. Once the page is save successfully, copy the page URL and paste it into the"," ",e.jsx("strong",{children:"Page URL"}),"."," ","field. After a successful payment, Mollie will redirect users to this page."]}),e.jsx("input",{className:l({oy:0,h:0,m:0,pn:"absolute",tp:0}),ref:S})]}),e.jsx(m,{}),e.jsx(y,{id:"btn-txt-stng",title:a("Pay Button Text"),className:l(d.fieldSection),open:!0,children:e.jsx("div",{className:l(d.placeholder),children:e.jsx(k,{id:"pay-btn-txt","aria-label":"Mollie pay button text",placeholder:"Type text here...",value:z,changeAction:t=>J(t)})})}),e.jsx(m,{}),e.jsx("div",{className:l(s.ml2,s.mr2,s.p1),children:e.jsxs("label",{htmlFor:"currency",children:[e.jsxs("b",{children:[a("Payment Method")," "]}),e.jsx(ue,{className:"w-10 btcd-paper-drpdwn mt-1 btcd-ttc",options:X(),onChange:t=>Q(t),defaultValue:o.payment_method||[]})]})}),e.jsx(m,{}),e.jsx("div",{className:l(s.ml2,s.mr2,s.p1),children:e.jsxs("label",{htmlFor:"currency",children:[e.jsxs("b",{children:[a("Currency")," "]}),e.jsxs("select",{"data-testid":"prfil-country-slct",onChange:t=>p("config->currency",t.target.value),className:l(d.input),value:(o==null?void 0:o.currency)||"",children:[e.jsx("option",{value:"",children:a("Select Currency")}),Object.entries(ye).map(([t,i])=>e.jsx("option",{value:t,children:i},t))]})]})}),e.jsx(m,{}),e.jsxs("div",{className:l(s.ml2,s.mr2,s.p1),children:[e.jsx("b",{className:l(R.amountType),children:a("Amount Type")}),e.jsx(E,{id:"amnt-typ-fxd",onChange:P,radio:!0,checked:!j,title:a("Fixed")}),e.jsx(E,{id:"amnt-typ-dynmc",onChange:P,radio:!0,checked:j,title:a("Dynamic"),value:"dynamic"})]}),!j&&e.jsx("div",{className:l(s.ml2,s.mr2,s.p1),children:e.jsx(he,{id:"amnt",className:l(s.mt0),cls:l(d.input),inpType:"number",title:a("Amount"),value:(o==null?void 0:o.amount)||"",action:t=>p("config->amount",t.target.value)})}),j&&e.jsxs("div",{className:l(s.ml2,s.mr2,s.p1),children:[e.jsx("b",{children:a("Select Amount Field")}),e.jsxs("select",{"data-testid":"slct-amnt-slct",onChange:t=>p("config->amountFld",t.target.value),name:"amountFld",className:l(d.input),value:o==null?void 0:o.amountFld,children:[e.jsx("option",{value:"",children:a("Select Field")}),q()]})]}),e.jsx(m,{}),e.jsx("div",{className:l(s.ml2,s.mr2,s.p1),children:e.jsxs("label",{htmlFor:"description",children:[e.jsxs("b",{className:l(R.amountType),children:[a("Description"),e.jsx(I,{children:e.jsx("div",{className:"txt-body",children:e.jsx(K,{html:$.mollieDescription})})})]}),e.jsx(k,{id:"description","aria-label":"Mollie description text",placeholder:"Type text here...",value:o==null?void 0:o.description,changeAction:t=>p("config->description",t.target.value)})]})}),e.jsx(m,{}),e.jsx("div",{className:l(s.ml2,s.mr2,s.p1),children:e.jsxs("label",{htmlFor:"locale",children:[e.jsxs("b",{className:l(R.amountType),children:[a("Locale"),e.jsx(I,{children:e.jsx("div",{className:"txt-body",children:e.jsx(K,{html:$.mollieLocale})})})]}),e.jsxs("select",{"data-testid":"prfil-locale-slct",onChange:t=>p("config->locale",t.target.value),className:l(d.input),value:(o==null?void 0:o.locale)||"",children:[e.jsx("option",{value:"",children:a("Select Locale")}),Object.entries(je).map(([t,i])=>e.jsx("option",{value:t,children:i},t))]})]})})]}),e.jsx(m,{}),e.jsx("div",{className:l(s.ml2,s.mr2,s.p1,{pr:"36px"}),children:e.jsx(ge,{id:"ful-wid-btn",tip:"By disabling this option, the button full width will be remove",title:a("Full Width"),action:({target:t})=>A("btnFulW",t.checked),isChecked:v||""})}),e.jsx(m,{}),!v&&e.jsx(y,{id:"mollie-btn-algn",title:a("Button Align"),className:l(d.fieldSection),open:!0,children:e.jsx("div",{className:l(d.placeholder),children:e.jsx("select",{"data-testid":"btn-algn-slct",className:l(d.input),value:V,onChange:({target:t})=>A("btnAlign",t.value),children:T.map(t=>e.jsx("option",{value:t.value,children:t.name},`btcd-k-${t.name}`))})})}),v&&e.jsx(y,{id:"mollie-txt-algn",title:a("Text Align"),className:l(d.fieldSection),open:!0,children:e.jsx("div",{className:l(d.placeholder),children:e.jsx("select",{"data-testid":"mollie-txt-algn",className:l(d.input),value:W||"center",onChange:({target:t})=>A("txtAlign",t.value),children:T.map(t=>e.jsx("option",{value:t.value,children:t.name},`btcd-k-${t.name}`))})})}),e.jsx(m,{}),e.jsx(fe,{}),e.jsx(m,{})]})}const Fe={payIntegID:"Payment Configuration Changed",planId:"Plan Id Changed",locale:"Language Selected",disableFunding:"Disabled Card",amount:"Amount",amountFld:"Amount Field Selected",shipping:"Shipping Cost",shippingFld:"Shipping Amount Field Selected",tax:"Tax changed",taxFld:"Tax Amount Field Selected",currency:"Currency Selected",description:"Other Description",descFld:"Description Field Selected",layout:"Layout Changed"},R={amountType:{dy:"flex !important",fw:600,"& .hover-tip":{oy:0}}};export{Xe as default};
