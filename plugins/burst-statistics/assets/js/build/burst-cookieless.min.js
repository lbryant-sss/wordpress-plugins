((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ThumbmarkJS={})})(this,function(e){let u="https://api.thumbmarkjs.com",d={exclude:[],include:[],stabilize:["private","iframe"],logging:!0,timeout:5e3,cache_api_call:!0,performance:!1},r={...d},l={private:[{exclude:["canvas"],browsers:["firefox","safari>=17","brave"]},{exclude:["audio"],browsers:["samsungbrowser","safari"]},{exclude:["fonts"],browsers:["firefox"]},{exclude:["audio.sampleHash","hardware.deviceMemory","header.acceptLanguage.q","system.hardwareConcurrency","plugins"],browsers:["brave"]},{exclude:["tls.extensions"],browsers:["firefox","chrome","safari"]},{exclude:["header.acceptLanguage"],browsers:["edge","chrome"]}],iframe:[{exclude:["permissions.camera","permission.geolocation","permissions.microphone","system.applePayVersion","system.cookieEnabled"],browsers:["safari"]}],vpn:[{exclude:["ip"]}]};function t(r,e,t){var n=[];for(let t=0;t<r[0].data.length;t++){var a=[];for(let e=0;e<r.length;e++)a.push(r[e].data[t]);n.push((t=>{if(0===t.length)return 0;var r={};for(let e of t)r[e]=(r[e]||0)+1;let n=t[0];for(let e in r)r[e]>r[n]&&(n=parseInt(e,10));return n})(a))}var o=new Uint8ClampedArray(n);return new ImageData(o,e,t)}function c(e){return e^=e>>>16,e=Math.imul(e,2246822507),e^=e>>>13,((e=Math.imul(e,3266489909))^e>>>16)>>>0}let m=new Uint32Array([597399067,2869860233,951274213,2716044179]);function h(e,t){return e<<t|e>>>32-t}function g(t,n=0){if(n=n?0|n:0,"string"==typeof t&&(a=t,t=(new TextEncoder).encode(a).buffer),!(t instanceof ArrayBuffer))throw new TypeError("Expected key to be ArrayBuffer or string");var a=new Uint32Array([n,n,n,n]);{var n,o=a;let e=(n=t).byteLength/16|0,r=new Uint32Array(n,0,4*e);for(let t=0;t<e;t++){let e=r.subarray(4*t,4*(t+1));e[0]=Math.imul(e[0],m[0]),e[0]=h(e[0],15),e[0]=Math.imul(e[0],m[1]),o[0]=o[0]^e[0],o[0]=h(o[0],19),o[0]=o[0]+o[1],o[0]=Math.imul(o[0],5)+1444728091,e[1]=Math.imul(e[1],m[1]),e[1]=h(e[1],16),e[1]=Math.imul(e[1],m[2]),o[1]=o[1]^e[1],o[1]=h(o[1],17),o[1]=o[1]+o[2],o[1]=Math.imul(o[1],5)+197830471,e[2]=Math.imul(e[2],m[2]),e[2]=h(e[2],17),e[2]=Math.imul(e[2],m[3]),o[2]=o[2]^e[2],o[2]=h(o[2],15),o[2]=o[2]+o[3],o[2]=Math.imul(o[2],5)+2530024501,e[3]=Math.imul(e[3],m[3]),e[3]=h(e[3],18),e[3]=Math.imul(e[3],m[0]),o[3]=o[3]^e[3],o[3]=h(o[3],13),o[3]=o[3]+o[0],o[3]=Math.imul(o[3],5)+850148119}}var n=t,e=a,r=n.byteLength/16|0,i=n.byteLength%16,s=new Uint32Array(4),u=new Uint8Array(n,16*r,i);switch(i){case 15:s[3]=s[3]^u[14]<<16;case 14:s[3]=s[3]^u[13]<<8;case 13:s[3]=s[3]^u[12],s[3]=Math.imul(s[3],m[3]),s[3]=h(s[3],18),s[3]=Math.imul(s[3],m[0]),e[3]=e[3]^s[3];case 12:s[2]=s[2]^u[11]<<24;case 11:s[2]=s[2]^u[10]<<16;case 10:s[2]=s[2]^u[9]<<8;case 9:s[2]=s[2]^u[8],s[2]=Math.imul(s[2],m[2]),s[2]=h(s[2],17),s[2]=Math.imul(s[2],m[3]),e[2]=e[2]^s[2];case 8:s[1]=s[1]^u[7]<<24;case 7:s[1]=s[1]^u[6]<<16;case 6:s[1]=s[1]^u[5]<<8;case 5:s[1]=s[1]^u[4],s[1]=Math.imul(s[1],m[1]),s[1]=h(s[1],16),s[1]=Math.imul(s[1],m[2]),e[1]=e[1]^s[1];case 4:s[0]=s[0]^u[3]<<24;case 3:s[0]=s[0]^u[2]<<16;case 2:s[0]=s[0]^u[1]<<8;case 1:s[0]=s[0]^u[0],s[0]=Math.imul(s[0],m[0]),s[0]=h(s[0],15),s[0]=Math.imul(s[0],m[1]),e[0]=e[0]^s[0]}n=t,(r=a)[0]=r[0]^n.byteLength,r[1]=r[1]^n.byteLength,r[2]=r[2]^n.byteLength,r[3]=r[3]^n.byteLength,r[0]=r[0]+r[1]|0,r[0]=r[0]+r[2]|0,r[0]=r[0]+r[3]|0,r[1]=r[1]+r[0]|0,r[2]=r[2]+r[0]|0,r[3]=r[3]+r[0]|0,r[0]=c(r[0]),r[1]=c(r[1]),r[2]=c(r[2]),r[3]=c(r[3]),r[0]=r[0]+r[1]|0,r[0]=r[0]+r[2]|0,r[0]=r[0]+r[3]|0,r[1]=r[1]+r[0]|0,r[2]=r[2]+r[0]|0,r[3]=r[3]+r[0]|0;i=new Uint8Array(a.buffer);return Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join("")}let i=["Arial","Arial Black","Arial Narrow","Arial Rounded MT","Arimo","Archivo","Barlow","Bebas Neue","Bitter","Bookman","Calibri","Cabin","Candara","Century","Century Gothic","Comic Sans MS","Constantia","Courier","Courier New","Crimson Text","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dosis","Droid Sans","Exo","Fira Code","Fira Sans","Franklin Gothic Medium","Garamond","Geneva","Georgia","Gill Sans","Helvetica","Impact","Inconsolata","Indie Flower","Inter","Josefin Sans","Karla","Lato","Lexend","Lucida Bright","Lucida Console","Lucida Sans Unicode","Manrope","Merriweather","Merriweather Sans","Montserrat","Myriad","Noto Sans","Nunito","Nunito Sans","Open Sans","Optima","Orbitron","Oswald","Pacifico","Palatino","Perpetua","PT Sans","PT Serif","Poppins","Prompt","Public Sans","Quicksand","Rajdhani","Recursive","Roboto","Roboto Condensed","Rockwell","Rubik","Segoe Print","Segoe Script","Segoe UI","Sora","Source Sans Pro","Space Mono","Tahoma","Taviraj","Times","Times New Roman","Titillium Web","Trebuchet MS","Ubuntu","Varela Round","Verdana","Work Sans"],s=["monospace","sans-serif","serif"];function p(e,t){if(e)return e.font="72px "+t,e.measureText("WwMmLli0Oo").width;throw new Error("Canvas context not supported")}let n=(t,r,e,n)=>{var a=(e-r)/n;let o=0;for(let e=0;e<n;e++)o+=t(r+(e+.5)*a);return o*a};function a(r,e){let n={};return e.forEach(t=>{var e=(e=>{if(0===e.length)return null;let t={},r=(e.forEach(e=>{e=String(e);t[e]=(t[e]||0)+1}),e[0]),n=1;return Object.keys(t).forEach(e=>{t[e]>n&&(r=e,n=t[e])}),r})(r.map(e=>t in e?e[t]:void 0).filter(e=>void 0!==e));e&&(n[t]=e)}),n}let o=["accelerometer","accessibility","accessibility-events","ambient-light-sensor","background-fetch","background-sync","bluetooth","camera","clipboard-read","clipboard-write","device-info","display-capture","gyroscope","geolocation","local-fonts","magnetometer","microphone","midi","nfc","notifications","payment-handler","persistent-storage","push","speaker","storage-access","top-level-storage-access","window-management","query"];function f(){var a;if("undefined"!=typeof navigator){let e=navigator.userAgent,t=[/(?<name>SamsungBrowser)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>EdgA|EdgiOS|Edg)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>OPR|OPX)\/(?<version>\d+(?:\.\d+)+)/,/Opera[\s\/](?<version>\d+(?:\.\d+)+)/,/Opera Mini\/(?<version>\d+(?:\.\d+)+)/,/Opera Mobi\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Vivaldi)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Brave)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>CriOS)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>FxiOS)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Chrome|Chromium)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Firefox|Waterfox|Iceweasel|IceCat)\/(?<version>\d+(?:\.\d+)+)/,/Version\/(?<version1>[\d.]+).*Safari\/[\d.]+|(?<name>Safari)\/(?<version2>[\d.]+)/,/(?<name>MSIE|Trident|IEMobile).+?(?<version>\d+(?:\.\d+)+)/,/(?<name>[A-Za-z]+)\/(?<version>\d+(?:\.\d+)+)/],n={edg:"Edge",edga:"Edge",edgios:"Edge",opr:"Opera",opx:"Opera",crios:"Chrome",fxios:"Firefox",samsung:"SamsungBrowser",vivaldi:"Vivaldi",brave:"Brave"};for(var o of t){let r=e.match(o);if(r){let e=null==(a=r.groups)?void 0:a.name,t=(null==(a=r.groups)?void 0:a.version)||(null==(a=r.groups)?void 0:a.version1)||(null==(a=r.groups)?void 0:a.version2);if(!(e=!(e=!(e=!(e=!e&&(null!=(a=r.groups)&&a.version1||null!=(a=r.groups)&&a.version2)?"Safari":e)&&o.source.includes("Opera Mini")?"Opera Mini":e)&&o.source.includes("Opera Mobi")?"Opera Mobi":e)&&o.source.includes("Opera")?"Opera":e)&&r[1]&&(e=r[1]),!t&&r[2]&&(t=r[2]),e)return{name:n[e.toLowerCase()]||e,version:t||"unknown"}}}}return{name:"unknown",version:"unknown"}}function b(){var e;return!("undefined"==typeof navigator||!navigator.userAgent)&&/Mobi|Android|iPhone|iPod|IEMobile|Opera Mini|Opera Mobi|webOS|BlackBerry|Windows Phone/i.test(e=navigator.userAgent)&&!/iPad/i.test(e)}let v="SamsungBrowser"!==f().name?1:3,_,w=null,y={audio:async function(){return(async()=>new Promise((a,e)=>{try{let t=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,5e3,44100),r=t.createBufferSource(),e=t.createOscillator();e.frequency.value=1e3;var o=t.createDynamicsCompressor();let n;o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.2,e.connect(o),o.connect(t.destination),e.start(),t.oncomplete=e=>{n=e.renderedBuffer.getChannelData(0),a({sampleHash:(t=>{let r=0;for(let e=0;e<t.length;++e)r+=Math.abs(t[e]);return r})(n),maxChannels:t.destination.maxChannelCount,channelCountMode:r.channelCountMode})},t.startRendering()}catch(a){console.error("Error creating audio fingerprint:",a),e(a)}}))()},canvas:async function(){return new Promise(e=>{e({commonPixelsHash:g(t(Array.from({length:3},()=>{var e=document.createElement("canvas"),t=e.getContext("2d");if(!t)return new ImageData(1,1);e.width=280,e.height=20,(r=t.createLinearGradient(0,0,e.width,e.height)).addColorStop(0,"red"),r.addColorStop(1/6,"orange"),r.addColorStop(2/6,"yellow"),r.addColorStop(.5,"green"),r.addColorStop(4/6,"blue"),r.addColorStop(5/6,"indigo"),r.addColorStop(1,"violet"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height);var r="Random Text WMwmil10Oo";return t.font="23.123px Arial",t.fillStyle="black",t.fillText(r,-5,15),t.fillStyle="rgba(0, 0, 255, 0.5)",t.fillText(r,-3.3,17.7),t.beginPath(),t.moveTo(0,0),t.lineTo(2*e.width/7,e.height),t.strokeStyle="white",t.lineWidth=2,t.stroke(),r=t.getImageData(0,0,e.width,e.height)}),280,20).data.toString()).toString()})})},fonts:async function(e){return new Promise((o,e)=>{try{(async()=>{for(;!document.body;)await((t,r)=>new Promise(e=>setTimeout(e,t,r)))(50);let e=document.createElement("iframe");e.setAttribute("frameBorder","0");var t=e.style;if(t.setProperty("position","fixed"),t.setProperty("display","block","important"),t.setProperty("visibility","visible"),t.setProperty("border","0"),t.setProperty("opacity","0"),e.src="about:blank",document.body.appendChild(e),!(t=e.contentDocument||(null==(t=e.contentWindow)?void 0:t.document)))throw new Error("Iframe document is not accessible");(async({iframe:e})=>{let r=e.createElement("canvas").getContext("2d"),n=s.map(e=>p(r,e)),a={};i.forEach(e=>{const t=p(r,e);n.includes(t)||(a[e]=t)}),o(a)})({iframe:t}),setTimeout(()=>{document.body.removeChild(e)},0)})()}catch(o){e({error:"unsupported"})}})},hardware:function(){return new Promise((e,t)=>{var r,n=void 0!==navigator.deviceMemory?navigator.deviceMemory:0,a=window.performance&&window.performance.memory?window.performance.memory:0;e({videocard:(()=>{var e;let t=document.createElement("canvas"),n=null!=(e=t.getContext("webgl"))?e:t.getContext("experimental-webgl");if(n&&"getParameter"in n)try{let e=(n.getParameter(n.VENDOR)||"").toString(),t=(n.getParameter(n.RENDERER)||"").toString();var a={vendor:e,renderer:t,version:(n.getParameter(n.VERSION)||"").toString(),shadingLanguageVersion:(n.getParameter(n.SHADING_LANGUAGE_VERSION)||"").toString()};if(!t.length||!e.length){let r=n.getExtension("WEBGL_debug_renderer_info");if(r){let e=(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),t=(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString();e&&(a.vendorUnmasked=e),t&&(a.rendererUnmasked=t)}}return a}catch(e){}return"undefined"})(),architecture:(e=new Float32Array(1),r=new Uint8Array(e.buffer),e[0]=1/0,e[0]=e[0]-e[0],r[3]),deviceMemory:n.toString()||"undefined",jsHeapSizeLimit:a.jsHeapSizeLimit||0})})},locales:function(){return new Promise(e=>{e({languages:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})})},math:function(){return new Promise(e=>{e({acos:Math.acos(.5),asin:n(Math.asin,-1,1,97),cos:n(Math.cos,0,Math.PI,97),largeCos:Math.cos(1e20),largeSin:Math.sin(1e20),largeTan:Math.tan(1e20),sin:n(Math.sin,-Math.PI,Math.PI,97),tan:n(Math.tan,0,2*Math.PI,97)})})},permissions:async function(e){let t=(null==e?void 0:e.permissions_to_check)||o;e=Array.from({length:3},()=>(async e=>{var t,r={};for(t of e)try{let e=await navigator.permissions.query({name:t});r[t]=e.state.toString()}catch(e){}return r})(t));return Promise.all(e).then(e=>a(e,t))},plugins:async function(){let t=[];if(navigator.plugins)for(let e=0;e<navigator.plugins.length;e++){var r=navigator.plugins[e];t.push([r.name,r.filename,r.description].join("|"))}return new Promise(e=>{e({plugins:t})})},screen:function(){return new Promise(e=>{var t,r,n={is_touchscreen:0<navigator.maxTouchPoints,maxTouchPoints:navigator.maxTouchPoints,colorDepth:screen.colorDepth,mediaMatches:(()=>{let r=[],e={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]};return Object.keys(e).forEach(t=>{e[t].forEach(e=>{matchMedia(`(${t}: ${e})`).matches&&r.push(t+": "+e)})}),r})()};b()&&0<navigator.maxTouchPoints&&(n.resolution=(t=window.screen.width,r=window.screen.height,Math.max(t,r).toString()+"x"+Math.min(t,r).toString())),e(n)})},system:function(){return new Promise(e=>{var t=f();e({platform:window.navigator.platform,productSub:navigator.productSub,product:navigator.product,useragent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency,browser:{name:t.name,version:t.version},mobile:b(),applePayVersion:(()=>{if("https:"===window.location.protocol&&"function"==typeof window.ApplePaySession)try{var t=window.ApplePaySession.supportsVersion;for(let e=15;0<e;e--)if(t(e))return e}catch(e){}return 0})(),cookieEnabled:window.navigator.cookieEnabled})})},webgl:async function(){"undefined"!=typeof document&&((_=document.createElement("canvas")).width=200,_.height=100,w=_.getContext("webgl"));try{if(w)return{commonPixelsHash:g(t(Array.from({length:v},()=>{try{if(!w)throw new Error("WebGL not supported");var e=w.createShader(w.VERTEX_SHADER),t=w.createShader(w.FRAGMENT_SHADER);if(!e||!t)throw new Error("Failed to create shaders");if(w.shaderSource(e,"\n          attribute vec2 position;\n          void main() {\n              gl_Position = vec4(position, 0.0, 1.0);\n          }\n      "),w.shaderSource(t,"\n          precision mediump float;\n          void main() {\n              gl_FragColor = vec4(0.812, 0.195, 0.553, 0.921); // Set line color\n          }\n      "),w.compileShader(e),!w.getShaderParameter(e,w.COMPILE_STATUS))throw new Error("Vertex shader compilation failed: "+w.getShaderInfoLog(e));if(w.compileShader(t),!w.getShaderParameter(t,w.COMPILE_STATUS))throw new Error("Fragment shader compilation failed: "+w.getShaderInfoLog(t));var r=w.createProgram();if(!r)throw new Error("Failed to create shader program");if(w.attachShader(r,e),w.attachShader(r,t),w.linkProgram(r),!w.getProgramParameter(r,w.LINK_STATUS))throw new Error("Shader program linking failed: "+w.getProgramInfoLog(r));w.useProgram(r);var n=new Float32Array(548),a=2*Math.PI/137;for(let e=0;e<137;e++){var o=e*a;n[4*e]=0,n[4*e+1]=0,n[4*e+2]=Math.cos(o)*(_.width/2),n[4*e+3]=Math.sin(o)*(_.height/2)}var i=w.createBuffer(),s=(w.bindBuffer(w.ARRAY_BUFFER,i),w.bufferData(w.ARRAY_BUFFER,n,w.STATIC_DRAW),w.getAttribLocation(r,"position")),u=(w.enableVertexAttribArray(s),w.vertexAttribPointer(s,2,w.FLOAT,!1,0,0),w.viewport(0,0,_.width,_.height),w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.drawArrays(w.LINES,0,274),new Uint8ClampedArray(_.width*_.height*4));return w.readPixels(0,0,_.width,_.height,w.RGBA,w.UNSIGNED_BYTE,u),new ImageData(u,_.width,_.height)}catch(e){return new ImageData(1,1)}finally{w&&(w.bindBuffer(w.ARRAY_BUFFER,null),w.useProgram(null),w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.clearColor(0,0,0,0))}}),_.width,_.height).data.toString()).toString()};throw new Error("WebGL not supported")}catch(e){return{webgl:"unsupported"}}}},k={},S={timeout:"true"},P=(e,t,r)=>{k[e]=t};function M(e,t){let n,r=f();if("unknown"===r.name&&e.system&&"object"==typeof e.system&&!Array.isArray(e.system)){let t=e.system.browser;if(t&&"object"==typeof t&&!Array.isArray(t)){let e=t;r={name:e.name||"unknown",version:e.version||"unknown"}}}let a=r.name.toLowerCase(),o=r.version.split(".")[0]||"0",i=parseInt(o,10),s=[...(null==t?void 0:t.exclude)||[]],u=(null==t?void 0:t.stabilize)||[],c=(null==t?void 0:t.include)||[];for(let t of u){let e=l[t];if(e)for(let r of e){let e=!("browsers"in r),t=!e&&(null==(n=r.browsers)?void 0:n.some(e=>{var n=e.match(/(.+?)(>=)(\d+)/);if(n){let[,e,,t]=n,r=parseInt(t,10);return a===e&&i>=r}return a===e}));(e||t)&&s.push(...r.exclude)}}return function t(e,n=""){var a,o,i={};for([a,o]of Object.entries(e)){let r=n?n+"."+a:a;if("object"!=typeof o||Array.isArray(o)||null===o){let e=s.some(e=>r.startsWith(e)),t=c.some(e=>r.startsWith(e));e&&!t||(i[a]=o)}else{let e=t(o,r);0<Object.keys(e).length&&(i[a]=e)}}return i}(e)}let T="thumbmark_visitor_id",E=null,x=null,A=(i,s)=>{if(i.cache_api_call&&x)return Promise.resolve(x);if(!E){let e=u+"/thumbmark",r=(()=>{try{return localStorage.getItem(T)}catch(e){return null}})(),t={components:s,options:i,clientHash:g(JSON.stringify(s)),version:"1.2.0"},n=(r&&(t.visitorId=r),fetch(e,{method:"POST",headers:{"x-api-key":i.api_key,Authorization:"custom-authorized","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>{if(e.ok)return e.json();throw new Error("HTTP error! status: "+e.status)}).then(e=>{if(e.visitorId&&e.visitorId!==r){var t=e.visitorId;try{localStorage.setItem(T,t)}catch(t){}}return x=e,E=null,e}).catch(e=>(console.error("Error fetching pro data",e),E=null))),a=i.timeout||5e3,o=new Promise(e=>{setTimeout(()=>{e({info:{timed_out:!0},version:"1.2.0"})},a)});E=Promise.race([n,o])}return E};async function C(e){var e={...d,...e},{elapsed:t,resolvedComponents:r}=await I({...y,...k},e),n=e.api_key?A(e,r):null,n=n?await n:null,t=e.performance?{elapsed:t}:{},a=M((null==n?void 0:n.components)||{},e),r={...r,...a},a=(null==n?void 0:n.info)||{uniqueness:{score:"api only"}},o=g(JSON.stringify(r));return(async(e,t,r)=>{var n=u+"/log",r={thumbmark:e,components:t,version:"1.2.0",options:r,path:null==(t=null==window?void 0:window.location)?void 0:t.pathname};if(!sessionStorage.getItem("_tmjs_l")&&Math.random()<1e-4){sessionStorage.setItem("_tmjs_l","1");try{await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}catch(e){}}})(o,r,e).catch(()=>{}),{...(null==n?void 0:n.visitorId)&&{visitorId:n.visitorId},thumbmark:o,components:r,info:a,version:"1.2.0",...t}}async function I(e,t){let r={...d,...t},n=Object.entries(e).filter(([e])=>{var t;return!(null!=(t=null==r?void 0:r.exclude)&&t.includes(e))}).filter(([t])=>{var e;return null!=(e=null==r?void 0:r.include)&&e.some(e=>e.includes("."))?null==(e=null==r?void 0:r.include)?void 0:e.some(e=>e.startsWith(t)):0===(null==(e=null==r?void 0:r.include)?void 0:e.length)||(null==(e=null==r?void 0:r.include)?void 0:e.includes(t))}),a=n.map(([e])=>e),o=n.map(([,e])=>e(t)),i=(e=o,c=(null==r?void 0:r.timeout)||5e3,l=S,await Promise.all(e.map(e=>{let t=performance.now();return Promise.race([e.then(e=>({value:e,elapsed:performance.now()-t})),(r=c,n=l,new Promise(e=>{setTimeout(()=>e(n),r)}).then(e=>({value:e,elapsed:performance.now()-t})))]);var r,n}))),s={},u={};i.forEach((e,t)=>{null!=e.value&&(u[a[t]]=e.value,s[a[t]]=null!=(t=e.elapsed)?t:0)});var c,l,e=M(u,r);return{elapsed:s,resolvedComponents:e}}e.Thumbmark=class{constructor(e){this.options={...d,...e}}async get(e){return C({...this.options,...e})}getVersion(){return"1.2.0"}includeComponent(e,t){P(e,t)}},e.filterThumbmarkData=M,e.getFingerprint=async function(e){try{var t=await C(r);return e?{hash:t.thumbmark.toString(),data:t.components}:t.thumbmark.toString()}catch(e){throw e}},e.getFingerprintData=async function(){return(await C(r)).components},e.getFingerprintPerformance=async function(){try{var{elapsed:e,resolvedComponents:t}=await I(y,r);return{...t,elapsed:e}}catch(e){throw e}},e.getThumbmark=C,e.getVersion=function(){return"1.2.0"},e.includeComponent=P,e.setOption=function(e,t){r[e]=t},e.stabilizationExclusionRules=l}),burst.tracking=burst.tracking||{isInitialHit:!0,lastUpdateTimestamp:0,ajaxUrl:""},burst.cache=burst.cache||{uid:null,fingerprint:null,isUserAgent:null,isDoNotTrack:null,useCookies:null},burst.goals?.active&&(burst.goals.active=burst.goals.active.map(e=>({...e,ID:parseInt(e.ID,10)}))),burst.goals?.completed&&(burst.goals.completed=burst.goals.completed.map(e=>parseInt(e,10)));let pageIsRendered=new Promise(e=>{document.prerendering?document.addEventListener("prerenderingchange",e,{once:!0}):e()}),burst_get_cookie=(burst.goals?.active?.some(e=>!e.page_url||""===e.page_url||e.page_url===burst.options.pageUrl)&&import(burst.goals.scriptUrl).then(e=>e.default()),e=>{var t,r=e+"=";for(t of document.cookie.split(";"))if(0===(t=t.trim()).indexOf(r))return Promise.resolve(t.substring(r.length));return Promise.reject(!1)}),burst_set_cookie=(e,t)=>{let r="";var n="https:"===location.protocol?";secure":"",a=new Date,a=(a.setTime(a.getTime()+864e5*burst.options.cookie_retention_days),";expires="+a.toGMTString());r=r&&";domain="+r,document.cookie=""+e+`=${t};SameSite=Strict${n}${a}${r};path=/`},burst_use_cookies=()=>{var e;return null!==burst.cache.useCookies?burst.cache.useCookies:(e=navigator.cookieEnabled&&!burst.options.cookieless,burst.cache.useCookies=e)};function burst_enable_cookies(){burst.options.cookieless=!1,burst_use_cookies()&&burst_uid().then(e=>burst_set_cookie("burst_uid",e))}let burst_uid=()=>null!==burst.cache.uid?Promise.resolve(burst.cache.uid):burst_get_cookie("burst_uid").then(e=>burst.cache.uid=e).catch(()=>{var e=burst_generate_uid();return burst_set_cookie("burst_uid",e),burst.cache.uid=e}),burst_generate_uid=()=>Array.from({length:32},()=>Math.floor(16*Math.random()).toString(16)).join(""),burst_fingerprint=()=>null!==burst.cache.fingerprint?Promise.resolve(burst.cache.fingerprint):new ThumbmarkJS.Thumbmark({exclude:[],permissions_to_check:["geolocation","notifications","camera","microphone","gyroscope","accelerometer","magnetometer","ambient-light-sensor","background-sync","persistent-storage"]}).get().then(e=>{var e=e.thumbmark,t=e+"|"+[screen.availWidth+"x"+screen.availHeight,screen.width+"x"+screen.height,screen.colorDepth,window.devicePixelRatio||1,navigator.hardwareConcurrency||0,navigator.deviceMemory||0,navigator.maxTouchPoints||0,(new Date).getTimezoneOffset(),navigator.cookieEnabled?"1":"0","undefined"!=typeof Storage?"1":"0","undefined"!=typeof indexedDB?"1":"0",navigator.onLine?"1":"0",navigator.languages?navigator.languages.slice(0,3).join(","):navigator.language,navigator.platform,navigator.oscpu||"",navigator.connection&&navigator.connection.effectiveType||"","ontouchstart"in window?"1":"0",void 0!==window.orientation?"1":"0",window.screen.orientation&&window.screen.orientation.type||""].filter(e=>""!==e).join("|");let r=0;for(let e=0;e<t.length;e++){var n=t.charCodeAt(e);r=(r<<5)-r+n,r&=r}e=Math.abs(r).toString(16).padStart(8,"0")+e.substring(8);return burst.cache.fingerprint=e}).catch(e=>(console.error(e),null)),burst_get_time_on_page=()=>{var e;return"undefined"==typeof TimeMe?Promise.resolve(0):(e=TimeMe.getTimeOnCurrentPageInMilliseconds(),TimeMe.resetAllRecordedPageTimes(),TimeMe.initialize({idleTimeoutInSeconds:30}),Promise.resolve(e))},burst_is_user_agent=()=>{var e;return null!==burst.cache.isUserAgent?burst.cache.isUserAgent:(e=/bot|spider|crawl|slurp|mediapartners|applebot|bing|duckduckgo|yandex|baidu|facebook|twitter/i.test(navigator.userAgent),burst.cache.isUserAgent=e)},burst_is_do_not_track=()=>{var e;return null!==burst.cache.isDoNotTrack?burst.cache.isDoNotTrack:burst.options.do_not_track?(e="1"===navigator.doNotTrack||"yes"===navigator.doNotTrack||"1"===navigator.msDoNotTrack||"1"===window.doNotTrack||1===navigator.globalPrivacyControl,burst.cache.isDoNotTrack=e):burst.cache.isDoNotTrack=!1},burst_log_tracking_error=({status:e=0,error:t="",data:r={}})=>{burst.options.debug&&burst.tracking.ajaxUrl&&fetch(burst.tracking.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"burst_tracking_error",status:e,error:t,data:r})})},burst_beacon_request=t=>{var e=new Blob([t],{type:"application/json"});burst.options.debug?fetch(burst.tracking.beacon_url,{method:"POST",body:e,keepalive:!0,headers:{"Content-Type":"application/json"}}).then(e=>{e.ok||burst_log_tracking_error({status:0,error:"sendBeacon failed",data:t})}).catch(e=>{burst_log_tracking_error({status:0,error:e?.message||"sendBeacon failed",data:t})}):navigator.sendBeacon(burst.tracking.beacon_url,e)},burst_api_request=e=>{let n=JSON.stringify(e.data||{});return new Promise(r=>{var e;burst.options.beacon_enabled?(burst_beacon_request(n),r({status:200,data:"ok"})):(e=Math.random().toString(36).substring(2,9),wp.apiFetch({path:"/burst/v1/track/?token="+e,keepalive:!0,method:"POST",data:n}).then(e=>{var t=e.status||200;r({status:t,data:e.data||e}),200!==t&&burst_log_tracking_error({status:t,error:"Non-200 status",data:n})}).catch(e=>{r({status:200,data:"ok"}),burst_log_tracking_error({status:0,error:e?.message||"Burst tracking request failed",data:n})}))})};async function burst_update_hit(e=!1,t=!1){var r;await pageIsRendered,burst_is_user_agent()||burst_is_do_not_track()||(burst.tracking.isInitialHit?burst_track_hit():!t&&Date.now()-burst.tracking.lastUpdateTimestamp<300||(document.dispatchEvent(new CustomEvent("burst_before_update_hit",{detail:burst})),[t,r]=await Promise.all([burst_get_time_on_page(),e?Promise.all([burst_uid(),burst_fingerprint()]):(burst_use_cookies()?burst_uid:burst_fingerprint)()]),e={fingerprint:e?r[1]:!burst_use_cookies()&&r,uid:e?r[0]:!!burst_use_cookies()&&r,url:location.href,time_on_page:t,completed_goals:burst.goals.completed},(0<t||!1!==e.uid)&&(await burst_api_request({data:e}),burst.tracking.lastUpdateTimestamp=Date.now())))}async function burst_track_hit(){var e,t;await pageIsRendered,burst.tracking.isInitialHit?burst_is_user_agent()||burst_is_do_not_track()||(burst.tracking.isInitialHit=!1,Date.now()-burst.tracking.lastUpdateTimestamp<300)||(document.dispatchEvent(new CustomEvent("burst_before_track_hit",{detail:burst})),[e,t]=await Promise.all([burst_get_time_on_page(),(burst_use_cookies()?burst_uid:burst_fingerprint)()]),t={uid:!!burst_use_cookies()&&t,fingerprint:!burst_use_cookies()&&t,url:location.href,referrer_url:document.referrer,user_agent:navigator.userAgent||"unknown",device_resolution:window.screen.width*window.devicePixelRatio+"x"+window.screen.height*window.devicePixelRatio,time_on_page:e,completed_goals:burst.goals.completed,page_id:document.body?.dataset?.burst_id||0,page_type:document.body?.dataset?.burst_type||""},document.dispatchEvent(new CustomEvent("burst_track_hit",{detail:t})),await burst_api_request({method:"POST",data:t}),burst.tracking.lastUpdateTimestamp=Date.now()):burst_update_hit()}function burst_init_events(){let e=()=>{burst.options.track_url_change&&(burst.tracking.isInitialHit=!0,burst_track_hit())};!burst.options.enable_turbo_mode||"loading"!==document.readyState?burst_track_hit():document.addEventListener("load",burst_track_hit),document.addEventListener("visibilitychange",()=>{"hidden"!==document.visibilityState&&"unloaded"!==document.visibilityState||burst_update_hit()}),document.addEventListener("pagehide",()=>burst_update_hit()),document.addEventListener("click",e=>{let t=e.target.closest("a");t&&!burst.goals?.active?.some(e=>"clicks"===e.type&&t.closest(e.selector))&&burst_update_hit(!1,!1)},!0),document.addEventListener("burst_fire_hit",()=>burst_track_hit()),document.addEventListener("burst_enable_cookies",()=>{burst_enable_cookies(),burst_update_hit(!0)});let t=history.pushState,r=(history.pushState=function(){t.apply(this,arguments),e()},history.replaceState);history.replaceState=function(){r.apply(this,arguments),e()},window.addEventListener("popstate",e)}document.addEventListener("wp_listen_for_consent_change",e=>{"allow"===e.detail.statistics&&burst_init_events()}),"function"==typeof wp_has_consent&&!wp_has_consent("statistics")||burst_init_events(),window.burst_uid=burst_uid,window.burst_use_cookies=burst_use_cookies,window.burst_fingerprint=burst_fingerprint,window.burst_update_hit=burst_update_hit;