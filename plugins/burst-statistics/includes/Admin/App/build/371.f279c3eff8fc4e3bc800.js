"use strict";(self.webpackChunk_burst_statistics_burst_statistics=self.webpackChunk_burst_statistics_burst_statistics||[]).push([[371],{8353:(t,e,r)=>{r.d(e,{A:()=>b});var n=r(91637),i=r(51609),a=r.n(i),o=r(71752),s=r(61445),c=r(39988),l=r(88887),u=r(28786),d=r(55648),f=r(27723),v=r(21587),p=r(91788),g=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))};const b=a().memo(function(t){var e=t.filter,r=t.filterValue,a=t.label,b=t.children,h=t.startDate,y=t.endDate,m=(0,o.c)(function(t){return t.setFilters}),x=(0,o.c)(function(t){return t.filtersConf}),w=(0,s.A)().getGoal,_=(0,c.G)(function(t){return t.setMetrics}),j=(0,c.G)(function(t){return t.getMetrics()}),A=(0,l.S)(function(t){return t.setStartDate}),k=(0,l.S)(function(t){return t.setEndDate}),N=(0,l.S)(function(t){return t.setRange}),O=(0,i.useMemo)(function(){return e&&x&&Object.prototype.hasOwnProperty.call(x,e)},[e,x]),D=(0,i.useMemo)(function(){if(!r)return!1;if(["page_url","referrer"].includes(e))return!0;try{return/^https?:\/\/.+/i.test(r)}catch(t){return!1}},[e,r]);if(!O)return(0,n.jsx)(n.Fragment,{children:b});var M=(0,i.useCallback)(function(t){var n;t.stopPropagation();var i=r;if("page_url"===e&&!r.startsWith("http")){var a=(null===(n=window.burst_admin)||void 0===n?void 0:n.site_url)||window.location.origin;i="".concat(a).concat(r.startsWith("/")?"":"/").concat(r)}"referrer"!==e||r.startsWith("http")||(i="https://".concat(r)),window.open(i,"_blank","noopener,noreferrer")},[e,r]),S=(0,i.useMemo)(function(){return a?"".concat((0,f.__)("Click to filter by:","burst-statistics")," ").concat(a):(0,f.__)("Click to filter","burst-statistics")},[a]),P=(0,i.useMemo)(function(){return(0,f.__)("Open in new tab","burst-statistics")},[]),T=(0,i.useCallback)(function(){if(h){var t="",e="";if(/^\d+$/.test(h)){var r=10===h.toString().length?1e3*h:h;t=new Date(r).toISOString().split("T")[0]}else/\d{4}-\d{2}-\d{2}/.test(h)&&(t=h);y?/^\d+$/.test(y)?(r=10===y.toString().length?1e3*y:y,e=new Date(r).toISOString().split("T")[0]):/\d{4}-\d{2}-\d{2}/.test(y)&&(e=y):e=(new Date).toISOString().split("T")[0],(0,p.vd)(t)&&(0,p.vd)(e)&&(A(t),k(e),N("custom"))}},[h,y,A,k,N]),C=(0,i.useCallback)(function(t){var e=w(t);(null==e?void 0:e.goal_specific_page)?(m("page_url",e.goal_specific_page),m("goal_id",t),v.oR.info((0,f.__)("Filtering by goal & goal specific page","burst-statistics"))):(m("goal_id",t),v.oR.info((0,f.__)("Filtering by goal","burst-statistics"))),j.includes("conversions")||_(g(g([],j,!0),["conversions"],!1))},[w,m,j,_]),I=(0,i.useCallback)(function(t){t.stopPropagation(),O?("goal_id"===e?C(r):m(e,r),T()):console.warn('ClickToFilter: Invalid filter "'.concat(e,'" - not found in filter configuration'))},[e,r,O,C,m,T]);return e&&r&&O?(0,n.jsxs)("div",{className:"group flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex-1",children:b}),(0,n.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,n.jsx)(u.A,{content:S,children:(0,n.jsx)("div",{onClick:I,className:"flex items-center justify-center w-6 h-6 bg-white/90 hover:bg-white border border-gray-200 rounded shadow-sm hover:shadow-md transition-all duration-150 cursor-pointer",children:(0,n.jsx)(d.A,{name:"filter",size:14,color:"black"})})}),D&&(0,n.jsx)(u.A,{content:P,children:(0,n.jsx)("div",{onClick:M,className:"flex items-center justify-center w-6 h-6 bg-white/90 hover:bg-white border border-gray-200 rounded shadow-sm hover:shadow-md transition-all duration-150 cursor-pointer",children:(0,n.jsx)(d.A,{name:"referrers",size:14,color:"black"})})})]})]}):(0,n.jsx)(n.Fragment,{children:b})})},11989:(t,e,r)=>{r.d(e,{t:()=>o});var n=r(91637),i=r(51609),a=r(2573),o=(0,i.memo)(function(t){var e=t.children,r=t.className,i=void 0===r?"":r,o=/\bp-\S+/.test(i);return(0,n.jsx)("div",{className:(0,a.A)("flex-grow",{"p-6":!o},i),children:e})});o.displayName="BlockContent"},21899:(t,e,r)=>{r.d(e,{$x:()=>N,D:()=>O,DX:()=>k,Eo:()=>M,Ey:()=>j,K5:()=>P,ZI:()=>D,bQ:()=>S,d2:()=>A,nd:()=>T,qN:()=>w,ww:()=>_});var n=r(91637),i=r(1455),a=r.n(i),o=r(27723),s=r(21587),c=function(){return c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c.apply(this,arguments)},l=function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}c((n=n.apply(t,e||[])).next())})},u=function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},d=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},f=function(){return-1!==burst_settings.site_url.indexOf("?")?"&":"?"},v=function(){return"nonce="+burst_settings.burst_nonce+"&token="+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},p="",g=0,b=function(t,e){void 0===e&&(e=!1);var r=(0,o.__)("Server error","burst-statistics");if(t=t.replace(/(<([^>]+)>)/gi,""),e){var i=e.split("?")[0].split("/"),a=i.indexOf("v1")+1;r=(0,o.__)("Server error in","burst-statistics")+" "+i[a]+"/"+i[a+1]}r+=": "+t;var c=Date.now();if(!(r===p&&c-g<3e3)){p=r,g=c;var l=(0,n.jsx)("div",{title:(0,o.__)("Click to copy","burst-statistics"),onClick:function(){navigator.clipboard.writeText(r),s.oR.success((0,o.__)("Error copied to clipboard","burst-statistics"))},children:r});s.oR.error(l,{autoClose:15e3})}},h=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return l(void 0,d([t],e,!0),void 0,function(t,e,r){var n,i,o;return void 0===e&&(e="GET"),void 0===r&&(r={}),u(this,function(s){switch(s.label){case 0:n={path:t,method:e},"POST"===e&&(r.nonce=burst_settings.burst_nonce,n.data=r),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,a()(n)];case 2:if(!(i=s.sent()).request_success)throw Object.prototype.hasOwnProperty.call(i,"message")?new Error(i.message):new Error("Received unexpected response from server. Please check if the Rest API is enabled.");if(i.code&&200!==i.code)throw new Error(i.message);return delete i.request_success,[2,i];case 3:o=s.sent(),s.label=4;case 4:return s.trys.push([4,6,,7]),[4,y(e,t,r)];case 5:return[2,s.sent()];case 6:throw s.sent(),b(o.message,n.path),o;case 7:return[3,8];case 8:return[2]}})})},y=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return l(void 0,d([t,e],r,!0),void 0,function(t,e,r){var n,i,a,o;return void 0===r&&(r=null),u(this,function(s){switch(s.label){case 0:n="GET"===t?"".concat(x("ajax"),"&rest_action=").concat(e.replace("?","&")):x("ajax"),i={method:t,headers:{"Content-Type":"application/json; charset=UTF-8"}},"POST"===t&&(i.body=JSON.stringify({path:e,data:r},m)),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(n,i)];case 2:if(!(a=s.sent()).ok)throw b(!1,a.statusText),new Error(a.statusText);return[4,a.json()];case 3:if(!(o=s.sent()).data||!Object.prototype.hasOwnProperty.call(o.data,"request_success"))throw console.log("Ajax fallback request failed."),new Error("Invalid data error");return delete o.data.request_success,[2,Promise.resolve(o.data)];case 4:return s.sent(),[2,Promise.reject(new Error("AJAX request failed"))];case 5:return[2]}})})},m=function(t,e){return t?t&&t.includes("Control")?void 0:"object"==typeof e?JSON.parse(JSON.stringify(e,m)):e:e},x=function(t){var e;return e=void 0===t?burst_settings.site_url:burst_settings.admin_ajax_url,"https:"===window.location.protocol&&-1===e.indexOf("https://")?e.replace("http://","https://"):e},w=function(t,e){return h("burst/v1/options/set"+f()+v(),"POST",{option:{option:t,value:e}})},_=function(){return h("burst/v1/fields/get"+f()+v())},j=function(t){return h("burst/v1/fields/set"+f(),"POST",{fields:t})},A=function(t){return h("burst/v1/goals/set"+f()+v(),"POST",t)},k=function(){return h("burst/v1/goals/get"+f()+v())},N=function(t){return h("burst/v1/goals/delete"+f()+v(),"POST",{id:t})},O=function(){return h("burst/v1/goals/add"+f()+v(),"POST",{})},D=function(t){return h("burst/v1/goals/add_predefined"+f()+v(),"POST",{id:t})},M=function(t,e){return void 0===e&&(e={}),h("burst/v1/do_action/".concat(t),"POST",{action_data:e}).then(function(t){return Object.prototype.hasOwnProperty.call(t,"data")?t.data:[]})},S=function(t,e,r,n){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];return l(void 0,d([t,e,r,n],i,!0),void 0,function(t,e,r,n,i){var a,o,s,l,d,v,p;return void 0===i&&(i={}),u(this,function(u){switch(u.label){case 0:return a=i.filters,o=i.metrics,s=i.group_by,l=i.currentView,d=c(c(c(c({date_start:e,date_end:r,date_range:n,nonce:burst_settings.burst_nonce,goal_id:i.goal_id,token:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},a&&{filters:a}),o&&{metrics:o}),s&&{group_by:s}),l&&{currentView:l}),g=d,v=Object.keys(g).filter(function(t){return void 0!==g[t]&&null!==g[t]}).map(function(t){var e=function(t){return Array.isArray(t)?t:"object"==typeof t&&null!==t?JSON.stringify(t):t}(g[t]);return Array.isArray(e)?e.map(function(e){return"".concat(encodeURIComponent(t),"[]=").concat(encodeURIComponent(e))}).join("&"):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))}).join("&"),p="burst/v1/data/".concat(t).concat(f()).concat(v),[4,h(p,"GET")];case 1:return[2,u.sent()]}var g})})},P=function(t){return h("burst/v1/posts/".concat(f()).concat(v(),"&search=").concat(t)).then(function(t){return Object.prototype.hasOwnProperty.call(t,"posts")?t.posts:[]})},T=function(t){return l(void 0,void 0,void 0,function(){var e,r;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(t)];case 1:if(!(e=n.sent()).ok)throw new Error("HTTP error! Status: ".concat(e.status));return[4,e.json()];case 2:return[2,n.sent()];case 3:throw r=n.sent(),console.error("Error fetching JSON data:",r),r;case 4:return[2]}})})}},27257:(t,e,r)=>{r.d(e,{p:()=>o});var n=r(91637),i=r(51609),a=r(2573),o=(0,i.memo)(function(t){var e=t.children,r=t.className,i=void 0===r?"":r;return(0,n.jsx)("div",{className:(0,a.A)(i,"flex items-center justify-between px-6 py-3"),children:e})});o.displayName="BlockFooter"},28786:(t,e,r)=>{r.d(e,{A:()=>o});var n=r(91637),i=r(9564),a=r(27723);const o=function(t){var e=t.content,r=t.side,o=void 0===r?"top":r,s=(t.className,t.hasArrow),c=void 0===s||s,l=t.delayDuration,u=void 0===l?300:l,d=t.children;return(0,n.jsx)(i.Kq,{delayDuration:u,children:(0,n.jsxs)(i.bL,{children:[(0,n.jsx)(i.l9,{"aria-label":(0,a.__)("Help information","burst-statistics"),onClick:function(t){t.preventDefault(),t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},children:d}),(0,n.jsxs)(i.UC,{side:o,sideOffset:5,className:"z-[99999] max-w-xs bg-gray-200 text-gray border border-gray-300 px-2 py-1.5 text-base rounded shadow-md\n            animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 \n            data-[state=delayed-open]:data-[side=top]:slide-in-from-bottom-2\n            data-[state=delayed-open]:data-[side=bottom]:slide-in-from-top-2\n            data-[state=delayed-open]:data-[side=left]:slide-in-from-right-2\n            data-[state=delayed-open]:data-[side=right]:slide-in-from-left-2",onClick:function(t){return t.stopPropagation()},children:["string"==typeof e?(0,a.__)(e,"burst-statistics"):e,c&&(0,n.jsx)(i.i3,{className:"fill-gray-300",width:10,height:5})]})]})})}},31980:(t,e,r)=>{r.d(e,{A:()=>i});var n=r(91637);const i=function(t){var e=t.children,r=t.className,i=void 0===r?"":r;return(0,n.jsx)("div",{className:"absolute inset-0 flex items-end justify-center bg-black/10 z-50 py-4 px-4 ".concat(i),children:(0,n.jsx)("div",{className:"bg-white rounded-lg px-5 py-3  w-[90%] max-w-md relative shadow-md",children:e})})}},39988:(t,e,r)=>{r.d(e,{G:()=>a});var n=r(30346),i=r(14243),a=(0,n.v)((0,i.Zr)(function(t,e){return{metrics:["visitors","pageviews"],loaded:!1,getMetrics:function(){if(e().loaded)return e().metrics;var r=e().metrics||["visitors","pageviews"];return r=r.filter(function(t){return"conversions"!==t}),t({metrics:r,loaded:!0}),r},setMetrics:function(e){t({metrics:e})}}},{name:"burst-insights-storage",partialize:function(t){return{metrics:t.metrics}},onRehydrateStorage:function(){return function(t){t&&t.metrics&&(t.metrics=t.metrics.filter(function(t){return"conversions"!==t}))}}}))},45371:(t,e,r)=>{r.r(e),r.d(e,{component:()=>Et});var n=r(91637),i=r(51609),a=r(77902),o=r(67744),s=r(11989),c=r(27257),l=r(27723),u=r(55648),d=r(30346),f=r(14243),v=r(21899),p=function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}c((n=n.apply(t,e||[])).next())})},g=function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const b=(0,d.v)((0,f.Zr)(function(t,e){return{filter:"all",tasks:[],filteredTasks:[],error:!1,loading:!0,setFilter:function(e){t({filter:e})},filterTasks:function(){var r=[];e().tasks.map(function(t,e){"completed"!==t.icon&&r.push(t)}),t(function(t){return{filteredTasks:r}})},fixTask:function(t){return p(void 0,void 0,void 0,function(){return g(this,function(r){switch(r.label){case 0:return[4,(0,v.Eo)("fix_task",{task_id:t})];case 1:return r.sent(),e().getTasks(),[2]}})})},getTasks:function(){return p(void 0,void 0,void 0,function(){var r,n,i;return g(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,v.Eo)("tasks")];case 1:return r=a.sent().tasks,Array.isArray(r)?n=r:"object"==typeof r&&null!==r?n=Object.keys(r).filter(function(t){return r.hasOwnProperty(t)&&!isNaN(t)}).map(function(t){return r[t]}):(console.log("tasks array has unexpected format: ",r),n=[]),t(function(t){return{tasks:n,loading:!1}}),e().filterTasks(),[3,3];case 2:return i=a.sent(),t(function(t){return{error:i.message}}),[3,3];case 3:return[2]}})})},dismissTask:function(r){return p(void 0,void 0,void 0,function(){var n;return g(this,function(i){switch(i.label){case 0:return n=(n=e().tasks).filter(function(t){return t.id!==r}),t({tasks:n}),[4,(0,v.Eo)("dismiss_task",{id:r}).then(function(t){t.error&&console.error(t.error)})];case 1:return i.sent(),[2]}})})}}},{name:"burst-tasks-storage",partialize:function(t){return{filter:t.filter}}}));var h=r(28786);const y=function(t){var e=t.task,r=b(function(t){return t.fixTask});return(0,n.jsxs)("div",{className:"flex items-center justify-center gap-1 pb-2.5",children:[(0,n.jsx)(m,{task:e}),e.msg&&(0,n.jsx)("p",{className:"flex-1 text-base text-black",dangerouslySetInnerHTML:{__html:e.msg}})," ",e.url&&(0,n.jsxs)("a",{target:e.url.startsWith("#")?"_self":"_blank",href:e.url,className:"text-blue underline cursor-pointer",children:["sale"===e.icon&&(0,l.__)("Get 40% Off","burst-statistics"),"offer"===e.icon&&(0,l.__)("Get 3 months free!","burst-statistics"),"offer"!==e.icon&&"sale"!==e.icon&&(0,l.__)("More info","burst-statistics")]}),e.fix&&(0,n.jsx)("span",{className:"text-blue underline cursor-pointer hover:text-blue-800 hover:no-underline",onClick:function(){return r(e.id,e.fix)},children:(0,l.__)("Fix","burst-statistics")}),e.plusone&&(0,n.jsx)("span",{className:"inline-block align-top box-border m-[1px_0_-1px_2px] py-0 px-1.5 min-w-[18px] h-[18px] rounded-[9px] bg-red text-white text-xs leading-[1.6] text-center",children:"1"}),e.dismissible&&"completed"!==e.status&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:"[all:initial]",type:"button","data-id":e.id,onClick:t.onCloseTaskHandler,children:(0,n.jsx)("span",{className:"text-[1.5em] text-black hover:cursor-pointer hover:text-gray [&>svg]:h-[12px] [&>svg]:w-[12px]",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0, 0, 400,400",children:(0,n.jsx)("path",{id:"path0",d:"M55.692 37.024 C 43.555 40.991,36.316 50.669,36.344 62.891 C 36.369 73.778,33.418 70.354,101.822 138.867 L 162.858 200.000 101.822 261.133 C 33.434 329.630,36.445 326.135,36.370 337.109 C 36.270 351.953,47.790 363.672,62.483 363.672 C 73.957 363.672,68.975 367.937,138.084 298.940 L 199.995 237.127 261.912 298.936 C 331.022 367.926,326.053 363.672,337.517 363.672 C 351.804 363.672,363.610 352.027,363.655 337.891 C 363.689 326.943,367.629 331.524,299.116 262.841 C 265.227 228.868,237.500 200.586,237.500 199.991 C 237.500 199.395,265.228 171.117,299.117 137.150 C 367.625 68.484,363.672 73.081,363.672 62.092 C 363.672 48.021,351.832 36.371,337.500 36.341 C 326.067 36.316,331.025 32.070,261.909 101.066 L 199.990 162.877 138.472 101.388 C 87.108 50.048,76.310 39.616,73.059 38.191 C 68.251 36.083,60.222 35.543,55.692 37.024 ",stroke:"none",fill:"#000000"})})})})})]})};var m=function(t){var e,r={milestone:{icon:"party-popper",color:"blue"},completed:{icon:"check",color:"green"},error:{icon:"error-octagon",color:"red"},sale:{icon:"percent",color:"green"},warning:{icon:"warning-triangle",color:"orange"},new:{icon:"campaign",color:"blue"},insight:{icon:"line-squiggle",color:"yellow"},skeleton:{icon:"loading",color:"blue"},default:{icon:"line-squiggle",color:"yellow"}},i=null!==(e=r[t.task.icon])&&void 0!==e?e:r.default;return(0,n.jsx)(h.A,{content:t.task.label,delayDuration:300,children:(0,n.jsx)("div",{className:"bg-white rounded-full p-1.5 mr-2 border border-gray-100 shadow-sm",children:(0,n.jsx)(u.A,{color:i.color,name:i.icon,size:16,strokeWidth:1.5})})})},x=r(61626),w=r(91788);const _=function(t){return e=void 0,r=void 0,i=function(){var e,r,n,i,a;return function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,function(o){switch(o.label){case 0:return e=t.startDate,r=t.endDate,n=t.range,i=t.filters,[4,(0,v.bQ)("live-visitors",e,r,n,{filters:i})];case 1:return a=o.sent().data,[2,(0,w.ZV)(null==a?void 0:a.visitors)]}})},new((n=void 0)||(n=Promise))(function(t,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}c((i=i.apply(e,r||[])).next())});var e,r,n,i};var j=function(){var t=(0,i.useRef)(5e3);return(0,x.I)({queryKey:["live-visitors"],queryFn:_,refetchInterval:t.current,placeholderData:"-",onError:function(){t.current=0},gcTime:1e4})},A=function(){return A=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},A.apply(this,arguments)},k=function(t){void 0===t&&(t=!0);var e=function(t,e){return{groups:{},setActiveTab:function(e,r){return t(function(t){var n;return{groups:A(A({},t.groups),(n={},n[e]=r,n))}})},getActiveTab:function(t){return e().groups[t]}}};return t?(0,d.v)()((0,f.Zr)(e,{name:"burst-tabs-storage"})):(0,d.v)(e)},N=(k(),k(!1)),O=function(t){var e,r,i=(e=t.task.id,r={live_visitors:{condition:function(){var t=j();return parseInt(t.data)>0}}},!!r[e]&&r[e]),a=N(function(t){return t.setActiveTab}),o=j(),s=parseInt(o.data);if(!i)return null;if(!(0,i.condition)())return null;
// Translators: %d is the number of live visitors.
var c=(0,l.sprintf)((0,l._n)("%d person is exploring your site right now","%d people are exploring your site right now",s,"burst-statistics"),s);return(0,n.jsxs)("div",{className:"flex items-center justify-center gap-1 pb-2.5",children:[(0,n.jsx)("div",{className:"bg-white rounded-full p-1.5 mr-2 border border-gray-100 shadow-sm",children:(0,n.jsx)(u.A,{name:"line-squiggle",className:"text-yellow",color:"",size:16,strokeWidth:1.5})}),(0,n.jsx)("p",{className:"flex-1 text-base text-black",children:c}),(0,n.jsx)("span",{className:"text-blue underline cursor-pointer",onClick:function(){return a("dashboard-overview","live-visitors")},children:(0,l.__)("View","burst-statistics")})]})},D=r(30533),M=r(71882),S=function(){var t={id:"loading",condition:{type:"system",function:"loading"},msg:(0,l.__)("Loading tasks...","burst-statistics"),icon:"skeleton",dismissible:!1,plusone:!1,label:(0,l.__)("Loading...","burst-statistics")};return(0,n.jsx)(y,{task:t,onCloseTaskHandler:function(){}})},P=function(){var t={id:"no-tasks",condition:{type:"system",function:"completed"},msg:(0,l.__)("No remaining tasks to show","burst-statistics"),icon:"completed",dismissible:!1,plusone:!1,label:(0,l.__)("Completed","burst-statistics")};return(0,n.jsx)(y,{task:t,onCloseTaskHandler:function(){}})},T=function(t){var e=t.tasks;if(0===e.length)return(0,n.jsx)(M.P.div,{variants:J(1),initial:"initial",animate:"animate",exit:"exit",children:(0,n.jsx)(P,{})},"no-tasks");var r=b(function(t){return t.dismissTask});return e.map(function(t,e){return(0,n.jsx)(M.P.div,{layout:!0,variants:J(e),initial:"initial",animate:"animate",exit:"exit",children:(0,n.jsx)(y,{task:t,onCloseTaskHandler:function(){return r(t.id)}},t.id)},t.id)})},C=function(t){return t.tasks.map(function(t,e){return"live_visitors"===t.id?(0,n.jsx)(M.P.div,{layout:!0,variants:J(e),initial:"initial",animate:"animate",exit:"exit",children:(0,n.jsx)(O,{task:t})},t.id):(0,n.jsx)(M.P.div,{layout:!0,variants:J(e),initial:"initial",animate:"animate",exit:"exit",children:(0,n.jsx)(y,{task:t,onCloseTaskHandler:function(){}})},t.id)})};const I=function(){var t=b(function(t){return t.tasks}),e=b(function(t){return t.loading}),r=b(function(t){return t.getTasks});if((0,i.useEffect)(function(){r()},[r]),e)return(0,n.jsx)(S,{});var a=t.filter(function(t){return"clientside"===t.condition.type}),o=t.filter(function(t){return"clientside"!==t.condition.type});return(0,n.jsxs)(D.N,{mode:"popLayout",children:[(0,n.jsx)(C,{tasks:a}),(0,n.jsx)(T,{tasks:o})]})};var E=r(97813),F=r(50552);const z=function(t){var e=(0,i.useState)("loading"),r=e[0],a=e[1],o=(0,i.useState)(0),s=o[0],c=o[1];(0,i.useMemo)(function(){v.Eo("tracking").then(function(t){if("beacon"===t.status||"rest"===t.status||"disabled"===t.status){var e=t.status?t.status:"error",r=t.last_test?t.last_test:(0,l.__)("Just now","burst-statistics");a(e),c(r)}else a("error"),c(!1)})},[]);var d=(0,l.__)("Last checked:","burst-statistics")+" "+(0,w.gs)(new Date(1e3*s)),f={loading:(0,l.__)("Loading tracking status...","burst-statistics"),error:(0,l.__)("Error checking tracking status","burst-statistics"),rest:(0,l.__)("Tracking with REST API","burst-statistics"),beacon:(0,l.__)("Tracking with an endpoint","burst-statistics"),disabled:(0,l.__)("Tracking is disabled","burst-statistics")},p={loading:{icon:"loading",color:"black"},error:{icon:"circle-times",color:"red"},rest:{icon:"circle-check",color:"green"},beacon:{icon:"circle-check",color:"green"},disabled:{icon:"circle-times",color:"red"}},g={loading:"",error:(0,l.__)("Tracking does not seem to work. Check manually or contact support.","burst-statistics"),rest:(0,l.__)("Tracking is working. You are using the REST API to collect statistics.","burst-statistics"),beacon:(0,l.__)("Tracking is working. You are using the Burst endpoint to collect statistics. This type of tracking is accurate and lightweight.","burst-statistics"),disabled:(0,l.__)("Tracking is disabled","burst-statistics")}[r]+" "+d,b=f[r],h=p[r].icon,y=p[r].color;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.A,{btnVariant:"tertiary",link:{to:"/statistics"},children:(0,l.__)("View my statistics","burst-statistics")}),(0,n.jsx)(E.A,{content:g,children:(0,n.jsxs)("div",{className:"w-max text-gray flex items-center min-w-0 leading-none gap-1.5 no-underline ml-auto burst-tooltip-trackingtext",children:[(0,n.jsx)(u.A,{name:h,color:y}),(0,n.jsx)("div",{children:b})]})})]})};const q=function(){return t=void 0,e=void 0,n=function(){return function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,function(t){switch(t.label){case 0:return[4,(0,v.bQ)("live-traffic")];case 1:return[2,t.sent().data]}})},new((r=void 0)||(r=Promise))(function(i,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}c((n=n.apply(t,e||[])).next())});var t,e,r,n};var V=r(98873),G=(0,i.memo)(function(t){var e=t.timestamp,r=(0,i.useState)(""),a=r[0],o=r[1];return(0,i.useEffect)(function(){var t=function(){var t=Date.now()/1e3-e,r=Math.floor(t);if(r<60)o((0,l._n)("%s second ago","%s seconds ago",r,"burst-statistics").replace("%s",r));else{var n=Math.floor(r/60);o((0,l._n)("%s minute ago","%s minutes ago",n,"burst-statistics").replace("%s",n))}};t();var r=setInterval(t,1e3);return function(){return clearInterval(r)}},[e]),(0,n.jsx)("span",{className:"text-gray font-light break-all",children:a})}),L=function(t){var e,r=t.uid,i=t.entry,a=t.exit,o=(t.live,t.checkout),s=function(t){var e=["text-red","text-blue","text-orange","text-yellow","text-green"];return e[Array.from(String(t)).reduce(function(t,e){return t+e.charCodeAt(0)},0)%e.length]}(r);e=o?"shopping-cart":i?"log-in":a?"log-out":"line-squiggle";var c=function(t,e,r,i,a,o){var s;return s=o?(0,l.__)("User is checking out","burst-statistics"):r?(0,l.__)("User just entered the site","burst-statistics"):i?(0,l.__)("User just left the site","burst-statistics"):(0,l.__)("User is actively browsing","burst-statistics"),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsx)("div",{className:"font-medium text-gray-700",children:s}),(0,n.jsx)("div",{className:"space-y-1 text-gray-600",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"font-medium text-gray-700",children:(0,l.__)("User ID:","burst-statistics")}),(0,n.jsx)("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs font-mono text-gray-800",children:t})]})})]})}(r,0,i,a,0,o);return(0,n.jsx)(h.A,{content:c,delayDuration:300,children:(0,n.jsx)("div",{className:"bg-white rounded-full p-1.5 mr-2 border border-gray-100 shadow-sm cursor-help",children:(0,n.jsx)(u.A,{name:e,className:s,color:"",size:16,strokeWidth:1.5})})})};const R=function(){var t=(0,i.useRef)(5e3),e=(0,i.useRef)(Date.now()),r=(0,x.I)({queryKey:["live-traffic"],queryFn:q,refetchInterval:t.current,placeholderData:"-",onError:function(){return t.current=0,void(e.current=Date.now())},gcTime:1e4}),a=Array.isArray(r.data)?r.data:[];return r.isLoading?(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)("div",{children:(0,l.__)("Loading...","burst-statistics")})}):0===a.length?(0,n.jsx)(D.N,{mode:"popLayout",children:(0,n.jsx)(M.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,delay:.1,ease:[.25,.1,.25,1]},className:"flex items-center justify-center flex-col h-full",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"bg-white rounded-full p-1 border border-gray-100 w-fit mb-3",children:(0,n.jsx)(V.A,{height:"16",width:"16",color:"currentColor",className:"text-green"})}),(0,n.jsx)("p",{className:"font-semibold text-gray mb-2",children:(0,l.__)("No live visitors right now","burst-statistics")}),(0,n.jsx)("p",{className:"text-gray",children:(0,l.__)("When someone visits your site, you’ll see them here instantly. ","burst-statistics")})]})},"no-activity")}):(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(M.P.ul,{className:"flex flex-col gap-3 tracking-wide",layout:!0,children:(0,n.jsx)(D.N,{mode:"popLayout",children:a.map(function(t,e){var r=t.uid,i="";t.entry&&(i=function(t){if(!t)return(0,l.__)("Direct","burst-statistics");try{return new URL(t).hostname.replace(/^www\./,"")}catch(t){return(0,l.__)("Direct","burst-statistics")}}(null==t?void 0:t.utm_source));var a="".concat(r,"-").concat(t.time);return(0,n.jsx)(M.P.li,{className:"flex items-center justify-between m-0",variants:J(e),initial:"initial",animate:"animate",exit:"exit",layout:!0,children:(0,n.jsxs)("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[(0,n.jsx)(L,{uid:r,entry:t.entry,exit:t.exit,live:t.live,checkout:t.checkout}),(0,n.jsx)("span",{className:"font-medium text-black break-all",children:t.page_url}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-gray font-light break-all",children:"-"}),(0,n.jsx)("span",{className:"text-gray font-light break-all",children:i})]}),(0,n.jsx)("span",{className:"text-gray font-light break-all",children:"-"}),(0,n.jsx)(G,{timestamp:t.active_time})]})},a)})})})})};var U=r(2573);function Q(t){var e=t.className,r=t.tabConfig,i=t.tabGroup;return(0,n.jsx)("div",{className:(0,U.A)("grid grid-flow-col auto-cols-fr gap-0.5 border border-gray-300 rounded-md bg-gray-200 p-0.5 shadow-sm",e),children:r.map(function(t,e){var r=0===e?"blue":1===e?"green":void 0;return(0,n.jsx)(W,{group:i,activeStyle:r,id:t.id,children:t.title},t.id)})})}var B=function(){return B=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},B.apply(this,arguments)},K=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};function W(t){var e=t.group,r=t.id,i=t.className,a=t.activeStyle,o=t.children,s=t.onClick,c=K(t,["group","id","className","activeStyle","children","onClick"]),l=N(function(t){return t.getActiveTab(e)}),u=N(function(t){return t.setActiveTab}),d=l===r,f="green"===a?"green":"blue";return(0,n.jsx)("button",B({className:(0,U.A)("text-base px-4 py-1 transition-colors rounded-sm bg-white focus:outline-none text-gray-600 hover:text-gray-900 font-medium border border-transparent",{blue:['data-[active="true"]:bg-blue-lighter','data-[active="true"]:border-blue-darker','data-[active="true"]:text-[#1E73BE]'],green:['data-[active="true"]:bg-brand-lightest','data-[active="true"]:border-brand','data-[active="true"]:text-brand']}[f],i),onClick:function(t){u(e,r),null==s||s(t)},"data-active":d||void 0},c,{children:o}))}var Z=function(){return Z=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Z.apply(this,arguments)};function H(t){var e=t.className,r=void 0===e?"":e,i=t.group,a=t.id,o=t.children,s=t.storeHook,c=void 0===s?N:s,l=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(t,["className","group","id","children","storeHook"]);return(0,c().getActiveTab)(i)===a?(0,n.jsx)("div",Z({className:"burst-scroll px-6 max-m:px-2.5 py-8 h-[305px] overflow-y-auto rounded-none "+r},l,{children:o})):null}var J=function(t){return{initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{delay:.05*t,duration:.3,ease:"easeOut"}},exit:{opacity:0,y:30,transition:{duration:.3,ease:"easeIn"}}}};const $=function(){var t="dashboard-overview",e=N(function(t){return t.getActiveTab("dashboard-overview")}),r=N(function(t){return t.setActiveTab});(0,i.useEffect)(function(){r(t,"activity")},[]);var u=[{id:"activity",title:(0,l.__)("Activity","burst-statistics")},{id:"live-visitors",title:(0,l.__)("Live visitors","burst-statistics")}];return(0,n.jsxs)(a.e,{className:"row-span-2 lg:col-span-12 xl:col-span-6",children:[(0,n.jsx)(o.q,{title:(0,l.__)("Overview","burst-statistics"),className:"border-b border-gray-200",controls:(0,n.jsx)(Q,{tabConfig:u,tabGroup:t})}),(0,n.jsxs)(s.t,{className:"px-0 py-0 border-b border-gray-200",children:["activity"===e&&(0,n.jsx)(H,{className:"bg-blue-light",group:t,id:"activity",children:(0,n.jsx)(I,{})}),"live-visitors"===e&&(0,n.jsx)(H,{className:"bg-brand-lightest",group:t,id:"live-visitors",children:(0,n.jsx)(R,{})})]}),(0,n.jsx)(c.p,{children:(0,n.jsx)(z,{})})]})};var Y=function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].value="timeOnPage"===e?(0,w.fU)(t[e].value):(0,w.ZV)(t[e].value));return t};const X=function(t){return e=void 0,r=void 0,i=function(){var e,r,n,i,a;return function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,function(o){switch(o.label){case 0:return e=t.startDate,r=t.endDate,n=t.range,i=t.filters,[4,(0,v.bQ)("today",e,r,n,{filters:i})];case 1:return a=o.sent().data,[2,Y(a)]}})},new((n=void 0)||(n=Promise))(function(t,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}c((i=i.apply(e,r||[])).next())});var e,r,n,i};var tt=r(89717),et=r(72442),rt=r(67201),nt=r(50616);function it(t){return 100<(t=parseInt(t))?"visitors-crowd":10<t?"visitors":"visitor"}const at=function(){var t=(0,i.useRef)(5e3),e=(0,i.useMemo)(function(){return(0,w.ii)()},[]),r=(0,i.useMemo)(function(){return(0,tt.default)((0,et.default)(e),"yyyy-MM-dd")},[e]),c=(0,i.useMemo)(function(){return(0,tt.default)((0,rt.default)(e),"yyyy-MM-dd")},[e]),d=(0,i.useMemo)(function(){return{live:{title:(0,l.__)("Live","burst-statistics"),icon:"visitor"},today:{title:(0,l.__)("Total","burst-statistics"),value:"-",icon:"visitor"},mostViewed:{title:"-",value:"-"},pageviews:{title:"-",value:"-"},referrer:{title:"-",value:"-"},timeOnPage:{title:"-",value:"-"}}},[]),f=(0,x.I)({queryKey:["today",r,c],queryFn:function(){return X({startDate:r,endDate:c})},refetchInterval:2*t.current,placeholderData:d,onError:function(){return void(t.current=0)},gcTime:2e4}),v=j(),p=v.data,g=f.data;[v,f].some(function(t){return t.isError})&&(g=d);var b=it(p||0),h="loading";return g&&g.today&&(h=it(g.today.value?g.today.value:0)),(0,n.jsxs)(a.e,{className:"row-span-2 lg:col-span-6 xl:col-span-3 overflow-hidden",children:[(0,n.jsx)(o.q,{title:(0,l.__)("Today","burst-statistics"),controls:void 0,className:"border-b border-gray-200"}),(0,n.jsx)(s.t,{className:"px-0 py-0",children:(0,n.jsxs)("div",{className:"burst-today",children:[(0,n.jsxs)("div",{className:"px-5 py-6 grid w-full grid-cols-2 gap-4 bg-green-light",children:[(0,n.jsx)(E.A,{content:g.live.tooltip,children:(0,n.jsxs)("div",{className:"rounded-md flex flex-col justify-center text-center py-4 items-center flex-wrap bg-white burst-tooltip-live",children:[(0,n.jsx)(u.A,{name:b,size:"26"}),(0,n.jsx)("h2",{className:"mt-1.5 font-extrabold",children:p}),(0,n.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,n.jsx)(u.A,{name:"live",size:"12",color:"red"})," ",(0,l.__)("Live","burst-statistics")]})]})}),(0,n.jsx)(E.A,{content:g.today.tooltip,children:(0,n.jsxs)("div",{className:"rounded-md flex flex-col justify-center text-center py-4 items-center flex-wrap bg-white burst-tooltip-today",children:[(0,n.jsx)(u.A,{name:h,size:"26"}),(0,n.jsx)("h2",{className:"mt-1.5 font-extrabold",children:g.today.value}),(0,n.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,n.jsx)(u.A,{name:"total",size:"13",color:"green"})," ",(0,l.__)("Total","burst-statistics")]})]})})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(E.A,{content:g.mostViewed.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-6 even:bg-gray-100 burst-tooltip-mostviewed",children:[(0,n.jsx)(u.A,{name:"winner"}),(0,n.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:(0,nt.S)(g.mostViewed.title)}),(0,n.jsx)("p",{className:"font-semibold",children:g.mostViewed.value})]})}),(0,n.jsx)(E.A,{content:g.referrer.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-6 even:bg-gray-100 burst-tooltip-referrer",children:[(0,n.jsx)(u.A,{name:"referrer"}),(0,n.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:(0,nt.S)(g.referrer.title)}),(0,n.jsx)("p",{className:"font-semibold",children:g.referrer.value})]})}),(0,n.jsx)(E.A,{content:g.pageviews.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-6 even:bg-gray-100 burst-tooltip-pageviews",children:[(0,n.jsx)(u.A,{name:"pageviews"}),(0,n.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:g.pageviews.title}),(0,n.jsx)("p",{className:"font-semibold",children:g.pageviews.value})]})}),(0,n.jsx)(E.A,{content:g.timeOnPage.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-6 even:bg-gray-100 burst-tooltip-timeOnPage",children:[(0,n.jsx)(u.A,{name:"time"}),(0,n.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:g.timeOnPage.title}),(0,n.jsx)("p",{className:"font-semibold",children:g.timeOnPage.value})]})})]})]})})]})};var ot=r(8353);const st=function(t){var e=t.data,r=e.dateStart,i=(e.dateEnd,e.dateCreated),a=e.status,o=function(t){return"active"===t?"green":"gray"}(a),s=r||i,c=(r?(0,l.__)("Started","burst-statistics"):(0,l.__)("Created","burst-statistics"),(0,w.gs)(s),function(t){switch(t){case"active":return(0,l.__)("Active","burst-statistics");case"inactive":return(0,l.__)("Inactive","burst-statistics");default:return(0,l.__)("Unknown","burst-statistics")}}(a));return(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)(u.A,{name:"dot",color:o,size:12}),(0,n.jsx)("p",{className:"text-gray text-sm",children:c})]})};var ct=r(61445),lt=r(94304);const ut=function(t){var e=t.goals,r=t.goalId,i=t.setGoalId;if(0===e.length)return(0,n.jsx)(u.A,{name:"loading"});var a=e.map(function(t){return{value:t.id,label:t&&"string"==typeof t.title?t.title:(0,l.__)("Untitled goal","burst-statistics")}});return(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[1===e.length&&e[0]&&(0,n.jsx)("p",{children:e[0].title}),1<e.length&&(0,n.jsx)(lt.A,{value:r,onChange:function(t){return function(t){i(t)}(t)},options:a})]})};var dt=r(78031);const ft=function(t){return e=void 0,r=void 0,i=function(){var e,r,n,i,a;return function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,function(o){switch(o.label){case 0:return e=t.startDate,r=t.endDate,n=t.range,t.filters,(i=t.goal_id)?[4,(0,v.bQ)("live-goals",e,r,n,{goal_id:i})]:[2,"-"];case 1:return a=o.sent().data,[2,(0,w.ZV)(null==a?void 0:a.goals_count)]}})},new((n=void 0)||(n=Promise))(function(t,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}c((i=i.apply(e,r||[])).next())});var e,r,n,i};var vt=function(){return vt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vt.apply(this,arguments)},pt=function(t){var e,r,n,i,a,o,s,c,u,d,f;if(!t||"object"!=typeof t)return gt;var v=vt(vt(vt({},gt),t),{conversionPercentage:vt({title:(null===(e=null==t?void 0:t.conversionPercentage)||void 0===e?void 0:e.title)||"-",value:(null===(r=null==t?void 0:t.conversionPercentage)||void 0===r?void 0:r.value)||"-"},(null==t?void 0:t.conversionPercentage)||{}),conversionMetric:vt({title:(null===(n=null==t?void 0:t.conversionMetric)||void 0===n?void 0:n.title)||"-",value:(null===(i=null==t?void 0:t.conversionMetric)||void 0===i?void 0:i.value)||"-",icon:(null===(a=null==t?void 0:t.conversionMetric)||void 0===a?void 0:a.icon)||"visitors"},(null==t?void 0:t.conversionMetric)||{}),total:vt({title:(null===(o=null==t?void 0:t.total)||void 0===o?void 0:o.title)||(0,l.__)("Total","burst-statistics"),value:(null===(s=null==t?void 0:t.total)||void 0===s?void 0:s.value)||"-",icon:(null===(c=null==t?void 0:t.total)||void 0===c?void 0:c.icon)||"goals"},(null==t?void 0:t.total)||{}),bestDevice:vt({title:(null===(u=null==t?void 0:t.bestDevice)||void 0===u?void 0:u.title)||"-",value:(null===(d=null==t?void 0:t.bestDevice)||void 0===d?void 0:d.value)||"-",icon:(null===(f=null==t?void 0:t.bestDevice)||void 0===f?void 0:f.icon)||"desktop"},(null==t?void 0:t.bestDevice)||{})});for(var p in v.total.value&&"-"!==v.total.value&&v.conversionMetric.value&&"-"!==v.conversionMetric.value&&(v.conversionPercentage.value=(0,w.Nj)(v.total.value,v.conversionMetric.value)),v.bestDevice.value&&"-"!==v.bestDevice.value&&(v.bestDevice.value=(0,w.Ee)(v.bestDevice.value)),v)Object.prototype.hasOwnProperty.call(v,p)&&"conversionPercentage"!==p&&"bestDevice"!==p&&"object"==typeof v[p]&&null!==v[p]&&v[p].value&&"-"!==v[p].value&&!isNaN(Number(v[p].value))&&(v[p].value=(0,w.ZV)(v[p].value));return v.total.value&&v.conversionMetric.value&&v.conversionMetric.title?v.conversionPercentage.tooltip=(0,l.__)("Calculated by:","burst-statistics")+" "+(0,l.__)("Total amount of goals reached ","burst-statistics")+" / "+(0,l.__)("Total amount of","burst-statistics")+" "+v.conversionMetric.title+" ("+v.total.value+" / "+v.conversionMetric.value+")":v.conversionPercentage.tooltip=(0,l.__)("No data available yet","burst-statistics"),v},gt={today:{title:(0,l.__)("Today","burst-statistics"),icon:"goals"},total:{title:(0,l.__)("Total","burst-statistics"),value:"-",icon:"goals"},topPerformer:{title:"-",value:"-"},conversionMetric:{title:"-",value:"-",icon:"visitors"},conversionPercentage:{title:"-",value:"-"},bestDevice:{title:"-",value:"-",icon:"desktop"},dateCreated:0,dateStart:0,dateEnd:0,status:"inactive"};const bt=function(t){return e=void 0,r=void 0,i=function(){var e,r,n,i,a,o;return function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,function(s){switch(s.label){case 0:if(e=t.startDate,r=t.endDate,n=t.range,t.filters,!(i=t.goal_id))return[2,gt];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,v.bQ)("goals",e,r,n,{goal_id:i})];case 2:return a=s.sent().data,[2,pt(a)];case 3:return o=s.sent(),console.error("Error fetching goals data:",o),[2,gt];case 4:return[2]}})},new((n=void 0)||(n=Promise))(function(t,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}c((i=i.apply(e,r||[])).next())});var e,r,n,i};var ht=r(31980),yt=function(){return yt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yt.apply(this,arguments)},mt=function(t){return 10<(t=parseInt(t))||0<t?"goals":"goals-empty"},xt=(0,i.memo)(function(t){var e=t.filter,r=t.filterValue,i=t.label,a=t.startDate,o=t.icon,s=t.count;return(0,n.jsx)(ot.A,{filter:e,filterValue:r,label:i,startDate:a,children:(0,n.jsxs)("div",{className:"rounded-md flex flex-col justify-center items-center text-center flex-wrap bg-white py-4 [&.active]:shadow-greenShadow [&.active]:border-2 [&.active]:border-green",children:[(0,n.jsx)(u.A,{name:o,size:"26"}),(0,n.jsx)("h2",{className:"mt-1.5 font-extrabold",children:s}),(0,n.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,n.jsx)(u.A,{name:"sun",color:"yellow",size:"13"})," ",(0,l.__)("Today","burst-statistics")]})]})})}),wt=(0,i.memo)(function(t){var e=t.filter,r=t.filterValue,i=t.label,a=t.startDate,o=t.icon,s=t.count,c=t.endDate;return(0,n.jsx)(ot.A,{filter:e,filterValue:r,label:i,startDate:a,endDate:c,children:(0,n.jsxs)("div",{className:"rounded-md flex flex-col justify-center items-center text-center flex-wrap bg-white py-4 [&.active]:shadow-greenShadow [&.active]:border-2 [&.active]:border-green",children:[(0,n.jsx)(u.A,{name:o,size:"26"}),(0,n.jsx)("h2",{className:"mt-1.5 font-extrabold",children:s}),(0,n.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,n.jsx)(u.A,{name:"calendar",size:"13"})," ",(0,l.__)("Total","burst-statistics")]})]})})});const _t=(0,i.memo)(function(){var t,e,r,d,f,p,g,b,h,y,m,x,_,j,A,k,N,O,D=(0,i.useState)(15e3),M=D[0],S=D[1],P=(0,i.useState)(!1),T=P[0],C=P[1],I=(0,ct.A)(),z=I.goals,q=I.isLoading,V=(0,i.useMemo)(function(){return(0,w.ii)()},[]),G=(0,i.useMemo)(function(){return(0,tt.default)((0,et.default)(V),"yyyy-MM-dd")},[V]),L=(0,i.useMemo)(function(){return(0,tt.default)((0,rt.default)(V),"yyyy-MM-dd")},[V]),R=(0,i.useMemo)(function(){return(0,tt.default)(V,"yyyy-MM-dd")},[V]);(0,i.useEffect)(function(){!T&&z.length>0&&C(z[0].id)},[z,T]);var _x=(0,i.useMemo)(function(){var t,e,r=null===(t=z[T])||void 0===t?void 0:t.date_start,n=null===(e=z[T])||void 0===e?void 0:e.date_end;return 0!=r&&void 0!==r||(r=G),0!=n&&void 0!==n||(n=L),{goalStart:r,goalEnd:n}},[T,z,G,L]),U=_x.goalStart,Q=_x.goalEnd,B=(0,i.useMemo)(function(){return{goal_id:T,startDate:G,endDate:L}},[T,G,L]),K=(0,i.useMemo)(function(){return{today:{title:(0,l.__)("Today","burst-statistics"),icon:"goals"},total:{title:(0,l.__)("Total","burst-statistics"),value:"-",icon:"goals"},topPerformer:{title:"-",value:"-"},conversionMetric:{title:"-",value:"-",icon:"visitors"},conversionPercentage:{title:"-",value:"-"},bestDevice:{title:"-",value:"-",icon:"desktop"},dateCreated:0,dateStart:0,dateEnd:0,status:"inactive"}},[]),W=(0,dt.E)({queries:[{queryKey:["live-goals",T],queryFn:function(){return T?ft(B):"0"},refetchInterval:M,placeholderData:"-",onError:function(t){console.error("Error fetching live goals:",t),S(0)},enabled:!!T},{queryKey:["goals",T],queryFn:function(){return T?bt(B):K},refetchInterval:M,placeholderData:K,onError:function(t){console.error("Error fetching goals data:",t),S(0)},enabled:!!T}]}),Z=(0,i.useMemo)(function(){return function(){burst_settings.goals_information_shown="1",(0,v.qN)("goals_information_shown",!0),window.location.hash="#settings/goals"}},[]),H=W.some(function(t){return t.isLoading})||q,J=W.some(function(t){return t.isError}),$=W[0].data||"-",Y=J?K:W[1].data||K,X=mt($),it=mt(null===(t=Y.today)||void 0===t?void 0:t.value),at=(0,i.useMemo)(function(){var t;return{filter:"goal_id",filterValue:Y.goalId,label:(null===(t=Y.today)||void 0===t?void 0:t.tooltip)+(0,l.__)("Goal and today","burst-statistics"),startDate:R,icon:X,count:$}},[Y.goalId,null===(e=Y.today)||void 0===e?void 0:e.tooltip,R,X,$]),ot=(0,i.useMemo)(function(){var t,e;return{filter:"goal_id",filterValue:Y.goalId,label:(null===(t=Y.today)||void 0===t?void 0:t.tooltip)+(0,l.__)("Goal and the start date","burst-statistics"),startDate:U,endDate:Q,icon:it,count:(null===(e=Y.total)||void 0===e?void 0:e.value)||"-"}},[Y.goalId,null===(r=Y.today)||void 0===r?void 0:r.tooltip,U,Q,it,null===(d=Y.total)||void 0===d?void 0:d.value]);return(0,n.jsxs)(a.e,{className:"row-span-2 lg:col-span-6 xl:col-span-3",children:["0"===burst_settings.goals_information_shown&&(0,n.jsxs)(ht.A,{children:[(0,n.jsx)("h4",{className:"mb-4 text-lg font-bold",children:(0,l.__)("Goals","burst-statistics")}),(0,n.jsx)("p",{className:"mb-4",children:(0,l.__)("Keep track of customizable goals and get valuable insights. Add your first goal!","burst-statistics")}),(0,n.jsx)("p",{className:"mb-4",children:(0,n.jsx)("a",{className:"text-blue underline",href:(0,nt.U)("how-to-set-goals",{utm_source:"goals-block-overlay"}),children:(0,l.__)("Learn how to set your first goal","burst-statistics")})}),(0,n.jsx)(F.A,{onClick:Z(),btnVariant:"secondary",btnSize:"small",children:(0,l.__)("Create my first goal","burst-statistics")})]}),(0,n.jsx)(o.q,{title:(0,l.__)("Goals","burst-statistics"),controls:(0,n.jsx)(ut,{goalId:T,goals:z,setGoalId:C}),className:"border-b border-gray-200"}),(0,n.jsx)(s.t,{className:"px-0 py-0 relative",children:J?(0,n.jsx)("div",{className:"text-red p-4",children:(0,l.__)("Error loading goals data. Please try again later.","burst-statistics")}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"px-6 py-5 grid w-full grid-cols-2 gap-4 bg-yellow-light",children:[(0,n.jsx)(xt,yt({},at)),(0,n.jsx)(wt,yt({},ot))]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(E.A,{content:null===(f=Y.topPerformer)||void 0===f?void 0:f.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-6 even:bg-gray-100",children:[(0,n.jsx)(u.A,{name:"winner"}),(0,n.jsx)("p",{className:"w-full mr-auto",children:(0,nt.S)((null===(p=Y.topPerformer)||void 0===p?void 0:p.title)||"-")}),(0,n.jsx)("p",{className:"font-semibold",children:(null===(g=Y.topPerformer)||void 0===g?void 0:g.value)||"-"})]})}),(0,n.jsx)(E.A,{arrow:!0,title:null===(b=Y.conversionMetric)||void 0===b?void 0:b.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-6 even:bg-gray-100",children:[(0,n.jsx)(u.A,{name:(null===(h=Y.conversionMetric)||void 0===h?void 0:h.icon)||"visitors"}),(0,n.jsx)("p",{className:"w-full mr-auto",children:(null===(y=Y.conversionMetric)||void 0===y?void 0:y.title)||"-"}),(0,n.jsx)("p",{className:"font-semibold",children:(null===(m=Y.conversionMetric)||void 0===m?void 0:m.value)||"-"})]})}),(0,n.jsx)(E.A,{content:null===(x=Y.conversionPercentage)||void 0===x?void 0:x.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-6 even:bg-gray-100",children:[(0,n.jsx)(u.A,{name:"graph"}),(0,n.jsx)("p",{className:"w-full mr-auto",children:(null===(_=Y.conversionPercentage)||void 0===_?void 0:_.title)||"-"}),(0,n.jsx)("p",{className:"font-semibold",children:(null===(j=Y.conversionPercentage)||void 0===j?void 0:j.value)||"-"})]})}),(0,n.jsx)(E.A,{content:null===(A=Y.bestDevice)||void 0===A?void 0:A.tooltip,children:(0,n.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-6 even:bg-gray-100",children:[(0,n.jsx)(u.A,{name:(null===(k=Y.bestDevice)||void 0===k?void 0:k.icon)||"desktop"}),(0,n.jsx)("p",{className:"w-full mr-auto",children:(null===(N=Y.bestDevice)||void 0===N?void 0:N.title)||"-"}),(0,n.jsx)("p",{className:"font-semibold",children:(null===(O=Y.bestDevice)||void 0===O?void 0:O.value)||"-"})]})})]})]})}),0!==z.length&&(0,n.jsxs)(c.p,{children:[(0,n.jsx)("a",{className:"burst-button burst-button--secondary",href:"#settings/goals",children:(0,l.__)("View setup","burst-statistics")}),(0,n.jsx)("div",{className:"ml-auto",children:!H&&!J&&(0,n.jsx)(st,{data:Y})})]})]})});var jt=r(70),At=r.n(jt),kt=function(){return kt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},kt.apply(this,arguments)};const Nt=function(t){var e,r=(e=(0,x.I)({queryKey:["articles"],queryFn:function(){return(0,v.Eo)("get_article_data")},staleTime:1/0,refetchOnWindowFocus:!1}).data,Array.isArray(e)?e.map(function(t){return kt(kt({},t),{link:(0,nt.U)(t.link,{utm_source:"tips-tricks"})})}):[]);return(0,n.jsxs)(a.e,{className:"row-span-1 lg:col-span-6",children:[(0,n.jsx)(o.q,{title:(0,l.__)("Tips & Tricks","burst-statistics")}),(0,n.jsx)(s.t,{className:"px-6 py-0",children:(0,n.jsx)("div",{className:"flex flex-row flex-wrap mb-2.5 text-base leading-[1.7] gap-1.5 max-[992px]:overflow-hidden",children:r.map(function(t,e){return(0,n.jsx)("div",{className:"w-[calc(50%-4px)] max-[576px]:w-full",children:(0,n.jsxs)("a",{href:t.link,target:"_blank",title:At().decode(t.title.rendered),className:"group text-gray transition-colors duration-300 ease-in-out flex items-center gap-2.5 min-w-0 no-underline hover:text-primary hover:underline",children:[(0,n.jsx)("div",{className:"h-[13px] w-[13px] flex-none rounded-full transition-colors duration-300 ease-in-out group-[:visited]:bg-gray-300 bg-primary group-hover:!bg-primary medium"}),(0,n.jsx)("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis hover:underline",children:At().decode(t.title.rendered)})]})},e)})})}),(0,n.jsx)(c.p,{children:(0,n.jsx)(F.A,{link:{to:(0,nt.U)("docs",{utm_source:"tips-tricks",utm_content:"view-all"})},btnVariant:"tertiary",children:(0,l.__)("View all","burst-statistics")})})]})};var Ot=r(70802),Dt=r(78280);const Mt=function(t){var e=t.size,r=void 0===e?24:e,i=t.color,a=void 0===i?"currentColor":i,o={black:"var(--rsp-black)",green:"var(--rsp-green)",yellow:"var(--rsp-yellow)",red:"var(--rsp-red)",blue:"var(--rsp-blue)",gray:"var(--rsp-grey-600)",white:"var(--rsp-white)"}[a]||a;return(0,n.jsxs)("svg",{version:"1.1",id:"logo-svg",xmlns:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/1999/xlink",viewBox:"0 0 916 186",height:r,children:[(0,n.jsx)("g",{id:"udp-logo-text",fill:o,children:(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M214.17,38.15h18.01v63.53c0,13.27,8.66,20.81,21.92,20.81s22.06-7.54,22.06-20.95V38.15h18.01v63.53\n\t\t\t\t\t\t\t\t\t\tc0,22.2-16.06,37.28-39.94,37.28c-24.02,0-40.07-15.08-40.07-37.28V38.15z M306.33,66.08h16.2v5.17c0,2.65-0.28,4.89-0.28,4.89\n\t\t\t\t\t\t\t\t\t\th0.28c0,0,6.14-11.73,22.9-11.73c19.27,0,31.56,15.22,31.56,37.28c0,22.62-13.82,37.28-32.53,37.28c-14.1,0-20.39-9.77-20.39-9.77\n\t\t\t\t\t\t\t\t\t\th-0.28c0,0,0.28,2.51,0.28,6.14v29.88h-17.73V66.08z M341.24,124.03c9.77,0,17.87-7.96,17.87-22.06\n\t\t\t\t\t\t\t\t\t\tc0-13.54-7.26-22.34-17.73-22.34c-9.22,0-17.87,6.7-17.87,22.48C323.5,113.14,329.51,124.03,341.24,124.03z M416.22,64.41\n\t\t\t\t\t\t\t\t\t\tc15.64,0,20.53,9.08,20.53,9.08h0.28c0,0-0.14-1.81-0.14-4.05V38.15h17.73v99.14h-16.76v-5.86c0-2.65,0.28-4.61,0.28-4.61h-0.28\n\t\t\t\t\t\t\t\t\t\tc0,0-6,12.15-22.34,12.15c-19.27,0-31.56-15.22-31.56-37.28C383.97,79.07,397.37,64.41,416.22,64.41z M419.57,124.03\n\t\t\t\t\t\t\t\t\t\tc9.22,0,17.87-6.7,17.87-22.48c0-11.03-5.86-21.92-17.73-21.92c-9.77,0-17.87,7.96-17.87,22.06\n\t\t\t\t\t\t\t\t\t\tC401.84,115.23,409.1,124.03,419.57,124.03z M468.58,66.08h17.04v12.29c0,2.65-0.28,5.03-0.28,5.03h0.28\n\t\t\t\t\t\t\t\t\t\tc3.21-10.19,11.73-18.29,22.62-18.29c1.68,0,3.21,0.28,3.21,0.28v17.45c0,0-1.82-0.28-4.19-0.28c-7.54,0-16.06,4.33-19.41,14.94\n\t\t\t\t\t\t\t\t\t\tc-1.12,3.49-1.54,7.4-1.54,11.59v28.21h-17.73V66.08z M556.83,92.61h2.37v-0.98c0-9.36-5.87-12.57-13.68-12.57\n\t\t\t\t\t\t\t\t\t\tc-10.19,0-19.55,6.84-19.55,6.84l-6.7-12.71c0,0,11.03-8.8,27.93-8.8c18.71,0,29.6,10.33,29.6,28.35v44.54h-16.34v-5.86\n\t\t\t\t\t\t\t\t\t\tc0-2.79,0.28-5.03,0.28-5.03h-0.28c0.14,0-5.45,12.57-21.64,12.57c-12.71,0-24.16-7.96-24.16-22.2\n\t\t\t\t\t\t\t\t\t\tC514.67,94.15,545.24,92.61,556.83,92.61z M543.29,125.15c9.36,0,16.06-10.05,16.06-18.71v-1.67h-3.07\n\t\t\t\t\t\t\t\t\t\tc-9.08,0-23.74,1.26-23.74,11.17C532.54,120.68,536.03,125.15,543.29,125.15z M592.86,81.3h-8.8V67.2h8.8v-3.21\n\t\t\t\t\t\t\t\t\t\tc0-23.32,19.13-26.39,29.04-26.39c3.63,0,6,0.42,6,0.42V53.1c0,0-1.54-0.28-3.63-0.28c-5.03,0-13.68,1.26-13.68,11.59v2.79h15.22\n\t\t\t\t\t\t\t\t\t\tv14.1H610.6v55.99h-17.73V81.3z M635.17,81.3h-9.22V67.2h9.63V46.67h17.31V67.2h16.2v14.1h-16.2v27.65\n\t\t\t\t\t\t\t\t\t\tc0,11.73,9.22,13.41,14.1,13.41c1.96,0,3.21-0.28,3.21-0.28v15.5c0,0-2.09,0.42-5.45,0.42c-9.91,0-29.6-2.93-29.6-26.81V81.3z\n\t\t\t\t\t\t\t\t\t\tM684.46,39.55h32.12c17.04,0,29.74,10.75,29.74,28.49c0,17.73-12.71,28.76-29.74,28.76h-26.11v40.49h-6V39.55z M716.3,91.21\n\t\t\t\t\t\t\t\t\t\tc14.24,0,23.74-8.52,23.74-23.18c0-14.66-9.5-22.9-23.74-22.9h-25.83v46.08H716.3z M760.84,39.55h5.86v81.83\n\t\t\t\t\t\t\t\t\t\tc0,9.77,5.03,10.89,8.24,10.89c1.12,0,2.09-0.14,2.09-0.14v5.45c0,0-1.26,0.28-2.51,0.28c-4.05,0-13.68-1.54-13.68-14.66V39.55z\n\t\t\t\t\t\t\t\t\t\tM789.89,67.48h5.86v42.17c0,12.15,1.54,23.6,17.17,23.6c17.45,0,28.62-15.36,28.62-31.7V67.48h5.86v69.82h-5.86v-12.29\n\t\t\t\t\t\t\t\t\t\tc0-3.21,0.56-5.72,0.56-5.72h-0.28c-2.37,6.56-12.01,19.69-28.9,19.69c-17.17,0-23.04-9.5-23.04-27.23V67.48z M866.96,124.45\n\t\t\t\t\t\t\t\t\t\tc0,0,7.82,8.8,21.64,8.8c8.52,0,16.06-4.47,16.06-13.12c0-17.73-38.4-12.71-38.4-35.47c0-12.43,10.47-18.85,22.34-18.85\n\t\t\t\t\t\t\t\t\t\tc14.24,0,20.67,7.54,20.67,7.54l-3.49,4.75c0,0-5.73-6.56-17.59-6.56c-7.96,0-15.78,3.63-15.78,12.71\n\t\t\t\t\t\t\t\t\t\tc0,18.15,38.4,12.71,38.4,35.89c0,11.17-9.5,18.85-22.34,18.85c-16.9,0-25.27-10.05-25.27-10.05L866.96,124.45z"})})}),(0,n.jsx)("path",{fill:o,id:"udp-logo-icon",d:"M54.59,13.72L54.59,13.72c-0.07,0.04-0.14,0.07-0.22,0.1C54.37,13.82,54.56,13.73,54.59,13.72z M93.31,4.74\n\t\t\t\t\t\t\t\tc-10.72,0-20.99,1.93-30.49,5.44l-0.01-0.02c-2.87,1.06-5.52,2.2-8.23,3.55c2.82-1.32,5,1.58,5.15,6.59v72.56\n\t\t\t\t\t\t\t\tc0,18.54,15.03,33.57,33.57,33.57c18.54,0,33.57-15.03,33.57-33.57V57.53h-10.35l23.26-27.99l0.44-0.52l0.25-0.31l23.95,28.82\n\t\t\t\t\t\t\t\th-10.36v32.11c0.05,1.07,0.09,2.15,0.09,3.24c0,33.61-27.25,60.85-60.85,60.85c-33.61,0-60.85-27.24-60.85-60.85\n\t\t\t\t\t\t\t\tc0-0.98,0.03-1.95,0.08-2.92V40.67c0-7.15-3.51-7.76-4.67-6.75c0,0-0.04,0.03-0.04,0.03C13.76,49.56,5.18,70.2,5.18,92.87\n\t\t\t\t\t\t\t\tc0,48.67,39.46,88.13,88.13,88.13c48.67,0,88.13-39.46,88.13-88.13C181.44,44.2,141.98,4.74,93.31,4.74z"})]})};var St=function(){return St=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},St.apply(this,arguments)},Pt=function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}c((n=n.apply(t,e||[])).next())})},Tt=function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Ct=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))};const It=function(){var t=(0,Ot.jE)(),e=function(t){return{download:(0,l.__)("Install","burst-statistics"),activate:(0,l.__)("Activate","burst-statistics"),activating:(0,l.__)("Activating...","burst-statistics"),downloading:(0,l.__)("Downloading...","burst-statistics"),"upgrade-to-pro":(0,l.__)("Downloading...","burst-statistics")}[t]},r=(0,x.I)({queryKey:["otherPluginsData"],queryFn:function(){return Pt(void 0,void 0,void 0,function(){var t;return Tt(this,function(r){switch(r.label){case 0:return[4,v.Eo("otherpluginsdata")];case 1:return t=r.sent(),[2,(t=Object.values(t)).map(function(t){return St(St({},t),{pluginActionNice:e(t.action)})})]}})})},staleTime:1/0,refetchOnWindowFocus:!1}),i=r.data,c=void 0===i?[]:i,d=r.isLoading,f=(0,Dt.n)({mutationFn:function(t){return Pt(void 0,void 0,void 0,function(){return Tt(this,function(e){switch(e.label){case 0:return[4,v.Eo("plugin_actions",t)];case 1:return[2,e.sent()]}})})},onSuccess:function(r,n){var i=n.slug;t.setQueryData(["otherPluginsData"],function(t){return t.map(function(t){return t.slug===i?St(St({},r),{pluginActionNice:e(r.action)}):t})}),r.action&&"installed"!==r.action&&"upgrade-to-pro"!==r.action&&p(i,r.action)}}),p=function(r,n,i){if(i&&i.preventDefault(),"installed"!==n&&"upgrade-to-pro"!==n){var a=function(t){return c.find(function(e){return e.slug===t})}(r);a&&(t.setQueryData(["otherPluginsData"],function(t){return t.map(function(t){if(t.slug===r){var i="download"===n?"downloading":"activate"===n?"activating":n;return St(St({},t),{action:i,pluginActionNice:e(i)})}return t})}),f.mutate({slug:r,action:n}))}};return d?(0,n.jsxs)(a.e,{className:"bg-wp-gray row-span-1 shadow-transparent border-wp-gray lg:col-span-6",children:[(0,n.jsx)(o.q,{className:"burst-column-2 no-border no-background",title:(0,l.__)("Other plugins","burst-statistics"),controls:(0,n.jsx)(Mt,{size:24,color:"gray"})}),(0,n.jsx)(s.t,{className:"px-6 py-0",children:(0,n.jsx)("div",{className:"!flex flex-row flex-wrap mb-[10px] text-base gap-1.5 max-[992px]:flex-row max-[992px]:overflow-hidden",children:Ct([],Array(3),!0).map(function(t,e){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("a",{children:[(0,n.jsx)("div",{className:"bg-gray-400 transition-colors duration-300 ease-in-out"}),(0,n.jsx)("div",{className:"truncate",children:(0,l.__)("Loading..","burst-statistics")})]}),(0,n.jsx)("div",{className:"min-w-fit burst-other-plugin-status",children:(0,l.__)("Activate","burst-statistics")})]},e)})})})]}):(0,n.jsxs)(a.e,{className:"bg-wp-gray row-span-1 shadow-transparent border-wp-gray lg:col-span-6",children:[(0,n.jsx)(o.q,{title:(0,l.__)("Other plugins","burst-statistics"),controls:(0,n.jsx)(Mt,{size:24,color:"gray"})}),(0,n.jsx)(s.t,{className:"px-6 py-0",children:(0,n.jsx)("div",{className:"!flex flex-row flex-wrap mb-[10px] text-base gap-1.5 max-[992px]:flex-row max-[992px]:overflow-hidden",children:c.map(function(t){return function(t){var e,r;["installed","upgrade-to-pro"].includes(t.action)?(e="check",r="white"):["activate"].includes(t.action)?(e="check",r="gray"):(e="circle-open",r="gray");var i="gray-400";switch(t.slug){case"really-simple-ssl":i="yellow";break;case"burst-statistics":i="green";break;case"complianz-gdpr":i="blue";break;case"complianz-terms-conditions":i="black"}return(0,n.jsxs)("div",{className:"\n        burst-other-plugins-element burst-".concat(t.slug,"\n        w-full\n        flex\n        content-between\n        justify-between\n        gap-[10px]\n        [&_a]:w-max\n        [&_a]:text-gray\n        [&_a]:transition-colors\n        [&_a]:duration-300\n        [&_a]:ease-in-out\n        [&_a]:flex\n        [&_a]:items-center\n        [&_a]:min-w-0\n        [&_a]:gap-2.5\n        [&_a]:no-underline\n        [&_a:hover]:underline\n        [&_a:hover]:text-").concat(i,"\n    \t[&_a>.burst-bullet:hover]:bg-").concat(i),children:[(0,n.jsxs)("a",{href:t.wordpress_url,target:"_blank",title:t.title,children:[(0,n.jsx)("div",{className:["installed","upgrade-to-pro"].includes(t.action)?"bg-green rounded-full":"",children:(0,n.jsx)(u.A,{strokeWidth:3,name:e,color:r,size:14})}),(0,n.jsx)("div",{className:"truncate",children:t.title})]}),(0,n.jsxs)("div",{className:"min-w-fit burst-other-plugin-status",children:["upgrade-to-pro"===t.action&&(0,n.jsx)("a",{target:"_blank",href:t.upgrade_url,children:(0,l.__)("Upgrade","burst-statistics")}),"upgrade-to-pro"!==t.action&&"installed"!==t.action&&(0,n.jsx)("a",{href:"#",onClick:function(e){return p(t.slug,t.action,e)},children:t.pluginActionNice}),"installed"===t.action&&(0,n.jsx)(n.Fragment,{children:(0,l.__)("Installed","burst-statistics")})]})]})}(t)})})})]})};function Et(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($,{}),(0,n.jsx)(at,{}),(0,n.jsx)(_t,{}),(0,n.jsx)(Nt,{}),(0,n.jsx)(It,{})]})}r(97060)},55648:(t,e,r)=>{r.d(e,{A:()=>Ft});var n=r(91637),i=r(51609),a=r(97813),o=r(67068),s=r(19093),c=r(99537),l=r(59373),u=r(40545),d=r(44269),f=r(39982),v=r(87267),p=r(76059),g=r(38385),b=r(40031),h=r(57513),y=r(13040),m=r(96167),x=r(87416),w=r(4038),_=r(94071),j=r(92672),A=r(31239),k=r(67964),N=r(72826),O=r(54513),D=r(98880),M=r(76942),S=r(82712),P=r(82172),T=r(76541),C=r(84444),I=r(4041),E=r(47628),F=r(40718),z=r(422),q=r(42786),V=r(12719),G=r(46774),L=r(14774),R=r(57313),U=r(68169),Q=r(90766),B=r(7909),K=r(69404),W=r(92836),Z=r(84025),H=r(47429),J=r(99918),$=r(76002),Y=r(12566),X=r(62362),tt=r(95878),et=r(62409),rt=r(89332),nt=r(32603),it=r(80588),at=r(66325),ot=r(35918),st=r(69474),ct=r(74672),lt=r(34390),ut=r(3999),dt=r(74300),ft=r(58871),vt=r(18090),pt=r(44559),gt=r(83090),bt=r(50670),ht=r(55798),yt=r(69275),mt=r(21763),xt=r(29593),wt=r(73998),_t=r(68958),jt=r(11934),At=r(33884),kt=r(27995),Nt=r(61194),Ot=r(75632),Dt=r(98873),Mt=r(37276),St=r(9605),Pt=r(44104),Tt=r(2573),Ct=function(){return Ct=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ct.apply(this,arguments)},It={black:"black",green:"green",yellow:"yellow",red:"red",blue:"blue",gray:"gray-500",lightgray:"gray-300",white:"white",gold:"gold"},Et={"circle-open":z.A,bullet:z.A,dot:z.A,circle:F.A,period:E.A,check:S.A,warning:s.A,error:g.A,times:Pt.A,trophy:Ot.A,frown:W.A,hourglass:$.A,scale:bt.A,"circle-check":b.A,"circle-times":m.A,"chevron-up":I.A,"chevron-down":P.A,"chevron-right":C.A,"chevron-left":T.A,plus:vt.A,minus:ct.A,sync:gt.A,"sync-error":o.A,shortcode:f.A,file:Q.A,"file-disabled":B.A,"file-download":U.A,calendar:D.A,"calendar-error":O.A,website:dt.A,help:h.A,copy:V.A,trash:Nt.A,visitor:Dt.A,visitors:Mt.A,"visitors-crowd":Mt.A,time:q.A,pageviews:R.A,referrer:tt.A,sessions:y.A,bounces:nt.A,bounced_sessions:nt.A,bounce_rate:nt.A,winner:Ot.A,live:A.A,total:Y.A,graph:v.A,conversion_rate:p.A,goals:H.A,conversions:H.A,"goals-empty":E.A,filter:mt.A,loading:et.A,desktop:lt.A,tablet:jt.A,mobile:xt.A,other:j.A,mouse:ut.A,eye:R.A,page:K.A,hashtag:J.A,sun:_t.A,world:x.A,filters:w.A,referrers:L.A,hook:St.A,"log-in":rt.A,"log-out":nt.A,alert:g.A,search:ht.A,bounce:nt.A,user:Dt.A,conversion:kt.A,parameters:yt.A,campaign:ot.A,source:st.A,medium:pt.A,term:At.A,content:Q.A,location:it.A,city:N.A,"operating-system":lt.A,browser:Z.A,traffic:M.A,behavior:k.A,technology:G.A,"star-filled":wt.A,"star-outline":wt.A,"map-pinned":at.A,empty:F.A,grid:_.A,"user-check":c.A,"user-plus":l.A,"line-squiggle":X.A,"shopping-cart":d.A,"party-popper":ft.A,"error-octagon":o.A,"warning-triangle":s.A,percent:u.A};const Ft=(0,i.memo)(function(t){var e=t.style,r=void 0===e?{}:e,i=t.name,o=void 0===i?"bullet":i,s=t.color,c=void 0===s?"black":s,l=t.size,u=void 0===l?18:l,d=t.strokeWidth,f=void 0===d?1.5:d,v=t.tooltip,p=t.onClick,g=t.className,b=It[c]||c,h=Et[o]||z.A,y={size:u,color:"currentColor",strokeWidth:f,style:r},m=(0,n.jsx)("div",{onClick:function(){p&&p()},className:"flex items-center justify-center",children:"bullet"!==o&&"dot"!==o||h!==z.A?"star-filled"===o&&h===wt.A?(0,n.jsx)(wt.A,Ct({},y,{className:b&&"fill-".concat(b)})):"loading"===o&&h===et.A?(0,n.jsx)(et.A,Ct({},y,{className:(0,Tt.$)(g,"animate-spin [animation-duration:2s]",b&&"text-".concat(b))})):(0,n.jsx)(h,Ct({className:(0,Tt.$)(g,b&&"text-".concat(b))},y)):(0,n.jsx)(z.A,Ct({},y,{className:b&&"fill-".concat(b)}))});return v?(0,n.jsx)(a.A,{content:v,children:m}):m})},56910:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(61626),i=r(70802),a=r(21899),o=r(61445),s=r(51609),c=function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}c((n=n.apply(t,e||[])).next())})},l=function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const u=function(){var t=(0,i.jE)(),e=(0,o.A)(),r=e.goals,u=e.getGoalAsync,d=function(t){return c(void 0,void 0,void 0,function(){var e,r;return l(this,function(n){switch(n.label){case 0:return[4,(0,a.Eo)("get_filter_options",{data_type:t})];case 1:return e=n.sent(),[2,(null===(r=e.data)||void 0===r?void 0:r[t])||[]]}})})},f=(0,n.I)({queryKey:["filters_data","goals"],queryFn:function(){return d("goals")},staleTime:3e5,cacheTime:18e5}),v=(0,s.useCallback)(function(e){return c(void 0,void 0,void 0,function(){var n;return l(this,function(i){switch(i.label){case 0:return"goals"===e?[2,r]:[4,t.fetchQuery({queryKey:["filters_data",e],queryFn:function(){return d(e)},staleTime:3e5,cacheTime:18e5})];case 1:return n=i.sent(),[2,(Array.isArray(n)?n:Object.values(n||{})).map(function(t){return{id:t.ID,title:t.name,key:t.key||t.ID}})]}})})},[t,r]);return{isLoading:f.isLoading,isError:f.isError,getFilterOptions:v,getFilterOptionById:function(t,e){return c(void 0,void 0,void 0,function(){var r,n,i;return l(this,function(a){switch(a.label){case 0:return"goals"!==e?[3,2]:[4,u(t)];case 1:return[2,(r=a.sent())?r.title:t];case 2:return[4,v(e)];case 3:return n=a.sent(),[2,(null==(i=Array.isArray(n)?n.find(function(e){return String(e.id)===String(t)}):null)?void 0:i.title)||t]}})})},getFilterIdByTitle:function(t,e){return c(void 0,void 0,void 0,function(){var r,n;return l(this,function(i){switch(i.label){case 0:return[4,v(e)];case 1:return r=i.sent(),[2,(null==(n=Array.isArray(r)?r.find(function(e){return e.title===t}):null)?void 0:n.id)||null]}})})}}}},61445:(t,e,r)=>{r.d(e,{A:()=>g,l:()=>p});var n=r(61626),i=r(70802),a=r(78280),o=r(21899),s=r(21587),c=r(27723),l=r(89085),u=r(11102),d=function(){return d=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},d.apply(this,arguments)},f=function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}c((n=n.apply(t,e||[])).next())})},v=function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},p=function(t){return t.map(function(e){var r=d({},e);if(e.react_conditions){var n=function(t,e){return!t||0===Object.keys(t).length||Object.entries(t).some(function(t){var r=t[0],n=t[1],i=e.find(function(t){return t.id===r});if(!i)return!1;var a=i.value;return!!a&&n.includes(a)})}(e.react_conditions,t);"disable"===e.condition_action?r.disabled=!n:r.conditionallyDisabled=!n}return r})};const g=function(){var t,e,r,p=(0,i.jE)(),g=(0,n.I)({queryKey:["goals_data"],queryFn:function(){return f(void 0,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return[4,(0,o.DX)()];case 1:return[2,{goals:(t=e.sent()).goals||[],predefinedGoals:t.predefinedGoals||[],goalFields:Object.values(t.goalFields||{})}]}})})},retry:1}),b=(0,a.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){var t,e;return v(this,function(r){switch(r.label){case 0:return t=(null===(e=p.getQueryData(["goals_data"]))||void 0===e?void 0:e.goals)||[],[4,(0,o.d2)({goals:t})];case 1:return[2,r.sent()]}})})},onSuccess:function(){},onError:function(t){console.error(t),s.oR.error((0,c.__)("Failed to save goals","burst-statistics"))}}),h=(0,a.n)({mutationFn:function(t){return f(void 0,[t],void 0,function(t){var e,r=t.id,n=t.value;return v(this,function(t){switch(t.label){case 0:return e=[{id:r,title:n}],[4,(0,o.d2)({goals:e})];case 1:return[2,t.sent()]}})})},onError:function(t){console.error(t),s.oR.error((0,c.__)("Failed to save goal title","burst-statistics"))}}),y=(0,a.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return[4,(0,o.D)()];case 1:return[2,t.sent()]}})})},onSuccess:function(t){p.setQueryData(["goals_data"],function(e){return e?(0,l.jM)(e,function(e){e.goals.push(t.goal)}):e}),s.oR.success((0,c.__)("Goal added successfully!","burst-statistics"))},onError:function(t){console.error(t),s.oR.error((0,c.__)("Failed to add goal","burst-statistics"))}}),m=(0,a.n)({mutationFn:function(t){return f(void 0,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,(0,o.$x)(t)];case 1:return[2,e.sent()]}})})},onSuccess:function(t,e){t.deleted&&(p.setQueryData(["goals_data"],function(t){return t?(0,l.jM)(t,function(t){if(1===t.goals.length)t.goals=[];else{var r=t.goals.findIndex(function(t){return t.id===e});-1!==r&&t.goals.splice(r,1)}}):t}),s.oR.success((0,c.__)("Goal deleted successfully!","burst-statistics")))},onError:function(t){console.error(t),s.oR.error((0,c.__)("Failed to delete goal","burst-statistics"))}}),x=(0,a.n)({mutationFn:function(t){return f(void 0,[t],void 0,function(t){var e=t.predefinedGoalId;return v(this,function(t){switch(t.label){case 0:if(!u.A.getState().isPro)throw new Error((0,c.__)("Predefined goals are a premium feature.","burst-statistics"));return[4,(0,o.ZI)(e)];case 1:return[2,t.sent()]}})})},onSuccess:function(t){p.setQueryData(["goals_data"],function(e){return e?(0,l.jM)(e,function(e){e.goals.push(t.goal)}):e}),s.oR.success((0,c.__)("Successfully added predefined goal!","burst-statistics"))},onError:function(t){console.error(t),s.oR.error(t.message||(0,c.__)("Failed to add predefined goal","burst-statistics"))}});return{goals:(null===(t=g.data)||void 0===t?void 0:t.goals)||[],goalFields:(null===(e=g.data)||void 0===e?void 0:e.goalFields)||[],predefinedGoals:(null===(r=g.data)||void 0===r?void 0:r.predefinedGoals)||[],isLoading:g.isLoading,isError:g.isError,getGoal:function(t){var e,r=(null===(e=g.data)||void 0===e?void 0:e.goals)||[];if(!Array.isArray(r))return!1;var n=r.findIndex(function(e){return e.id==t});return-1!==n&&r[n]},setGoalValue:function(t,e,r){p.setQueryData(["goals_data"],function(n){return n?(0,l.jM)(n,function(n){var i=n.goals.findIndex(function(e){return e.id===t});-1!==i&&(n.goals[i][e]=r)}):n})},updateGoal:function(t,e){p.setQueryData(["goals_data"],function(r){return r?(0,l.jM)(r,function(r){var n=r.goals.findIndex(function(e){return e.id===t});-1!==n&&(r.goals[n]=d(d({},r.goals[n]),e))}):r})},getGoalAsync:function(t){return f(void 0,void 0,void 0,function(){var e,r;return v(this,function(n){switch(n.label){case 0:return[4,p.ensureQueryData({queryKey:["goals_data"],queryFn:o.DX})];case 1:return e=n.sent(),[2,(null===(r=null==e?void 0:e.goals)||void 0===r?void 0:r.find(function(e){return String(e.id)===String(t)}))||null]}})})},saveGoals:b.mutateAsync,saveGoalTitle:function(t,e){return h.mutateAsync({id:t,value:e})},addGoal:y.mutateAsync,deleteGoal:m.mutateAsync,addPredefinedGoal:function(t){return x.mutateAsync({predefinedGoalId:t})},invalidateGoals:function(){return p.invalidateQueries(["goals_data"])}}}},67744:(t,e,r)=>{r.d(e,{q:()=>o});var n=r(91637),i=r(51609),a=r(2573),o=(0,i.memo)(function(t){var e=t.title,r=t.controls,i=t.className,o=void 0===i?"":i;return(0,n.jsxs)("div",{className:(0,a.A)(o,"flex min-h-16 items-center justify-between px-6 gap-4 max-m:px-2.5"),children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:e}),r]})});o.displayName="BlockHeading"},71752:(t,e,r)=>{r.d(e,{c:()=>f});var n=r(30346),i=r(14243),a=r(89085),o=r(27723),s=(r(56910),function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)}),c={content:{label:(0,o.__)("Context","burst-statistics"),icon:"content",order:1},sources:{label:(0,o.__)("Sources","burst-statistics"),icon:"source",order:2},behavior:{label:(0,o.__)("Behavior","burst-statistics"),icon:"behavior",order:3},location:{label:(0,o.__)("Location","burst-statistics"),icon:"location",order:4}},l={page_url:{label:(0,o.__)("Page URL","burst-statistics"),icon:"page",type:"string",options:"pages",pro:!1,category:"content"},referrer:{label:(0,o.__)("Referrer","burst-statistics"),icon:"referrer",type:"string",options:"referrers",pro:!1,category:"sources"},goal_id:{label:(0,o.__)("Goal","burst-statistics"),icon:"goals",type:"string",options:"goals",pro:!1,category:"content"},bounces:{label:(0,o.__)("Bounced Visitors","burst-statistics"),icon:"bounce",type:"boolean",pro:!1,category:"behavior"},device_id:{label:(0,o.__)("Device","burst-statistics"),icon:"desktop",type:"string",options:"devices",pro:!1,category:"content"},host:{label:(0,o.__)("Domain","burst-statistics"),icon:"browser",type:"string",options:"hosts",pro:!0,category:"sources"},new_visitor:{label:(0,o.__)("New Visitors","burst-statistics"),icon:"user",type:"boolean",pro:!0,category:"behavior"},bounce_rate:{label:(0,o.__)("Bounce Rate","burst-statistics"),icon:"bounce",type:"int",pro:!0,category:"behavior",coming_soon:!0},entry_exit_pages:{label:(0,o.__)("Entry or exit page","burst-statistics"),icon:"bounce",type:"boolean",pro:!0,category:"behavior"},conversion_rate:{label:(0,o.__)("Conversion Rate","burst-statistics"),icon:"conversion",type:"int",pro:!0,category:"behavior",coming_soon:!0},url_parameter:{label:(0,o.__)("URL Parameter","burst-statistics"),icon:"parameters",type:"string",pro:!0,category:"sources",coming_soon:!0},campaign:{label:(0,o.__)("Campaign","burst-statistics"),icon:"campaign",type:"string",options:"campaigns",pro:!0,category:"sources"},source:{label:(0,o.__)("Source","burst-statistics"),icon:"source",type:"string",options:"contents",pro:!0,category:"sources"},medium:{label:(0,o.__)("Medium","burst-statistics"),icon:"medium",type:"string",options:"mediums",pro:!0,category:"sources"},term:{label:(0,o.__)("Term","burst-statistics"),icon:"term",type:"string",options:"terms",pro:!0,category:"sources"},content:{label:(0,o.__)("Content","burst-statistics"),icon:"content",type:"string",options:"contents",pro:!0,category:"sources"},country_code:{label:(0,o.__)("Country","burst-statistics"),icon:"world",type:"string",options:"countries",pro:!0,category:"location"},state:{label:(0,o.__)("State","burst-statistics"),icon:"map-pinned",type:"string",options:"states",pro:!0,category:"location"},city:{label:(0,o.__)("City","burst-statistics"),icon:"city",type:"string",options:"cities",pro:!0,category:"location"},time_per_session:{label:(0,o.__)("Time per Session","burst-statistics"),icon:"time",type:"int",pro:!0,category:"behavior",coming_soon:!0},platform_id:{label:(0,o.__)("Operating System","burst-statistics"),icon:"operating-system",type:"string",options:"platforms",pro:!0,category:"content"},browser_id:{label:(0,o.__)("Browser","burst-statistics"),icon:"browser",type:"string",options:"browsers",pro:!0,category:"content"}},u=["page_url","referrer","bounces","device"],d=Object.keys(l).reduce(function(t,e){return t[e]="",t},{}),f=(0,n.v)((0,i.Zr)(function(t,e){return{filters:d,filtersConf:l,filterCategories:c,favorites:u,setFilters:function(e,r){"string"==typeof e&&e.length&&t(function(t){return(0,a.jM)(t,function(t){t.filters&&"object"==typeof t.filters&&(t.filters[e]=r)})})},deleteFilter:function(e){t(function(t){return(0,a.jM)(t,function(t){t.filters[e]=""})})},clearAllFilters:function(){t(function(t){return(0,a.jM)(t,function(t){t.filters=s({},d)})})},getActiveFilters:function(){var t=e().filters;return Object.entries(t).filter(function(t){return t[0],""!==t[1]}).reduce(function(t,e){var r=e[0],n=e[1];return t[r]=n,t},{})},hasActiveFilters:function(){var t=e().filters;return Object.values(t).some(function(t){return""!==t})},getFiltersByCategory:function(){var t=e(),r=t.filtersConf,n=t.filterCategories,i={};return Object.keys(n).forEach(function(t){i[t]=[]}),Object.entries(r).forEach(function(t){var e=t[0],r=t[1];r.category&&i[r.category]&&i[r.category].push(s({key:e},r))}),i},addToFavorites:function(e){t(function(t){return(0,a.jM)(t,function(t){t.favorites.includes(e)||t.favorites.push(e)})})},removeFromFavorites:function(e){t(function(t){return(0,a.jM)(t,function(t){t.favorites=t.favorites.filter(function(t){return t!==e})})})},toggleFavorite:function(t){e().favorites.includes(t)?e().removeFromFavorites(t):e().addToFavorites(t)},isFavorite:function(t){return e().favorites.includes(t)},getFavoriteFilters:function(){var t=e(),r=t.favorites,n=t.filtersConf;return r.filter(function(t){return n[t]}).map(function(t){return s({key:t},n[t])})}}},{name:"burst-filters-storage",version:1.2,partialize:function(t){return{filters:t.filters,favorites:t.favorites}}}))},77902:(t,e,r)=>{r.d(e,{e:()=>o});var n=r(91637),i=r(2573),a=r(23130),o=(0,r(51609).memo)(function(t){var e=t.className,r=void 0===e?"":e,o=t.children;return(0,n.jsx)(a.A,{children:(0,n.jsx)("div",{className:(0,i.A)("col-span-12 flex flex-col rounded-xl bg-white shadow-sm relative border border-gray-300",r),children:o})})});o.displayName="Block"},88887:(t,e,r)=>{r.d(e,{S:()=>d});var n=r(30346),i=r(14243),a=r(67201),o=r(89717),s=r(72442),c=r(67072),l=r(91788),u=function(t){if(l.cA[t]){var e=l.cA[t].range(),r=e.startDate,n=e.endDate;return{startDate:(0,o.default)(r,"yyyy-MM-dd"),endDate:(0,o.default)(n,"yyyy-MM-dd"),range:t}}return null},d=(0,n.v)((0,i.Zr)(function(t,e){return{startDate:(0,o.default)((0,s.default)((0,c.A)(new Date,7)),"yyyy-MM-dd"),endDate:(0,o.default)((0,a.default)((0,c.A)(new Date,1)),"yyyy-MM-dd"),range:"last-7-days",setStartDate:function(e){return t({startDate:e})},setEndDate:function(e){return t({endDate:e})},setRange:function(e){if("custom"!==e){var r=u(e);r&&t(r)}else t({range:e})}}},{name:"burst-date-storage",partialize:function(t){return{range:t.range,startDate:t.startDate,endDate:t.endDate}},onRehydrateStorage:function(){return function(t){if(t&&t.range&&"custom"!==t.range){var e=u(t.range);e&&Object.assign(t,e)}}}}))},91788:(t,e,r)=>{r.d(e,{Ad:()=>C,BM:()=>x,Ee:()=>A,Iq:()=>N,Nj:()=>h,YP:()=>P,ZV:()=>j,cA:()=>M,cf:()=>S,fU:()=>_,fs:()=>y,gs:()=>b,ii:()=>O,oI:()=>m,qQ:()=>k,vd:()=>w});var n=r(38443),i=r(71109),a=r(18553),o=r(44184),s=r(67201),c=r(73177),l=r(52368),u=r(89717),d=r(48145),f=r(72442),v=r(6374),p=r(58357),g=r(27723),b=function(t,e){if(void 0===e&&(e=new Date),"number"==typeof t&&(t=new Date(1e3*t)),!(t instanceof Date))return"-";var r={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},n=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),i=t-e;for(var a in r)if(Math.abs(i)>r[a]||"second"===a)return n.format(Math.round(i/r[a]),a)},h=function(t,e,r){void 0===r&&(r=!0);var n=(t=Number(t))/(e=Number(e));return isNaN(n)&&(n=0),r?new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(n):n};function y(t,e){var r={},n=((t=Number(t))-(e=Number(e)))/e;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}function m(t,e){var r={},n=((t=Number(t))-(e=Number(e)))/100;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}var x=function(t){return(0,n.dateI18n)(burst_settings.date_format,new Date(1e3*t))},w=function(t){return t&&("number"==typeof t||Date.parse(t)>=16409952e5)};function _(t){void 0===t&&(t=0);var e=Number(t);isNaN(e)&&(e=0);var r=Math.floor(e/1e3),n=Math.floor(r/3600),i=Math.floor((r-3600*n)/60),a=r-3600*n-60*i,o=function(t){return isNaN(t)?"00":String(t).padStart(2,"0")};return 0===n?[i,a].map(o).join(":"):[n,i,a].map(o).join(":")}function j(t,e){return void 0===e&&(e=1),t=Number(t),isNaN(t)&&(t=0),t<1e3&&(e=0),new Intl.NumberFormat(void 0,{style:"decimal",notation:"compact",compactDisplay:"short",maximumFractionDigits:e}).format(t)}function A(t,e){return void 0===e&&(e=1),t=Number(t),isNaN(t)&&(t=0),0===t?"0%":t>0&&t<.1?"<0.1%":new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:e}).format(t/100)}function k(t){return t?burst_settings.countries[t.toUpperCase()]||(0,g.__)("Not set","burst-statistics"):(0,g.__)("Unknown","burst-statistics")}function N(t){return t?burst_settings.continents[t.toUpperCase()]||(0,g.__)("Not set","burst-statistics"):(0,g.__)("Unknown","burst-statistics")}function O(t){void 0===t&&(t=new Date);var e=-60*t.getTimezoneOffset(),r=Math.floor(t.getTime()/1e3)+3600*burst_settings.gmt_offset-e;return new Date(1e3*r)}var D=O(),M={today:{label:(0,g.__)("Today","burst-statistics"),range:function(){return{startDate:(0,f.default)(D),endDate:(0,s.default)(D)}}},yesterday:{label:(0,g.__)("Yesterday","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,i.default)(D,-1)),endDate:(0,s.default)((0,i.default)(D,-1))}}},"last-7-days":{label:(0,g.__)("Last 7 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,i.default)(D,-7)),endDate:(0,s.default)((0,i.default)(D,-1))}}},"last-30-days":{label:(0,g.__)("Last 30 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,i.default)(D,-30)),endDate:(0,s.default)((0,i.default)(D,-1))}}},"last-90-days":{label:(0,g.__)("Last 90 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,i.default)(D,-90)),endDate:(0,s.default)((0,i.default)(D,-1))}}},"last-month":{label:(0,g.__)("Last month","burst-statistics"),range:function(){return{startDate:(0,v.default)((0,a.default)(D,-1)),endDate:(0,c.default)((0,a.default)(D,-1))}}},"week-to-date":{label:(0,g.__)("Week to date","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,i.default)(D,-D.getDay())),endDate:(0,s.default)(D)}}},"month-to-date":{label:(0,g.__)("Month to date","burst-statistics"),range:function(){return{startDate:(0,v.default)(D),endDate:(0,s.default)(D)}}},"year-to-date":{label:(0,g.__)("Year to date","burst-statistics"),range:function(){return{startDate:(0,p.A)(D),endDate:(0,s.default)(D)}}},"last-year":{label:(0,g.__)("Last year","burst-statistics"),range:function(){return{startDate:(0,p.A)((0,o.default)(D,-1)),endDate:(0,l.A)((0,o.default)(D,-1))}}}},S=function(t){return Object.values(t).filter(Boolean).map(function(t){var e=M[t];return e.isSelected=T,e})},P=function(t,e){var r="MMMM d, yyyy";return{startDate:t?(0,u.default)(new Date(t),r):"",endDate:e?(0,u.default)(new Date(e),r):""}};function T(t){var e=this.range();return(0,d.default)(t.startDate,e.startDate)&&(0,d.default)(t.endDate,e.endDate)}function C(t,e){if(void 0===e&&(e={}),!t||!e[t])return function(t){return j(t)};var r=e[t],n=r.isPercentage,i=r.isTime,a=r.precision,o=r.suffix;return function(t){if(null==t)return"";if(n)return A(t,a);if(i)return _(t);var e=j(t,a);return o&&(e+=o),e}}},94304:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(91637),i=r(51609),a=r.n(i),o=r(42617),s=r(2573),c=r(55648),l=function(){return l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},l.apply(this,arguments)};const u=a().forwardRef(function(t,e){var r,i=t.value,a=t.onChange,s=t.options,l=(void 0===(r=void 0===s?[]:s)&&(r=[]),Array.isArray(r)?r:Object.entries(r).map(function(t){var e=t[0],r=t[1];return{value:e,label:String(r)}}));return(0,n.jsxs)(o.bL,{value:i,onValueChange:function(t){return a(t)},children:[(0,n.jsxs)(o.l9,{ref:e,className:"inline-flex items-center justify-center gap-1 rounded bg-white text-base leading-none outline outline-gray-400 px-2 py-2 hover:bg-gray-100 focus:shadow-[0_0_0_2px]",children:[(0,n.jsx)(o.WT,{placeholder:"Select an option…"}),(0,n.jsx)(o.In,{className:"text-base",children:(0,n.jsx)(c.A,{name:"chevron-down",color:"black",size:16,tooltip:"",onClick:function(){},className:""})})]}),(0,n.jsxs)(o.UC,{className:"bg-gray-100 text-black border border-gray-400 rounded-md shadow-lg ring-1 ring-black/5 overflow-hidden z-10 shadow-gray-400/50",position:"item-aligned",children:[(0,n.jsx)(o.PP,{className:"",children:(0,n.jsx)(c.A,{name:"chevron-up",color:"black",size:16,tooltip:"",onClick:function(){},className:""})}),(0,n.jsx)(o.LM,{className:"",children:l.map(function(t){return(0,n.jsx)(d,{value:t.value,children:t.label},t.value)})}),(0,n.jsx)(o.wn,{className:"text-base",children:(0,n.jsx)(c.A,{name:"chevron-down",color:"white",size:16,tooltip:"",onClick:function(){},className:""})})]})]})});var d=a().forwardRef(function(t,e){var r=t.children,i=t.className,a=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(t,["children","className"]);return(0,n.jsxs)(o.q7,l({ref:e,className:(0,s.$)("cursor-default px-2 py-2 text-base select-none flex items-center gap-1 flex-row overflow-hidden","hover:bg-gray-300 hover:text-black","focus:bg-gray-300","transition-all duration-200",i)},a,{children:[(0,n.jsx)("div",{className:"w-4 flex items-center",children:(0,n.jsx)(o.VF,{children:(0,n.jsx)(c.A,{name:"check",color:"black",size:16,tooltip:"",onClick:function(){},className:""})})}),(0,n.jsx)(o.p4,{children:r}),(0,n.jsx)("div",{className:"w-4 flex items-center"})]}))})},97813:(t,e,r)=>{r.d(e,{A:()=>a});var n=r(91637),i=(r(51609),r(9564));const a=function(t){var e=t.children,r=t.content,a=t.delayDuration,o=void 0===a?400:a;return r?(0,n.jsx)(i.Kq,{children:(0,n.jsxs)(i.bL,{delayDuration:o,children:[(0,n.jsx)(i.l9,{asChild:!0,children:e}),(0,n.jsxs)(i.UC,{className:"z-[99999] max-w-xs bg-gray-200 text-gray border border-gray-300 px-3 py-2 text-base rounded shadow-md\n            animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 \n            data-[state=delayed-open]:data-[side=top]:slide-in-from-bottom-2\n            data-[state=delayed-open]:data-[side=bottom]:slide-in-from-top-2\n            data-[state=delayed-open]:data-[side=left]:slide-in-from-right-2\n            data-[state=delayed-open]:data-[side=right]:slide-in-from-left-2",sideOffset:5,children:[r,(0,n.jsx)(i.i3,{className:"fill-gray-300",width:10,height:5})]})]})}):(0,n.jsx)(n.Fragment,{children:e})}}}]);