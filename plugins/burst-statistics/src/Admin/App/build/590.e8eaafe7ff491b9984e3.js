"use strict";(globalThis.webpackChunkburst_statistics=globalThis.webpackChunkburst_statistics||[]).push([[590],{6764:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(61626),a=r(70802),s=r(78280),i=r(21899),o=r(21587),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const d=function(){var e=(0,a.jE)(),t=(0,n.I)({queryKey:["settings_fields"],queryFn:function(){return c(void 0,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,(0,i.ww)()];case 1:return[2,e.sent().fields]}})})},staleTime:3e5,initialData:window.burst_settings&&window.burst_settings.fields,retry:0,select:function(e){return function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],e,!0)}}),r=(0,s.n)({mutationFn:function(t){return c(void 0,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return[4,(0,i.Ey)(t)];case 1:return r.sent(),[4,e.invalidateQueries(["settings_fields"])];case 2:return r.sent(),[2]}})})},onSuccess:function(){o.toast.success("Settings saved")}}),d=r.mutateAsync,f=r.isLoading;return{settings:t.data,saveSettings:d,getValue:function(e){var r;return null===(r=t.data.find(function(t){return t.id===e}))||void 0===r?void 0:r.value},addNotice:function(t,r,n,a){e.setQueryData(["settings_fields"],function(e){return e.map(function(e){if(e.id!==t)return e;var s={title:a,label:r,description:n};return l(l({},e),{notice:s})})})},setValue:function(e,r){var n=t.data.find(function(t){return t.id===e});n&&(n.value=r)},isSavingSettings:f,invalidateSettings:function(){return e.invalidateQueries(["settings_fields"])}}}},10371:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(91637),a=r(51609),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},i=(0,a.forwardRef)(function(e,t){var r=e.type,a=void 0===r?"text":r,i=e.className,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","className"]);return(0,n.jsx)("input",s({ref:t,type:a,className:"w-full rounded-md border border-gray-400 p-2 focus:border-primary-dark focus:outline-none focus:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200 ".concat(i||"")},o))});i.displayName="TextInput";const o=i},11989:(e,t,r)=>{r.d(t,{t:()=>i});var n=r(91637),a=r(51609),s=r(2573),i=(0,a.memo)(function(e){var t=e.children,r=e.className,a=void 0===r?"":r,i=/\bp-\S+/.test(a);return(0,n.jsx)("div",{className:(0,s.A)("flex-grow",{"p-6":!i},a),children:t})});i.displayName="BlockContent"},21899:(e,t,r)=>{r.d(t,{$x:()=>A,D:()=>k,DX:()=>N,Eo:()=>P,Ey:()=>_,K5:()=>I,ZI:()=>S,bQ:()=>C,d2:()=>O,nd:()=>D,qN:()=>j,ww:()=>w});var n=r(91637),a=r(1455),s=r.n(a),i=r(27723),o=r(21587),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},d=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},f=function(){return-1!==burst_settings.site_url.indexOf("?")?"&":"?"},p=function(){return"nonce="+burst_settings.burst_nonce+"&token="+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},h="",b=0,v=function(e,t){void 0===t&&(t=!1);var r=(0,i.__)("Server error","burst-statistics");if(e=e.replace(/(<([^>]+)>)/gi,""),t){var a=t.split("?")[0].split("/"),s=a.indexOf("v1")+1;r=(0,i.__)("Server error in","burst-statistics")+" "+a[s]+"/"+a[s+1]}r+=": "+e;var l=Date.now();if(!(r===h&&l-b<3e3)){h=r,b=l;var c=(0,n.jsx)("div",{title:(0,i.__)("Click to copy","burst-statistics"),onClick:function(){navigator.clipboard.writeText(r),o.toast.success((0,i.__)("Error copied to clipboard","burst-statistics"))},children:r});o.toast.error(c,{autoClose:15e3})}},m=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return c(void 0,d([e],t,!0),void 0,function(e,t,r){var n,a,i;return void 0===t&&(t="GET"),void 0===r&&(r={}),u(this,function(o){switch(o.label){case 0:n={path:e,method:t},"POST"===t&&(r.nonce=burst_settings.burst_nonce,n.data=r),o.label=1;case 1:return o.trys.push([1,3,,8]),[4,s()(n)];case 2:if(!(a=o.sent()).request_success)throw Object.prototype.hasOwnProperty.call(a,"message")?new Error(a.message):new Error("Received unexpected response from server. Please check if the Rest API is enabled.");if(a.code&&200!==a.code)throw new Error(a.message);return delete a.request_success,[2,a];case 3:i=o.sent(),o.label=4;case 4:return o.trys.push([4,6,,7]),[4,g(t,e,r)];case 5:return[2,o.sent()];case 6:throw o.sent(),v(i.message,n.path),i;case 7:return[3,8];case 8:return[2]}})})},g=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return c(void 0,d([e,t],r,!0),void 0,function(e,t,r){var n,a,s,i;return void 0===r&&(r=null),u(this,function(o){switch(o.label){case 0:n="GET"===e?"".concat(x("ajax"),"&rest_action=").concat(t.replace("?","&")):x("ajax"),a={method:e,headers:{"Content-Type":"application/json; charset=UTF-8"}},"POST"===e&&(a.body=JSON.stringify({path:t,data:r},y)),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(n,a)];case 2:if(!(s=o.sent()).ok)throw v(!1,s.statusText),new Error(s.statusText);return[4,s.json()];case 3:if(!(i=o.sent()).data||!Object.prototype.hasOwnProperty.call(i.data,"request_success"))throw console.log("Ajax fallback request failed."),new Error("Invalid data error");return delete i.data.request_success,[2,Promise.resolve(i.data)];case 4:return o.sent(),[2,Promise.reject(new Error("AJAX request failed"))];case 5:return[2]}})})},y=function(e,t){return e?e&&e.includes("Control")?void 0:"object"==typeof t?JSON.parse(JSON.stringify(t,y)):t:t},x=function(e){var t;return t=void 0===e?burst_settings.site_url:burst_settings.admin_ajax_url,"https:"===window.location.protocol&&-1===t.indexOf("https://")?t.replace("http://","https://"):t},j=function(e,t){return m("burst/v1/options/set"+f()+p(),"POST",{option:{option:e,value:t}})},w=function(){return m("burst/v1/fields/get"+f()+p())},_=function(e){return m("burst/v1/fields/set"+f(),"POST",{fields:e})},O=function(e){return m("burst/v1/goals/set"+f()+p(),"POST",e)},N=function(){return m("burst/v1/goals/get"+f()+p())},A=function(e){return m("burst/v1/goals/delete"+f()+p(),"POST",{id:e})},k=function(){return m("burst/v1/goals/add"+f()+p(),"POST",{})},S=function(e){return m("burst/v1/goals/add_predefined"+f()+p(),"POST",{id:e})},P=function(e,t){return void 0===t&&(t={}),m("burst/v1/do_action/".concat(e),"POST",{action_data:t}).then(function(e){return Object.prototype.hasOwnProperty.call(e,"data")?e.data:[]})},C=function(e,t,r,n){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];return c(void 0,d([e,t,r,n],a,!0),void 0,function(e,t,r,n,a){var s,i,o,c,d,p,h;return void 0===a&&(a={}),u(this,function(u){switch(u.label){case 0:return s=a.filters,i=a.metrics,o=a.group_by,c=a.currentView,d=l(l(l(l({date_start:t,date_end:r,date_range:n,nonce:burst_settings.burst_nonce,goal_id:a.goal_id,token:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},s&&{filters:s}),i&&{metrics:i}),o&&{group_by:o}),c&&{currentView:c}),b=d,p=Object.keys(b).filter(function(e){return void 0!==b[e]&&null!==b[e]}).map(function(e){var t=function(e){return Array.isArray(e)?e:"object"==typeof e&&null!==e?JSON.stringify(e):e}(b[e]);return Array.isArray(t)?t.map(function(t){return"".concat(encodeURIComponent(e),"[]=").concat(encodeURIComponent(t))}).join("&"):"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))}).join("&"),h="burst/v1/data/".concat(e).concat(f()).concat(p),[4,m(h,"GET")];case 1:return[2,u.sent()]}var b})})},I=function(e){return m("burst/v1/posts/".concat(f()).concat(p(),"&search=").concat(e)).then(function(e){return Object.prototype.hasOwnProperty.call(e,"posts")?e.posts:[]})},D=function(e){return c(void 0,void 0,void 0,function(){var t,r;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(e)];case 1:if(!(t=n.sent()).ok)throw new Error("HTTP error! Status: ".concat(t.status));return[4,t.json()];case 2:return[2,n.sent()];case 3:throw r=n.sent(),console.error("Error fetching JSON data:",r),r;case 4:return[2]}})})}},24454:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(91637),a=r(51609),s=r(29436),i=r(66087),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},l=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},c=(0,a.forwardRef)(function(e,t){var r=e.value,c=e.onChange,u=e.loadOptions,d=e.defaultOptions,f=void 0===d?[]:d,p=e.isLoading,h=void 0!==p&&p,b=e.isSearchable,v=void 0===b||b,m=e.name,g=e.disabled,y=void 0!==g&&g,x=e.placeholder,j=void 0===x?"Select an option...":x,w=e.insideModal,_=void 0!==w&&w,O=e.maxSelections,N=void 0===O?1:O,A=e.showRemoveButton,k=void 0===A||A,S=e.allowCustomValue,P=void 0===S||S,C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["value","onChange","loadOptions","defaultOptions","isLoading","isSearchable","name","disabled","placeholder","insideModal","maxSelections","showRemoveButton","allowCustomValue"]),I=(0,a.useState)([]),D=I[0],E=I[1],F=(0,a.useState)(""),L=F[0],T=F[1],R=(0,a.useState)(h),q=R[0],z=R[1],G=(0,a.useCallback)((0,i.debounce)(function(e){u&&(z(!0),u(e,function(e){E(e),z(!1)}))},150),[u]);(0,a.useEffect)(function(){return function(){G.cancel()}},[G]),(0,a.useEffect)(function(){Array.isArray(f)?E(f):!0===f&&u&&(z(!0),u("",function(e){E(e),z(!1)}))},[f,u]);var M=function(){if(!r)return[];if(Array.isArray(r))return r.map(function(e){return"object"==typeof e&&e.hasOwnProperty("value")&&e.hasOwnProperty("label")?e:D.find(function(t){return t.value===e})||{value:e,label:e.toString()}});if("object"==typeof r&&r.hasOwnProperty("value")&&r.hasOwnProperty("label"))return[r];var e=D.find(function(e){return e.value===r});return e?[e]:[{value:r,label:r.toString()}]}(),V=D.filter(function(e){return!M.some(function(t){return t.value===e.value})});console.log("inputValue ",L,D);var B=P&&""!==L.trim()&&(0===D.length||!D.some(function(e){var t;return(null!==(t=e.label)&&void 0!==t?t:"").toLowerCase()===L.toLowerCase()})&&!M.some(function(e){var t;return(null!==(t=e.label)&&void 0!==t?t:"").toLowerCase()===L.toLowerCase()}));B&&(V=l([{value:L.trim(),label:L.trim(),isCustom:!0}],V,!0));var U=(0,s.mH)({selectedItems:M,onStateChange:function(e){var t=e.selectedItems;switch(e.type){case s.mH.stateChangeTypes.SelectedItemKeyDownBackspace:case s.mH.stateChangeTypes.SelectedItemKeyDownDelete:case s.mH.stateChangeTypes.DropdownKeyDownBackspace:case s.mH.stateChangeTypes.FunctionRemoveSelectedItem:t&&c(1===N?t.length>0?t[0]:null:t)}}}),W=U.getSelectedItemProps,H=U.getDropdownProps,K=(U.addSelectedItem,U.removeSelectedItem,(0,s.Bp)({items:V,selectedItem:null,inputValue:L,stateReducer:function(e,t){var r=t.changes;switch(t.type){case s.Bp.stateChangeTypes.InputKeyDownEnter:case s.Bp.stateChangeTypes.ItemClick:return o(o({},r),{isOpen:N>1,highlightedIndex:0,inputValue:""});default:return r}},onStateChange:function(e){var t=e.type,r=e.selectedItem,n=e.inputValue;switch(t){case s.Bp.stateChangeTypes.InputKeyDownEnter:case s.Bp.stateChangeTypes.ItemClick:if(r)if(1===N)c(r),T("");else if(M.length<N){var a=l(l([],M,!0),[r],!1);c(a),T("")}break;case s.Bp.stateChangeTypes.InputChange:T(n||""),u&&v&&G(n||"")}},itemToString:function(e){return e?e.label:""}})),$=K.isOpen,Q=K.getToggleButtonProps,J=K.getInputProps,Y=K.getMenuProps,Z=K.getItemProps,X=K.highlightedIndex,ee=K.getComboboxProps,te=function(e){var t=M.filter(function(t){return t.value!==e.value});c(1===N?t.length>0?t[0]:null:t)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",o({},ee(),{className:"flex min-h-[2.5rem] w-full rounded-md border border-gray-400 bg-white focus-within:border-primary-dark focus-within:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-wrap items-center gap-1 p-1",children:[M.map(function(e,t){return(0,n.jsxs)("span",o({},W({selectedItem:e,index:t}),{className:"inline-flex items-center gap-1 rounded bg-primary-light px-2 py-1 text-xs text-primary-dark focus:bg-primary focus:text-white focus:outline-none",children:[e.label,k&&(0,n.jsx)("button",{type:"button",onClick:function(t){t.stopPropagation(),te(e)},className:"ml-1 rounded-full hover:bg-primary hover:text-white focus:bg-primary focus:text-white focus:outline-none","aria-label":"Remove ".concat(e.label),children:(0,n.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),"selected-item-".concat(t))}),(1===N||M.length<N)&&(0,n.jsx)("input",o({},J(H(o(o(o({preventKeyAction:$},t?{ref:t}:{}),{name:m,disabled:y,placeholder:0===M.length?j:N>1?"Add ".concat(N-M.length," more..."):"",readOnly:!v,onKeyDown:function(e){if("Backspace"===e.key&&""===L&&M.length>0){e.preventDefault();var t=M[M.length-1];te(t)}}}),C))),{className:"flex-1 min-w-[120px] border-none bg-transparent p-1 focus:outline-none disabled:cursor-not-allowed",style:{outline:"none"}}))]}),(0,n.jsxs)("div",{className:"flex items-center border-l border-gray-300",children:[N>0&&(0,n.jsxs)("span",{className:"px-2 text-xs text-gray-500 border-r border-gray-200",children:[M.length,"/",N]}),(0,n.jsx)("button",o({type:"button"},Q({disabled:y}),{className:"flex items-center justify-center bg-transparent px-2 py-2 hover:bg-gray-100 focus:border-primary-dark focus:outline-none disabled:cursor-not-allowed disabled:bg-gray-200","aria-label":"Toggle menu",children:q?(0,n.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-primary"}):(0,n.jsx)("svg",{className:"h-4 w-4 transition-transform ".concat($?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}))]})]})),(0,n.jsx)("div",o({},Y(),{className:"w-full ".concat(_?"fixed":""," ").concat($?"":"hidden"),children:(0,n.jsxs)("ul",{className:"relative top-0 z-[9999] max-h-60 overflow-y-auto w-full rounded-md border border-gray-300 bg-white shadow-lg ".concat($&&V.length?"":"hidden"),children:[V.map(function(e,t){return(0,n.jsx)("li",o({},Z({item:e,index:t}),{className:"cursor-pointer px-3 py-2 text-sm first:rounded-t-md last:rounded-b-md ".concat(X===t?"bg-primary-light text-primary-dark":"hover:bg-gray-100"),children:e.isCustom?(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("svg",{className:"h-4 w-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),'Create "',e.label,'"']}):e.label}),e.value)}),0===V.length&&!q&&(0,n.jsx)("li",{className:"px-3 py-2 text-sm text-gray-500",children:M.length>=N?"Maximum ".concat(N," selection").concat(N>1?"s":""," reached"):"No options found"})]})}))]})});c.displayName="AsyncSelectInput";const u=c},31980:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(91637);const a=function(e){var t=e.children,r=e.className,a=void 0===r?"":r;return(0,n.jsx)("div",{className:"absolute inset-0 flex items-end justify-center bg-black/10 z-50 py-4 px-4 ".concat(a),children:(0,n.jsx)("div",{className:"bg-white rounded-lg px-5 py-3  w-[90%] max-w-md relative shadow-md",children:t})})}},55648:(e,t,r)=>{r.d(t,{A:()=>Ie});var n=r(91637),a=r(51609),s=r(97813),i=r(99537),o=r(59373),l=r(39982),c=r(87267),u=r(76059),d=r(38385),f=r(40031),p=r(90736),h=r(13040),b=r(96167),v=r(87416),m=r(4038),g=r(94071),y=r(92672),x=r(67068),j=r(19093),w=r(31239),_=r(67964),O=r(72826),N=r(54513),A=r(98880),k=r(76942),S=r(82712),P=r(82172),C=r(76541),I=r(84444),D=r(4041),E=r(47628),F=r(40718),L=r(422),T=r(42786),R=r(12719),q=r(46774),z=r(14774),G=r(57313),M=r(68169),V=r(90766),B=r(7909),U=r(69404),W=r(92836),H=r(84025),K=r(47429),$=r(99918),Q=r(76002),J=r(12566),Y=r(95878),Z=r(62409),X=r(89332),ee=r(32603),te=r(80588),re=r(66325),ne=r(35918),ae=r(69474),se=r(74672),ie=r(34390),oe=r(3999),le=r(74300),ce=r(18090),ue=r(44559),de=r(83090),fe=r(50670),pe=r(55798),he=r(69275),be=r(21763),ve=r(29593),me=r(73998),ge=r(68958),ye=r(11934),xe=r(33884),je=r(27995),we=r(61194),_e=r(75632),Oe=r(98873),Ne=r(37276),Ae=r(9605),ke=r(44104),Se=function(){return Se=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Se.apply(this,arguments)},Pe={black:"var(--rsp-black)",green:"var(--rsp-green)",yellow:"var(--rsp-yellow)",red:"var(--rsp-red)",blue:"var(--rsp-blue)",gray:"var(--rsp-grey-500)",lightgray:"var(--rsp-grey-300)",white:"var(--rsp-white)",gold:"var(--rsp-gold)"},Ce={"circle-open":L.A,bullet:L.A,dot:L.A,circle:F.A,period:E.A,check:S.A,warning:j.A,error:d.A,times:ke.A,trophy:_e.A,frown:W.A,hourglass:Q.A,scale:fe.A,"circle-check":f.A,"circle-times":b.A,"chevron-up":D.A,"chevron-down":P.A,"chevron-right":I.A,"chevron-left":C.A,plus:ce.A,minus:se.A,sync:de.A,"sync-error":x.A,shortcode:l.A,file:V.A,"file-disabled":B.A,"file-download":M.A,calendar:A.A,"calendar-error":N.A,website:le.A,help:p.A,copy:R.A,trash:we.A,visitor:Oe.A,visitors:Ne.A,"visitors-crowd":Ne.A,time:T.A,pageviews:G.A,referrer:Y.A,sessions:h.A,bounces:ee.A,bounced_sessions:ee.A,bounce_rate:ee.A,winner:_e.A,live:w.A,total:J.A,graph:c.A,conversion_rate:u.A,goals:K.A,conversions:K.A,"goals-empty":E.A,filter:be.A,loading:Z.A,desktop:ie.A,tablet:ye.A,mobile:ve.A,other:y.A,mouse:oe.A,eye:G.A,page:U.A,hashtag:$.A,sun:ge.A,world:v.A,filters:m.A,referrers:z.A,hook:Ae.A,"log-in":X.A,"log-out":ee.A,alert:d.A,search:pe.A,bounce:ee.A,user:Oe.A,conversion:je.A,parameters:he.A,campaign:ne.A,source:ae.A,medium:ue.A,term:xe.A,content:V.A,location:te.A,city:O.A,"operating-system":ie.A,browser:H.A,traffic:k.A,behavior:_.A,technology:q.A,"star-filled":me.A,"star-outline":me.A,"map-pinned":re.A,empty:F.A,grid:g.A,"user-check":i.A,"user-plus":o.A};const Ie=(0,a.memo)(function(e){var t=e.name,r=void 0===t?"bullet":t,a=e.color,i=void 0===a?"black":a,o=e.size,l=void 0===o?18:o,c=e.strokeWidth,u=void 0===c?1.5:c,d=e.tooltip,f=e.onClick,p=e.className,h=Pe[i]||i,b=Ce[r]||L.A,v={size:l,color:h,strokeWidth:u},m=(0,n.jsx)("div",{onClick:function(){f&&f()},className:"flex items-center justify-center",children:"bullet"!==r&&"dot"!==r||b!==L.A?"star-filled"===r&&b===me.A?(0,n.jsx)(me.A,Se({},v,{fill:h})):(0,n.jsx)(b,Se({className:p},v)):(0,n.jsx)(L.A,Se({},v,{fill:h}))});return d?(0,n.jsx)(s.A,{content:d,children:m}):m})},61445:(e,t,r)=>{r.d(t,{A:()=>b,l:()=>h});var n=r(61626),a=r(70802),s=r(78280),i=r(21899),o=r(21587),l=r(27723),c=r(89085),u=r(11102),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},f=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},p=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},h=function(e){return e.map(function(t){var r=d({},t);if(t.react_conditions){var n=function(e,t){return!e||0===Object.keys(e).length||Object.entries(e).some(function(e){var r=e[0],n=e[1],a=t.find(function(e){return e.id===r});if(!a)return!1;var s=a.value;return!!s&&n.includes(s)})}(t.react_conditions,e);"disable"===t.condition_action?r.disabled=!n:r.conditionallyDisabled=!n}return r})};const b=function(){var e,t,r,h=(0,a.jE)(),b=(0,n.I)({queryKey:["goals_data"],queryFn:function(){return f(void 0,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return[4,(0,i.DX)()];case 1:return[2,{goals:(e=t.sent()).goals||[],predefinedGoals:e.predefinedGoals||[],goalFields:Object.values(e.goalFields||{})}]}})})},retry:1}),v=(0,s.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){var e,t;return p(this,function(r){switch(r.label){case 0:return e=(null===(t=h.getQueryData(["goals_data"]))||void 0===t?void 0:t.goals)||[],[4,(0,i.d2)({goals:e})];case 1:return[2,r.sent()]}})})},onSuccess:function(){},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to save goals","burst-statistics"))}}),m=(0,s.n)({mutationFn:function(e){return f(void 0,[e],void 0,function(e){var t,r=e.id,n=e.value;return p(this,function(e){switch(e.label){case 0:return t=[{id:r,title:n}],[4,(0,i.d2)({goals:t})];case 1:return[2,e.sent()]}})})},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to save goal title","burst-statistics"))}}),g=(0,s.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,(0,i.D)()];case 1:return[2,e.sent()]}})})},onSuccess:function(e){h.setQueryData(["goals_data"],function(t){return t?(0,c.jM)(t,function(t){t.goals.push(e.goal)}):t}),o.toast.success((0,l.__)("Goal added successfully!","burst-statistics"))},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to add goal","burst-statistics"))}}),y=(0,s.n)({mutationFn:function(e){return f(void 0,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,(0,i.$x)(e)];case 1:return[2,t.sent()]}})})},onSuccess:function(e,t){e.deleted&&(h.setQueryData(["goals_data"],function(e){return e?(0,c.jM)(e,function(e){if(1===e.goals.length)e.goals=[];else{var r=e.goals.findIndex(function(e){return e.id===t});-1!==r&&e.goals.splice(r,1)}}):e}),o.toast.success((0,l.__)("Goal deleted successfully!","burst-statistics")))},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to delete goal","burst-statistics"))}}),x=(0,s.n)({mutationFn:function(e){return f(void 0,[e],void 0,function(e){var t=e.predefinedGoalId,r=e.type,n=e.cookieless;return p(this,function(e){switch(e.label){case 0:if("hook"===r&&n)throw new Error((0,l.__)("Cannot add server side goals in combination with cookieless tracking","burst-statistics"));if(!u.A.getState().isPro)throw new Error((0,l.__)("Predefined goals are a premium feature.","burst-statistics"));return[4,(0,i.ZI)(t)];case 1:return[2,e.sent()]}})})},onSuccess:function(e){h.setQueryData(["goals_data"],function(t){return t?(0,c.jM)(t,function(t){t.goals.push(e.goal)}):t}),o.toast.success((0,l.__)("Successfully added predefined goal!","burst-statistics"))},onError:function(e){console.error(e),o.toast.error(e.message||(0,l.__)("Failed to add predefined goal","burst-statistics"))}});return{goals:(null===(e=b.data)||void 0===e?void 0:e.goals)||[],goalFields:(null===(t=b.data)||void 0===t?void 0:t.goalFields)||[],predefinedGoals:(null===(r=b.data)||void 0===r?void 0:r.predefinedGoals)||[],isLoading:b.isLoading,isError:b.isError,getGoal:function(e){var t,r=(null===(t=b.data)||void 0===t?void 0:t.goals)||[];if(!Array.isArray(r))return!1;var n=r.findIndex(function(t){return t.id==e});return-1!==n&&r[n]},setGoalValue:function(e,t,r){h.setQueryData(["goals_data"],function(n){return n?(0,c.jM)(n,function(n){var a=n.goals.findIndex(function(t){return t.id===e});-1!==a&&(n.goals[a][t]=r)}):n})},updateGoal:function(e,t){h.setQueryData(["goals_data"],function(r){return r?(0,c.jM)(r,function(r){var n=r.goals.findIndex(function(t){return t.id===e});-1!==n&&(r.goals[n]=d(d({},r.goals[n]),t))}):r})},getGoalAsync:function(e){return f(void 0,void 0,void 0,function(){var t,r;return p(this,function(n){switch(n.label){case 0:return[4,h.ensureQueryData({queryKey:["goals_data"],queryFn:i.DX})];case 1:return t=n.sent(),[2,(null===(r=null==t?void 0:t.goals)||void 0===r?void 0:r.find(function(t){return String(t.id)===String(e)}))||null]}})})},saveGoals:v.mutateAsync,saveGoalTitle:function(e,t){return m.mutateAsync({id:e,value:t})},addGoal:g.mutateAsync,deleteGoal:y.mutateAsync,addPredefinedGoal:function(e,t,r){return x.mutateAsync({predefinedGoalId:e,type:t,cookieless:r})},invalidateGoals:function(){return h.invalidateQueries(["goals_data"])}}}},65825:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(91637),a=r(51609),s=r(27723),i=r(55648),o=(0,a.forwardRef)(function(e,t){var r=e.id,a=e.name,o=e.value,l=e.label,c=e.checked,u=e.disabled,d=void 0!==u&&u,f=e.onChange,p=e.className,h=void 0===p?"":p,b=e.tooltip,v=void 0===b?"":b,m=e.recommended,g=void 0!==m&&m,y=e.children;return(0,n.jsxs)("div",{className:"flex items-center gap-2 ".concat(h),children:[(0,n.jsx)("input",{ref:t,type:"radio",id:r,name:a,value:o,checked:c,disabled:d,onChange:function(e){return f(e.target.value)},className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 my-1 mx-0"}),(0,n.jsxs)("label",{htmlFor:r,className:"text-sm text-gray cursor-pointer",children:[l," ",y," ",g&&(0,n.jsxs)("span",{className:"text-xs font-semibold",children:["(",(0,s.__)("Recommended","burst-statistics"),")"]})]}),v&&(0,n.jsx)(i.A,{tooltip:v,color:"blue",name:"help",size:16,className:"bg-blue-light rounded-full"})]})});o.displayName="RadioInput";const l=o},67744:(e,t,r)=>{r.d(t,{q:()=>i});var n=r(91637),a=r(51609),s=r(2573),i=(0,a.memo)(function(e){var t=e.title,r=e.controls,a=e.className,i=void 0===a?"":a;return(0,n.jsxs)("div",{className:(0,s.A)(i,"flex min-h-16 items-center justify-between px-6 gap-4"),children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:t}),r]})});i.displayName="BlockHeading"},77902:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(91637),a=r(2573),s=r(23130),i=(0,r(51609).memo)(function(e){var t=e.className,r=void 0===t?"":t,i=e.children;return(0,n.jsx)(s.A,{children:(0,n.jsx)("div",{className:(0,a.A)("col-span-12 flex flex-col rounded-xl bg-white shadow-md relative border border-gray-100",r),children:i})})});i.displayName="Block"},78548:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(91637),a=r(51609),s=r(2573),i=r(55648),o=(0,a.forwardRef)(function(e,t){var r=e.inputId,a=e.options,o=e.value,l=e.columns,c=void 0===l?2:l,u=e.disabled,d=void 0!==u&&u,f=e.goalId,p=e.onChange,h=e.className,b=void 0===h?"":h,v=f?"".concat(f,"-").concat(r):r;return(0,n.jsx)("div",{className:(0,s.A)("burst-radio-buttons__list grid gap-4",function(e){switch(e){case 1:return"grid-cols-1";case 2:default:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4"}}(c),b),ref:t,children:Object.keys(a).map(function(e){var t=a[e],r="".concat(v,"-").concat(t.type),l=t.type===o;return(0,n.jsxs)("div",{className:"burst-radio-buttons__list__item",children:[(0,n.jsx)("input",{type:"radio",checked:l,name:v,id:r,value:t.type,disabled:d,onChange:function(e){p(e.target.value)},className:"sr-only"}),(0,n.jsxs)("label",{htmlFor:r,className:(0,s.A)("flex items-start space-x-3 p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer","focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2",{"border-primary bg-primary-light":l,"border-gray-300 hover:border-gray-400 bg-white hover:bg-gray-50":!l,"opacity-50 cursor-not-allowed":d}),children:[(0,n.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,n.jsx)("div",{className:(0,s.A)("w-4 h-4 rounded-full border-2 transition-all duration-200 flex items-center justify-center",{"border-primary bg-primary":l,"border-gray-300 bg-white":!l}),children:l&&(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})}),(0,n.jsxs)("div",{className:"flex items-center flex-row min-w-0 gap-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(i.A,{name:t.icon,size:18,className:"flex-shrink-0"}),(0,n.jsx)("h5",{className:(0,s.A)("text-base font-medium transition-colors text-gray-900"),children:t.label})]}),t.description&&t.description.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-px bg-gray-400 mx-3 h-5"}),(0,n.jsx)("p",{className:(0,s.A)("text-sm transition-colors",{"text-gray-600":l,"text-gray-500":!l}),children:t.description})]})]})]})]},r)})})});o.displayName="RadioButtonsInput";const l=o},87590:(e,t,r)=>{r.r(t),r.d(t,{component:()=>Kt});var n=r(91637),a=r(51609),s=r.n(a),i=r(23130),o=r(61445),l=r(77902),c=r(67744),u=r(11989),d=r(21632),f=r(10371),p=r(76713),h=r(27723),b=r(2573);const v=function(e){var t=e.className,r=void 0===t?"":t;return(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary bg-opacity-10 text-primary ".concat(r),children:(0,h.__)("Recommended","burst-statistics")})},m=function(e){var t=e.className,r=void 0===t?"":t;return(0,n.jsx)("span",{className:"inline-flex items-center rounded bg-gray-300 px-2 py-0.5 text-xs font-medium text-gray ".concat(r),children:(0,h.__)("Disabled","burst-statistics")})};var g=r(35812),y=r(11102),x=r(9564);const j=function(e){var t=e.content,r=e.side,a=void 0===r?"top":r,s=(e.className,e.hasArrow),i=void 0===s||s,o=e.delayDuration,l=void 0===o?300:o,c=e.children;return(0,n.jsx)(x.Kq,{delayDuration:l,children:(0,n.jsxs)(x.bL,{children:[(0,n.jsx)(x.l9,{"aria-label":(0,h.__)("Help information","burst-statistics"),onClick:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},children:c}),(0,n.jsxs)(x.UC,{side:a,sideOffset:5,className:"z-50 max-w-xs bg-gray-200 text-gray border border-gray-400 text-sm px-3 py-2 text-base rounded shadow-md \n            animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 \n            data-[state=delayed-open]:data-[side=top]:slide-in-from-bottom-2\n            data-[state=delayed-open]:data-[side=bottom]:slide-in-from-top-2\n            data-[state=delayed-open]:data-[side=left]:slide-in-from-right-2\n            data-[state=delayed-open]:data-[side=right]:slide-in-from-left-2",onClick:function(e){return e.stopPropagation()},children:["string"==typeof t?(0,h.__)(t,"burst-statistics"):t,i&&(0,n.jsx)(x.i3,{className:"fill-gray-300",width:10,height:5})]})]})})};var w=function(e){return e&&"object"==typeof e&&!s().isValidElement(e)},_=(0,a.memo)(function(e){var t=e.label,r=e.context,a=e.help,s=e.error,i=e.reverseLabel,o=void 0!==i&&i,l=e.alignWithLabel,c=void 0!==l&&l,u=e.fullWidthContent,d=void 0!==u&&u,f=e.className,x=void 0===f?"":f,_=e.inputId,O=e.required,N=void 0!==O&&O,A=e.recommended,k=void 0!==A&&A,S=e.disabled,P=void 0!==S&&S,C=e.children,I=e.warning,D=e.pro,E=(0,y.A)().isLicenseValid,F=(0,b.$)(x,"w-full py-4 box-border",!d&&"px-6",s&&"bg-red-light"),L=c?"flex flex-row items-center justify-between":"flex flex-col",T=o?"order-2":"order-1",R=o?"order-1":"order-2",q=c?o?"ml-4":"":o?"mt-2":"",z=c?o?"":"ml-4":o?"":"mt-2",G=(0,n.jsxs)("div",{className:(0,b.$)("flex items-center gap-2",q,d&&"px-6"),children:[(0,n.jsx)(p.b,{className:"cursor-pointer text-md font-medium text-black",htmlFor:_,children:t}),N&&(0,n.jsxs)("span",{className:"ml-1 text-xs font-normal text-gray",children:["(",(0,h.__)("Required","burst-statistics"),")"]}),k&&(0,n.jsx)(v,{}),P&&!D&&(0,n.jsx)(m,{}),D&&!E()&&(0,n.jsx)(g.A,{id:_,url:D.url}),a&&(0,n.jsx)(j,{content:a,children:(0,n.jsx)("span",{className:"inline-flex h-5 w-5 cursor-default items-center justify-center rounded-full border border-gray-400 bg-gray-200 text-center text-base leading-none text-gray hover:bg-gray-300 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary",children:"?"})})]}),M=(0,n.jsx)("div",{className:(0,b.$)("w-full",z,d&&"px-0"),children:C});return(0,n.jsxs)("div",{className:F,children:[(0,n.jsxs)("div",{className:L,children:[(0,n.jsx)("div",{className:(0,b.$)(T),children:G}),(0,n.jsx)("div",{className:(0,b.$)(R),children:M})]}),s&&(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold text-red",role:"alert",children:s}),I&&(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold text-orange",role:"alert",children:I}),r&&(0,n.jsxs)("p",{className:"mt-2 text-sm font-normal text-gray",children:[w(r)?r.text:r,w(r)&&r.url&&" ",w(r)&&r.url&&(0,n.jsx)("a",{className:"text-blue underline",href:r.url,target:"_blank",children:(0,h.__)("More info","burst-statistics")})]})]})});_.displayName="FieldWrapper";const O=_;var N=function(){return N=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)},A=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),p=d.id||s.name;return(0,n.jsx)(O,N({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:p,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(f.A,N({id:p,type:"text","aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message)},s,d))}))});A.displayName="TextField";const k=A;var S=function(){return S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)},P=(0,a.forwardRef)(function(e,t){e.type,e.className;var r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","className"]);return(0,n.jsx)("input",S({ref:t,type:"hidden"},r))});P.displayName="HiddenInput";const C=P;var I=function(){return I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},I.apply(this,arguments)},D=(0,a.forwardRef)(function(e,t){var r,a=e.field,s=e.fieldState,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState"]),o=i.id||a.name;return(0,n.jsx)(C,I({},a,{id:o,type:"hidden","aria-invalid":!!(null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message)},i))});D.displayName="HiddenField";const E=D;var F=function(){return F=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},F.apply(this,arguments)},L=(0,a.forwardRef)(function(e,t){var r=e.className,a=e.rows,s=void 0===a?4:a,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","rows"]);return(0,n.jsx)("textarea",F({ref:t,rows:s,className:"w-full rounded-md border border-gray-400 p-2 focus:border-primary-dark focus:outline-none focus:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200 ".concat(r||"")},i))});L.displayName="TextAreaInput";const T=L;var R=function(){return R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},R.apply(this,arguments)},q=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||s.name;return(0,n.jsx)(O,R({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(T,R({id:f,"aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message)},s,d))}))});q.displayName="TextAreaField";const z=q;var G=r(50552),M=function(){return M=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},M.apply(this,arguments)},V=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||s.name,p=burst_settings.current_ip,b=s.value||"";return(0,n.jsx)(O,M({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsxs)("div",{className:"space-y-2 w-full",children:[(0,n.jsx)(T,M({ref:t,id:f,placeholder:"127.0.0.1\n192.168.0.1","aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),onChange:function(e){var t=e.target.value;s.onChange(t)},value:b,rows:4},d)),(0,n.jsx)(G.A,{onClick:function(){if(p){var e,t=(b||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");e=0===t.split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e}).length||""===t.trim()?p:t.endsWith("\n")?t+p:t+"\n"+p,s.onChange(e)}},disabled:!p||!p||b.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e}).includes(p),btnVariant:"tertiary",size:"md",children:(0,h.__)("Add current IP address","burst-statistics")})]})}))});V.displayName="IpBlockField";const B=V;var U=r(94976),W=function(){return W=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},W.apply(this,arguments)},H=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||s.name;return(0,n.jsx)(O,W({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u+" flex-row",inputId:f,required:d.required,alignWithLabel:!0,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(U.A,W({},s,{id:f,"aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),ref:t},d))}))});H.displayName="SwitchField";const K=H;var $=r(98371),Q=r(21587),J=r(21899),Y=function(){return Y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Y.apply(this,arguments)},Z=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},X=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const ee=function(e){var t=e.label,r=e.action,s=e.buttonText,i=e.warnTitle,o=e.warnContent,l=e.warnType,c=e.url,u=e.disabled,d=e.onClick,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["label","action","buttonText","warnTitle","warnContent","warnType","url","disabled","onClick"]),p=(0,a.useState)(!1),b=p[0],v=p[1],m=(0,a.useState)(!1),g=m[0],y=m[1],x=s||t,j=function(){return Z(void 0,void 0,void 0,function(){var e,t;return X(this,function(n){switch(n.label){case 0:if(!r)return[2];y(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,J.Eo(r,{})];case 2:return(e=n.sent()).success?Q.toast.success(e.message||(0,h.__)("Action completed successfully","burst-statistics")):Q.toast.error(e.message||(0,h.__)("Action failed","burst-statistics")),[3,5];case 3:return t=n.sent(),Q.toast.error((0,h.__)("An error occurred while executing the action","burst-statistics")),console.error("Action execution error:",t),[3,5];case 4:return y(!1),[7];case 5:return[2]}})})},w=function(){v(!1)};return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G.A,Y({onClick:function(e){return function(e){return Z(void 0,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return i?(v(!0),[3,4]):[3,1];case 1:return r?[4,j()]:[3,3];case 2:t.sent(),t.label=3;case 3:d&&d(e),t.label=4;case 4:return[2]}})})}(e)},disabled:u||g,btnVariant:"danger"===l?"danger":"secondary"},f,{children:g?(0,h.__)("Processing...","burst-statistics"):x})),i&&(0,n.jsx)($.A,{title:i,content:o||"",isOpen:b,onClose:w,triggerClassName:"",children:null,footer:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G.A,{onClick:w,btnVariant:"tertiary",children:(0,h.__)("Cancel","burst-statistics")}),(0,n.jsx)(G.A,{onClick:function(){return Z(void 0,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return v(!1),r?[4,j()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},btnVariant:"danger"===l?"danger":"secondary",disabled:g,children:g?(0,h.__)("Processing...","burst-statistics"):(0,h.__)("Confirm","burst-statistics")})]})})]}):c?(0,n.jsx)(G.A,Y({link:{to:c,from:"/"},disabled:u},f,{btnVariant:"tertiary",children:x})):(0,n.jsx)(G.A,Y({onClick:d,disabled:u},f,{btnVariant:"tertiary",children:x}))};var te=function(){return te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},te.apply(this,arguments)},re=(0,a.forwardRef)(function(e,t){var r,a,s,i,o,l,c,u,d=e.field,f=e.fieldState,p=e.label,h=e.help,b=e.context,v=e.className,m=e.setting,g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","setting"]),y=g.id||d.name;return(0,n.jsx)(O,te({label:p,help:h,error:null===(r=null==f?void 0:f.error)||void 0===r?void 0:r.message,context:b,inputId:y,className:v,alignWithLabel:!0,recommended:g.recommended,disabled:g.disabled},g,{children:(0,n.jsx)(ee,te({},d,{id:y,"aria-invalid":!!(null===(a=null==f?void 0:f.error)||void 0===a?void 0:a.message),ref:t,buttonText:null!==(s=m.button_text)&&void 0!==s?s:"",action:null!==(i=m.action)&&void 0!==i?i:"",url:null!==(o=m.url)&&void 0!==o?o:"",warnTitle:null!==(l=m.warnTitle)&&void 0!==l?l:"",warnContent:null!==(c=m.warnContent)&&void 0!==c?c:"",warnType:null!==(u=m.warnType)&&void 0!==u?u:""},g))}))});re.displayName="ButtonControlField";const ne=re;var ae=r(53576),se=r.n(ae);const ie=function(e,t,r){return void 0===r&&(r=[]),(0,a.useCallback)(se()(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(void 0,t)},t),function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([t],r,!0))};var oe=r(42617),le=r(55648),ce=function(){return ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ce.apply(this,arguments)};const ue=s().forwardRef(function(e,t){var r,a=e.value,s=e.onChange,i=e.options,o=(void 0===(r=void 0===i?[]:i)&&(r=[]),Array.isArray(r)?r:Object.entries(r).map(function(e){var t=e[0],r=e[1];return{value:t,label:String(r)}}));return(0,n.jsxs)(oe.bL,{value:a,onValueChange:function(e){return s(e)},children:[(0,n.jsxs)(oe.l9,{ref:t,className:"inline-flex items-center justify-center gap-1 rounded bg-white text-base leading-none outline outline-gray-400 px-2 py-2 hover:bg-gray-100 focus:shadow-[0_0_0_2px]",children:[(0,n.jsx)(oe.WT,{placeholder:"Select an option"}),(0,n.jsx)(oe.In,{className:"text-base",children:(0,n.jsx)(le.A,{name:"chevron-down",color:"black",size:16,tooltip:"",onClick:function(){},className:""})})]}),(0,n.jsxs)(oe.UC,{className:"bg-gray-100 text-black border border-gray-400 rounded-md shadow-lg ring-1 ring-black/5 overflow-hidden z-10 shadow-gray-400/50",position:"item-aligned",children:[(0,n.jsx)(oe.PP,{className:"",children:(0,n.jsx)(le.A,{name:"chevron-up",color:"black",size:16,tooltip:"",onClick:function(){},className:""})}),(0,n.jsx)(oe.LM,{className:"",children:o.map(function(e){return(0,n.jsx)(de,{value:e.value,children:e.label},e.value)})}),(0,n.jsx)(oe.wn,{className:"text-base",children:(0,n.jsx)(le.A,{name:"chevron-down",color:"white",size:16,tooltip:"",onClick:function(){},className:""})})]})]})});var de=s().forwardRef(function(e,t){var r=e.children,a=e.className,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["children","className"]);return(0,n.jsxs)(oe.q7,ce({ref:t,className:(0,b.$)("cursor-default px-2 py-2 text-base select-none flex items-center gap-1 flex-row overflow-hidden","hover:bg-gray-300 hover:text-black","focus:bg-gray-300","transition-all duration-200",a)},s,{children:[(0,n.jsx)("div",{className:"w-4 flex items-center",children:(0,n.jsx)(oe.VF,{children:(0,n.jsx)(le.A,{name:"check",color:"black",size:16,tooltip:"",onClick:function(){},className:""})})}),(0,n.jsx)(oe.p4,{children:r}),(0,n.jsx)("div",{className:"w-4 flex items-center"})]}))}),fe=r(99696),pe=function(){return pe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},pe.apply(this,arguments)},he=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},be=(0,a.forwardRef)(function(e,t){var r,s=e.field,i=e.fieldState,o=e.help,l=e.context,c=(e.className,function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","help","context","className"])),u=c.id||s.name,d=s.value||[],p=(0,a.useState)(""),b=p[0],v=p[1],m=(0,a.useState)(""),g=m[0],y=m[1],x=[{value:"weekly",label:(0,h.__)("Weekly","burst-statistics")},{value:"monthly",label:(0,h.__)("Monthly","burst-statistics")}],j=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},w=ie(function(e){e.length&&!j(e)?y((0,h.__)("Invalid email address","burst-statistics")):y("")},1e3),_=function(){return e=void 0,t=void 0,n=function(){var e;return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(t){return(e=b.trim())?j(e)?10<=d.length?(y((0,h.__)("Maximum 10 emails allowed","burst-statistics")),[2]):d.find(function(t){return t.email===e})?(y((0,h.__)("Email address already added","burst-statistics")),[2]):(y(""),s.onChange(he(he([],d,!0),[{email:e,frequency:"monthly"}],!1)),v(""),[2]):(y((0,h.__)("Invalid email address","burst-statistics")),[2]):(y((0,h.__)("Email address is required","burst-statistics")),[2])})},new((r=void 0)||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())});var e,t,r,n},N=[{name:(0,h.__)("Email","burst-statistics"),selector:function(e){return e.email}},{name:(0,h.__)("Frequency","burst-statistics"),cell:function(e){return(0,n.jsx)(ue,{value:e.frequency,onChange:function(t){return function(e,t){var r=d.map(function(r){return r.email===e?pe(pe({},r),{frequency:t}):r});s.onChange(r)}(e.email,t)},options:x})},right:"true"},{name:(0,h.__)("Remove","burst-statistics"),cell:function(e){return(0,n.jsx)(G.A,{onClick:function(){return t=e.email,r=d.filter(function(e){return e.email!==t}),void s.onChange(r);var t,r},btnVariant:"tertiary",children:(0,h.__)("Remove","burst-statistics")})},right:"true"}];return(0,n.jsx)(O,pe({label:"",help:o,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:l,inputId:u,fullWidthContent:!0,recommended:c.recommended,disabled:c.disabled},c,{children:(0,n.jsxs)("div",{className:"w-full space-y-4",children:[(0,n.jsx)("p",{className:"px-6 text-sm text-gray",children:(0,h.__)("Recipients will receive weekly or monthly reports with statistics about your website. Add or remove email addresses in the list below.","burst-statistics")}),(0,n.jsx)(fe.Ay,{noDataComponent:(0,h.__)("No emails added yet","burst-statistics"),columns:N,data:d,customStyles:{headCells:{style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"}},cells:{style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"}}}}),(0,n.jsxs)(O,{label:"Add emails to receive weekly or monthly reports",error:g,className:"justify-start",children:[(0,n.jsx)(f.A,{name:u,autoComplete:"email",id:u,type:"email",value:b,onChange:function(e){var t=e.target.value;v(t),w(t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),_())},placeholder:(0,h.__)("Enter email address","burst-statistics"),className:"mt-1 block w-full sm:w-64"}),(0,n.jsx)(G.A,{onClick:_,btnVariant:"tertiary",className:"mt-2",type:"button",children:(0,h.__)("Add to list","burst-statistics")})]})]})}))});be.displayName="EmailReportsField";const ve=be;var me=r(89668),ge=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};const ye=(0,a.memo)(function(e){var t=e.indeterminate,r=e.label,s=e.value,i=e.id,o=e.onChange,l=e.required,c=e.disabled,u=e.options,d=void 0===u?{}:u,f=(0,a.useState)(!1),p=f[0],b=f[1],v=s;Array.isArray(v)||(v=""===v?[]:[v]);var m=1===Object.keys(d).length&&"true"===Object.keys(d)[0],g=!!t||s,y=Array.isArray(v)?v:[],x=Object.keys(d).length>10,j=function(){b(!p)},w=!(!c||Array.isArray(c))&&c;return 0===Object.keys(d).length?(0,n.jsx)(n.Fragment,{children:(0,h.__)("No options found","burst-statistics")}):(0,n.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object.entries(d).map(function(e,a){var s,u=e[0],d=e[1];return(0,n.jsxs)("div",{className:"".concat(!p&&a>9?"hidden":""," flex items-center"),children:[(0,n.jsx)(me.bL,{className:"w-4 h-4 border border-gray-400 rounded flex-shrink-0 disabled:opacity-50",id:"".concat(i,"_").concat(u),checked:(s=u,m?g:y.includes(""+s)||y.includes(parseInt(s))),"aria-label":r,disabled:w||Array.isArray(c)&&c.includes(u),required:l,onCheckedChange:function(e){return function(e,t){if(m)o(!g);else{var r=y.includes(""+t)||y.includes(parseInt(t))?y.filter(function(e){return e!==""+t&&e!==parseInt(t)}):ge(ge([],y,!0),[t],!1);o(r)}}(0,u)},children:(0,n.jsx)(me.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(le.A,{name:t?"indeterminate":"check",size:14,color:"blue"})})}),(0,n.jsx)("label",{className:"ml-2",htmlFor:"".concat(i,"_").concat(u),children:d})]},u)}),x&&!p&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("button",{onClick:j,className:"underline w-fit",children:(0,h.__)("Show more","burst-statistics")})}),x&&p&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("button",{onClick:j,className:"underline w-fit",children:(0,h.__)("Show less","burst-statistics")})})]})});var xe=function(){return xe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xe.apply(this,arguments)},je=(0,a.forwardRef)(function(e,t){var r,a=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=u.id||a.name;return(0,n.jsx)(O,xe({label:i,help:o,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:d,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(ye,xe({},a,{id:d,label:i,ref:t},u))}))});je.displayName="CheckboxGroupField";const we=je;var _e=r(97813),Oe=r(61626),Ne=r(91788),Ae=r(30346);const ke=(0,Ae.v)(function(e,t){return{postsLoaded:!1,fetching:!1,posts:[],search:"",maxPostCount:100,filterPosts:function(e,t){return e.filter(function(e){return Object.values(e).some(function(e){return e.toString().toLowerCase().includes(t.toLowerCase())})})},fetchPosts:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a=void 0,s=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],r,!0),o=function(r){var n,a,s,i,o,l;return void 0===r&&(r=""),function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(c){switch(c.label){case 0:return n=t().search,a=!1,s=t().posts.length<t().maxPostCount,0<n.length&&0===r.length&&(a=!0),n.length>r.length&&(a=!0),i=!1,0<n.length&&0===r.indexOf(n)&&(i=!0),!a&&t().postsLoaded&&i&&s?(e({fetching:!1}),[2,t().filterPosts(t().posts,r)]):(e({search:r,fetching:!0}),!a&&t().postsLoaded&&r===n||!a&&t().postsLoaded&&3>r.length&&i?(e({fetching:!1}),[2,t().filterPosts(t().posts,r)]):[4,(0,J.K5)(r)]);case 1:return o=c.sent(),l=(o||[]).map(function(e){return{value:e.page_url,label:e.page_url,page_id:e.page_id,post_title:0<e.post_title.length?e.post_title:(0,h.__)("Untitled","burst-statistics"),pageviews:e.pageviews}}),e({posts:l,postsLoaded:!0,maxPostsCount:o.max_post_count,fetching:!1}),[2,t().filterPosts(l,r)]}})},new((i=void 0)||(i=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function n(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i(function(e){e(a)})).then(r,n)}l((o=o.apply(a,s||[])).next())});var a,s,i,o}}});var Se=r(24454),Pe=function(){return Pe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Pe.apply(this,arguments)};const Ce=(0,a.forwardRef)(function(e,t){var r,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||(null==s?void 0:s.name),p=ke().fetchPosts,h=(0,a.useState)(""),b=h[0],v=h[1],m=(0,Oe.I)({queryKey:["defaultPosts",b],queryFn:function(){return p(b)}}),g=se()(function(e,t){return r=void 0,n=void 0,s=function(){var r;return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(n){switch(n.label){case 0:return v(e),[4,p(e)];case 1:return r=n.sent(),t(r),[2]}})},new((a=void 0)||(a=Promise))(function(e,t){function i(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a(function(e){e(r)})).then(i,o)}l((s=s.apply(r,n||[])).next())});var r,n,a,s},500);return(0,n.jsx)(O,Pe({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(Se.A,{onChange:function(e){d.onChange(e.value)},isLoading:m.isLoading,name:"selectPage",value:null==s?void 0:s.value,defaultInputValue:null==s?void 0:s.value,defaultOptions:m.data||[],loadOptions:g,components:{Option:Ie}})}))});var Ie=function(e){var t=e.innerProps,r=e.innerRef,a=e.data;return(0,n.jsxs)("article",Pe({ref:r},t,{className:"flex items-center justify-between p-2 hover:bg-gray-100 cursor-pointer transition-colors duration-200",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("h6",{className:"text-sm font-medium text-black",children:a.label}),"Untitled"!==a.post_title&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mx-2 text-gray-500",children:" - "}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:a.post_title})]})]}),0<a.pageviews&&(0,n.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,n.jsx)(le.A,{name:"eye",size:12}),(0,n.jsx)("span",{children:(0,Ne.ZV)(a.pageviews)})]})]}))},De=r(78548),Ee=function(){return Ee=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ee.apply(this,arguments)},Fe=(0,a.forwardRef)(function(e,t){var r,a=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=u.id||a.name;return(0,n.jsx)(O,Ee({label:i,help:o,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:d,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(De.A,Ee({id:d,options:a.options,value:a.value,disabled:u.settingsIsUpdating||a.disabled,goalId:a.goal_id},u))}))});Fe.displayName="RadioButtonsField";const Le=Fe;var Te=r(93832),Re=r(47143),qe=r(70802),ze=(r(3582),function(){return ze=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ze.apply(this,arguments)}),Ge=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},Me=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};var Ve=function(){return Ve=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ve.apply(this,arguments)},Be=(0,a.forwardRef)(function(e,t){var r=e.field,s=e.label,i=(e.help,e.context),o=e.className,l=e.goal,c=e.onChange,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","label","help","context","className","goal","onChange"]),d=u.id||r.name,p=function(e){var t=(void 0===e?{}:e).fields,r=(0,qe.jE)(),n=(0,Re.useSelect)(function(e){return e("core").getEntityRecord("root","site")},[]),s=(0,Re.useSelect)(function(e){return e("core/data").isResolving("core","getEntityRecord",["root","site"])},[]),i=(0,Re.useDispatch)("core/data").invalidateResolution,o=(0,a.useCallback)(function(){return Ge(void 0,void 0,void 0,function(){return Me(this,function(e){return n?[2,n]:[2,new Promise(function(e){var t=wp.data.subscribe(function(){var r=wp.data.select("core").getEntityRecord("root","site");r&&(t(),e(r))})})]})})},[n]),l=(0,Oe.I)({queryKey:["wordpressData","siteInfo"],queryFn:o,staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,initialData:n}),c=l.data,u=l.isLoading,d=l.refetch,f=(0,a.useCallback)(function(){return Ge(void 0,void 0,void 0,function(){return Me(this,function(e){switch(e.label){case 0:return i("core","getEntityRecord",["root","site"]),[4,d()];case 1:return e.sent(),r.invalidateQueries(["wordpressData","siteInfo"]),[2]}})})},[i,d,r]),p=c||n,h=u||s;if(t&&p){var b=(Array.isArray(t)?t:[t]).reduce(function(e,t){return t in p&&(e[t]=p[t]),e},{});return ze({siteInfo:p,isLoading:h,refreshSiteInfo:f},b)}return{siteInfo:p,isLoading:h,refreshSiteInfo:f}}(),b=p.siteInfo,v=(p.isLoading,(0,a.useState)(!0)),m=v[0],g=v[1],y=null==b?void 0:b.url,x="page"===l.page_or_website?y+l.specific_page:y,w=(0,Te.addQueryArgs)(x,{burst_preview:"1",burst_force_logged_out:m?"1":"0"}),_=(0,Te.addQueryArgs)(x,{}),N=(0,a.useState)(r.value||""),A=N[0],k=N[1],S=(0,a.useState)(""),P=S[0],C=S[1],I=(0,a.useState)(!1),D=I[0],E=I[1],F=(0,a.useState)({count:null,previews:[],currentIndex:0}),L=F[0],T=F[1],R=(0,a.useState)(""),q=R[0],z=R[1],G=(0,a.useRef)(null),M=(0,a.useRef)(null),V=(0,a.useCallback)(function(e){if(!e)return"";try{return document.querySelectorAll(e),""}catch(e){return"Invalid selector: ".concat(e.message)}},[]),B=(0,a.useCallback)(function(e){if(e){var t=V(e);if(t)return C(t),void T({count:null,previews:[],currentIndex:0});var r=G.current;if(r)try{var n=r.contentDocument||r.contentWindow.document,a=Array.from(n.querySelectorAll(e)),s=a.length;if(0===s)T({count:0,previews:[],currentIndex:0}),z("");else{var i="<head>"+Array.from(n.head.children).map(function(e){return e.outerHTML}).join("")+"</head>",o=a.map(function(e){getComputedStyle(e);var t='<body style="display: flex; justify-content: center; align-items: center; height: 100vh;">'.concat(e.outerHTML,"</body>");return"<!DOCTYPE html>\n<html>\n  ".concat(i,"\n  ").concat(t,"\n</html>")});if(T({count:s,previews:o,currentIndex:0}),C(""),a.length>0){var l=getComputedStyle(a[0]);"none"===l.display||"hidden"===l.visibility?z((0,h.__)("Warning: The current element is hidden via CSS.","burst-statistics")):z("")}}}catch(e){C("Error testing selector: ".concat(e.message)),T({count:null,previews:[],currentIndex:0})}}else T({count:null,previews:[],currentIndex:0})},[V]),U=(0,a.useCallback)(se()(function(e){B(e),E(!1)},300),[B]);(0,a.useEffect)(function(){return E(!0),U(A),function(){return U.cancel()}},[A,U]),(0,a.useEffect)(function(){var e=function(e){L.previews.length&&("ArrowRight"===e.key?W("next"):"ArrowLeft"===e.key&&W("prev"))};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[L.previews.length]);var W=function(e){T(function(t){var r=t.previews,n=t.currentIndex;if(!r.length)return t;var a="next"===e?(n+1)%r.length:(n-1+r.length)%r.length,s=Ve(Ve({},t),{currentIndex:a}),i=G.current;if(i)try{var o=i.contentDocument||i.contentWindow.document,l=Array.from(o.querySelectorAll(A));if(l[a]){var c=getComputedStyle(l[a]);"none"===c.display||"hidden"===c.visibility?z((0,h.__)("Warning: this element might be hidden via CSS.","burst-statistics")):z("")}}catch(e){}return s})},H=P?i:null!=L.count?(0,h.sprintf)(
/* translators:
     1: number of elements found
     2: the URL of the preview
     3: logged in/out status */
/* translators:
     1: number of elements found
     2: the URL of the preview
     3: logged in/out status */
(0,h._n)("Found %1$d element on %2$s %3$s","Found %1$d elements on %2$s %3$s",L.count,"burst-statistics"),L.count,_,m?(0,h.__)("(Logged out)","burst-statistics"):(0,h.__)("(Logged in)","burst-statistics")):i,K=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-base font-bold mb-2",children:(0,h.__)("Selector Examples:","burst-statistics")}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:".class-name"})," "," ",(0,h.__)('Selects all elements with class "class-name".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"#element-id"})," "," ",(0,h.__)('Selects the element with ID "element-id".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"button"})," "," ",(0,h.__)("Selects all <button> elements.","burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:'a[href^="https"]'})," "," ",(0,h.__)('Selects links whose href starts with "https".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:".nav-item:not(.active)"})," "," ",(0,h.__)('Selects .nav-item elements that do not have the "active" class.',"burst-statistics")]})]})]});return(0,n.jsxs)(O,{label:s,help:K,error:P,warning:q,className:o,inputId:d,required:u.required,children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(f.A,Ve({id:d,type:"text",ref:t,value:A},r,u,{"aria-invalid":!!P,"aria-describedby":P?"".concat(d,"-error"):void 0,onChange:function(e){var t=e.target.value;k(t),c(t);var r=V(t);C(r)},className:"w-full"})),D&&(0,n.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,n.jsxs)("svg",{className:"animate-spin h-4 w-4 text-gray-600",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]}),(0,n.jsxs)("div",{className:"mt-4 border rounded overflow-hidden",ref:M,tabIndex:0,"aria-label":(0,h.__)("Preview panel, use arrow keys to navigate","burst-statistics"),children:[(0,n.jsxs)("div",{className:"bg-gray-100 p-2 grid grid-cols-3 items-center justify-between border-b",children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:H}),L.previews.length>1&&(0,n.jsx)("div",{className:"col-start-2 flex items-center justify-center",children:(0,n.jsxs)("div",{role:"group","aria-label":(0,h.__)("Step through matches","burst-statistics"),className:"flex items-center justify-center rounded overflow-hidden shadow-sm",children:[(0,n.jsx)("button",{type:"button",onClick:function(){return W("prev")},className:"bg-white text-gray-600 hover:bg-gray-100 px-3 py-1 border-r","aria-label":(0,h.__)("Previous match","burst-statistics"),children:""}),(0,n.jsxs)("span",{className:"px-2 py-1 bg-white text-sm",children:[L.currentIndex+1,"/",L.previews.length]}),(0,n.jsx)("button",{type:"button",onClick:function(){return W("next")},className:"bg-white text-gray-600 hover:bg-gray-100 px-3 py-1 border-l","aria-label":(0,h.__)("Next match","burst-statistics"),children:""})]})}),(0,n.jsx)("div",{className:"flex items-center justify-end col-start-3 gap-2",children:(0,n.jsx)(j,{content:m?(0,h.__)("Set logged in mode","burst-statistics"):(0,h.__)("Set logged out mode","burst-statistics"),children:(0,n.jsx)("button",{type:"button",onClick:function(){return g(!m)},className:"bg-white text-gray-600 hover:bg-gray-100 border-gray-400 px-2 py-2 border rounded-md",children:m?(0,n.jsx)(le.A,{name:"log-out"}):(0,n.jsx)(le.A,{name:"log-in"})})})})]}),L.previews.length>0&&!P&&(0,n.jsx)("iframe",{srcDoc:L.previews[L.currentIndex],sandbox:"allow-scripts allow-same-origin",title:"".concat(d,"-preview"),className:"w-full h-48 border-none","aria-live":"polite"})]}),L.previews.length>0&&(0,n.jsx)("span",{className:"sr-only","aria-live":"polite",children:(0,h.__)("%s elements match your selector. Use arrow keys to cycle through matches.","burst-statistics").replace("%s",L.count)}),w&&(0,n.jsx)("iframe",{ref:G,sandbox:"allow-scripts allow-same-origin",src:w,onLoad:function(){return B(A)},referrerPolicy:"no-referrer",style:{display:"none"},title:"".concat(d,"-hidden-tester")})]})});Be.displayName="SelectorField";const Ue=Be,We=function(e){var t=e.field,r=void 0===t?{}:t,s=(e.fields,e.goal),i=e.value,o=e.setGoalValue,l=(0,a.useState)(!1),c=l[0],u=l[1];(0,a.useEffect)(function(){f(r,i)});var d=function(e){f(r,e),"type"===r.id&&"visits"===e&&o(s.id,"page_or_website","page"),o(s.id,r.id,e)},f=function(e,t){var r=!0;e.required&&(r=0!==t.length),r&&"url"===e.type&&(r=!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)),r&&"css-selector"===e.type&&(r=!!t.length),u(r)},p="burst-"+r.type,h=r.disabled;return"hidden"===r.type||r.conditionallyDisabled?null:"text"===r.type||"url"===r.type?(0,n.jsxs)("div",{className:p,children:[r.parent_label&&(0,n.jsx)("div",{className:"burst-parent-label",children:(0,n.jsx)("label",{children:r.parent_label})}),c&&(0,n.jsx)(le.A,{name:"success",color:"green"}),!c&&(0,n.jsx)(le.A,{name:"times"}),(0,n.jsx)(k,{help:r.comment,placeholder:r.placeholder,label:r.label,onChange:function(e){return d(e.target.value)},value:i,disabled:h})]}):"radio-buttons"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(Le,{disabled:h,field:r,goalId:s.id,inputId:r.id,id:r.id,label:r.label,help:r.comment,value:s[r.id],onChange:function(e){return d(e)},className:"radio-buttons"})}):"hook"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(k,{disabled:h,field:r,goal:s,label:r.label,help:r.comment,value:s.hook,onChange:function(e){return d(e.target.value)}})}):"select-page"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(Ce,{disabled:h,field:r,goal_id:s.id,label:r.label,help:r.comment,value:!1===s.url||"*"===s.url?"":s.url,onChange:function(e){return d(e)}})}):"selector"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(Ue,{disabled:h,field:r,goal:s,goal_id:s.id,label:r.label,help:r.comment,value:s.selector,onChange:function(e){return d(e)}})}):void 0};function He(e){var t=e.value,r=(e.id,e.onChange),s=(0,a.useState)(t),i=s[0],o=s[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=(0,a.useRef)(null);return(0,a.useEffect)(function(){c&&d.current&&d.current.focus()},[c]),(0,n.jsx)("div",{className:"burst-click-to-edit",children:c?(0,n.jsx)("input",{type:"text",value:i,onChange:function(e){e.preventDefault(),o(e.target.value)},onBlur:function(){return e=this,t=void 0,a=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(e){switch(e.label){case 0:return u(!1),[4,r(i)];case 1:return e.sent(),[2]}})},new((n=void 0)||(n=Promise))(function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())});var e,t,n,a},onKeyDown:function(e){" "===e.key&&(e.preventDefault(),o(e.target.value+" ")),"Enter"===e.key&&(e.preventDefault(),u(!1),r(i))},ref:d}):(0,n.jsx)(_e.A,{content:(0,h.__)("Click to edit","burst-statistics"),children:(0,n.jsx)("h5",{className:"burst-tooltip-clicktoedit",tabIndex:"0",onClick:function(e){e.preventDefault(),u(!0)},onFocus:function(){u(!0)},children:""!==i?i:(0,n.jsx)("i",{children:(0,h.__)("Untitled goal","burst-statistics")})})})})}var Ke=r(85373),$e=function(e){var t=e.goal;return(0,n.jsxs)(n.Fragment,{children:[(0,h.__)("Are you sure you want to delete this goal?","burst-statistics")+" "+(0,h.__)("This action cannot be undone.","burst-statistics"),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,h.__)("Goal name","burst-statistics"),":"]})," ",t.name,(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,h.__)("Status","burst-statistics"),":"]})," ",t.status,(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,h.__)("Date created","burst-statistics"),":"]})," ",(0,Ne.BM)(t.dateCreated)]})},Qe=function(e){var t=e.deleteGoal,r=e.onClose,a=e.isDisabled;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ke.bm,{asChild:!0,"aria-label":"Close",children:(0,n.jsx)("button",{className:"burst-button burst-button--secondary",onClick:r,children:(0,h.__)("Cancel","burst-statistics")})}),(0,n.jsx)("button",{disabled:a,className:"burst-button burst-button--tertiary",onClick:function(){return t()},children:(0,h.__)("Delete goal","burst-statistics")})]})};const Je=function(e){var t=e.goal,r=e.deleteGoal,s=(0,a.useState)(!1),i=s[0],o=s[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=function(){o(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($.A,{isOpen:i,onClose:d,title:(0,h.__)("Delete goal","burst-statistics"),content:(0,n.jsx)($e,{goal:t}),footer:(0,n.jsx)(Qe,{deleteGoal:function(){return e=void 0,t=void 0,a=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(e){switch(e.label){case 0:return u(!0),[4,r()];case 1:return e.sent(),u(!1),o(!1),[2]}})},new((n=void 0)||(n=Promise))(function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())});var e,t,n,a},onClose:d,isDisabled:c})}),(0,n.jsx)("button",{className:"burst-button-icon burst-button-icon--delete",onClick:function(e){return function(e){e.preventDefault(),o(!0)}(e)},children:(0,n.jsx)(le.A,{name:"trash",size:18})})]})};var Ye=function(){return Ye=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ye.apply(this,arguments)};const Ze=function(e){var t=e.goal,r=e.goalFields,s=e.setGoalValue,i=e.deleteGoal,l=e.saveGoalTitle,c=(0,a.useState)("active"===t.status),u=c[0],d=c[1],f=(0,a.useMemo)(function(){if(!r||0===r.length)return[];var e=r.map(function(e){var r=Ye({},e);return r.value=t[r.id],r});return(0,o.l)(e)},[r,t]);return r?(0,n.jsx)("div",{className:"burst-settings-goals__list__item",children:(0,n.jsxs)("details",{children:[(0,n.jsxs)("summary",{children:[(0,n.jsx)(le.A,{name:t.type&&f[1]&&f[1].options&&f[1].options[t.type]?f[1].options[t.type].icon:"eye",size:20}),(0,n.jsx)("span",{children:(0,n.jsx)(He,{value:t.title&&0<t.title.length?t.title:" ",id:t.id,defaultValue:(0,h.__)("New goal","burst-statistics"),onChange:function(e){s(t.id,"title",e),l(t.id,e)}})}),(0,n.jsx)(Je,{goal:{name:t.title&&0<t.title.length?t.title:" ",status:u?(0,h.__)("Active","burst-statistics"):(0,h.__)("Inactive","burst-statistics"),dateCreated:t&&void 0!==t.date_created&&1<t.date_created?t.date_created:1},deleteGoal:function(){i(t.id)}}),(0,n.jsx)(_e.A,{content:u?(0,h.__)("Click to de-activate","burst-statistics"):(0,h.__)("Click to activate","burst-statistics"),children:(0,n.jsx)("span",{className:"burst-click-to-filter burst-goal-toggle",children:(0,n.jsx)(U.A,{size:"small",value:u,onChange:function(e){d(e),s(t.id,"status",e?"active":"inactive")}})})}),(0,n.jsx)(le.A,{name:"chevron-down",size:18})]}),0<f.length&&f.map(function(e,r){return(0,n.jsx)(We,{field:e,goal:t,value:e.value,setGoalValue:s},r)})]})}):null};var Xe=r(50616),et=r(65162),tt=r(6764);const rt=function(){var e=(0,o.A)(),t=e.goals,r=e.goalFields,s=e.predefinedGoals,i=e.addGoal,l=e.deleteGoal,c=e.updateGoal,u=e.addPredefinedGoal,d=e.setGoalValue,f=e.saveGoalTitle,p=(0,y.A)().isLicenseValid,b=(0,a.useState)(!1),v=b[0],m=b[1],g=(0,(0,tt.A)().getValue)("enable_cookieless_tracking"),x=function(e){switch(e){case"hook":return"Hook";case"clicks":return(0,h.__)("Click","burst-statistics");case"views":return(0,h.__)("View","burst-statistics");default:return e}},j=s&&0!==s.length?"":"burst-inactive";return(0,n.jsxs)("div",{className:"box-border w-full p-6",children:[(0,n.jsxs)("p",{className:"text-base",children:[(0,h.__)("Goals are a great way to track your progress and keep you motivated.","burst-statistics"),!p()&&" "+(0,h.__)("While free users can create one goal, Burst Pro lets you set unlimited goals to plan, measure, and achieve more.","burst-statistics")]}),(0,n.jsxs)("div",{className:"burst-settings-goals__list",children:[0<t.length&&t.map(function(e,t){return(0,n.jsx)(Ze,{goal:e,goalFields:r,setGoalValue:d,deleteGoal:l,onUpdate:c,saveGoalTitle:f},t)}),(p()||0===t.length)&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{className:"burst-button burst-button--secondary",type:"button",onClick:i,children:(0,h.__)("Add goal","burst-statistics")}),s&&(0,n.jsxs)(et.bL,{open:v,onOpenChange:function(){m(!v)},children:[(0,n.jsxs)(et.l9,{type:"button",className:j+" burst-button burst-button--secondary",onClick:function(){m(!v)},children:[(0,h.__)("Add predefined goal","burst-statistics")," ",(0,n.jsx)(le.A,{name:v?"chevron-up":"chevron-down",color:"gray"})]}),(0,n.jsxs)(et.UC,{sideOffset:5,align:"end",className:"z-50 flex flex-col gap-2 rounded-lg border border-gray-400 bg-white p-2",children:[s.map(function(e,t){return(0,n.jsxs)("div",{className:"hook"===e.type&&g?"pointer-events-none relative z-50 flex cursor-not-allowed flex-row gap-1 rounded-lg border border-gray-400 bg-gray-100 p-2 opacity-50":"relative z-50 flex cursor-pointer flex-row gap-1 rounded-lg border border-gray-400 bg-gray-100 p-2",onClick:function(){return function(e){u(e.id,e.type,g),m(!1)}(e)},children:[(0,n.jsx)(le.A,{name:"plus",size:18,color:"gray"}),e.title+" ("+x(e.type)+")","hook"===e.type&&(g?(0,n.jsx)(le.A,{name:"error",color:"black",tooltip:(0,h.__)("Not available in combination with cookieless tracking","burst-statistics")}):null)]},t)}),(0,h.__)("Plug-in you're looking for not listed?","burst-statistics")+" ",(0,n.jsx)("a",{className:"underline",href:(0,Xe.U)("/request-goal-integration/",{utm_source:"goals-integration-request"}),children:(0,h.__)("Request it here!","burst-statistics")})]})]}),(0,n.jsx)("div",{className:"ml-auto text-right",children:(0,n.jsx)("p",{className:"rounded-lg bg-gray-300 p-1 px-3 text-sm text-gray",children:p()?(0,n.jsxs)(n.Fragment,{children:[" ",t.length," /  "]}):(0,n.jsxs)(n.Fragment,{children:[t.length," / 1"]})})})]}),!p()&&(0,n.jsxs)("div",{className:"burst-settings-goals__upgrade",children:[(0,n.jsx)(le.A,{name:"goals",size:24,color:"gray"}),(0,n.jsx)("h4",{children:(0,h.__)("Want more goals?","burst-statistics")}),(0,n.jsx)("div",{className:"burst-divider"}),(0,n.jsx)("p",{children:(0,h.__)("Upgrade to Burst Pro","burst-statistics")}),(0,n.jsx)("a",{href:(0,Xe.U)("/pricing/",{utm_source:"goals-setting",utm_content:"more-goals"}),target:"_blank",className:"burst-button burst-button--pro",children:(0,h.__)("Upgrade to Pro","burst-statistics")})]})]})]})};var nt=r(78280);const at=function(e){var t=e.className,r=e.text,a=e.target,s=e.url,i=e.rel,o="",l="",c="";if(-1!==r.indexOf("%s")){var u=r.split(/%s/);o=u[0],c=u[1],l=u[2]}else c=r;return t=t||"burst-link",(0,n.jsxs)(n.Fragment,{children:[o,(0,n.jsx)("a",{className:t,target:a,rel:i,href:s,children:c}),l]})};var st=function(){return st=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},st.apply(this,arguments)},it=(0,a.forwardRef)(function(e,t){var r=e.field,a=e.fieldState,s=e.label,i=e.help,o=(e.context,e.className),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),c=(0,qe.jE)(),u=(0,y.A)(),d=u.setLicenseStatus,p=(u.isLicenseValid,u.licenseStatus),b=(0,tt.A)().saveSettings,v=(0,Oe.I)({queryKey:["licenseNotices"],queryFn:function(){return(0,J.Eo)("license_notices",{})}}),m=v.data,g=v.isLoading;m&&m.licenseStatus!==p&&d(m.licenseStatus);var x,j=s||(0,h.__)("Enter your license key","burst-statistics"),w=l.id||r.name,_=(0,nt.n)({mutationFn:function(e){var t;return"activate"===e?b(((t={})[r.name]=r.value,t)):(0,J.Eo)("deactivate_license",{})},onSuccess:function(){c.invalidateQueries({queryKey:["licenseNotices"]})}}),N=_.mutate,A=_.isPending;return x=void 0===m||A?[{label:"loading",msg:"Loading..."}]:m.notices,function(){var e,s,c=(0,n.jsxs)(n.Fragment,{children:[(0,h.__)("Activating your license gives you automatic updates and support.","burst-statistics")," ",(0,n.jsx)(at,{className:"underline",url:"https://burst-statistics.com/how-to-install-burst-pro/",target:"_blank",rel:"noopener noreferrer",text:(0,h.__)("Having trouble? %sCheck our installation guide%s.","burst-statistics")})," ",(0,n.jsx)(at,{className:"underline",url:"https://burst-statistics.com/support/",target:"_blank",rel:"noopener noreferrer",text:(0,h.__)("If that does not help, please %sopen a support ticket%s so we can help you out!","burst-statistics")})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(O,st({label:j,help:i,error:null===(e=null==a?void 0:a.error)||void 0===e?void 0:e.message,context:c,className:o,inputId:w,required:l.required},l,{children:[(0,n.jsx)(f.A,st({id:w,"aria-invalid":!!(null===(s=null==a?void 0:a.error)||void 0===s?void 0:s.message),type:"password",placeholder:(0,h.__)("Enter your license key here.","burst-statistics")},r,l,{ref:t})),(0,n.jsxs)("div",{className:"flex flex-row gap-2 mt-2",children:[!g&&"valid"===m.licenseStatus&&(0,n.jsx)(G.A,{btnVariant:"tertiary",onClick:function(){return N("deactivate")},disabled:A,children:(0,h.__)("Deactivate License","burst-statistics")}),!g&&"valid"!==m.licenseStatus&&(0,n.jsx)(G.A,{btnVariant:"primary",onClick:function(){return N("activate")},disabled:A,children:(0,h.__)("Activate License","burst-statistics")}),A&&(0,n.jsx)(le.A,{name:"loading",size:20})]})]})),(0,n.jsxs)("div",{className:"flex flex-col gap-2 p-6",children:[(0,n.jsx)("h3",{className:"text-md font-medium text-black",children:(0,h.__)("License status","burst-statistics")}),!g&&x&&x.map(function(e,t){return(0,n.jsx)(lt,{notice:e},t)})]})]})}()});it.displayName="LicenseField";const ot=it;var lt=function(e){var t=e.notice,r={warning:"red",open:"blue",success:"green"}[t.icon]||"green";return(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)(le.A,{name:"bullet",color:r}),(0,n.jsx)("p",{children:t.msg}),t.url&&(0,n.jsx)("a",{href:t.url,target:"_blank",children:(0,h.__)("More info","burst-statistics")})]})},ct=function(){return ct=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ct.apply(this,arguments)},ut=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||s.name;return(0,n.jsx)(O,ct({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,alignWithLabel:!0,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(ue,ct({},s,{id:f,"aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),ref:t,value:s.value||"",onChange:function(e){return s.onChange(e)},options:d.options||[],disabled:d.disabled}))}))});ut.displayName="SelectField";const dt=ut;var ft=function(){return ft=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ft.apply(this,arguments)},pt=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),p=d.id||s.name,h=""===s.value?void 0:s.value;return(0,n.jsx)(O,ft({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:p,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(f.A,ft({},s,{value:h,id:p,type:"number","aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),ref:t,min:d.min,max:d.max,step:d.step,placeholder:d.placeholder,disabled:d.disabled}))}))});pt.displayName="NumberField";const ht=pt;var bt=function(){return bt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bt.apply(this,arguments)};const vt=(0,a.forwardRef)(function(e){var t,r,a,s,i,o,l,c=e.field,u=e.fieldState,d=e.label,f=e.help,p=e.className,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","className"]),v=burst_settings.plugin_url+"assets/img/burst-email-logo.png",m=(0,Oe.I)({queryKey:["attachment",c.value],queryFn:function(){return e=void 0,t=void 0,n=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(e){switch(e.label){case 0:return"0"===c.value||0===c.value?[3,2]:[4,wp.media.attachment(c.value).fetch()];case 1:return[2,e.sent()];case 2:return[2,null]}})},new((r=void 0)||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())});var e,t,r,n}}),g=m.data,y=m.isLoading,x=(null===(r=null===(t=null==g?void 0:g.sizes)||void 0===t?void 0:t.medium)||void 0===r?void 0:r.url)||(null===(s=null===(a=null==g?void 0:g.sizes)||void 0===a?void 0:a.large)||void 0===s?void 0:s.url)||(null===(o=null===(i=null==g?void 0:g.sizes)||void 0===i?void 0:i.full)||void 0===o?void 0:o.url)||v;return(0,n.jsxs)(O,bt({label:d,help:f,className:p,error:u.error,pro:b.setting.pro,context:b.setting.context,recommended:b.recommended,disabled:b.disabled},b,{children:[(0,n.jsx)("div",{className:"flex items-center justify-center bg-gray-100 rounded-md p-4 border-dashed border-2 border-gray-500 cursor-pointer max-w-72 max-h-24 ".concat(b.disabled?"opacity-50 disabled pointer-events-none":""),onClick:function(){b.disabled||(l||(l=wp.media({title:(0,h.__)("Select a logo","burst-statistics"),button:{text:(0,h.__)("Set logo","burst-statistics")},multiple:!1})).on("select",function(){var e=l.state().get("selection").first(),t=e.id;(e.attributes.sizes.medium||e.attributes.sizes.thumbnail||e.attributes.sizes.full)&&c.onChange(t)}),l.open())},children:x&&!y?(0,n.jsx)("img",{src:x,alt:"Logo",className:"max-w-64 max-h-20"}):(0,n.jsx)(le.A,{name:"loading",size:18})}),(0,n.jsx)(G.A,{btnVariant:"tertiary",size:"sm",className:"mt-2",onClick:function(){c.onChange(0)},disabled:b.disabled||0===c.value||"0"===c.value,children:(0,h.__)("Reset to Default","burst-statistics")})]}))});var mt=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},gt=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const yt=(0,Ae.v)(function(e,t){return{archivesLoaded:!1,fetching:!1,restoring:!1,progress:!1,archives:[],downloadUrl:"",fields:[],noData:!1,deleteArchives:function(r){return mt(void 0,void 0,void 0,function(){var n,a;return gt(this,function(s){switch(s.label){case 0:return n=t().archives.filter(function(e){return r.includes(e.id)}),e(function(e){return{archives:e.archives.filter(function(e){return!r.includes(e.id)})}}),(a={}).archives=n,[4,Q.toast.promise((0,J.Eo)("delete_archives",a),{pending:(0,h.__)("Deleting...","burst-statistics"),success:(0,h.__)("Archives deleted successfully!","burst-statistics"),error:(0,h.__)("Failed to delete archive","burst-statistics")})];case 1:return s.sent(),[2]}})})},fetchData:function(){return mt(void 0,void 0,void 0,function(){var r,n,a,s;return gt(this,function(i){switch(i.label){case 0:return y.A.getState().isPro?t().fetching?[2]:(e({fetching:!0}),r={},[4,(0,J.Eo)("get_archives",r).then(function(e){return e}).catch(function(e){console.error(e)})]):[2];case 1:return n=i.sent(),a=n.archives,s=n.downloadUrl,e(function(){return{archivesLoaded:!0,archives:a,downloadUrl:s,fetching:!1}}),[2]}})})},startRestoreArchives:function(t){return mt(void 0,void 0,void 0,function(){return gt(this,function(r){switch(r.label){case 0:return e({restoring:!0,progress:0}),e(function(e){return{archives:e.archives.map(function(e){return t.includes(e.id)&&(e.restoring=!0),e})}}),[4,Q.toast.promise((0,J.Eo)("start_restore_archives",{archives:t}),{pending:(0,h.__)("Starting restore...","burst-statistics"),success:(0,h.__)("Restore successfully started!","burst-statistics"),error:(0,h.__)("Failed to start restore process.","burst-statistics")})];case 1:return r.sent(),[2]}})})},fetchRestoreArchivesProgress:function(){return mt(void 0,void 0,void 0,function(){var r,n,a,s,i;return gt(this,function(o){switch(o.label){case 0:return e({restoring:!0}),[4,(0,J.Eo)("get_restore_progress",{}).then(function(e){return e}).catch(function(e){console.error(e)})];case 1:return r=o.sent(),n=r.progress,a=r.noData,s=!1,100>n&&(s=!0),e({progress:n,restoring:s,noData:a}),100===n&&(i=t().archives.filter(function(e){return!e.restoring}),e({archives:i})),[2]}})})}}});var xt=function(){return xt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xt.apply(this,arguments)},jt=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},wt=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},_t=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};const Ot=(0,a.forwardRef)(function(e){!function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}}(e,[]);var t=(0,a.useState)(""),r=t[0],s=t[1],i=(0,a.useState)([]),o=i[0],l=i[1],c=(0,a.useState)(!1),u=c[0],d=c[1],f=(0,a.useState)({}),p=f[0],b=f[1],v=(0,a.useState)(!1),m=v[0],g=v[1],y=(0,a.useState)(!1),x=y[0],j=y[1],w=(0,a.useState)("title"),_=w[0],O=w[1],N=(0,a.useState)("asc"),A=N[0],k=N[1],S=yt(function(e){return e.archives}),P=yt(function(e){return e.archivesLoaded}),C=(yt(function(e){return e.fetching}),yt(function(e){return e.fetchData})),I=yt(function(e){return e.deleteArchives}),D=yt(function(e){return e.downloadUrl}),E=yt(function(e){return e.startRestoreArchives}),F=yt(function(e){return e.fetchRestoreArchivesProgress}),L=yt(function(e){return e.restoring}),T=yt(function(e){return e.progress}),R=(0,tt.A)().addNotice;(0,a.useEffect)(function(){F()},[]),(0,a.useEffect)(function(){P||C()},[P]);var q=function(e){0===e.length&&(j(!1),g(!1)),l(e)},z=function(e){var t=_t([],e,!0);return(t=G(t,_,A)).filter(function(e){return e.title.toLowerCase().includes(r.toLowerCase())})},G=function(e,t,r){if(0===e.length)return e;var n="asc"===r?1:-1;r!==A&&k(r);var a=function(e){var t=e.split(" "),r=t[0],n=t[1];return parseFloat(r)*{B:1,KB:1024,MB:1048576}[n]};return-1!==t.toString().indexOf("title")&&"title"!==_?O("title"):-1!==t.toString().indexOf("size")&&"size"!==_&&O("size"),"title"===_?e.sort(function(e,t){var r=e.id.replace(".zip","").split("-").map(Number),a=r[0],s=r[1],i=t.id.replace(".zip","").split("-").map(Number),o=i[0],l=i[1];return a!==o?n*(a-o):n*(s-l)}):"size"===_&&e.sort(function(e,t){var r=a(e.size),s=a(t.size);return n*(r-s)}),e},M=[{name:(0,n.jsx)("input",{type:"checkbox",className:m?"burst-indeterminate":"",checked:x,onChange:function(e){return function(e){if(e){j(!0);var t=p.currentPage?p.currentPage:1,r=z(S).slice(10*(t-1),10*t);l(r.map(function(e){return e.id}))}else j(!1),l([]);g(!1)}(e.target.checked)}}),selector:function(e){return e.selectControl},grow:1},{name:(0,h.__)("Archive","burst-statistics"),selector:function(e){return e.title},sortable:!0,grow:6},{name:(0,h.__)("Size","burst-statistics"),selector:function(e){return e.size},sortable:!0,grow:2,right:1}],V=z(S),B=[];V.forEach(function(e){var t=xt({},e);t.selectControl=(0,n.jsx)("input",{type:"checkbox",className:"m-0",disabled:t.restoring||L,checked:o.includes(t.id),onChange:function(e){return function(e,t){var r=_t([],o,!0);e?r.includes(t)||(r.push(t),l(r)):(r=_t([],o.filter(function(e){return e!==t}),!0),l(r));var n=p.currentPage?p.currentPage:1,a=z(S).slice(10*(n-1),10*n),s=!0,i=!1;a.forEach(function(e){r.includes(e.id)?i=!0:s=!1}),s?(j(!0),g(!1)):i?(j(!1),g(!0)):g(!1)}(e.target.checked,t.id)}}),B.push(t)});var U=1<o.length;if(!U&&1===o.length){var W=S.filter(function(e){return o.includes(e.id)});U=W.hasOwnProperty(0)&&""!==W[0].download_url}return(0,n.jsxs)("div",{className:"w-full p-6",children:[(0,n.jsx)("div",{className:"burst-table-header",children:(0,n.jsx)("div",{className:"burst-table-header-controls",children:(0,n.jsx)("input",{className:"burst-datatable-search",type:"text",placeholder:(0,h.__)("Search","burst-statistics"),value:r,onChange:function(e){return s(e.target.value)}})})}),0<o.length&&(0,n.jsx)("div",{className:"burst-selected-archive flex space-y-2",children:(0,n.jsxs)("div",{className:"burst-selected-archive-controls flex gap-2.5 mb-4 mt-4 items-center",children:[U&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{disabled:u||T&&100>T,className:"burst-button burst-button--secondary",onClick:function(e){return function(e){return jt(void 0,void 0,void 0,function(){var t,r;return wt(this,function(n){switch(n.label){case 0:return e.preventDefault(),t=S.filter(function(e){return o.includes(e.id)}),d(!0),r=function(){return jt(void 0,void 0,void 0,function(){var e,n,a,s;return wt(this,function(i){switch(i.label){case 0:if(!(0<t.length))return[3,5];e=t.shift(),n=D+e.id,i.label=1;case 1:return i.trys.push([1,3,,4]),(a=new XMLHttpRequest).responseType="blob",a.open("get",n,!0),a.send(),a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var r=window.URL.createObjectURL(this.response),n=window.document.createElement("a");n.href=r,n.download=e.title,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),q(t),d(!1),setTimeout(function(){window.URL.revokeObjectURL(r)},6e4)}},[4,r()];case 2:return i.sent(),[3,4];case 3:return s=i.sent(),console.error(s),d(!1),[3,4];case 4:return[3,6];case 5:d(!1),i.label=6;case 6:return[2]}})})},[4,r()];case 1:return n.sent(),[2]}})})}(e)},children:[(0,h.__)("Download","burst-statistics"),u&&(0,n.jsx)(le.A,{name:"loading",color:"gray"})]})}),(0,n.jsxs)("button",{disabled:T&&100>T,className:"burst-button burst-button--primary",onClick:function(e){return function(e,t){return jt(void 0,void 0,void 0,function(){return wt(this,function(r){switch(r.label){case 0:return e.preventDefault(),q([]),[4,E(t)];case 1:return r.sent(),R("archive_data","warning",(0,h.__)("Because restoring files can conflict with the archiving functionality, archiving has been disabled.","burst-statistics"),(0,h.__)("Archiving disabled","burst-statistics")),[2]}})})}(e,o)},children:[(0,h.__)("Restore","burst-statistics"),100>T&&(0,n.jsx)(le.A,{name:"loading",color:"gray"})]}),(0,n.jsx)("button",{disabled:T&&100>T,className:"burst-button burst-button--tertiary",onClick:function(e){return function(e,t){return jt(void 0,void 0,void 0,function(){return wt(this,function(r){switch(r.label){case 0:return e.preventDefault(),q([]),[4,I(t)];case 1:return r.sent(),[2]}})})}(e,o)},children:(0,h.__)("Delete","burst-statistics")}),(0,n.jsxs)("div",{children:[1<o.length&&(0,h.__)("%s items selected","burst-statistics").replace("%s",o.length),1===o.length&&(0,h.__)("1 item selected","burst-statistics")]})]})}),0<T&&100>T&&(0,n.jsx)("div",{className:"burst-selected-archive",children:(0,h.__)("Restore in progress, %s complete","burst-statistics").replace("%s",T+"%")}),fe.Ay&&(0,n.jsx)(fe.Ay,{columns:M,data:B,dense:!0,paginationPerPage:10,onChangePage:function(e){b(xt(xt({},p),{currentPage:e}))},paginationState:p,persistTableHead:!0,defaultSortFieldId:2,pagination:!0,paginationRowsPerPageOptions:[10,25,50],paginationComponentOptions:{rowsPerPageText:"",rangeSeparatorText:(0,h.__)("of","burst-statistics"),noRowsPerPage:!1,selectAllRowsItem:!0,selectAllRowsItemText:(0,h.__)("All","burst-statistics")},noDataComponent:(0,n.jsx)("div",{className:"burst-no-archives",children:(0,h.__)("No archives","burst-statistics")}),sortFunction:G})]})});var Nt=r(65825),At=function(){return At=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},At.apply(this,arguments)},kt=(0,a.forwardRef)(function(e,t){var r,a=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=e.recommended,d=e.disabled,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","recommended","disabled"]),p=f.id||a.name,h=f.options||{};return(0,n.jsx)(O,At({label:i,help:o,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:p,required:f.required,recommended:u,disabled:d},f,{children:(0,n.jsx)("div",{className:"space-y-4",children:Object.entries(h).map(function(e){var t=e[0],r=e[1],s="string"==typeof r?r:r.label,i="object"==typeof r&&r.context?r.context:null,o="object"==typeof r&&!0===r.recommended;return(0,n.jsx)("div",{className:"space-y-1",children:(0,n.jsx)("div",{className:"flex items-start gap-2 rounded-md border border-gray-400 bg-gray-100 px-3 py-2",children:(0,n.jsxs)(Nt.A,{id:"".concat(p,"-").concat(t),name:a.name,value:t,label:s,checked:a.value===t,disabled:d,onChange:function(e){return a.onChange(e)},className:c,children:[o&&(0,n.jsx)(v,{}),i&&(0,n.jsx)("div",{className:"text-sm font-light text-gray",children:i})]})})},"".concat(p,"-").concat(t))})})}))});kt.displayName="RadioField";var St=function(){return St=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},St.apply(this,arguments)},Pt={text:k,number:ht,api:E,hidden:E,checkbox:K,textarea:z,ip_blocklist:B,button:ne,email_reports:ve,checkbox_group:we,goals:rt,license:ot,select:dt,logo_editor:vt,restore_archives:Ot,radio:kt},Ct=(0,a.memo)(function(e){var t,r=e.setting,s=e.control,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["setting","control"]),l=(0,y.A)().isLicenseValid;if("goals"===r.type)return(0,n.jsx)(i.A,{children:(0,n.jsx)(rt,{})});var c=Pt[r.type];if(!c)return(0,n.jsxs)("div",{className:"w-full",children:["Unknown field type: ",r.type," ",r.id]});var u=St(St(St(St(St(St(St({},r.required&&{required:{value:!0,message:r.requiredMessage||(0,h.__)("This field is required","burst-statistics")}}),(null===(t=r.validation)||void 0===t?void 0:t.regex)&&{pattern:{value:new RegExp(r.validation.regex),message:r.validation.message||(0,h.__)("Invalid format","burst-statistics")}}),function(){var e;if("ip_blocklist"===r.type){var t=/^((25[0-5]|2[0-4]\d|1?\d{1,2})\.){3}(25[0-5]|2[0-4]\d|1?\d{1,2})$/,n=/^((?:[0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}|(?:[0-9A-Fa-f]{1,4}:){1,7}:|:(?::[0-9A-Fa-f]{1,4}){1,7}|(?:[0-9A-Fa-f]{1,4}:){1,6}:[0-9A-Fa-f]{1,4}|(?:[0-9A-Fa-f]{1,4}:){1,5}(?::[0-9A-Fa-f]{1,4}){1,2}|(?:[0-9A-Fa-f]{1,4}:){1,4}(?::[0-9A-Fa-f]{1,4}){1,3}|(?:[0-9A-Fa-f]{1,4}:){1,3}(?::[0-9A-Fa-f]{1,4}){1,4}|(?:[0-9A-Fa-f]{1,4}:){1,2}(?::[0-9A-Fa-f]{1,4}){1,5}|[0-9A-Fa-f]{1,4}:(?:(?::[0-9A-Fa-f]{1,4}){1,6})|::(?:ffff(?::0{1,4})?:)?(?:(25[0-5]|2[0-4]\d|1?\d{1,2})\.){3}(25[0-5]|2[0-4]\d|1?\d{1,2}))$/,a=function(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e})};return{validate:{validIps:function(e){if(!e)return!0;var r=a(e);if(0===r.length)return!0;var s=r.filter(function(e){return!function(e){return t.test(e)||n.test(e)}(e)});return 0===s.length||(0,h.__)("Invalid IP address format: ","burst-statistics")+s.join(", ")},noDuplicates:function(e){if(!e)return!0;var t=a(e);if(0===t.length)return!0;var r={};t.forEach(function(e){var t=function(e){return e.toLowerCase()}(e);r[t]=(r[t]||0)+1});var n=Object.entries(r).filter(function(e){return e[1]>1}).map(function(e){return e[0]});return 0===n.length||(0,h.__)("Duplicate IP addresses found: ","burst-statistics")+n.join(", ")}}}}return(null===(e=r.validation)||void 0===e?void 0:e.validate)?{validate:r.validation.validate}:{}}()),r.min&&{min:r.min}),r.max&&{max:r.max}),r.minLength&&{minLength:r.minLength}),r.maxLength&&{maxLength:r.maxLength}),f=(0,a.useMemo)(function(){return!!r.disabled||!(!r.pro||l())||o.settingsIsUpdating},[r.disabled,o.settingsIsUpdating]);return(0,n.jsx)(i.A,{children:(0,n.jsx)(d.xI,{name:r.id,control:s,rules:u,defaultValue:r.value||r.default,render:function(e){var t=e.field,a=e.fieldState;return(0,n.jsx)(c,St({field:t,fieldState:a,control:s,required:r.required,label:r.label||r.id,disabled:f,context:r.context,help:r.help,options:r.options,setting:r,recommended:r.recommended,pro:r.pro},o))}})})});Ct.displayName="Field";const It=Ct;var Dt=r(31980),Et=(0,a.memo)(function(e){var t=e.group,r=e.fields,a=e.control,s=e.isLastGroup,o=(0,y.A)().isLicenseValid,d=s?"rounded-b-none":"mb-5";return 0===r.length?null:(0,n.jsxs)(l.e,{className:d,children:[t.pro&&!o()&&(0,n.jsx)(Dt.A,{className:"backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("h4",{children:(0,h.__)("Unlock Advanced Features with Burst Pro","burst-statistics")}),(0,n.jsxs)("p",{children:[(0,h.__)("This setting is exclusive to Pro users.","burst-statistics"),t.pro&&t.pro.text&&" "+t.pro.text]}),t.pro.url&&(0,n.jsx)(G.A,{to:t.pro.url,btnVariant:"primary",btnSize:"small",children:(0,h.__)("Upgrade to Pro","burst-statistics")})]})}),(0,n.jsx)(c.q,{title:t.title,className:"burst-settings-group-block"}),(0,n.jsxs)(u.t,{className:"p-0 pb-4",children:[t.description&&(0,n.jsx)("h3",{className:"mb-5 text-sm",children:t.description}),(0,n.jsx)("div",{className:"flex flex-wrap",children:r.map(function(e,t){return(0,n.jsx)(i.A,{fallback:"Could not load field",children:(0,n.jsx)(It,{index:t,setting:e,control:a},t)},t)})})]})]},t.id)});Et.displayName="SettingsGroupBlock";const Ft=Et;var Lt=function(){var e=(0,a.useState)(0),t=e[0],r=e[1],s=(0,a.useState)(!1),i=s[0],o=s[1],l=(0,a.useCallback)(function(){var e=document.documentElement.scrollHeight-window.innerHeight;0<e?(r(Math.round(window.scrollY/e*100)),o(!0)):o(!1)},[]);return(0,a.useEffect)(function(){l();var e=["scroll","resize","load"];e.forEach(function(e){return window.addEventListener(e,l)});var t=new MutationObserver(l);return t.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),function(){e.forEach(function(e){return window.removeEventListener(e,l)}),t.disconnect()}},[l]),i?(0,n.jsx)("div",{className:"h-1 w-full bg-gray-400",children:(0,n.jsx)("div",{className:"h-full bg-blue transition-all duration-300 ease-out",style:{width:"".concat(10+Math.min(t,90),"%")}})}):null};Lt.displayName="FormScrollProgressLine";const Tt=Lt;function Rt(e){var t=e.onSubmit,r=e.control,a=(0,d.lN)({control:r}),s=a.isDirty,i=a.isSubmitting,o=a.isValidating,l=[{condition:i,message:(0,h.__)("Saving...","burst-statistics"),color:"black"},{condition:o,message:(0,h.__)("Validating...","burst-statistics"),color:"black"},{condition:s,message:(0,h.__)("You have unsaved changes","burst-statistics"),color:"black"}].find(function(e){return e.condition});return(0,n.jsxs)("div",{className:"sticky bottom-0 start-0 z-10 rounded-b-md border-t border-gray-200 bg-gray-100 shadow-[0_-8px_15px_-3px_rgba(0,0,0,0.05),0_4px_6px_-2px_rgba(0,0,0,0.05)]",children:[(0,n.jsx)(Tt,{}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 p-5",children:[(null==l?void 0:l.message)&&(0,n.jsx)("div",{className:"flex gap-2 items-center py-1 px-2 rounded-md transition-opacity duration-150"+((null==l?void 0:l.message)?" opacity-100":" opacity-0")+("red"===(null==l?void 0:l.color)?" bg-red-light border border-red":""),children:(0,n.jsx)("span",{className:"text-sm"+("red"===(null==l?void 0:l.color)?" font-semibold text-red":" italic text-gray-900"),children:null==l?void 0:l.message})}),(0,n.jsx)(G.A,{className:"burst-save",onClick:t,children:(0,h.__)("Save","burst-statistics")})]})]})}Rt.displayName="FormFooter";const qt=Rt;var zt=function(){return zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},zt.apply(this,arguments)};const Gt=function(e){var t=e.currentSettingPage,r=(0,tt.A)(),s=r.settings,l=r.saveSettings,c=(0,o.A)().saveGoals,u=t.id,f=(0,a.useMemo)(function(){return Mt(s,u)},[s,u]),p=(0,a.useMemo)(function(){return Mt(s,u,"value")},[s,u]),h=(0,d.mN)({defaultValues:f,values:p}),b=h.handleSubmit,v=h.control,m=h.formState.dirtyFields,g=(0,d.FH)({control:v}),y=(0,a.useMemo)(function(){var e=[];return t.groups.forEach(function(t){var r=s.filter(function(e){return e.menu_id===u&&e.group_id===t.id}).filter(function(e){return!e.react_conditions||Object.entries(e.react_conditions).every(function(e){var t=e[0],r=e[1],n=null==g?void 0:g[t];return r.includes(n)})});r.length>0&&e.push(zt(zt({},t),{fields:r}))}),e},[s,u,t.groups,g]);return(0,n.jsx)("form",{children:(0,n.jsxs)(i.A,{fallback:"Could not load Settings",children:[y.map(function(e,t){var r=t===y.length-1;return(0,n.jsx)(Ft,{group:e,fields:e.fields,control:v,isLastGroup:r},e.id)}),"license"!==u&&(0,n.jsx)(qt,{onSubmit:b(function(e){var t=Object.keys(m).reduce(function(t,r){return t[r]=e[r],t},{});l(t),c()}),control:v})]})})};var Mt=function(e,t,r){void 0===r&&(r="default");var n={};return e.forEach(function(e){e.menu_id===t&&(n[e.id]=e[r])}),n},Vt=r(48474),Bt=(0,a.memo)(function(e){var t=e.className,r=void 0===t?"":t,a=e.children,s=e.title,i=e.isOpen,o=e.onToggle;return(0,n.jsx)(l.e,{className:r,children:(0,n.jsxs)("details",{className:"group",open:i,onToggle:function(e){return o(e.currentTarget.open)},children:[(0,n.jsxs)("summary",{className:"flex cursor-pointer items-center justify-between p-4 hover:bg-gray-50",children:[(0,n.jsx)("span",{className:"text-base font-medium text-black",children:s}),(0,n.jsx)("svg",{className:"h-5 w-5 text-gray transition-transform group-open:rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),(0,n.jsx)("div",{className:"p-4 pt-0",children:a})]})})});Bt.displayName="CollapsableBlock";var Ut=function(e){var t=e.settingsGroup,r=(0,tt.A)().settings.filter(function(e){return e.notice&&e.menu_id===t.id}),s=(0,a.useState)(r.map(function(){return!1})),i=s[0],o=s[1];if(!r.length)return null;var l=i.filter(function(e){return e}).length>r.length/2?(0,h.__)("Collapse all","burst-statistics"):(0,h.__)("Expand all","burst-statistics");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)("h2",{className:"py-4 text-base font-bold",children:(0,h.__)("Notifications","burst-statistics")}),(0,n.jsx)("button",{className:"cursor-pointer text-sm text-gray underline",onClick:function(){var e=i.filter(function(e){return e}).length<=notices.length/2;o(notices.map(function(){return e}))},children:l})]}),0<r.length&&r.map(function(e,t){return(0,n.jsx)(Bt,{title:e.notice.title,className:"mb-4 w-full flex-1 !bg-accent-light",isOpen:i[t],onToggle:function(e){return function(e,t){o(function(r){var n=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],r,!0);return n[e]=t,n})}(t,e)},children:(0,n.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,n.jsx)("p",{className:"text-base font-normal",children:e.notice.description}),e.notice.url&&""!==e.notice.url&&(0,n.jsx)(Vt.N_,{className:"mt-2 text-base text-gray underline",to:e.notice.url,from:"/",children:(0,h.__)("Learn more","burst-statistics")})]})},t)})]})};Ut.displayName="SettingsNotices";const Wt=Ut;var Ht=r(55195),Kt=function(){var e=Ht.q.useLoaderData().currentItem;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"col-span-12 lg:col-span-6 flex flex-col",children:(0,n.jsx)(Gt,{currentSettingPage:e})}),(0,n.jsx)("div",{className:"col-span-12 lg:col-span-3",children:(0,n.jsx)(Wt,{settingsGroup:e})})]})}},91788:(e,t,r)=>{r.d(t,{Ad:()=>E,BM:()=>x,Ee:()=>O,Iq:()=>A,Nj:()=>m,YP:()=>I,ZV:()=>_,cA:()=>P,cf:()=>C,fU:()=>w,fs:()=>g,gs:()=>v,ii:()=>k,oI:()=>y,qQ:()=>N,vd:()=>j});var n=r(38443),a=r(71109),s=r(18553),i=r(44184),o=r(67201),l=r(73177),c=r(52368),u=r(89717),d=r(48145),f=r(72442),p=r(6374),h=r(58357),b=r(27723),v=function(e,t){if(void 0===t&&(t=new Date),"number"==typeof e&&(e=new Date(1e3*e)),!(e instanceof Date))return"-";var r={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},n=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),a=e-t;for(var s in r)if(Math.abs(a)>r[s]||"second"===s)return n.format(Math.round(a/r[s]),s)},m=function(e,t,r){void 0===r&&(r=!0);var n=(e=Number(e))/(t=Number(t));return isNaN(n)&&(n=0),r?new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(n):n};function g(e,t){var r={},n=((e=Number(e))-(t=Number(t)))/t;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}function y(e,t){var r={},n=((e=Number(e))-(t=Number(t)))/100;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}var x=function(e){return(0,n.dateI18n)(burst_settings.date_format,new Date(1e3*e))},j=function(e){return e&&("number"==typeof e||Date.parse(e)>=16409952e5)};function w(e){void 0===e&&(e=0);var t=Number(e);isNaN(t)&&(t=0);var r=Math.floor(t/1e3),n=Math.floor(r/3600),a=Math.floor((r-3600*n)/60),s=r-3600*n-60*a,i=function(e){return isNaN(e)?"00":String(e).padStart(2,"0")};return 0===n?[a,s].map(i).join(":"):[n,a,s].map(i).join(":")}function _(e,t){return void 0===t&&(t=1),e=Number(e),isNaN(e)&&(e=0),e<1e3&&(t=0),new Intl.NumberFormat(void 0,{style:"decimal",notation:"compact",compactDisplay:"short",maximumFractionDigits:t}).format(e)}function O(e,t){return void 0===t&&(t=1),e=Number(e),isNaN(e)&&(e=0),0===e?"0%":e>0&&e<.1?"<0.1%":new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:t}).format(e/100)}function N(e){return e?burst_settings.countries[e.toUpperCase()]||(0,b.__)("Not set","burst-statistics"):(0,b.__)("Unknown","burst-statistics")}function A(e){return e?burst_settings.continents[e.toUpperCase()]||(0,b.__)("Not set","burst-statistics"):(0,b.__)("Unknown","burst-statistics")}function k(e){void 0===e&&(e=new Date);var t=-60*e.getTimezoneOffset(),r=Math.floor(e.getTime()/1e3)+3600*burst_settings.gmt_offset-t;return new Date(1e3*r)}var S=k(),P={today:{label:(0,b.__)("Today","burst-statistics"),range:function(){return{startDate:(0,f.default)(S),endDate:(0,o.default)(S)}}},yesterday:{label:(0,b.__)("Yesterday","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(S,-1)),endDate:(0,o.default)((0,a.default)(S,-1))}}},"last-7-days":{label:(0,b.__)("Last 7 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(S,-7)),endDate:(0,o.default)((0,a.default)(S,-1))}}},"last-30-days":{label:(0,b.__)("Last 30 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(S,-30)),endDate:(0,o.default)((0,a.default)(S,-1))}}},"last-90-days":{label:(0,b.__)("Last 90 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(S,-90)),endDate:(0,o.default)((0,a.default)(S,-1))}}},"last-month":{label:(0,b.__)("Last month","burst-statistics"),range:function(){return{startDate:(0,p.default)((0,s.default)(S,-1)),endDate:(0,l.default)((0,s.default)(S,-1))}}},"week-to-date":{label:(0,b.__)("Week to date","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(S,-S.getDay())),endDate:(0,o.default)(S)}}},"month-to-date":{label:(0,b.__)("Month to date","burst-statistics"),range:function(){return{startDate:(0,p.default)(S),endDate:(0,o.default)(S)}}},"year-to-date":{label:(0,b.__)("Year to date","burst-statistics"),range:function(){return{startDate:(0,h.A)(S),endDate:(0,o.default)(S)}}},"last-year":{label:(0,b.__)("Last year","burst-statistics"),range:function(){return{startDate:(0,h.A)((0,i.default)(S,-1)),endDate:(0,c.A)((0,i.default)(S,-1))}}}},C=function(e){return Object.values(e).filter(Boolean).map(function(e){var t=P[e];return t.isSelected=D,t})},I=function(e,t){var r="MMMM d, yyyy";return{startDate:e?(0,u.default)(new Date(e),r):"",endDate:t?(0,u.default)(new Date(t),r):""}};function D(e){var t=this.range();return(0,d.default)(e.startDate,t.startDate)&&(0,d.default)(e.endDate,t.endDate)}function E(e,t){if(void 0===t&&(t={}),!e||!t[e])return function(e){return _(e)};var r=t[e],n=r.isPercentage,a=r.isTime,s=r.precision,i=r.suffix;return function(e){if(null==e)return"";if(n)return O(e,s);if(a)return w(e);var t=_(e,s);return i&&(t+=i),t}}},94976:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(91637),a=r(51609),s=r(34677),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=(0,a.forwardRef)(function(e,t){var r=e.value,a=e.onChange,o=e.disabled,l=e.required,c=e.size,u=void 0===c?"default":c,d=e.className,f=void 0===d?"":d,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["value","onChange","disabled","required","size","className"]),h="string"==typeof r?"1"===r:Boolean(r),b="small"===u?"w-8 h-5":"w-10 h-6",v="small"===u?"w-3 h-3 translate-x-1 data-[state=checked]:translate-x-4":"w-4 h-4 translate-x-1 data-[state=checked]:translate-x-5";return(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(s.bL,i({ref:t,className:"".concat(b," bg-gray-400 rounded-full relative focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed data-[state=checked]:bg-primary ").concat(f),checked:h,onCheckedChange:a,disabled:o,required:l},p,{children:(0,n.jsx)(s.zi,{className:"block ".concat(v," bg-white rounded-full shadow transform transition-transform duration-200")})}))})});o.displayName="SwitchInput";const l=o},97813:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(91637),a=(r(51609),r(9564));const s=function(e){var t=e.children,r=e.content,s=e.delayDuration,i=void 0===s?400:s;return r?(0,n.jsx)(a.Kq,{children:(0,n.jsxs)(a.bL,{delayDuration:i,children:[(0,n.jsx)(a.l9,{asChild:!0,children:t}),(0,n.jsxs)(a.UC,{className:"burst-tooltip-content z-53",sideOffset:5,children:[r,(0,n.jsx)(a.i3,{className:"burst-tooltip-arrow"})]})]})}):(0,n.jsx)(n.Fragment,{children:t})}},98371:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(91637),a=r(85373),s=r(55648);const i=function(e){var t=e.title,r=e.subtitle,i=void 0===r?"":r,o=e.customHeader,l=void 0===o?null:o,c=e.content,u=e.footer,d=e.triggerClassName,f=e.children,p=e.isOpen,h=e.onClose;return(0,n.jsxs)(a.bL,{open:p,onOpenChange:function(e){e||null==h||h()},children:[d&&(0,n.jsx)(a.l9,{className:d,children:f}),(0,n.jsxs)(a.ZL,{container:document.getElementById("modal-root"),children:[(0,n.jsx)(a.hJ,{className:"bg-black/50 fixed inset-0 z-50"}),(0,n.jsxs)(a.UC,{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-[720px] max-h-[90vh] m-3 px-4 py-3 rounded-md z-50 bg-gray-100 shadow-md focus:outline-none data-[state=open]:animate-contentShow flex flex-col overflow-x-visible",children:[(0,n.jsx)("div",{className:"flex flex-row justify-between items-center flex-shrink-0",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex-1",children:l}),(0,n.jsx)(a.bm,{asChild:!0,children:(0,n.jsx)("button",{"aria-label":"Close",onClick:h,className:"bg-gray-200 rounded-full p-2 w-8 h-8 cursor-pointer hover:bg-gray-300 transition-colors duration-150 ml-4",children:(0,n.jsx)(s.A,{name:"times",size:18,color:"gray"})})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.hE,{className:"text-lg font-semibold text-black",children:t}),i&&(0,n.jsx)("p",{className:"text-sm text-gray-600",children:i})]}),(0,n.jsx)(a.bm,{asChild:!0,children:(0,n.jsx)("button",{"aria-label":"Close",onClick:h,className:"bg-gray-200 rounded-full p-2 w-8 h-8 cursor-pointer hover:bg-gray-300 transition-colors duration-150",children:(0,n.jsx)(s.A,{name:"times",size:18,color:"gray"})})})]})}),(0,n.jsx)(a.VY,{className:"text-base text-black mb-6 mt-4 flex-1 overflow-y-auto overflow-x-visible min-h-0",children:c}),u&&(0,n.jsx)("div",{className:"flex flex-row justify-end gap-2 flex-shrink-0 bottom-0 bg-gray-100 pt-4 border-t border-gray-200 -mx-4 px-4",children:u})]})]})]})}}}]);