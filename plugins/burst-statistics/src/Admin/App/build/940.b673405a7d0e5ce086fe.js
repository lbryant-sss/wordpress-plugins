"use strict";(globalThis.webpackChunkburst_statistics=globalThis.webpackChunkburst_statistics||[]).push([[940],{681:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(74848),a=r(51609),i=r(27723),s=r(57112),o=(0,a.forwardRef)((function(e,t){var r=e.id,a=e.name,o=e.value,l=e.label,c=e.checked,u=e.disabled,d=void 0!==u&&u,f=e.onChange,p=e.className,b=void 0===p?"":p,h=e.tooltip,v=void 0===h?"":h,m=e.recommended,y=void 0!==m&&m,g=e.children;return(0,n.jsxs)("div",{className:"flex items-center gap-2 ".concat(b),children:[(0,n.jsx)("input",{ref:t,type:"radio",id:r,name:a,value:o,checked:c,disabled:d,onChange:function(e){return f(e.target.value)},className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 my-1 mx-0"}),(0,n.jsxs)("label",{htmlFor:r,className:"text-sm text-gray cursor-pointer",children:[l," ",g," ",y&&(0,n.jsxs)("span",{className:"text-xs font-semibold",children:["(",(0,i.__)("Recommended","burst-statistics"),")"]})]}),v&&(0,n.jsx)(s.A,{tooltip:v,color:"blue",name:"help",size:16,className:"bg-blue-light rounded-full"})]})}));o.displayName="RadioInput";const l=o},5560:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(74848),a=r(51609),i=r(79014),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},o=(0,a.forwardRef)((function(e,t){var r=e.value,a=e.onChange,o=e.disabled,l=e.required,c=e.size,u=void 0===c?"default":c,d=e.className,f=void 0===d?"":d,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["value","onChange","disabled","required","size","className"]),b="string"==typeof r?"1"===r:Boolean(r),h="small"===u?"w-8 h-5":"w-10 h-6",v="small"===u?"w-3 h-3 translate-x-1 data-[state=checked]:translate-x-4":"w-4 h-4 translate-x-1 data-[state=checked]:translate-x-5";return(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(i.bL,s({ref:t,className:"".concat(h," bg-gray-400 rounded-full relative focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed data-[state=checked]:bg-primary ").concat(f),checked:b,onCheckedChange:a,disabled:o,required:l},p,{children:(0,n.jsx)(i.zi,{className:"block ".concat(v," bg-white rounded-full shadow transform transition-transform duration-200")})}))})}));o.displayName="SwitchInput";const l=o},17926:(e,t,r)=>{r.d(t,{e:()=>s});var n=r(74848),a=r(34164),i=r(96850),s=(0,r(51609).memo)((function(e){var t=e.className,r=void 0===t?"":t,s=e.children;return(0,n.jsx)(i.A,{children:(0,n.jsx)("div",{className:(0,a.A)("col-span-12 flex flex-col rounded-xl bg-white shadow-md relative border border-gray-100",r),children:s})})}));s.displayName="Block"},24660:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(97665),a=r(48069),i=r(57097),s=r(86275),o=r(55446),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},u=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const d=function(){var e=(0,n.jE)(),t=(0,a.I)({queryKey:["settings_fields"],queryFn:function(){return c(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,(0,s.ww)()];case 1:return[2,e.sent().fields]}}))}))},staleTime:3e5,initialData:window.burst_settings&&window.burst_settings.fields,retry:0,select:function(e){return function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],e,!0)}}),r=(0,i.n)({mutationFn:function(t){return c(void 0,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,(0,s.Ey)(t)];case 1:return r.sent(),[4,e.invalidateQueries(["settings_fields"])];case 2:return r.sent(),[2]}}))}))},onSuccess:function(){o.toast.success("Settings saved")}}),d=r.mutateAsync,f=r.isLoading;return{settings:t.data,saveSettings:d,getValue:function(e){var r;return null===(r=t.data.find((function(t){return t.id===e})))||void 0===r?void 0:r.value},addNotice:function(t,r,n,a){e.setQueryData(["settings_fields"],(function(e){return e.map((function(e){if(e.id!==t)return e;var i={title:a,label:r,description:n};return l(l({},e),{notice:i})}))}))},setValue:function(e,r){var n=t.data.find((function(t){return t.id===e}));n&&(n.value=r)},isSavingSettings:f,invalidateSettings:function(){return e.invalidateQueries(["settings_fields"])}}}},43933:(e,t,r)=>{r.d(t,{t:()=>s});var n=r(74848),a=r(51609),i=r(34164),s=(0,a.memo)((function(e){var t=e.children,r=e.className,a=void 0===r?"":r,s=/\bp-\S+/.test(a);return(0,n.jsx)("div",{className:(0,i.A)("flex-grow",{"p-6":!s},a),children:t})}));s.displayName="BlockContent"},44301:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(74848),a=(r(51609),r(3881));const i=function(e){var t=e.children,r=e.content,i=e.delayDuration,s=void 0===i?400:i;return r?(0,n.jsx)(a.Kq,{children:(0,n.jsxs)(a.bL,{delayDuration:s,children:[(0,n.jsx)(a.l9,{asChild:!0,children:t}),(0,n.jsxs)(a.UC,{className:"burst-tooltip-content z-53",sideOffset:5,children:[r,(0,n.jsx)(a.i3,{className:"burst-tooltip-arrow"})]})]})}):(0,n.jsx)(n.Fragment,{children:t})}},50084:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(74848);const a=function(e){var t=e.children,r=e.className,a=void 0===r?"":r;return(0,n.jsx)("div",{className:"absolute inset-0 flex items-end justify-center bg-black/10 z-50 py-4 px-4 ".concat(a),children:(0,n.jsx)("div",{className:"bg-white rounded-lg px-5 py-3  w-[90%] max-w-md relative shadow-md",children:t})})}},57112:(e,t,r)=>{r.d(t,{A:()=>ue});var n=r(74848),a=r(51609),i=r(44301),s=r(68309),o=r(20613),l=r(88007),c=r(45773),u=r(418),d=r(37946),f=r(48697),p=r(79804),b=r(50180),h=r(72102),v=r(75107),m=r(87677),y=r(60250),g=r(80697),x=r(86241),j=r(15977),w=r(69137),_=r(14021),O=r(80827),N=r(7962),k=r(89108),S=r(32307),A=r(46050),P=r(58641),C=r(64997),I=r(35404),E=r(1839),D=r(48686),F=r(93893),L=r(27235),T=r(3160),q=r(82853),R=r(68397),z=r(55042),G=r(45899),V=r(96844),M=r(50541),U=r(44080),B=r(38818),W=r(45742),$=r(8904),Q=r(89798),H=r(4179),K=r(52105),J=r(39574),Y=r(70099),Z=r(83194),X=r(73291),ee=r(40073),te=r(14539),re=r(41233),ne=r(75333),ae=r(18931),ie=r(80072),se=r(6443),oe=function(){return oe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oe.apply(this,arguments)},le={black:"var(--rsp-black)",green:"var(--rsp-green)",yellow:"var(--rsp-yellow)",red:"var(--rsp-red)",blue:"var(--rsp-blue)",gray:"var(--rsp-grey-400)",lightgray:"var(--rsp-grey-350)",white:"var(--rsp-white)"},ce={"circle-open":s.A,bullet:s.A,dot:s.A,circle:o.A,period:l.A,check:c.A,warning:u.A,error:d.A,times:f.A,"circle-check":p.A,"circle-times":b.A,"chevron-up":h.A,"chevron-down":v.A,"chevron-right":m.A,"chevron-left":y.A,plus:g.A,minus:x.A,sync:j.A,"sync-error":w.A,shortcode:_.A,file:O.A,"file-disabled":N.A,"file-download":k.A,calendar:S.A,"calendar-error":A.A,website:P.A,help:C.A,copy:I.A,trash:E.A,visitor:D.A,visitors:F.A,"visitors-crowd":F.A,time:L.A,pageviews:T.A,referrer:q.A,sessions:R.A,bounces:z.A,bounced_sessions:z.A,bounce_rate:z.A,winner:G.A,live:V.A,total:M.A,graph:U.A,conversion_rate:B.A,goals:W.A,conversions:W.A,"goals-empty":l.A,filter:$.A,loading:Q.A,desktop:H.A,tablet:K.A,mobile:J.A,other:Y.A,mouse:Z.A,eye:T.A,page:X.A,hashtag:ee.A,sun:te.A,world:re.A,filters:ne.A,referrers:ae.A,hook:ie.A,"log-in":se.A,"log-out":z.A,alert:d.A};const ue=(0,a.memo)((function(e){var t=e.name,r=void 0===t?"bullet":t,a=e.color,o=void 0===a?"black":a,l=e.size,c=void 0===l?18:l,u=e.strokeWidth,d=void 0===u?1.5:u,f=e.tooltip,p=e.onClick,b=e.className,h=le[o]||o,v=ce[r]||s.A,m={size:c,color:h,strokeWidth:d},y=(0,n.jsx)("div",{onClick:function(){p&&p()},className:"flex items-center justify-center",children:"bullet"!==r&&"dot"!==r||v!==s.A?(0,n.jsx)(v,oe({className:b},m)):(0,n.jsx)(s.A,oe({},m,{fill:h}))});return f?(0,n.jsx)(i.A,{content:f,children:y}):y}))},80900:(e,t,r)=>{r.d(t,{Ad:()=>D,BM:()=>x,Ee:()=>O,Iq:()=>k,Nj:()=>m,YP:()=>I,ZV:()=>_,cA:()=>P,cf:()=>C,fU:()=>w,fs:()=>y,gs:()=>v,ii:()=>S,oI:()=>g,qQ:()=>N,vd:()=>j});var n=r(38443),a=r(31127),i=r(66212),s=r(92998),o=r(20543),l=r(2118),c=r(19312),u=r(17054),d=r(49317),f=r(53039),p=r(72346),b=r(81810),h=r(27723),v=function(e,t){if(void 0===t&&(t=new Date),"number"==typeof e&&(e=new Date(1e3*e)),!(e instanceof Date))return"-";var r={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},n=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),a=e-t;for(var i in r)if(Math.abs(a)>r[i]||"second"===i)return n.format(Math.round(a/r[i]),i)},m=function(e,t,r){void 0===r&&(r=!0);var n=(e=Number(e))/(t=Number(t));return isNaN(n)&&(n=0),r?new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(n):n};function y(e,t){var r={},n=((e=Number(e))-(t=Number(t)))/t;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}function g(e,t){var r={},n=((e=Number(e))-(t=Number(t)))/100;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}var x=function(e){return(0,n.dateI18n)(burst_settings.date_format,new Date(1e3*e))},j=function(e){return e&&("number"==typeof e||Date.parse(e)>=16409952e5)};function w(e){void 0===e&&(e=0);var t=Number(e);isNaN(t)&&(t=0);var r=Math.floor(t/1e3),n=Math.floor(r/3600),a=Math.floor((r-3600*n)/60),i=r-3600*n-60*a,s=function(e){return isNaN(e)?"00":String(e).padStart(2,"0")};return 0===n?[a,i].map(s).join(":"):[n,a,i].map(s).join(":")}function _(e,t){return void 0===t&&(t=1),e=Number(e),isNaN(e)&&(e=0),e<1e3&&(t=0),new Intl.NumberFormat(void 0,{style:"decimal",notation:"compact",compactDisplay:"short",maximumFractionDigits:t}).format(e)}function O(e,t){return void 0===t&&(t=1),e=Number(e),isNaN(e)&&(e=0),0===e?"0%":e>0&&e<.1?"<0.1%":new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:t}).format(e/100)}function N(e){return e?burst_settings.countries[e.toUpperCase()]||(0,h.__)("Not set","burst-statistics"):(0,h.__)("Unknown","burst-statistics")}function k(e){return e?burst_settings.continents[e.toUpperCase()]||(0,h.__)("Not set","burst-statistics"):(0,h.__)("Unknown","burst-statistics")}function S(e){void 0===e&&(e=new Date);var t=-60*e.getTimezoneOffset(),r=Math.floor(e.getTime()/1e3)+3600*burst_settings.gmt_offset-t;return new Date(1e3*r)}var A=S(),P={today:{label:(0,h.__)("Today","burst-statistics"),range:function(){return{startDate:(0,a.default)(A),endDate:(0,i.default)(A)}}},yesterday:{label:(0,h.__)("Yesterday","burst-statistics"),range:function(){return{startDate:(0,a.default)((0,s.default)(A,-1)),endDate:(0,i.default)((0,s.default)(A,-1))}}},"last-7-days":{label:(0,h.__)("Last 7 days","burst-statistics"),range:function(){return{startDate:(0,a.default)((0,s.default)(A,-7)),endDate:(0,i.default)((0,s.default)(A,-1))}}},"last-30-days":{label:(0,h.__)("Last 30 days","burst-statistics"),range:function(){return{startDate:(0,a.default)((0,s.default)(A,-30)),endDate:(0,i.default)((0,s.default)(A,-1))}}},"last-90-days":{label:(0,h.__)("Last 90 days","burst-statistics"),range:function(){return{startDate:(0,a.default)((0,s.default)(A,-90)),endDate:(0,i.default)((0,s.default)(A,-1))}}},"last-month":{label:(0,h.__)("Last month","burst-statistics"),range:function(){return{startDate:(0,o.default)((0,l.default)(A,-1)),endDate:(0,c.default)((0,l.default)(A,-1))}}},"week-to-date":{label:(0,h.__)("Week to date","burst-statistics"),range:function(){return{startDate:(0,a.default)((0,s.default)(A,-A.getDay())),endDate:(0,i.default)(A)}}},"month-to-date":{label:(0,h.__)("Month to date","burst-statistics"),range:function(){return{startDate:(0,o.default)(A),endDate:(0,i.default)(A)}}},"year-to-date":{label:(0,h.__)("Year to date","burst-statistics"),range:function(){return{startDate:(0,u.A)(A),endDate:(0,i.default)(A)}}},"last-year":{label:(0,h.__)("Last year","burst-statistics"),range:function(){return{startDate:(0,u.A)((0,d.default)(A,-1)),endDate:(0,f.A)((0,d.default)(A,-1))}}}},C=function(e){return Object.values(e).filter(Boolean).map((function(e){var t=P[e];return t.isSelected=E,t}))},I=function(e,t){var r="MMMM d, yyyy";return{startDate:e?(0,p.default)(new Date(e),r):"",endDate:t?(0,p.default)(new Date(t),r):""}};function E(e){var t=this.range();return(0,b.default)(e.startDate,t.startDate)&&(0,b.default)(e.endDate,t.endDate)}function D(e,t){if(void 0===t&&(t={}),!e||!t[e])return function(e){return _(e)};var r=t[e],n=r.isPercentage,a=r.isTime,i=r.precision,s=r.suffix;return function(e){if(null==e)return"";if(n)return O(e,i);if(a)return w(e);var t=_(e,i);return s&&(t+=s),t}}},81940:(e,t,r)=>{r.r(t),r.d(t,{component:()=>Jt});var n=r(74848),a=r(51609),i=r.n(a),s=r(96850),o=r(83101),l=r(17926),c=r(96744),u=r(43933),d=r(49785),f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)},p=(0,a.forwardRef)((function(e,t){var r=e.type,a=void 0===r?"text":r,i=e.className,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","className"]);return(0,n.jsx)("input",f({ref:t,type:a,className:"w-full rounded-md border border-gray-400 p-2 focus:border-primary-dark focus:outline-none focus:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200 ".concat(i||"")},s))}));p.displayName="TextInput";const b=p;var h=r(95920),v=r(27723),m=r(34164);const y=function(e){var t=e.className,r=void 0===t?"":t;return(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary bg-opacity-10 text-primary ".concat(r),children:(0,v.__)("Recommended","burst-statistics")})},g=function(e){var t=e.className,r=void 0===t?"":t;return(0,n.jsx)("span",{className:"inline-flex items-center rounded bg-gray-300 px-2 py-0.5 text-xs font-medium text-gray ".concat(r),children:(0,v.__)("Disabled","burst-statistics")})};var x=r(9292),j=r(76870),w=r(3881);const _=function(e){var t=e.content,r=e.side,a=void 0===r?"top":r,i=(e.className,e.hasArrow),s=void 0===i||i,o=e.delayDuration,l=void 0===o?300:o,c=e.children;return(0,n.jsx)(w.Kq,{delayDuration:l,children:(0,n.jsxs)(w.bL,{children:[(0,n.jsx)(w.l9,{"aria-label":(0,v.__)("Help information","burst-statistics"),onClick:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},children:c}),(0,n.jsxs)(w.UC,{side:a,sideOffset:5,className:"z-50 max-w-xs bg-gray-200 text-gray border border-gray-400 text-sm px-3 py-2 text-base rounded shadow-md \n            animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 \n            data-[state=delayed-open]:data-[side=top]:slide-in-from-bottom-2\n            data-[state=delayed-open]:data-[side=bottom]:slide-in-from-top-2\n            data-[state=delayed-open]:data-[side=left]:slide-in-from-right-2\n            data-[state=delayed-open]:data-[side=right]:slide-in-from-left-2",onClick:function(e){return e.stopPropagation()},children:["string"==typeof t?(0,v.__)(t,"burst-statistics"):t,s&&(0,n.jsx)(w.i3,{className:"fill-gray-300",width:10,height:5})]})]})})};var O=function(e){return e&&"object"==typeof e&&!i().isValidElement(e)},N=(0,a.memo)((function(e){var t=e.label,r=e.context,a=e.help,i=e.error,s=e.reverseLabel,o=void 0!==s&&s,l=e.alignWithLabel,c=void 0!==l&&l,u=e.fullWidthContent,d=void 0!==u&&u,f=e.className,p=void 0===f?"":f,b=e.inputId,w=e.required,N=void 0!==w&&w,k=e.recommended,S=void 0!==k&&k,A=e.disabled,P=void 0!==A&&A,C=e.children,I=e.warning,E=e.pro,D=(0,j.A)().isLicenseValid,F=(0,m.$)(p,"w-full py-4 box-border",!d&&"px-6",i&&"bg-red-light"),L=c?"flex flex-row items-center justify-between":"flex flex-col",T=o?"order-2":"order-1",q=o?"order-1":"order-2",R=c?o?"ml-4":"":o?"mt-2":"",z=c?o?"":"ml-4":o?"":"mt-2",G=(0,n.jsxs)("div",{className:(0,m.$)("flex items-center gap-2",R,d&&"px-6"),children:[(0,n.jsx)(h.b,{className:"cursor-pointer text-md font-medium text-black",htmlFor:b,children:t}),N&&(0,n.jsxs)("span",{className:"ml-1 text-xs font-normal text-gray",children:["(",(0,v.__)("Required","burst-statistics"),")"]}),S&&(0,n.jsx)(y,{}),P&&!E&&(0,n.jsx)(g,{}),E&&!D()&&(0,n.jsx)(x.A,{id:b,url:E.url}),a&&(0,n.jsx)(_,{content:a,children:(0,n.jsx)("span",{className:"inline-flex h-5 w-5 cursor-default items-center justify-center rounded-full border border-gray-400 bg-gray-200 text-center text-base leading-none text-gray hover:bg-gray-300 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary",children:"?"})})]}),V=(0,n.jsx)("div",{className:(0,m.$)("w-full",z,d&&"px-0"),children:C});return(0,n.jsxs)("div",{className:F,children:[(0,n.jsxs)("div",{className:L,children:[(0,n.jsx)("div",{className:(0,m.$)(T),children:G}),(0,n.jsx)("div",{className:(0,m.$)(q),children:V})]}),i&&(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold text-red",role:"alert",children:i}),I&&(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold text-orange",role:"alert",children:I}),r&&(0,n.jsxs)("p",{className:"mt-2 text-sm font-normal text-gray",children:[O(r)?r.text:r,O(r)&&r.url&&" ",O(r)&&r.url&&(0,n.jsx)("a",{className:"text-blue underline",href:r.url,target:"_blank",children:(0,v.__)("More info","burst-statistics")})]})]})}));N.displayName="FieldWrapper";const k=N;var S=function(){return S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)},A=(0,a.forwardRef)((function(e,t){var r,a,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name;return(0,n.jsx)(k,S({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(b,S({id:f,type:"text","aria-invalid":!!(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.message)},i,d))}))}));A.displayName="TextField";const P=A;var C=function(){return C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)},I=(0,a.forwardRef)((function(e,t){e.type,e.className;var r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","className"]);return(0,n.jsx)("input",C({ref:t,type:"hidden"},r))}));I.displayName="HiddenInput";const E=I;var D=function(){return D=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},D.apply(this,arguments)},F=(0,a.forwardRef)((function(e,t){var r,a=e.field,i=e.fieldState,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState"]),o=s.id||a.name;return(0,n.jsx)(E,D({},a,{id:o,type:"hidden","aria-invalid":!!(null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message)},s))}));F.displayName="HiddenField";const L=F;var T=function(){return T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T.apply(this,arguments)},q=(0,a.forwardRef)((function(e,t){var r=e.className,a=e.rows,i=void 0===a?4:a,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","rows"]);return(0,n.jsx)("textarea",T({ref:t,rows:i,className:"w-full rounded-md border border-gray-400 p-2 focus:border-primary-dark focus:outline-none focus:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200 ".concat(r||"")},s))}));q.displayName="TextAreaInput";const R=q;var z=function(){return z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},z.apply(this,arguments)},G=(0,a.forwardRef)((function(e,t){var r,a,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name;return(0,n.jsx)(k,z({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(R,z({id:f,"aria-invalid":!!(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.message)},i,d))}))}));G.displayName="TextAreaField";const V=G;var M=r(46512),U=function(){return U=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},U.apply(this,arguments)},B=(0,a.forwardRef)((function(e,t){var r,a,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name,p=burst_settings.current_ip,b=i.value||"";return(0,n.jsx)(k,U({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsxs)("div",{className:"space-y-2 w-full",children:[(0,n.jsx)(R,U({ref:t,id:f,placeholder:"127.0.0.1\n192.168.0.1","aria-invalid":!!(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.message),onChange:function(e){var t=e.target.value;i.onChange(t)},value:b,rows:4},d)),(0,n.jsx)(M.A,{onClick:function(){if(p){var e,t=(b||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");e=0===t.split("\n").map((function(e){return e.trim()})).filter((function(e){return""!==e})).length||""===t.trim()?p:t.endsWith("\n")?t+p:t+"\n"+p,i.onChange(e)}},disabled:!p||!p||b.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map((function(e){return e.trim()})).filter((function(e){return""!==e})).includes(p),btnVariant:"tertiary",size:"md",children:(0,v.__)("Add current IP address","burst-statistics")})]})}))}));B.displayName="IpBlockField";const W=B;var $=r(5560),Q=function(){return Q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Q.apply(this,arguments)},H=(0,a.forwardRef)((function(e,t){var r,a,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name;return(0,n.jsx)(k,Q({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u+" flex-row",inputId:f,required:d.required,alignWithLabel:!0,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)($.A,Q({},i,{id:f,"aria-invalid":!!(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.message),ref:t},d))}))}));H.displayName="SwitchField";const K=H;var J=r(60990),Y=r(57112);const Z=function(e){var t=e.title,r=e.content,a=e.footer,i=e.triggerClassName,s=e.children,o=e.isOpen,l=e.onClose;return(0,n.jsxs)(J.bL,{open:o,onOpenChange:function(e){e||null==l||l()},children:[i&&(0,n.jsx)(J.l9,{className:i,children:s}),(0,n.jsxs)(J.ZL,{container:document.getElementById("modal-root"),children:[(0,n.jsx)(J.hJ,{className:"bg-black/50 fixed inset-0 z-50"}),(0,n.jsxs)(J.UC,{className:"fixed px-4 py-3 left-1/2 top-1/2 max-h-[85vh] w-[90vw] max-w-[500px] -translate-x-1/2 -translate-y-1/2 rounded-md z-50 bg-gray-100 p-2 shadow-md focus:outline-none data-[state=open]:animate-contentShow",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,n.jsx)(J.hE,{className:"text-lg font-semibold text-black",children:t}),(0,n.jsx)(J.bm,{asChild:!0,children:(0,n.jsx)("button",{"aria-label":"Close",onClick:l,className:"bg-gray-200 rounded-full p-2 w-8 h-8 cursor-pointer hover:bg-gray-300 transition-colors duration-150",children:(0,n.jsx)(Y.A,{name:"times",size:18,color:"gray"})})})]}),(0,n.jsx)(J.VY,{className:"text-base text-black mb-6 mt-4",children:r}),(0,n.jsx)("div",{className:"flex flex-row justify-end gap-2",children:a})]})]})]})};var X=r(55446),ee=r(86275),te=function(){return te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},te.apply(this,arguments)},re=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},ne=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const ae=function(e){var t=e.label,r=e.action,i=e.buttonText,s=e.warnTitle,o=e.warnContent,l=e.warnType,c=e.url,u=e.disabled,d=e.onClick,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["label","action","buttonText","warnTitle","warnContent","warnType","url","disabled","onClick"]),p=(0,a.useState)(!1),b=p[0],h=p[1],m=(0,a.useState)(!1),y=m[0],g=m[1],x=i||t,j=function(){return re(void 0,void 0,void 0,(function(){var e,t;return ne(this,(function(n){switch(n.label){case 0:if(!r)return[2];g(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,ee.Eo(r,{})];case 2:return(e=n.sent()).success?X.toast.success(e.message||(0,v.__)("Action completed successfully","burst-statistics")):X.toast.error(e.message||(0,v.__)("Action failed","burst-statistics")),[3,5];case 3:return t=n.sent(),X.toast.error((0,v.__)("An error occurred while executing the action","burst-statistics")),console.error("Action execution error:",t),[3,5];case 4:return g(!1),[7];case 5:return[2]}}))}))},w=function(){h(!1)};return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.A,te({onClick:function(e){return function(e){return re(void 0,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return s?(h(!0),[3,4]):[3,1];case 1:return r?[4,j()]:[3,3];case 2:t.sent(),t.label=3;case 3:d&&d(e),t.label=4;case 4:return[2]}}))}))}(e)},disabled:u||y,btnVariant:"danger"===l?"danger":"secondary"},f,{children:y?(0,v.__)("Processing...","burst-statistics"):x})),s&&(0,n.jsx)(Z,{title:s,content:o||"",isOpen:b,onClose:w,triggerClassName:"",children:null,footer:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.A,{onClick:w,btnVariant:"tertiary",children:(0,v.__)("Cancel","burst-statistics")}),(0,n.jsx)(M.A,{onClick:function(){return re(void 0,void 0,void 0,(function(){return ne(this,(function(e){switch(e.label){case 0:return h(!1),r?[4,j()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},btnVariant:"danger"===l?"danger":"secondary",disabled:y,children:y?(0,v.__)("Processing...","burst-statistics"):(0,v.__)("Confirm","burst-statistics")})]})})]}):c?(0,n.jsx)(M.A,te({link:{to:c,from:"/"},disabled:u},f,{btnVariant:"tertiary",children:x})):(0,n.jsx)(M.A,te({onClick:d,disabled:u},f,{btnVariant:"tertiary",children:x}))};var ie=function(){return ie=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ie.apply(this,arguments)},se=(0,a.forwardRef)((function(e,t){var r,a,i,s,o,l,c,u,d=e.field,f=e.fieldState,p=e.label,b=e.help,h=e.context,v=e.className,m=e.setting,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","setting"]),g=y.id||d.name;return(0,n.jsx)(k,ie({label:p,help:b,error:null===(r=null==f?void 0:f.error)||void 0===r?void 0:r.message,context:h,inputId:g,className:v,alignWithLabel:!0,recommended:y.recommended,disabled:y.disabled},y,{children:(0,n.jsx)(ae,ie({},d,{id:g,"aria-invalid":!!(null===(a=null==f?void 0:f.error)||void 0===a?void 0:a.message),ref:t,buttonText:null!==(i=m.button_text)&&void 0!==i?i:"",action:null!==(s=m.action)&&void 0!==s?s:"",url:null!==(o=m.url)&&void 0!==o?o:"",warnTitle:null!==(l=m.warnTitle)&&void 0!==l?l:"",warnContent:null!==(c=m.warnContent)&&void 0!==c?c:"",warnType:null!==(u=m.warnType)&&void 0!==u?u:""},y))}))}));se.displayName="ButtonControlField";const oe=se;var le=r(38221),ce=r.n(le);const ue=function(e,t,r){return void 0===r&&(r=[]),(0,a.useCallback)(ce()((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(void 0,t)}),t),function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([t],r,!0))};var de=r(40585),fe=function(){return fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},fe.apply(this,arguments)};const pe=i().forwardRef((function(e,t){var r,a=e.value,i=e.onChange,s=e.options,o=(void 0===(r=void 0===s?[]:s)&&(r=[]),Array.isArray(r)?r:Object.entries(r).map((function(e){var t=e[0],r=e[1];return{value:t,label:String(r)}})));return(0,n.jsxs)(de.bL,{value:a,onValueChange:function(e){return i(e)},children:[(0,n.jsxs)(de.l9,{ref:t,className:"inline-flex items-center justify-center gap-1 rounded bg-white text-base leading-none outline outline-gray-400 px-2 py-2 hover:bg-gray-100 focus:shadow-[0_0_0_2px]",children:[(0,n.jsx)(de.WT,{placeholder:"Select an optionâ€¦"}),(0,n.jsx)(de.In,{className:"text-base",children:(0,n.jsx)(Y.A,{name:"chevron-down",color:"black",size:16,tooltip:"",onClick:function(){},className:""})})]}),(0,n.jsxs)(de.UC,{className:"bg-gray-100 text-black border border-gray-400 rounded-md shadow-lg ring-1 ring-black/5 overflow-hidden z-10 shadow-gray-400/50",position:"item-aligned",children:[(0,n.jsx)(de.PP,{className:"",children:(0,n.jsx)(Y.A,{name:"chevron-up",color:"black",size:16,tooltip:"",onClick:function(){},className:""})}),(0,n.jsx)(de.LM,{className:"",children:o.map((function(e){return(0,n.jsx)(be,{value:e.value,children:e.label},e.value)}))}),(0,n.jsx)(de.wn,{className:"text-base",children:(0,n.jsx)(Y.A,{name:"chevron-down",color:"white",size:16,tooltip:"",onClick:function(){},className:""})})]})]})}));var be=i().forwardRef((function(e,t){var r=e.children,a=e.className,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["children","className"]);return(0,n.jsxs)(de.q7,fe({ref:t,className:(0,m.$)("cursor-default px-2 py-2 text-base select-none flex items-center gap-1 flex-row overflow-hidden","hover:bg-gray-300 hover:text-black","focus:bg-gray-300","transition-all duration-200",a)},i,{children:[(0,n.jsx)("div",{className:"w-4 flex items-center",children:(0,n.jsx)(de.VF,{children:(0,n.jsx)(Y.A,{name:"check",color:"black",size:16,tooltip:"",onClick:function(){},className:""})})}),(0,n.jsx)(de.p4,{children:r}),(0,n.jsx)("div",{className:"w-4 flex items-center"})]}))})),he=r(83757),ve=function(){return ve=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ve.apply(this,arguments)},me=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},ye=(0,a.forwardRef)((function(e,t){var r,i=e.field,s=e.fieldState,o=e.help,l=e.context,c=(e.className,function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","help","context","className"])),u=c.id||i.name,d=i.value||[],f=(0,a.useState)(""),p=f[0],h=f[1],m=(0,a.useState)(""),y=m[0],g=m[1],x=[{value:"weekly",label:(0,v.__)("Weekly","burst-statistics")},{value:"monthly",label:(0,v.__)("Monthly","burst-statistics")}],j=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},w=ue((function(e){e.length&&!j(e)?g((0,v.__)("Invalid email address","burst-statistics")):g("")}),1e3),_=function(){return e=void 0,t=void 0,n=function(){var e;return function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(t){return(e=p.trim())?j(e)?10<=d.length?(g((0,v.__)("Maximum 10 emails allowed","burst-statistics")),[2]):d.find((function(t){return t.email===e}))?(g((0,v.__)("Email address already added","burst-statistics")),[2]):(g(""),i.onChange(me(me([],d,!0),[{email:e,frequency:"monthly"}],!1)),h(""),[2]):(g((0,v.__)("Invalid email address","burst-statistics")),[2]):(g((0,v.__)("Email address is required","burst-statistics")),[2])}))},new((r=void 0)||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n},O=[{name:(0,v.__)("Email","burst-statistics"),selector:function(e){return e.email}},{name:(0,v.__)("Frequency","burst-statistics"),cell:function(e){return(0,n.jsx)(pe,{value:e.frequency,onChange:function(t){return function(e,t){var r=d.map((function(r){return r.email===e?ve(ve({},r),{frequency:t}):r}));i.onChange(r)}(e.email,t)},options:x})},right:"true"},{name:(0,v.__)("Remove","burst-statistics"),cell:function(e){return(0,n.jsx)(M.A,{onClick:function(){return t=e.email,r=d.filter((function(e){return e.email!==t})),void i.onChange(r);var t,r},btnVariant:"tertiary",children:(0,v.__)("Remove","burst-statistics")})},right:"true"}];return(0,n.jsx)(k,ve({label:"",help:o,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:l,inputId:u,fullWidthContent:!0,recommended:c.recommended,disabled:c.disabled},c,{children:(0,n.jsxs)("div",{className:"w-full space-y-4",children:[(0,n.jsx)("p",{className:"px-6 text-sm text-gray",children:(0,v.__)("Recipients will receive weekly or monthly reports with statistics about your website. Add or remove email addresses in the list below.","burst-statistics")}),(0,n.jsx)(he.Ay,{noDataComponent:(0,v.__)("No emails added yet","burst-statistics"),columns:O,data:d,customStyles:{headCells:{style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"}},cells:{style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"}}}}),(0,n.jsxs)(k,{label:"Add emails to receive weekly or monthly reports",error:y,className:"justify-start",children:[(0,n.jsx)(b,{name:u,autoComplete:"email",id:u,type:"email",value:p,onChange:function(e){var t=e.target.value;h(t),w(t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),_())},placeholder:(0,v.__)("Enter email address","burst-statistics"),className:"mt-1 block w-full sm:w-64"}),(0,n.jsx)(M.A,{onClick:_,btnVariant:"tertiary",className:"mt-2",type:"button",children:(0,v.__)("Add to list","burst-statistics")})]})]})}))}));ye.displayName="EmailReportsField";const ge=ye;var xe=r(92731),je=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};const we=(0,a.memo)((function(e){var t=e.indeterminate,r=e.label,i=e.value,s=e.id,o=e.onChange,l=e.required,c=e.disabled,u=e.options,d=void 0===u?{}:u,f=(0,a.useState)(!1),p=f[0],b=f[1],h=i;Array.isArray(h)||(h=""===h?[]:[h]);var m=1===Object.keys(d).length&&"true"===Object.keys(d)[0],y=!!t||i,g=Array.isArray(h)?h:[],x=Object.keys(d).length>10,j=function(){b(!p)},w=!(!c||Array.isArray(c))&&c;return 0===Object.keys(d).length?(0,n.jsx)(n.Fragment,{children:(0,v.__)("No options found","burst-statistics")}):(0,n.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object.entries(d).map((function(e,a){var i,u=e[0],d=e[1];return(0,n.jsxs)("div",{className:"".concat(!p&&a>9?"hidden":""," flex items-center"),children:[(0,n.jsx)(xe.bL,{className:"w-4 h-4 border border-gray-400 rounded flex-shrink-0 disabled:opacity-50",id:"".concat(s,"_").concat(u),checked:(i=u,m?y:g.includes(""+i)||g.includes(parseInt(i))),"aria-label":r,disabled:w||Array.isArray(c)&&c.includes(u),required:l,onCheckedChange:function(e){return function(e,t){if(m)o(!y);else{var r=g.includes(""+t)||g.includes(parseInt(t))?g.filter((function(e){return e!==""+t&&e!==parseInt(t)})):je(je([],g,!0),[t],!1);o(r)}}(0,u)},children:(0,n.jsx)(xe.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(Y.A,{name:t?"indeterminate":"check",size:14,color:"blue"})})}),(0,n.jsx)("label",{className:"ml-2",htmlFor:"".concat(s,"_").concat(u),children:d})]},u)})),x&&!p&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("button",{onClick:j,className:"underline w-fit",children:(0,v.__)("Show more","burst-statistics")})}),x&&p&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("button",{onClick:j,className:"underline w-fit",children:(0,v.__)("Show less","burst-statistics")})})]})}));var _e=function(){return _e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_e.apply(this,arguments)},Oe=(0,a.forwardRef)((function(e,t){var r,a=e.field,i=e.fieldState,s=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=u.id||a.name;return(0,n.jsx)(k,_e({label:s,help:o,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:d,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(we,_e({},a,{id:d,label:s,ref:t},u))}))}));Oe.displayName="CheckboxGroupField";const Ne=Oe;var ke=r(44301),Se=r(76296),Ae=r(48069),Pe=r(80900),Ce=r(71511);const Ie=(0,Ce.v)((function(e,t){return{postsLoaded:!1,fetching:!1,posts:[],search:"",maxPostCount:100,filterPosts:function(e,t){return e.filter((function(e){return Object.values(e).some((function(e){return e.toString().toLowerCase().includes(t.toLowerCase())}))}))},fetchPosts:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a=void 0,i=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],r,!0),o=function(r){var n,a,i,s,o,l;return void 0===r&&(r=""),function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(c){switch(c.label){case 0:return n=t().search,a=!1,i=t().posts.length<t().maxPostCount,0<n.length&&0===r.length&&(a=!0),n.length>r.length&&(a=!0),s=!1,0<n.length&&0===r.indexOf(n)&&(s=!0),!a&&t().postsLoaded&&s&&i?(e({fetching:!1}),[2,t().filterPosts(t().posts,r)]):(e({search:r,fetching:!0}),!a&&t().postsLoaded&&r===n||!a&&t().postsLoaded&&3>r.length&&s?(e({fetching:!1}),[2,t().filterPosts(t().posts,r)]):[4,(0,ee.K5)(r)]);case 1:return o=c.sent(),l=(o||[]).map((function(e){return{value:e.page_url,label:e.page_url,page_id:e.page_id,post_title:0<e.post_title.length?e.post_title:(0,v.__)("Untitled","burst-statistics"),pageviews:e.pageviews}})),e({posts:l,postsLoaded:!0,maxPostsCount:o.max_post_count,fetching:!1}),[2,t().filterPosts(l,r)]}}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function n(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(r,n)}l((o=o.apply(a,i||[])).next())}));var a,i,s,o}}}));var Ee=function(){return Ee=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ee.apply(this,arguments)};const De=(0,a.forwardRef)((function(e,t){var r,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name,p=Ie().fetchPosts,b=(0,a.useState)(""),h=b[0],v=b[1],m=(0,Ae.I)({queryKey:["defaultPosts",h],queryFn:function(){return p(h)}}),y=ce()((function(e,t){return r=void 0,n=void 0,i=function(){var r;return function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(n){switch(n.label){case 0:return v(e),[4,p(e)];case 1:return r=n.sent(),t(r),[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function s(e){try{l(i.next(e))}catch(e){t(e)}}function o(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(s,o)}l((i=i.apply(r,n||[])).next())}));var r,n,a,i}),500);return(0,n.jsx)(k,Ee({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(Se.A,{classNamePrefix:"burst-select",onChange:function(e){d.onChange(e.value)},isLoading:m.isLoading,isSearchable:!0,name:"selectPage",cacheOptions:!0,defaultValue:i.value,defaultInputValue:i.value,defaultOptions:m.data||[],loadOptions:y,components:{Option:Fe},theme:function(e){return Ee(Ee({},e),{borderRadius:"var(--rsp-border-radius-input)",colors:Ee(Ee({},e.colors),{text:"orangered",primary25:"var(--rsp-green-faded)",primary:"var(--rsp-green)"})})},createOptionPosition:"none",styles:{control:function(e,t){return Ee(Ee({},e),{borderColor:t.isFocused?"var(--rsp-green)":"var(--rsp-input-border-color)"})}}})}))}));var Fe=function(e){var t=e.innerProps,r=e.innerRef,a=e.data;return(0,n.jsxs)("article",Ee({ref:r},t,{className:"burst-select__custom-option",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"burst-select__title",children:a.label}),"Untitled"!==a.post_title&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:" - "}),(0,n.jsx)("p",{className:"burst-select__subtitle",children:a.post_title})]})]}),0<a.pageviews&&(0,n.jsxs)("div",{className:"burst-select__pageview-count",children:[(0,n.jsx)(Y.A,{name:"eye",size:12}),(0,n.jsx)("span",{children:(0,Pe.ZV)(a.pageviews)})]})]}))},Le=(0,a.forwardRef)((function(e,t){var r=e.inputId,a=e.options,i=e.value,s=e.disabled,o=void 0!==s&&s,l=e.goalId,c=e.onChange,u=(e.className,l?"".concat(l,"-").concat(r):r);return(0,n.jsx)("div",{className:"burst-radio-buttons__list grid grid-cols-2 gap-4",children:Object.keys(a).map((function(e){var t=a[e],r="".concat(u,"-").concat(t.type);return(0,n.jsxs)("div",{className:"burst-radio-buttons__list__item",children:[(0,n.jsx)("input",{type:"radio",checked:t.type===i,name:r,id:r,value:t.type,disabled:o,onChange:function(e){c(e.target.value)}}),(0,n.jsxs)("label",{htmlFor:r,children:[(0,n.jsx)(Y.A,{name:t.icon,size:18,color:"black",tooltip:"",onClick:function(){},className:""}),(0,n.jsx)("h5",{children:t.label}),t.description&&t.description.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"burst-divider"}),(0,n.jsx)("p",{children:t.description})]})]})]},r)}))})}));Le.displayName="RadioButtonsInput";const Te=Le;var qe=function(){return qe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},qe.apply(this,arguments)},Re=(0,a.forwardRef)((function(e,t){var r,a=e.field,i=e.fieldState,s=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=u.id||a.name;return(0,n.jsx)(k,qe({label:s,help:o,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:d,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(Te,qe({id:d,options:a.options,value:a.value,disabled:u.settingsIsUpdating||a.disabled,goalId:a.goal_id},u))}))}));Re.displayName="RadioButtonsField";const ze=Re;var Ge=r(93832),Ve=r(47143),Me=r(97665),Ue=(r(3582),function(){return Ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ue.apply(this,arguments)}),Be=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},We=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};var $e=function(){return $e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$e.apply(this,arguments)},Qe=(0,a.forwardRef)((function(e,t){var r=e.field,i=e.label,s=(e.help,e.context),o=e.className,l=e.goal,c=e.onChange,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","label","help","context","className","goal","onChange"]),d=u.id||r.name,f=function(e){var t=(void 0===e?{}:e).fields,r=(0,Me.jE)(),n=(0,Ve.useSelect)((function(e){return e("core").getEntityRecord("root","site")}),[]),i=(0,Ve.useSelect)((function(e){return e("core/data").isResolving("core","getEntityRecord",["root","site"])}),[]),s=(0,Ve.useDispatch)("core/data").invalidateResolution,o=(0,a.useCallback)((function(){return Be(void 0,void 0,void 0,(function(){return We(this,(function(e){return n?[2,n]:[2,new Promise((function(e){var t=wp.data.subscribe((function(){var r=wp.data.select("core").getEntityRecord("root","site");r&&(t(),e(r))}))}))]}))}))}),[n]),l=(0,Ae.I)({queryKey:["wordpressData","siteInfo"],queryFn:o,staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,initialData:n}),c=l.data,u=l.isLoading,d=l.refetch,f=(0,a.useCallback)((function(){return Be(void 0,void 0,void 0,(function(){return We(this,(function(e){switch(e.label){case 0:return s("core","getEntityRecord",["root","site"]),[4,d()];case 1:return e.sent(),r.invalidateQueries(["wordpressData","siteInfo"]),[2]}}))}))}),[s,d,r]),p=c||n,b=u||i;if(t&&p){var h=(Array.isArray(t)?t:[t]).reduce((function(e,t){return t in p&&(e[t]=p[t]),e}),{});return Ue({siteInfo:p,isLoading:b,refreshSiteInfo:f},h)}return{siteInfo:p,isLoading:b,refreshSiteInfo:f}}(),p=f.siteInfo,h=(f.isLoading,(0,a.useState)(!0)),m=h[0],y=h[1],g=null==p?void 0:p.url,x="page"===l.page_or_website?g+l.specific_page:g,j=(0,Ge.addQueryArgs)(x,{burst_preview:"1",burst_force_logged_out:m?"1":"0"}),w=(0,Ge.addQueryArgs)(x,{}),O=(0,a.useState)(r.value||""),N=O[0],S=O[1],A=(0,a.useState)(""),P=A[0],C=A[1],I=(0,a.useState)(!1),E=I[0],D=I[1],F=(0,a.useState)({count:null,previews:[],currentIndex:0}),L=F[0],T=F[1],q=(0,a.useState)(""),R=q[0],z=q[1],G=(0,a.useRef)(null),V=(0,a.useRef)(null),M=(0,a.useCallback)((function(e){if(!e)return"";try{return document.querySelectorAll(e),""}catch(e){return"Invalid selector: ".concat(e.message)}}),[]),U=(0,a.useCallback)((function(e){if(e){var t=M(e);if(t)return C(t),void T({count:null,previews:[],currentIndex:0});var r=G.current;if(r)try{var n=r.contentDocument||r.contentWindow.document,a=Array.from(n.querySelectorAll(e)),i=a.length;if(0===i)T({count:0,previews:[],currentIndex:0}),z("");else{var s="<head>"+Array.from(n.head.children).map((function(e){return e.outerHTML})).join("")+"</head>",o=a.map((function(e){getComputedStyle(e);var t='<body style="display: flex; justify-content: center; align-items: center; height: 100vh;">'.concat(e.outerHTML,"</body>");return"<!DOCTYPE html>\n<html>\n  ".concat(s,"\n  ").concat(t,"\n</html>")}));if(T({count:i,previews:o,currentIndex:0}),C(""),a.length>0){var l=getComputedStyle(a[0]);"none"===l.display||"hidden"===l.visibility?z((0,v.__)("Warning: The current element is hidden via CSS.","burst-statistics")):z("")}}}catch(e){C("Error testing selector: ".concat(e.message)),T({count:null,previews:[],currentIndex:0})}}else T({count:null,previews:[],currentIndex:0})}),[M]),B=(0,a.useCallback)(ce()((function(e){U(e),D(!1)}),300),[U]);(0,a.useEffect)((function(){return D(!0),B(N),function(){return B.cancel()}}),[N,B]),(0,a.useEffect)((function(){var e=function(e){L.previews.length&&("ArrowRight"===e.key?W("next"):"ArrowLeft"===e.key&&W("prev"))};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[L.previews.length]);var W=function(e){T((function(t){var r=t.previews,n=t.currentIndex;if(!r.length)return t;var a="next"===e?(n+1)%r.length:(n-1+r.length)%r.length,i=$e($e({},t),{currentIndex:a}),s=G.current;if(s)try{var o=s.contentDocument||s.contentWindow.document,l=Array.from(o.querySelectorAll(N));if(l[a]){var c=getComputedStyle(l[a]);"none"===c.display||"hidden"===c.visibility?z((0,v.__)("Warning: this element might be hidden via CSS.","burst-statistics")):z("")}}catch(e){}return i}))},$=P?s:null!=L.count?(0,v.sprintf)(
/* translators:
     1: number of elements found
     2: the URL of the preview
     3: logged in/out status */
/* translators:
     1: number of elements found
     2: the URL of the preview
     3: logged in/out status */
(0,v._n)("Found %1$d element on %2$s %3$s","Found %1$d elements on %2$s %3$s",L.count,"burst-statistics"),L.count,w,m?(0,v.__)("(Logged out)","burst-statistics"):(0,v.__)("(Logged in)","burst-statistics")):s,Q=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-base font-bold mb-2",children:(0,v.__)("Selector Examples:","burst-statistics")}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:".class-name"})," â€“"," ",(0,v.__)('Selects all elements with class "class-name".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"#element-id"})," â€“"," ",(0,v.__)('Selects the element with ID "element-id".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"button"})," â€“"," ",(0,v.__)("Selects all <button> elements.","burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:'a[href^="https"]'})," â€“"," ",(0,v.__)('Selects links whose href starts with "https".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:".nav-item:not(.active)"})," â€“"," ",(0,v.__)('Selects .nav-item elements that do not have the "active" class.',"burst-statistics")]})]})]});return(0,n.jsxs)(k,{label:i,help:Q,error:P,warning:R,className:o,inputId:d,required:u.required,children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(b,$e({id:d,type:"text",ref:t,value:N},r,u,{"aria-invalid":!!P,"aria-describedby":P?"".concat(d,"-error"):void 0,onChange:function(e){var t=e.target.value;S(t),c(t);var r=M(t);C(r)},className:"w-full"})),E&&(0,n.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,n.jsxs)("svg",{className:"animate-spin h-4 w-4 text-gray-600",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]}),(0,n.jsxs)("div",{className:"mt-4 border rounded overflow-hidden",ref:V,tabIndex:0,"aria-label":(0,v.__)("Preview panel, use arrow keys to navigate","burst-statistics"),children:[(0,n.jsxs)("div",{className:"bg-gray-100 p-2 grid grid-cols-3 items-center justify-between border-b",children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:$}),L.previews.length>1&&(0,n.jsx)("div",{className:"col-start-2 flex items-center justify-center",children:(0,n.jsxs)("div",{role:"group","aria-label":(0,v.__)("Cycle matches","burst-statistics"),className:"flex items-center justify-center rounded overflow-hidden shadow-sm",children:[(0,n.jsx)("button",{type:"button",onClick:function(){return W("prev")},className:"bg-white text-gray-600 hover:bg-gray-100 px-3 py-1 border-r","aria-label":(0,v.__)("Previous match","burst-statistics"),children:"â†"}),(0,n.jsxs)("span",{className:"px-2 py-1 bg-white text-sm",children:[L.currentIndex+1,"/",L.previews.length]}),(0,n.jsx)("button",{type:"button",onClick:function(){return W("next")},className:"bg-white text-gray-600 hover:bg-gray-100 px-3 py-1 border-l","aria-label":(0,v.__)("Next match","burst-statistics"),children:"â†’"})]})}),(0,n.jsx)("div",{className:"flex items-center justify-end col-start-3 gap-2",children:(0,n.jsx)(_,{content:m?(0,v.__)("Set logged in mode","burst-statistics"):(0,v.__)("Set logged out mode","burst-statistics"),children:(0,n.jsx)("button",{type:"button",onClick:function(){return y(!m)},className:"bg-white text-gray-600 hover:bg-gray-100 border-gray-400 px-2 py-2 border rounded-md",children:m?(0,n.jsx)(Y.A,{name:"log-out"}):(0,n.jsx)(Y.A,{name:"log-in"})})})})]}),L.previews.length>0&&!P&&(0,n.jsx)("iframe",{srcDoc:L.previews[L.currentIndex],sandbox:"allow-scripts allow-same-origin",title:"".concat(d,"-preview"),className:"w-full h-48 border-none","aria-live":"polite"})]}),L.previews.length>0&&(0,n.jsxs)("span",{className:"sr-only","aria-live":"polite",children:[L.count," ",(0,v.__)("elements match your selector. Use arrow keys to cycle through matches.","burst-statistics")]}),j&&(0,n.jsx)("iframe",{ref:G,sandbox:"allow-scripts allow-same-origin",src:j,onLoad:function(){return U(N)},referrerPolicy:"no-referrer",style:{display:"none"},title:"".concat(d,"-hidden-tester")})]})}));Qe.displayName="SelectorField";const He=Qe,Ke=function(e){var t=e.field,r=void 0===t?{}:t,i=(e.fields,e.goal),s=e.value,o=e.setGoalValue,l=(0,a.useState)(!1),c=l[0],u=l[1];console.log("goal",i),(0,a.useEffect)((function(){f(r,s)}));var d=function(e){f(r,e),"type"===r.id&&"visits"===e&&o(i.id,"page_or_website","page"),o(i.id,r.id,e)},f=function(e,t){var r=!0;e.required&&(r=0!==t.length),r&&"url"===e.type&&(r=!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)),r&&"css-selector"===e.type&&(r=!!t.length),u(r)},p="burst-"+r.type,b=r.disabled;return"hidden"===r.type||r.conditionallyDisabled?null:"text"===r.type||"url"===r.type?(0,n.jsxs)("div",{className:p,children:[r.parent_label&&(0,n.jsx)("div",{className:"burst-parent-label",children:(0,n.jsx)("label",{children:r.parent_label})}),c&&(0,n.jsx)(Y.A,{name:"success",color:"green"}),!c&&(0,n.jsx)(Y.A,{name:"times"}),(0,n.jsx)(P,{help:r.comment,placeholder:r.placeholder,label:r.label,onChange:function(e){return d(e.target.value)},value:s,disabled:b})]}):"radio-buttons"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(ze,{disabled:b,field:r,goalId:i.id,inputId:r.id,id:r.id,label:r.label,help:r.comment,value:i[r.id],onChange:function(e){return d(e)},className:"radio-buttons"})}):"hook"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(P,{disabled:b,field:r,goal:i,label:r.label,help:r.comment,value:i.hook,onChange:function(e){return d(e.target.value)}})}):"select-page"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(De,{disabled:b,field:r,goal_id:i.id,label:r.label,help:r.comment,value:!1===i.url||"*"===i.url?"":i.url,onChange:function(e){return d(e)}})}):"selector"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(He,{disabled:b,field:r,goal:i,goal_id:i.id,label:r.label,help:r.comment,value:i.selector,onChange:function(e){return d(e)}})}):void 0};function Je(e){var t=e.value,r=(e.id,e.onChange),i=(0,a.useState)(t),s=i[0],o=i[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=(0,a.useRef)(null);return(0,a.useEffect)((function(){c&&d.current&&d.current.focus()}),[c]),(0,n.jsx)("div",{className:"burst-click-to-edit",children:c?(0,n.jsx)("input",{type:"text",value:s,onChange:function(e){e.preventDefault(),o(e.target.value)},onBlur:function(){return e=this,t=void 0,a=function(){return function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return u(!1),[4,r(s)];case 1:return e.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}));var e,t,n,a},onKeyDown:function(e){" "===e.key&&(e.preventDefault(),o(e.target.value+" ")),"Enter"===e.key&&(e.preventDefault(),u(!1),r(s))},ref:d}):(0,n.jsx)(ke.A,{content:(0,v.__)("Click to edit","burst-statistics"),children:(0,n.jsx)("h5",{className:"burst-tooltip-clicktoedit",tabIndex:"0",onClick:function(e){e.preventDefault(),u(!0)},onFocus:function(){u(!0)},children:""!==s?s:(0,n.jsx)("i",{children:(0,v.__)("Untitled goal","burst-statistics")})})})})}var Ye=function(e){var t=e.goal;return(0,n.jsxs)(n.Fragment,{children:[(0,v.__)("Are you sure you want to delete this goal?","burst-statistics")+" "+(0,v.__)("This action cannot be undone.","burst-statistics"),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,v.__)("Goal name","burst-statistics"),":"]})," ",t.name,(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,v.__)("Status","burst-statistics"),":"]})," ",t.status,(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,v.__)("Date created","burst-statistics"),":"]})," ",(0,Pe.BM)(t.dateCreated)]})},Ze=function(e){var t=e.deleteGoal,r=e.onClose,a=e.isDisabled;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J.bm,{asChild:!0,"aria-label":"Close",children:(0,n.jsx)("button",{className:"burst-button burst-button--secondary",onClick:r,children:(0,v.__)("Cancel","burst-statistics")})}),(0,n.jsx)("button",{disabled:a,className:"burst-button burst-button--tertiary",onClick:function(){return t()},children:(0,v.__)("Delete goal","burst-statistics")})]})};const Xe=function(e){var t=e.goal,r=e.deleteGoal,i=(0,a.useState)(!1),s=i[0],o=i[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=function(){o(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{isOpen:s,onClose:d,title:(0,v.__)("Delete goal","burst-statistics"),content:(0,n.jsx)(Ye,{goal:t}),footer:(0,n.jsx)(Ze,{deleteGoal:function(){return e=void 0,t=void 0,a=function(){return function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return u(!0),[4,r()];case 1:return e.sent(),u(!1),o(!1),[2]}}))},new((n=void 0)||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}));var e,t,n,a},onClose:d,isDisabled:c})}),(0,n.jsx)("button",{className:"burst-button-icon burst-button-icon--delete",onClick:function(e){return function(e){e.preventDefault(),o(!0)}(e)},children:(0,n.jsx)(Y.A,{name:"trash",size:18})})]})};var et=function(){return et=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},et.apply(this,arguments)};const tt=function(e){var t=e.goal,r=e.goalFields,i=e.setGoalValue,s=e.deleteGoal,l=e.saveGoalTitle,c=(0,a.useState)("active"===t.status),u=c[0],d=c[1],f=(0,a.useMemo)((function(){if(!r||0===r.length)return[];var e=r.map((function(e){var r=et({},e);return r.value=t[r.id],r}));return(0,o.l)(e)}),[r,t]);return r?(0,n.jsx)("div",{className:"burst-settings-goals__list__item",children:(0,n.jsxs)("details",{children:[(0,n.jsxs)("summary",{children:[(0,n.jsx)(Y.A,{name:t.type&&f[1]&&f[1].options&&f[1].options[t.type]?f[1].options[t.type].icon:"eye",size:20}),(0,n.jsx)("span",{children:(0,n.jsx)(Je,{value:t.title&&0<t.title.length?t.title:" ",id:t.id,defaultValue:(0,v.__)("New goal","burst-statistics"),onChange:function(e){i(t.id,"title",e),l(t.id,e)}})}),(0,n.jsx)(Xe,{goal:{name:t.title&&0<t.title.length?t.title:" ",status:u?(0,v.__)("Active","burst-statistics"):(0,v.__)("Inactive","burst-statistics"),dateCreated:t&&void 0!==t.date_created&&1<t.date_created?t.date_created:1},deleteGoal:function(){s(t.id)}}),(0,n.jsx)(ke.A,{content:u?(0,v.__)("Click to de-activate","burst-statistics"):(0,v.__)("Click to activate","burst-statistics"),children:(0,n.jsx)("span",{className:"burst-click-to-filter burst-goal-toggle",children:(0,n.jsx)($.A,{size:"small",value:u,onChange:function(e){d(e),i(t.id,"status",e?"active":"inactive")}})})}),(0,n.jsx)(Y.A,{name:"chevron-down",size:18})]}),0<f.length&&f.map((function(e,r){return(0,n.jsx)(Ke,{field:e,goal:t,value:e.value,setGoalValue:i},r)}))]})}):null};var rt=r(23392),nt=r(9823),at=r(24660);const it=function(){var e=(0,o.A)(),t=e.goals,r=e.goalFields,i=e.predefinedGoals,s=e.addGoal,l=e.deleteGoal,c=e.updateGoal,u=e.addPredefinedGoal,d=e.setGoalValue,f=e.saveGoalTitle,p=(0,j.A)().isLicenseValid,b=(0,a.useState)(!1),h=b[0],m=b[1],y=(0,(0,at.A)().getValue)("enable_cookieless_tracking"),g=function(e){switch(e){case"hook":return"Hook";case"clicks":return(0,v.__)("Click","burst-statistics");case"views":return(0,v.__)("View","burst-statistics");default:return e}},x=i&&0!==i.length?"":"burst-inactive";return(0,n.jsxs)("div",{className:"box-border w-full p-6",children:[(0,n.jsxs)("p",{className:"text-base",children:[(0,v.__)("Goals are a great way to track your progress and keep you motivated.","burst-statistics"),!p()&&" "+(0,v.__)("While free users can create one goal, Burst Pro lets you set unlimited goals to plan, measure, and achieve more.","burst-statistics")]}),(0,n.jsxs)("div",{className:"burst-settings-goals__list",children:[0<t.length&&t.map((function(e,t){return(0,n.jsx)(tt,{goal:e,goalFields:r,setGoalValue:d,deleteGoal:l,onUpdate:c,saveGoalTitle:f},t)})),(p()||0===t.length)&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{className:"burst-button burst-button--secondary",type:"button",onClick:s,children:(0,v.__)("Add goal","burst-statistics")}),i&&(0,n.jsxs)(nt.bL,{open:h,onOpenChange:function(){m(!h)},children:[(0,n.jsxs)(nt.l9,{type:"button",className:x+" burst-button burst-button--secondary",onClick:function(){m(!h)},children:[(0,v.__)("Add predefined goal","burst-statistics")," ",(0,n.jsx)(Y.A,{name:h?"chevron-up":"chevron-down",color:"gray"})]}),(0,n.jsxs)(nt.UC,{sideOffset:5,align:"end",className:"z-50 flex flex-col gap-2 rounded-lg border border-gray-400 bg-white p-2",children:[i.map((function(e,t){return(0,n.jsxs)("div",{className:"hook"===e.type&&y?"pointer-events-none relative z-50 flex cursor-not-allowed flex-row gap-1 rounded-lg border border-gray-400 bg-gray-100 p-2 opacity-50":"relative z-50 flex cursor-pointer flex-row gap-1 rounded-lg border border-gray-400 bg-gray-100 p-2",onClick:function(){return function(e){u(e.id,e.type,y),m(!1)}(e)},children:[(0,n.jsx)(Y.A,{name:"plus",size:18,color:"gray"}),e.title+" ("+g(e.type)+")","hook"===e.type&&(y?(0,n.jsx)(Y.A,{name:"error",color:"black",tooltip:(0,v.__)("Not available in combination with cookieless tracking","burst-statistics")}):null)]},t)})),(0,v.__)("Plug-in you're looking for not listed?","burst-statistics")+" ",(0,n.jsx)("a",{className:"underline",href:(0,rt.U)("/request-goal-integration/",{burst_source:"goals-integration-request"}),children:(0,v.__)("Request it here!","burst-statistics")})]})]}),(0,n.jsx)("div",{className:"ml-auto text-right",children:(0,n.jsx)("p",{className:"rounded-lg bg-gray-300 p-1 px-3 text-sm text-gray",children:p()?(0,n.jsxs)(n.Fragment,{children:[" ",t.length," / âˆž "]}):(0,n.jsxs)(n.Fragment,{children:[t.length," / 1"]})})})]}),!p()&&(0,n.jsxs)("div",{className:"burst-settings-goals__upgrade",children:[(0,n.jsx)(Y.A,{name:"goals",size:24,color:"gray"}),(0,n.jsx)("h4",{children:(0,v.__)("Want more goals?","burst-statistics")}),(0,n.jsx)("div",{className:"burst-divider"}),(0,n.jsx)("p",{children:(0,v.__)("Upgrade to Burst Pro","burst-statistics")}),(0,n.jsx)("a",{href:(0,rt.U)("/pricing/",{burst_source:"goals-setting",burst_content:"more-goals"}),target:"_blank",className:"burst-button burst-button--pro",children:(0,v.__)("Upgrade to Pro","burst-statistics")})]})]})]})};var st=r(57097);const ot=function(e){var t=e.className,r=e.text,a=e.target,i=e.url,s=e.rel,o="",l="",c="";if(-1!==r.indexOf("%s")){var u=r.split(/%s/);o=u[0],c=u[1],l=u[2]}else c=r;return t=t||"burst-link",(0,n.jsxs)(n.Fragment,{children:[o,(0,n.jsx)("a",{className:t,target:a,rel:s,href:i,children:c}),l]})};var lt=function(){return lt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},lt.apply(this,arguments)},ct=(0,a.forwardRef)((function(e,t){var r=e.field,a=e.fieldState,i=e.label,s=e.help,o=(e.context,e.className),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),c=(0,Me.jE)(),u=(0,j.A)(),d=u.setLicenseStatus,f=(u.isLicenseValid,u.licenseStatus),p=(0,at.A)().saveSettings,h=(0,Ae.I)({queryKey:["licenseNotices"],queryFn:function(){return(0,ee.Eo)("license_notices",{})}}),m=h.data,y=h.isLoading;m&&m.licenseStatus!==f&&d(m.licenseStatus);var g,x=i||(0,v.__)("Enter your license key","burst-statistics"),w=l.id||r.name,_=(0,st.n)({mutationFn:function(e){var t;return"activate"===e?p(((t={})[r.name]=r.value,t)):(0,ee.Eo)("deactivate_license",{})},onSuccess:function(){c.invalidateQueries({queryKey:["licenseNotices"]})}}),O=_.mutate,N=_.isPending;return g=void 0===m||N?[{label:"loading",msg:"Loading..."}]:m.notices,function(){var e,i,c=(0,n.jsxs)(n.Fragment,{children:[(0,v.__)("Activating your license gives you automatic updates and support.","burst-statistics")," ",(0,n.jsx)(ot,{className:"underline",url:"https://burst-statistics.com/how-to-install-burst-pro/",target:"_blank",rel:"noopener noreferrer",text:(0,v.__)("Having trouble? %sCheck our installation guide%s.","burst-statistics")})," ",(0,n.jsx)(ot,{className:"underline",url:"https://burst-statistics.com/support/",target:"_blank",rel:"noopener noreferrer",text:(0,v.__)("If that does not help, please %sopen a support ticket%s so we can help you out!","burst-statistics")})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(k,lt({label:x,help:s,error:null===(e=null==a?void 0:a.error)||void 0===e?void 0:e.message,context:c,className:o,inputId:w,required:l.required},l,{children:[(0,n.jsx)(b,lt({id:w,"aria-invalid":!!(null===(i=null==a?void 0:a.error)||void 0===i?void 0:i.message),type:"password",placeholder:(0,v.__)("Enter your license key here.","burst-statistics")},r,l,{ref:t})),(0,n.jsxs)("div",{className:"flex flex-row gap-2 mt-2",children:[!y&&"valid"===m.licenseStatus&&(0,n.jsx)(M.A,{btnVariant:"tertiary",onClick:function(){return O("deactivate")},disabled:N,children:(0,v.__)("Deactivate License","burst-statistics")}),!y&&"valid"!==m.licenseStatus&&(0,n.jsx)(M.A,{btnVariant:"primary",onClick:function(){return O("activate")},disabled:N,children:(0,v.__)("Activate License","burst-statistics")}),N&&(0,n.jsx)(Y.A,{name:"loading",size:20})]})]})),(0,n.jsxs)("div",{className:"flex flex-col gap-2 p-6",children:[(0,n.jsx)("h3",{className:"text-md font-medium text-black",children:(0,v.__)("License status","burst-statistics")}),!y&&g&&g.map((function(e,t){return(0,n.jsx)(dt,{notice:e},t)}))]})]})}()}));ct.displayName="LicenseField";const ut=ct;var dt=function(e){var t=e.notice,r={warning:"red",open:"blue",success:"green"}[t.icon]||"green";return(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)(Y.A,{name:"bullet",color:r}),(0,n.jsx)("p",{children:t.msg}),t.url&&(0,n.jsx)("a",{href:t.url,target:"_blank",children:(0,v.__)("More info","burst-statistics")})]})},ft=function(){return ft=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ft.apply(this,arguments)},pt=(0,a.forwardRef)((function(e,t){var r,a,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name;return(0,n.jsx)(k,ft({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,alignWithLabel:!0,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(pe,ft({},i,{id:f,"aria-invalid":!!(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.message),ref:t,value:i.value||"",onChange:function(e){return i.onChange(e)},options:d.options||[],disabled:d.disabled}))}))}));pt.displayName="SelectField";const bt=pt;var ht=function(){return ht=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ht.apply(this,arguments)},vt=(0,a.forwardRef)((function(e,t){var r,a,i=e.field,s=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),f=d.id||i.name,p=""===i.value?void 0:i.value;return(0,n.jsx)(k,ht({label:o,help:l,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:f,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(b,ht({},i,{value:p,id:f,type:"number","aria-invalid":!!(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.message),ref:t,min:d.min,max:d.max,step:d.step,placeholder:d.placeholder,disabled:d.disabled}))}))}));vt.displayName="NumberField";const mt=vt;var yt=function(){return yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},yt.apply(this,arguments)};const gt=(0,a.forwardRef)((function(e){var t,r,a,i,s,o,l,c=e.field,u=e.fieldState,d=e.label,f=e.help,p=e.className,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","className"]),h=burst_settings.plugin_url+"assets/img/burst-email-logo.png",m=(0,Ae.I)({queryKey:["attachment",c.value],queryFn:function(){return e=void 0,t=void 0,n=function(){return function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return"0"===c.value||0===c.value?[3,2]:[4,wp.media.attachment(c.value).fetch()];case 1:return[2,e.sent()];case 2:return[2,null]}}))},new((r=void 0)||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n}}),y=m.data,g=m.isLoading,x=(null===(r=null===(t=null==y?void 0:y.sizes)||void 0===t?void 0:t.medium)||void 0===r?void 0:r.url)||(null===(i=null===(a=null==y?void 0:y.sizes)||void 0===a?void 0:a.large)||void 0===i?void 0:i.url)||(null===(o=null===(s=null==y?void 0:y.sizes)||void 0===s?void 0:s.full)||void 0===o?void 0:o.url)||h;return(0,n.jsxs)(k,yt({label:d,help:f,className:p,error:u.error,pro:b.setting.pro,context:b.setting.context,recommended:b.recommended,disabled:b.disabled},b,{children:[(0,n.jsx)("div",{className:"flex items-center justify-center bg-gray-100 rounded-md p-4 border-dashed border-2 border-gray-500 cursor-pointer max-w-72 max-h-24 ".concat(b.disabled?"opacity-50 disabled pointer-events-none":""),onClick:function(){b.disabled||(l||(l=wp.media({title:(0,v.__)("Select a logo","burst-statistics"),button:{text:(0,v.__)("Set logo","burst-statistics")},multiple:!1})).on("select",(function(){var e=l.state().get("selection").first(),t=e.id;(e.attributes.sizes.medium||e.attributes.sizes.thumbnail||e.attributes.sizes.full)&&c.onChange(t)})),l.open())},children:x&&!g?(0,n.jsx)("img",{src:x,alt:"Logo",className:"max-w-64 max-h-20"}):(0,n.jsx)(Y.A,{name:"loading",size:18})}),(0,n.jsx)(M.A,{btnVariant:"tertiary",size:"sm",className:"mt-2",onClick:function(){c.onChange(0)},disabled:b.disabled||0===c.value||"0"===c.value,children:(0,v.__)("Reset to Default","burst-statistics")})]}))}));var xt=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},jt=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const wt=(0,Ce.v)((function(e,t){return{archivesLoaded:!1,fetching:!1,restoring:!1,progress:!1,archives:[],downloadUrl:"",fields:[],noData:!1,deleteArchives:function(r){return xt(void 0,void 0,void 0,(function(){var n,a;return jt(this,(function(i){switch(i.label){case 0:return n=t().archives.filter((function(e){return r.includes(e.id)})),e((function(e){return{archives:e.archives.filter((function(e){return!r.includes(e.id)}))}})),(a={}).archives=n,[4,X.toast.promise((0,ee.Eo)("delete_archives",a),{pending:(0,v.__)("Deleting...","burst-statistics"),success:(0,v.__)("Archives deleted successfully!","burst-statistics"),error:(0,v.__)("Failed to delete archive","burst-statistics")})];case 1:return i.sent(),[2]}}))}))},fetchData:function(){return xt(void 0,void 0,void 0,(function(){var r,n,a,i;return jt(this,(function(s){switch(s.label){case 0:return j.A.getState().isPro?t().fetching?[2]:(e({fetching:!0}),r={},[4,(0,ee.Eo)("get_archives",r).then((function(e){return e})).catch((function(e){console.error(e)}))]):[2];case 1:return n=s.sent(),a=n.archives,i=n.downloadUrl,e((function(){return{archivesLoaded:!0,archives:a,downloadUrl:i,fetching:!1}})),[2]}}))}))},startRestoreArchives:function(t){return xt(void 0,void 0,void 0,(function(){return jt(this,(function(r){switch(r.label){case 0:return e({restoring:!0,progress:0}),e((function(e){return{archives:e.archives.map((function(e){return t.includes(e.id)&&(e.restoring=!0),e}))}})),[4,X.toast.promise((0,ee.Eo)("start_restore_archives",{archives:t}),{pending:(0,v.__)("Starting restore...","burst-statistics"),success:(0,v.__)("Restore successfully started!","burst-statistics"),error:(0,v.__)("Failed to start restore process.","burst-statistics")})];case 1:return r.sent(),[2]}}))}))},fetchRestoreArchivesProgress:function(){return xt(void 0,void 0,void 0,(function(){var r,n,a,i,s;return jt(this,(function(o){switch(o.label){case 0:return e({restoring:!0}),[4,(0,ee.Eo)("get_restore_progress",{}).then((function(e){return e})).catch((function(e){console.error(e)}))];case 1:return r=o.sent(),n=r.progress,a=r.noData,i=!1,100>n&&(i=!0),e({progress:n,restoring:i,noData:a}),100===n&&(s=t().archives.filter((function(e){return!e.restoring})),e({archives:s})),[2]}}))}))}}}));var _t=function(){return _t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_t.apply(this,arguments)},Ot=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},Nt=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},kt=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};const St=(0,a.forwardRef)((function(e){!function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}}(e,[]);var t=(0,a.useState)(""),r=t[0],i=t[1],s=(0,a.useState)([]),o=s[0],l=s[1],c=(0,a.useState)(!1),u=c[0],d=c[1],f=(0,a.useState)({}),p=f[0],b=f[1],h=(0,a.useState)(!1),m=h[0],y=h[1],g=(0,a.useState)(!1),x=g[0],j=g[1],w=(0,a.useState)("title"),_=w[0],O=w[1],N=(0,a.useState)("asc"),k=N[0],S=N[1],A=wt((function(e){return e.archives})),P=wt((function(e){return e.archivesLoaded})),C=(wt((function(e){return e.fetching})),wt((function(e){return e.fetchData}))),I=wt((function(e){return e.deleteArchives})),E=wt((function(e){return e.downloadUrl})),D=wt((function(e){return e.startRestoreArchives})),F=wt((function(e){return e.fetchRestoreArchivesProgress})),L=wt((function(e){return e.restoring})),T=wt((function(e){return e.progress})),q=(0,at.A)().addNotice;(0,a.useEffect)((function(){F()}),[]),(0,a.useEffect)((function(){P||C()}),[P]);var R=function(e){0===e.length&&(j(!1),y(!1)),l(e)},z=function(e){var t=kt([],e,!0);return(t=G(t,_,k)).filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())}))},G=function(e,t,r){if(0===e.length)return e;var n="asc"===r?1:-1;r!==k&&S(r);var a=function(e){var t=e.split(" "),r=t[0],n=t[1];return parseFloat(r)*{B:1,KB:1024,MB:1048576}[n]};return-1!==t.toString().indexOf("title")&&"title"!==_?O("title"):-1!==t.toString().indexOf("size")&&"size"!==_&&O("size"),"title"===_?e.sort((function(e,t){var r=e.id.replace(".zip","").split("-").map(Number),a=r[0],i=r[1],s=t.id.replace(".zip","").split("-").map(Number),o=s[0],l=s[1];return a!==o?n*(a-o):n*(i-l)})):"size"===_&&e.sort((function(e,t){var r=a(e.size),i=a(t.size);return n*(r-i)})),e},V=[{name:(0,n.jsx)("input",{type:"checkbox",className:m?"burst-indeterminate":"",checked:x,onChange:function(e){return function(e){if(e){j(!0);var t=p.currentPage?p.currentPage:1,r=z(A).slice(10*(t-1),10*t);l(r.map((function(e){return e.id})))}else j(!1),l([]);y(!1)}(e.target.checked)}}),selector:function(e){return e.selectControl},grow:1},{name:(0,v.__)("Archive","burst-statistics"),selector:function(e){return e.title},sortable:!0,grow:6},{name:(0,v.__)("Size","burst-statistics"),selector:function(e){return e.size},sortable:!0,grow:2,right:1}],M=z(A),U=[];M.forEach((function(e){var t=_t({},e);t.selectControl=(0,n.jsx)("input",{type:"checkbox",className:"m-0",disabled:t.restoring||L,checked:o.includes(t.id),onChange:function(e){return function(e,t){var r=kt([],o,!0);e?r.includes(t)||(r.push(t),l(r)):(r=kt([],o.filter((function(e){return e!==t})),!0),l(r));var n=p.currentPage?p.currentPage:1,a=z(A).slice(10*(n-1),10*n),i=!0,s=!1;a.forEach((function(e){r.includes(e.id)?s=!0:i=!1})),i?(j(!0),y(!1)):s?(j(!1),y(!0)):y(!1)}(e.target.checked,t.id)}}),U.push(t)}));var B=1<o.length;if(!B&&1===o.length){var W=A.filter((function(e){return o.includes(e.id)}));B=W.hasOwnProperty(0)&&""!==W[0].download_url}return(0,n.jsxs)("div",{className:"w-full p-6",children:[(0,n.jsx)("div",{className:"burst-table-header",children:(0,n.jsx)("div",{className:"burst-table-header-controls",children:(0,n.jsx)("input",{className:"burst-datatable-search",type:"text",placeholder:(0,v.__)("Search","burst-statistics"),value:r,onChange:function(e){return i(e.target.value)}})})}),0<o.length&&(0,n.jsx)("div",{className:"burst-selected-archive flex space-y-2",children:(0,n.jsxs)("div",{className:"burst-selected-archive-controls flex gap-2.5 mb-4 mt-4 items-center",children:[B&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{disabled:u||T&&100>T,className:"burst-button burst-button--secondary",onClick:function(e){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,r;return Nt(this,(function(n){switch(n.label){case 0:return e.preventDefault(),t=A.filter((function(e){return o.includes(e.id)})),d(!0),r=function(){return Ot(void 0,void 0,void 0,(function(){var e,n,a,i;return Nt(this,(function(s){switch(s.label){case 0:if(!(0<t.length))return[3,5];e=t.shift(),n=E+e.id,s.label=1;case 1:return s.trys.push([1,3,,4]),(a=new XMLHttpRequest).responseType="blob",a.open("get",n,!0),a.send(),a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var r=window.URL.createObjectURL(this.response),n=window.document.createElement("a");n.href=r,n.download=e.title,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),R(t),d(!1),setTimeout((function(){window.URL.revokeObjectURL(r)}),6e4)}},[4,r()];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),console.error(i),d(!1),[3,4];case 4:return[3,6];case 5:d(!1),s.label=6;case 6:return[2]}}))}))},[4,r()];case 1:return n.sent(),[2]}}))}))}(e)},children:[(0,v.__)("Download","burst-statistics"),u&&(0,n.jsx)(Y.A,{name:"loading",color:"gray"})]})}),(0,n.jsxs)("button",{disabled:T&&100>T,className:"burst-button burst-button--primary",onClick:function(e){return function(e,t){return Ot(void 0,void 0,void 0,(function(){return Nt(this,(function(r){switch(r.label){case 0:return e.preventDefault(),R([]),[4,D(t)];case 1:return r.sent(),q("archive_data","warning",(0,v.__)("Because restoring files can conflict with the archiving functionality, archiving has been disabled.","burst-statistics"),(0,v.__)("Archiving disabled","burst-statistics")),[2]}}))}))}(e,o)},children:[(0,v.__)("Restore","burst-statistics"),100>T&&(0,n.jsx)(Y.A,{name:"loading",color:"gray"})]}),(0,n.jsx)("button",{disabled:T&&100>T,className:"burst-button burst-button--tertiary",onClick:function(e){return function(e,t){return Ot(void 0,void 0,void 0,(function(){return Nt(this,(function(r){switch(r.label){case 0:return e.preventDefault(),R([]),[4,I(t)];case 1:return r.sent(),[2]}}))}))}(e,o)},children:(0,v.__)("Delete","burst-statistics")}),(0,n.jsxs)("div",{children:[1<o.length&&(0,v.__)("%s items selected","burst-statistics").replace("%s",o.length),1===o.length&&(0,v.__)("1 item selected","burst-statistics")]})]})}),0<T&&100>T&&(0,n.jsx)("div",{className:"burst-selected-archive",children:(0,v.__)("Restore in progress, %s complete","burst-statistics").replace("%s",T+"%")}),he.Ay&&(0,n.jsx)(he.Ay,{columns:V,data:U,dense:!0,paginationPerPage:10,onChangePage:function(e){b(_t(_t({},p),{currentPage:e}))},paginationState:p,persistTableHead:!0,defaultSortFieldId:2,pagination:!0,paginationRowsPerPageOptions:[10,25,50],paginationComponentOptions:{rowsPerPageText:"",rangeSeparatorText:(0,v.__)("of","burst-statistics"),noRowsPerPage:!1,selectAllRowsItem:!0,selectAllRowsItemText:(0,v.__)("All","burst-statistics")},noDataComponent:(0,n.jsx)("div",{className:"burst-no-archives",children:(0,v.__)("No archives","burst-statistics")}),sortFunction:G})]})}));var At=r(681),Pt=function(){return Pt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Pt.apply(this,arguments)},Ct=(0,a.forwardRef)((function(e,t){var r,a=e.field,i=e.fieldState,s=e.label,o=e.help,l=e.context,c=e.className,u=e.recommended,d=e.disabled,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","recommended","disabled"]),p=f.id||a.name,b=f.options||{};return(0,n.jsx)(k,Pt({label:s,help:o,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:p,required:f.required,recommended:u,disabled:d},f,{children:(0,n.jsx)("div",{className:"space-y-4",children:Object.entries(b).map((function(e){var t=e[0],r=e[1],i="string"==typeof r?r:r.label,s="object"==typeof r&&r.context?r.context:null,o="object"==typeof r&&!0===r.recommended;return(0,n.jsx)("div",{className:"space-y-1",children:(0,n.jsx)("div",{className:"flex items-start gap-2 rounded-md border border-gray-400 bg-gray-100 px-3 py-2",children:(0,n.jsxs)(At.A,{id:"".concat(p,"-").concat(t),name:a.name,value:t,label:i,checked:a.value===t,disabled:d,onChange:function(e){return a.onChange(e)},className:c,children:[o&&(0,n.jsx)(y,{}),s&&(0,n.jsx)("div",{className:"text-sm font-light text-gray",children:s})]})})},"".concat(p,"-").concat(t))}))})}))}));Ct.displayName="RadioField";var It=function(){return It=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},It.apply(this,arguments)},Et={text:P,number:mt,api:L,hidden:L,checkbox:K,textarea:V,ip_blocklist:W,button:oe,email_reports:ge,checkbox_group:Ne,goals:it,license:ut,select:bt,logo_editor:gt,restore_archives:St,radio:Ct},Dt=(0,a.memo)((function(e){var t,r=e.setting,i=e.control,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["setting","control"]),l=(0,j.A)().isLicenseValid;if("goals"===r.type)return(0,n.jsx)(s.A,{children:(0,n.jsx)(it,{})});var c=Et[r.type];if(!c)return(0,n.jsxs)("div",{className:"w-full",children:["Unknown field type: ",r.type," ",r.id]});var u=It(It(It(It(It(It(It({},r.required&&{required:{value:!0,message:r.requiredMessage||(0,v.__)("This field is required","burst-statistics")}}),(null===(t=r.validation)||void 0===t?void 0:t.regex)&&{pattern:{value:new RegExp(r.validation.regex),message:r.validation.message||(0,v.__)("Invalid format","burst-statistics")}}),function(){var e;return"ip_blocklist"===r.type?{validate:{validIps:function(e){if(!e)return!0;var t=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return e.trim()}));if(0===r.length)return!0;var n=r.filter((function(e){return!t.test(e)}));return 0===n.length||(0,v.__)("Invalid IP address format: ","burst-statistics")+n.join(", ")},noDuplicates:function(e){if(!e)return!0;var t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return e.trim()}));if(0===t.length)return!0;if(new Set(t).size!==t.length){var r={};t.forEach((function(e){r[e]=(r[e]||0)+1}));var n=Object.keys(r).filter((function(e){return r[e]>1}));return(0,v.__)("Duplicate IP addresses found: ","burst-statistics")+n.join(", ")}return!0}}}:(null===(e=r.validation)||void 0===e?void 0:e.validate)?{validate:r.validation.validate}:{}}()),r.min&&{min:r.min}),r.max&&{max:r.max}),r.minLength&&{minLength:r.minLength}),r.maxLength&&{maxLength:r.maxLength}),f=(0,a.useMemo)((function(){return!!r.disabled||!(!r.pro||l())||o.settingsIsUpdating}),[r.disabled,o.settingsIsUpdating]);return(0,n.jsx)(s.A,{children:(0,n.jsx)(d.xI,{name:r.id,control:i,rules:u,defaultValue:r.value||r.default,render:function(e){var t=e.field,a=e.fieldState;return(0,n.jsx)(c,It({field:t,fieldState:a,control:i,required:r.required,label:r.label||r.id,disabled:f,context:r.context,help:r.help,options:r.options,setting:r,recommended:r.recommended,pro:r.pro},o))}})})}));Dt.displayName="Field";const Ft=Dt;var Lt=r(50084),Tt=(0,a.memo)((function(e){var t=e.group,r=e.fields,a=e.control,i=e.isLastGroup,o=(0,j.A)().isLicenseValid,d=i?"rounded-b-none":"mb-5";return 0===r.length?null:(0,n.jsxs)(l.e,{className:d,children:[t.pro&&!o()&&(0,n.jsx)(Lt.A,{className:"backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("h4",{children:(0,v.__)("Unlock Advanced Features with Burst Pro","burst-statistics")}),(0,n.jsxs)("p",{children:[(0,v.__)("This setting is exclusive to Pro users.","burst-statistics"),t.pro&&t.pro.text&&" "+t.pro.text]}),t.pro.url&&(0,n.jsx)(M.A,{to:t.pro.url,btnVariant:"primary",btnSize:"small",children:(0,v.__)("Upgrade to Pro","burst-statistics")})]})}),(0,n.jsx)(c.q,{title:t.title,className:"burst-settings-group-block"}),(0,n.jsxs)(u.t,{className:"p-0 pb-4",children:[t.description&&(0,n.jsx)("h3",{className:"mb-5 text-sm",children:t.description}),(0,n.jsx)("div",{className:"flex flex-wrap",children:r.map((function(e,t){return(0,n.jsx)(s.A,{fallback:"Could not load field",children:(0,n.jsx)(Ft,{index:t,setting:e,control:a},t)},t)}))})]})]},t.id)}));Tt.displayName="SettingsGroupBlock";const qt=Tt;var Rt=function(){var e=(0,a.useState)(0),t=e[0],r=e[1],i=(0,a.useState)(!1),s=i[0],o=i[1],l=(0,a.useCallback)((function(){var e=document.documentElement.scrollHeight-window.innerHeight;0<e?(r(Math.round(window.scrollY/e*100)),o(!0)):o(!1)}),[]);return(0,a.useEffect)((function(){l();var e=["scroll","resize","load"];e.forEach((function(e){return window.addEventListener(e,l)}));var t=new MutationObserver(l);return t.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),function(){e.forEach((function(e){return window.removeEventListener(e,l)})),t.disconnect()}}),[l]),s?(0,n.jsx)("div",{className:"h-1 w-full bg-gray-400",children:(0,n.jsx)("div",{className:"h-full bg-blue transition-all duration-300 ease-out",style:{width:"".concat(10+Math.min(t,90),"%")}})}):null};Rt.displayName="FormScrollProgressLine";const zt=Rt;function Gt(e){var t=e.onSubmit,r=e.control,a=(0,d.lN)({control:r}),i=a.isDirty,s=a.isSubmitting,o=a.isValidating,l=[{condition:s,message:(0,v.__)("Saving...","burst-statistics"),color:"black"},{condition:o,message:(0,v.__)("Validating...","burst-statistics"),color:"black"},{condition:i,message:(0,v.__)("You have unsaved changes","burst-statistics"),color:"black"}].find((function(e){return e.condition}));return(0,n.jsxs)("div",{className:"sticky bottom-0 start-0 z-10 rounded-b-md border-t border-gray-200 bg-gray-100 shadow-[0_-8px_15px_-3px_rgba(0,0,0,0.05),0_4px_6px_-2px_rgba(0,0,0,0.05)]",children:[(0,n.jsx)(zt,{}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 p-5",children:[(null==l?void 0:l.message)&&(0,n.jsx)("div",{className:"flex gap-2 items-center py-1 px-2 rounded-md transition-opacity duration-150"+((null==l?void 0:l.message)?" opacity-100":" opacity-0")+("red"===(null==l?void 0:l.color)?" bg-red-light border border-red":""),children:(0,n.jsx)("span",{className:"text-sm"+("red"===(null==l?void 0:l.color)?" font-semibold text-red":" italic text-gray-900"),children:null==l?void 0:l.message})}),(0,n.jsx)(M.A,{className:"burst-save",onClick:t,children:(0,v.__)("Save","burst-statistics")})]})]})}Gt.displayName="FormFooter";const Vt=Gt;var Mt=function(){return Mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Mt.apply(this,arguments)};const Ut=function(e){var t=e.currentSettingPage,r=(0,at.A)(),i=r.settings,l=r.saveSettings,c=(0,o.A)().saveGoals,u=t.id,f=(0,a.useMemo)((function(){return Bt(i,u)}),[i,u]),p=(0,a.useMemo)((function(){return Bt(i,u,"value")}),[i,u]),b=(0,d.mN)({defaultValues:f,values:p}),h=b.handleSubmit,v=b.control,m=b.formState.dirtyFields,y=(0,d.FH)({control:v}),g=(0,a.useMemo)((function(){var e=[];return t.groups.forEach((function(t){var r=i.filter((function(e){return e.menu_id===u&&e.group_id===t.id})).filter((function(e){return!e.react_conditions||Object.entries(e.react_conditions).every((function(e){var t=e[0],r=e[1],n=null==y?void 0:y[t];return r.includes(n)}))}));r.length>0&&e.push(Mt(Mt({},t),{fields:r}))})),e}),[i,u,t.groups,y]);return(0,n.jsx)("form",{children:(0,n.jsxs)(s.A,{fallback:"Could not load Settings",children:[g.map((function(e,t){var r=t===g.length-1;return(0,n.jsx)(qt,{group:e,fields:e.fields,control:v,isLastGroup:r},e.id)})),"license"!==u&&(0,n.jsx)(Vt,{onSubmit:h((function(e){var t=Object.keys(m).reduce((function(t,r){return t[r]=e[r],t}),{});l(t),c()})),control:v})]})})};var Bt=function(e,t,r){void 0===r&&(r="default");var n={};return e.forEach((function(e){e.menu_id===t&&(n[e.id]=e[r])})),n},Wt=r(39681),$t=(0,a.memo)((function(e){var t=e.className,r=void 0===t?"":t,a=e.children,i=e.title,s=e.isOpen,o=e.onToggle;return(0,n.jsx)(l.e,{className:r,children:(0,n.jsxs)("details",{className:"group",open:s,onToggle:function(e){return o(e.currentTarget.open)},children:[(0,n.jsxs)("summary",{className:"flex cursor-pointer items-center justify-between p-4 hover:bg-gray-50",children:[(0,n.jsx)("span",{className:"text-base font-medium text-black",children:i}),(0,n.jsx)("svg",{className:"h-5 w-5 text-gray transition-transform group-open:rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),(0,n.jsx)("div",{className:"p-4 pt-0",children:a})]})})}));$t.displayName="CollapsableBlock";var Qt=function(e){var t=e.settingsGroup,r=(0,at.A)().settings.filter((function(e){return e.notice&&e.menu_id===t.id})),i=(0,a.useState)(r.map((function(){return!1}))),s=i[0],o=i[1];if(!r.length)return null;var l=s.filter((function(e){return e})).length>r.length/2?(0,v.__)("Collapse all","burst-statistics"):(0,v.__)("Expand all","burst-statistics");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)("h2",{className:"py-4 text-base font-bold",children:(0,v.__)("Notifications","burst-statistics")}),(0,n.jsx)("button",{className:"cursor-pointer text-sm text-gray underline",onClick:function(){var e=s.filter((function(e){return e})).length<=notices.length/2;o(notices.map((function(){return e})))},children:l})]}),0<r.length&&r.map((function(e,t){return(0,n.jsx)($t,{title:e.notice.title,className:"mb-4 w-full flex-1 !bg-accent-light",isOpen:s[t],onToggle:function(e){return function(e,t){o((function(r){var n=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],r,!0);return n[e]=t,n}))}(t,e)},children:(0,n.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,n.jsx)("p",{className:"text-base font-normal",children:e.notice.description}),e.notice.url&&""!==e.notice.url&&(0,n.jsx)(Wt.N_,{className:"mt-2 text-base text-gray underline",to:e.notice.url,from:"/",children:(0,v.__)("Learn more","burst-statistics")})]})},t)}))]})};Qt.displayName="SettingsNotices";const Ht=Qt;var Kt=r(59089),Jt=function(){var e=Kt.q.useLoaderData().currentItem;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"col-span-12 lg:col-span-6 flex flex-col",children:(0,n.jsx)(Ut,{currentSettingPage:e})}),(0,n.jsx)("div",{className:"col-span-12 lg:col-span-3",children:(0,n.jsx)(Ht,{settingsGroup:e})})]})}},83101:(e,t,r)=>{r.d(t,{A:()=>h,l:()=>b});var n=r(97665),a=r(48069),i=r(57097),s=r(86275),o=r(55446),l=r(27723),c=r(1932),u=r(76870),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},f=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},p=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},b=function(e){return e.map((function(t){var r=d({},t);if(t.react_conditions){var n=function(e,t){return!e||0===Object.keys(e).length||Object.entries(e).some((function(e){var r=e[0],n=e[1],a=t.find((function(e){return e.id===r}));if(!a)return!1;var i=a.value;return!!i&&n.includes(i)}))}(t.react_conditions,e);"disable"===t.condition_action?r.disabled=!n:r.conditionallyDisabled=!n}return r}))};const h=function(){var e,t,r,b=(0,n.jE)(),h=(0,a.I)({queryKey:["goals_data"],queryFn:function(){return f(void 0,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,(0,s.DX)()];case 1:return[2,{goals:(e=t.sent()).goals||[],predefinedGoals:e.predefinedGoals||[],goalFields:Object.values(e.goalFields||{})}]}}))}))},retry:1}),v=(0,i.n)({mutationFn:function(){return f(void 0,void 0,void 0,(function(){var e,t;return p(this,(function(r){switch(r.label){case 0:return e=(null===(t=b.getQueryData(["goals_data"]))||void 0===t?void 0:t.goals)||[],[4,(0,s.d2)({goals:e})];case 1:return[2,r.sent()]}}))}))},onSuccess:function(){},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to save goals","burst-statistics"))}}),m=(0,i.n)({mutationFn:function(e){return f(void 0,[e],void 0,(function(e){var t,r=e.id,n=e.value;return p(this,(function(e){switch(e.label){case 0:return t=[{id:r,title:n}],[4,(0,s.d2)({goals:t})];case 1:return[2,e.sent()]}}))}))},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to save goal title","burst-statistics"))}}),y=(0,i.n)({mutationFn:function(){return f(void 0,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,(0,s.D)()];case 1:return[2,e.sent()]}}))}))},onSuccess:function(e){b.setQueryData(["goals_data"],(function(t){return t?(0,c.jM)(t,(function(t){t.goals.push(e.goal)})):t})),o.toast.success((0,l.__)("Goal added successfully!","burst-statistics"))},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to add goal","burst-statistics"))}}),g=(0,i.n)({mutationFn:function(e){return f(void 0,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,(0,s.$x)(e)];case 1:return[2,t.sent()]}}))}))},onSuccess:function(e,t){e.deleted&&(b.setQueryData(["goals_data"],(function(e){return e?(0,c.jM)(e,(function(e){if(1===e.goals.length)e.goals=[];else{var r=e.goals.findIndex((function(e){return e.id===t}));-1!==r&&e.goals.splice(r,1)}})):e})),o.toast.success((0,l.__)("Goal deleted successfully!","burst-statistics")))},onError:function(e){console.error(e),o.toast.error((0,l.__)("Failed to delete goal","burst-statistics"))}}),x=(0,i.n)({mutationFn:function(e){return f(void 0,[e],void 0,(function(e){var t=e.predefinedGoalId,r=e.type,n=e.cookieless;return p(this,(function(e){switch(e.label){case 0:if("hook"===r&&n)throw new Error((0,l.__)("Cannot add server side goals in combination with cookieless tracking","burst-statistics"));if(!u.A.getState().isPro)throw new Error((0,l.__)("Predefined goals are a premium feature.","burst-statistics"));return[4,(0,s.ZI)(t)];case 1:return[2,e.sent()]}}))}))},onSuccess:function(e){b.setQueryData(["goals_data"],(function(t){return t?(0,c.jM)(t,(function(t){t.goals.push(e.goal)})):t})),o.toast.success((0,l.__)("Successfully added predefined goal!","burst-statistics"))},onError:function(e){console.error(e),o.toast.error(e.message||(0,l.__)("Failed to add predefined goal","burst-statistics"))}});return{goals:(null===(e=h.data)||void 0===e?void 0:e.goals)||[],goalFields:(null===(t=h.data)||void 0===t?void 0:t.goalFields)||[],predefinedGoals:(null===(r=h.data)||void 0===r?void 0:r.predefinedGoals)||[],isLoading:h.isLoading,isError:h.isError,getGoal:function(e){var t,r=(null===(t=h.data)||void 0===t?void 0:t.goals)||[];if(!Array.isArray(r))return!1;var n=r.findIndex((function(t){return t.id==e}));return-1!==n&&r[n]},setGoalValue:function(e,t,r){b.setQueryData(["goals_data"],(function(n){return n?(0,c.jM)(n,(function(n){var a=n.goals.findIndex((function(t){return t.id===e}));-1!==a&&(n.goals[a][t]=r)})):n}))},updateGoal:function(e,t){b.setQueryData(["goals_data"],(function(r){return r?(0,c.jM)(r,(function(r){var n=r.goals.findIndex((function(t){return t.id===e}));-1!==n&&(r.goals[n]=d(d({},r.goals[n]),t))})):r}))},saveGoals:v.mutateAsync,saveGoalTitle:function(e,t){return m.mutateAsync({id:e,value:t})},addGoal:y.mutateAsync,deleteGoal:g.mutateAsync,addPredefinedGoal:function(e,t,r){return x.mutateAsync({predefinedGoalId:e,type:t,cookieless:r})},invalidateGoals:function(){return b.invalidateQueries(["goals_data"])}}}},86275:(e,t,r)=>{r.d(t,{$x:()=>O,D:()=>N,DX:()=>_,Eo:()=>S,Ey:()=>j,K5:()=>P,ZI:()=>k,bQ:()=>A,d2:()=>w,nd:()=>C,qN:()=>g,ww:()=>x});var n=r(74848),a=r(1455),i=r.n(a),s=r(27723),o=r(55446),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},u=function(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},d=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},f=function(){return-1!==burst_settings.site_url.indexOf("?")?"&":"?"},p=function(){return"nonce="+burst_settings.burst_nonce+"&token="+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},b=function(e,t){void 0===t&&(t=!1);var r=(0,s.__)("Server error","burst-statistics");if(e=e.replace(/(<([^>]+)>)/gi,""),t){var a=t.split("?")[0].split("/"),i=a.indexOf("v1")+1;r=(0,s.__)("Server error in","burst-statistics")+" "+a[i]+"/"+a[i+1]}r+=": "+e;var l=(0,n.jsx)("div",{title:(0,s.__)("Click to copy","burst-statistics"),onClick:function(){navigator.clipboard.writeText(r),o.toast.success((0,s.__)("Error copied to clipboard","burst-statistics"))},children:r});o.toast.error(l,{autoClose:15e3})},h=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return c(void 0,d([e],t,!0),void 0,(function(e,t,r){var n;return void 0===t&&(t="GET"),void 0===r&&(r={}),u(this,(function(a){return n={path:e,method:t},"POST"===t&&(r.nonce=burst_settings.burst_nonce,n.data=r),[2,i()(n).then((function(e){if(!e.request_success)throw e.hasOwnProperty("message")?new Error(e.message):new Error("Received unexpected response from server. Please check if the Rest API is enabled.");if(e.code&&200!==e.code)throw new Error(e.message);return delete e.request_success,e})).catch((function(a){return v(t,e,r).catch((function(){throw b(a.message,n.path),a}))}))]}))}))},v=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return c(void 0,d([e,t],r,!0),void 0,(function(e,t,r){var n,a,i,s;return void 0===r&&(r=null),u(this,(function(o){switch(o.label){case 0:n="GET"===e?"".concat(y("ajax"),"&rest_action=").concat(t.replace("?","&")):y("ajax"),a={method:e,headers:{"Content-Type":"application/json; charset=UTF-8"}},"POST"===e&&(a.body=JSON.stringify({path:t,data:r},m)),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(n,a)];case 2:if(!(i=o.sent()).ok)throw b(!1,i.statusText),new Error(i.statusText);return[4,i.json()];case 3:if(!(s=o.sent()).data||!Object.prototype.hasOwnProperty.call(s.data,"request_success"))throw new Error("Invalid data error");return delete s.data.request_success,[2,Promise.resolve(s.data)];case 4:return o.sent(),[2,Promise.reject(new Error("AJAX request failed"))];case 5:return[2]}}))}))},m=function(e,t){return e?e&&e.includes("Control")?void 0:"object"==typeof t?JSON.parse(JSON.stringify(t,m)):t:t},y=function(e){var t;return t=void 0===e?burst_settings.site_url:burst_settings.admin_ajax_url,"https:"===window.location.protocol&&-1===t.indexOf("https://")?t.replace("http://","https://"):t},g=function(e,t){return h("burst/v1/options/set"+f()+p(),"POST",{option:{option:e,value:t}})},x=function(){return h("burst/v1/fields/get"+f()+p())},j=function(e){return h("burst/v1/fields/set"+f(),"POST",{fields:e})},w=function(e){return h("burst/v1/goals/set"+f()+p(),"POST",e)},_=function(){return h("burst/v1/goals/get"+f()+p())},O=function(e){return h("burst/v1/goals/delete"+f()+p(),"POST",{id:e})},N=function(){return h("burst/v1/goals/add"+f()+p(),"POST",{})},k=function(e){return h("burst/v1/goals/add_predefined"+f()+p(),"POST",{id:e})},S=function(e,t){return void 0===t&&(t={}),h("burst/v1/do_action/".concat(e),"POST",{action_data:t}).then((function(e){return Object.prototype.hasOwnProperty.call(e,"data")?e.data:[]}))},A=function(e,t,r,n){for(var a=[],i=4;i<arguments.length;i++)a[i-4]=arguments[i];return c(void 0,d([e,t,r,n],a,!0),void 0,(function(e,t,r,n,a){var i,s,o,c,d,p,b;return void 0===a&&(a={}),u(this,(function(u){switch(u.label){case 0:return i=a.filters,s=a.metrics,o=a.group_by,c=a.currentView,d=l(l(l(l({date_start:t,date_end:r,date_range:n,nonce:burst_settings.burst_nonce,goal_id:a.goal_id,token:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},i&&{filters:i}),s&&{metrics:s}),o&&{group_by:o}),c&&{currentView:c}),v=d,p=Object.keys(v).filter((function(e){return void 0!==v[e]&&null!==v[e]})).map((function(e){var t=function(e){return Array.isArray(e)?e:"object"==typeof e&&null!==e?JSON.stringify(e):e}(v[e]);return Array.isArray(t)?t.map((function(t){return"".concat(encodeURIComponent(e),"[]=").concat(encodeURIComponent(t))})).join("&"):"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))})).join("&"),b="burst/v1/data/".concat(e).concat(f()).concat(p),[4,h(b,"GET")];case 1:return[2,u.sent()]}var v}))}))},P=function(e){return h("burst/v1/posts/".concat(f()).concat(p(),"&search=").concat(e)).then((function(e){return Object.prototype.hasOwnProperty.call(e,"posts")?e.posts:[]}))},C=function(e){return c(void 0,void 0,void 0,(function(){var t,r;return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(e)];case 1:if(!(t=n.sent()).ok)throw new Error("HTTP error! Status: ".concat(t.status));return[4,t.json()];case 2:return[2,n.sent()];case 3:throw r=n.sent(),console.error("Error fetching JSON data:",r),r;case 4:return[2]}}))}))}},96744:(e,t,r)=>{r.d(t,{q:()=>s});var n=r(74848),a=r(51609),i=r(34164),s=(0,a.memo)((function(e){var t=e.title,r=e.controls,a=e.className,s=void 0===a?"":a;return(0,n.jsxs)("div",{className:(0,i.A)(s,"flex min-h-16 items-center justify-between px-6 gap-4"),children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:t}),r]})}));s.displayName="BlockHeading"}}]);