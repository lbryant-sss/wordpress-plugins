import{store as i,getContext as t,getElement as s,withSyncEvent as r}from"@wordpress/interactivity";var a=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];document.addEventListener("click",()=>{});var{state:l,actions:o}=i("core/navigation",{state:{get roleAttribute(){return t().type==="overlay"&&l.isMenuOpen?"dialog":null},get ariaModal(){return t().type==="overlay"&&l.isMenuOpen?"true":null},get ariaLabel(){let e=t();return e.type==="overlay"&&l.isMenuOpen?e.ariaLabel:null},get isMenuOpen(){return Object.values(l.menuOpenedBy).filter(Boolean).length>0},get menuOpenedBy(){let e=t();return e.type==="overlay"?e.overlayOpenedBy:e.submenuOpenedBy}},actions:{openMenuOnHover(){let{type:e,overlayOpenedBy:n}=t();e==="submenu"&&Object.values(n||{}).filter(Boolean).length===0&&o.openMenu("hover")},closeMenuOnHover(){let{type:e,overlayOpenedBy:n}=t();e==="submenu"&&Object.values(n||{}).filter(Boolean).length===0&&o.closeMenu("hover")},openMenuOnClick(){let e=t(),{ref:n}=s();e.previousFocus=n,o.openMenu("click")},closeMenuOnClick(){o.closeMenu("click"),o.closeMenu("focus")},openMenuOnFocus(){o.openMenu("focus")},toggleMenuOnClick(){let e=t(),{ref:n}=s();window.document.activeElement!==n&&n.focus();let{menuOpenedBy:c}=l;c.click||c.focus?(o.closeMenu("click"),o.closeMenu("focus")):(e.previousFocus=n,o.openMenu("click"))},handleMenuKeydown:r(e=>{let{type:n,firstFocusableElement:c,lastFocusableElement:u}=t();if(l.menuOpenedBy.click){if(e.key==="Escape"){e.stopPropagation(),o.closeMenu("click"),o.closeMenu("focus");return}n==="overlay"&&e.key==="Tab"&&(e.shiftKey&&window.document.activeElement===c?(e.preventDefault(),u.focus()):!e.shiftKey&&window.document.activeElement===u&&(e.preventDefault(),c.focus()))}}),handleMenuFocusout(e){let{modal:n,type:c}=t();(e.relatedTarget===null||!n?.contains(e.relatedTarget)&&e.target!==window.document.activeElement&&c==="submenu")&&(o.closeMenu("click"),o.closeMenu("focus"))},openMenu(e="click"){let{type:n}=t();l.menuOpenedBy[e]=!0,n==="overlay"&&document.documentElement.classList.add("has-modal-open")},closeMenu(e="click"){let n=t();l.menuOpenedBy[e]=!1,l.isMenuOpen||(n.modal?.contains(window.document.activeElement)&&n.previousFocus?.focus(),n.modal=null,n.previousFocus=null,n.type==="overlay"&&document.documentElement.classList.remove("has-modal-open"))}},callbacks:{initMenu(){let e=t(),{ref:n}=s();if(l.isMenuOpen){let c=n.querySelectorAll(a);e.modal=n,e.firstFocusableElement=c[0],e.lastFocusableElement=c[c.length-1]}},focusFirstElement(){let{ref:e}=s();l.isMenuOpen&&e.querySelectorAll(a)?.[0]?.focus()}}},{lock:!0});
//# sourceMappingURL=view.min.js.map
