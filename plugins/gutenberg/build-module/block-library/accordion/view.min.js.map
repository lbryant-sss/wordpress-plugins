{
  "version": 3,
  "sources": ["../../../packages/block-library/src/accordion/view.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { store, getContext, withSyncEvent } from '@wordpress/interactivity';\n\nstore( 'core/accordion', {\n\tstate: {\n\t\tget isOpen() {\n\t\t\tconst { id, accordionItems } = getContext();\n\t\t\tconst accordionItem = accordionItems.find(\n\t\t\t\t( item ) => item.id === id\n\t\t\t);\n\t\t\treturn accordionItem ? accordionItem.isOpen : false;\n\t\t},\n\t},\n\tactions: {\n\t\ttoggle: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, autoclose, accordionItems } = context;\n\t\t\tconst accordionItem = accordionItems.find(\n\t\t\t\t( item ) => item.id === id\n\t\t\t);\n\n\t\t\tif ( autoclose ) {\n\t\t\t\taccordionItems.forEach( ( item ) => {\n\t\t\t\t\titem.isOpen =\n\t\t\t\t\t\titem.id === id ? ! accordionItem.isOpen : false;\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\taccordionItem.isOpen = ! accordionItem.isOpen;\n\t\t\t}\n\t\t},\n\t\thandleKeyDown: withSyncEvent( ( event ) => {\n\t\t\tif (\n\t\t\t\tevent.key !== 'ArrowUp' &&\n\t\t\t\tevent.key !== 'ArrowDown' &&\n\t\t\t\tevent.key !== 'Home' &&\n\t\t\t\tevent.key !== 'End'\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t\tconst context = getContext();\n\t\t\tconst { id, accordionItems } = context;\n\t\t\tconst currentIndex = accordionItems.findIndex(\n\t\t\t\t( item ) => item.id === id\n\t\t\t);\n\n\t\t\tlet nextIndex;\n\n\t\t\tswitch ( event.key ) {\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tnextIndex = Math.max( 0, currentIndex - 1 );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tnextIndex = Math.min(\n\t\t\t\t\t\tcurrentIndex + 1,\n\t\t\t\t\t\taccordionItems.length - 1\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Home':\n\t\t\t\t\tnextIndex = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'End':\n\t\t\t\t\tnextIndex = accordionItems.length - 1;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst nextId = accordionItems[ nextIndex ].id;\n\t\t\tconst nextButton = document.getElementById( nextId );\n\t\t\tif ( nextButton ) {\n\t\t\t\tnextButton.focus();\n\t\t\t}\n\t\t} ),\n\t},\n\tcallbacks: {\n\t\tinitAccordionItems: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, openByDefault } = context;\n\t\t\tcontext.accordionItems.push( {\n\t\t\t\tid,\n\t\t\t\tisOpen: openByDefault,\n\t\t\t} );\n\t\t},\n\t},\n} );\n"],
  "mappings": "AAGA,OAAS,SAAAA,EAAO,cAAAC,EAAY,iBAAAC,MAAqB,2BAEjDF,EAAO,iBAAkB,CACxB,MAAO,CACN,IAAI,QAAS,CACZ,GAAM,CAAE,GAAAG,EAAI,eAAAC,CAAe,EAAIH,EAAW,EACpCI,EAAgBD,EAAe,KAClCE,GAAUA,EAAK,KAAOH,CACzB,EACA,OAAOE,EAAgBA,EAAc,OAAS,EAC/C,CACD,EACA,QAAS,CACR,OAAQ,IAAM,CACb,IAAME,EAAUN,EAAW,EACrB,CAAE,GAAAE,EAAI,UAAAK,EAAW,eAAAJ,CAAe,EAAIG,EACpCF,EAAgBD,EAAe,KAClCE,GAAUA,EAAK,KAAOH,CACzB,EAEKK,EACJJ,EAAe,QAAWE,GAAU,CACnCA,EAAK,OACJA,EAAK,KAAOH,EAAK,CAAEE,EAAc,OAAS,EAC5C,CAAE,EAEFA,EAAc,OAAS,CAAEA,EAAc,MAEzC,EACA,cAAeH,EAAiBO,GAAW,CAC1C,GACCA,EAAM,MAAQ,WACdA,EAAM,MAAQ,aACdA,EAAM,MAAQ,QACdA,EAAM,MAAQ,MAEd,OAGDA,EAAM,eAAe,EACrB,IAAMF,EAAUN,EAAW,EACrB,CAAE,GAAAE,EAAI,eAAAC,CAAe,EAAIG,EACzBG,EAAeN,EAAe,UACjCE,GAAUA,EAAK,KAAOH,CACzB,EAEIQ,EAEJ,OAASF,EAAM,IAAM,CACpB,IAAK,UACJE,EAAY,KAAK,IAAK,EAAGD,EAAe,CAAE,EAC1C,MACD,IAAK,YACJC,EAAY,KAAK,IAChBD,EAAe,EACfN,EAAe,OAAS,CACzB,EACA,MACD,IAAK,OACJO,EAAY,EACZ,MACD,IAAK,MACJA,EAAYP,EAAe,OAAS,EACpC,KACF,CAEA,IAAMQ,EAASR,EAAgBO,CAAU,EAAE,GACrCE,EAAa,SAAS,eAAgBD,CAAO,EAC9CC,GACJA,EAAW,MAAM,CAEnB,CAAE,CACH,EACA,UAAW,CACV,mBAAoB,IAAM,CACzB,IAAMN,EAAUN,EAAW,EACrB,CAAE,GAAAE,EAAI,cAAAW,CAAc,EAAIP,EAC9BA,EAAQ,eAAe,KAAM,CAC5B,GAAAJ,EACA,OAAQW,CACT,CAAE,CACH,CACD,CACD,CAAE",
  "names": ["store", "getContext", "withSyncEvent", "id", "accordionItems", "accordionItem", "item", "context", "autoclose", "event", "currentIndex", "nextIndex", "nextId", "nextButton", "openByDefault"]
}
