"use strict";var wp;(wp||={}).hooks=(()=>{var v=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var D=(e,n)=>{for(var s in n)v(e,s,{get:n[s],enumerable:!0})},T=(e,n,s,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of I(n))!w.call(e,t)&&t!==s&&v(e,t,{get:()=>n[t],enumerable:!(r=g(n,t))||r.enumerable});return e};var z=e=>T(v({},"__esModule",{value:!0}),e);var le={};D(le,{actions:()=>ce,addAction:()=>J,addFilter:()=>K,applyFilters:()=>N,applyFiltersAsync:()=>ee,createHooks:()=>b,currentAction:()=>te,currentFilter:()=>re,defaultHooks:()=>R,didAction:()=>ie,didFilter:()=>se,doAction:()=>X,doActionAsync:()=>Y,doingAction:()=>ne,doingFilter:()=>oe,filters:()=>ae,hasAction:()=>P,hasFilter:()=>Q,removeAction:()=>L,removeAllActions:()=>U,removeAllFilters:()=>W,removeFilter:()=>M});function E(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var m=E;function Z(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var f=Z;function C(e,n){return function(r,t,c,i=10){let a=e[n];if(!f(r)||!m(t))return;if(typeof c!="function"){console.error("The hook callback must be a function.");return}if(typeof i!="number"){console.error("If specified, the hook priority must be a number.");return}let l={callback:c,priority:i,namespace:t};if(a[r]){let o=a[r].handlers,d;for(d=o.length;d>0&&!(i>=o[d-1].priority);d--);d===o.length?o[d]=l:o.splice(d,0,l),a.__current.forEach(h=>{h.name===r&&h.currentIndex>=d&&h.currentIndex++})}else a[r]={handlers:[l],runs:0};r!=="hookAdded"&&e.doAction("hookAdded",r,t,c,i)}}var H=C;function O(e,n,s=!1){return function(t,c){let i=e[n];if(!f(t)||!s&&!m(c))return;if(!i[t])return 0;let a=0;if(s)a=i[t].handlers.length,i[t]={runs:i[t].runs,handlers:[]};else{let l=i[t].handlers;for(let o=l.length-1;o>=0;o--)l[o].namespace===c&&(l.splice(o,1),a++,i.__current.forEach(d=>{d.name===t&&d.currentIndex>=o&&d.currentIndex--}))}return t!=="hookRemoved"&&e.doAction("hookRemoved",t,c),a}}var p=O;function j(e,n){return function(r,t){let c=e[n];return typeof t<"u"?r in c&&c[r].handlers.some(i=>i.namespace===t):r in c}}var _=j;function $(e,n,s,r){return function(c,...i){let a=e[n];a[c]||(a[c]={handlers:[],runs:0}),a[c].runs++;let l=a[c].handlers;if(!l||!l.length)return s?i[0]:void 0;let o={name:c,currentIndex:0};async function d(){try{a.__current.add(o);let u=s?i[0]:void 0;for(;o.currentIndex<l.length;)u=await l[o.currentIndex].callback.apply(null,i),s&&(i[0]=u),o.currentIndex++;return s?u:void 0}finally{a.__current.delete(o)}}function h(){try{a.__current.add(o);let u=s?i[0]:void 0;for(;o.currentIndex<l.length;)u=l[o.currentIndex].callback.apply(null,i),s&&(i[0]=u),o.currentIndex++;return s?u:void 0}finally{a.__current.delete(o)}}return(r?d:h)()}}var A=$;function V(e,n){return function(){let r=e[n];return Array.from(r.__current).at(-1)?.name??null}}var y=V;function q(e,n){return function(r){let t=e[n];return typeof r>"u"?t.__current.size>0:Array.from(t.__current).some(c=>c.name===r)}}var k=q;function B(e,n){return function(r){let t=e[n];if(f(r))return t[r]&&t[r].runs?t[r].runs:0}}var x=B;var F=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=H(this,"actions"),this.addFilter=H(this,"filters"),this.removeAction=p(this,"actions"),this.removeFilter=p(this,"filters"),this.hasAction=_(this,"actions"),this.hasFilter=_(this,"filters"),this.removeAllActions=p(this,"actions",!0),this.removeAllFilters=p(this,"filters",!0),this.doAction=A(this,"actions",!1,!1),this.doActionAsync=A(this,"actions",!1,!0),this.applyFilters=A(this,"filters",!0,!1),this.applyFiltersAsync=A(this,"filters",!0,!0),this.currentAction=y(this,"actions"),this.currentFilter=y(this,"filters"),this.doingAction=k(this,"actions"),this.doingFilter=k(this,"filters"),this.didAction=x(this,"actions"),this.didFilter=x(this,"filters")}};function G(){return new F}var b=G;var R=b(),{addAction:J,addFilter:K,removeAction:L,removeFilter:M,hasAction:P,hasFilter:Q,removeAllActions:U,removeAllFilters:W,doAction:X,doActionAsync:Y,applyFilters:N,applyFiltersAsync:ee,currentAction:te,currentFilter:re,doingAction:ne,doingFilter:oe,didAction:ie,didFilter:se,actions:ce,filters:ae}=R;return z(le);})();
//# sourceMappingURL=index.min.js.map
