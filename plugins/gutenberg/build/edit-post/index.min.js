var wp;(wp||={}).editPost=(()=>{var is=Object.create;var Ue=Object.defineProperty;var ls=Object.getOwnPropertyDescriptor;var ns=Object.getOwnPropertyNames;var ds=Object.getPrototypeOf,ms=Object.prototype.hasOwnProperty;var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_t=(e,t)=>{for(var r in t)Ue(e,r,{get:t[r],enumerable:!0})},no=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ns(t))!ms.call(e,s)&&s!==r&&Ue(e,s,{get:()=>t[s],enumerable:!(a=ls(t,s))||a.enumerable});return e};var o=(e,t,r)=>(r=e!=null?is(ds(e)):{},no(t||!e||!e.__esModule?Ue(r,"default",{value:e,enumerable:!0}):r,e)),fs=e=>no(Ue({},"__esModule",{value:!0}),e);var h=b((cl,mo)=>{mo.exports=window.ReactJSXRuntime});var He=b((pl,fo)=>{fo.exports=window.wp.blocks});var Et=b((gl,uo)=>{uo.exports=window.wp.blockLibrary});var Te=b((hl,co)=>{co.exports=window.wp.deprecated});var R=b((wl,po)=>{po.exports=window.wp.element});var p=b((bl,go)=>{go.exports=window.wp.data});var V=b((vl,ho)=>{ho.exports=window.wp.preferences});var bo=b((xl,wo)=>{wo.exports=window.wp.widgets});var _=b((Sl,vo)=>{vo.exports=window.wp.editor});var Y=b((El,_o)=>{_o.exports=window.wp.components});var je=b((Tl,Eo)=>{Eo.exports=window.wp.blockEditor});var ko=b((Bl,Mo)=>{Mo.exports=window.wp.plugins});var C=b((Il,To)=>{To.exports=window.wp.i18n});var Se=b((Al,Bo)=>{Bo.exports=window.wp.primitives});var Ye=b((jl,Io)=>{Io.exports=window.wp.notices});var Ot=b((zl,Ao)=>{Ao.exports=window.wp.commands});var ue=b((Wl,Co)=>{Co.exports=window.wp.url});var Lo=b((ql,Ro)=>{Ro.exports=window.wp.htmlEntities});var ce=b((Xl,Do)=>{Do.exports=window.wp.coreData});var Be=b((Ql,No)=>{No.exports=window.wp.compose});var jo=b(($l,Ho)=>{Ho.exports=window.wp.privateApis});var rr=b((mn,or)=>{or.exports=window.wp.keyboardShortcuts});var ir=b((un,sr)=>{sr.exports=window.wp.apiFetch});var nr=b((cn,lr)=>{lr.exports=window.wp.hooks});var Lr=b((Rn,Rr)=>{Rr.exports=window.wp.keycodes});var fl={};_t(fl,{PluginBlockSettingsMenuItem:()=>$i,PluginDocumentSettingPanel:()=>Ji,PluginMoreMenuItem:()=>el,PluginPostPublishPanel:()=>ol,PluginPostStatusInfo:()=>rl,PluginPrePublishPanel:()=>tl,PluginSidebar:()=>al,PluginSidebarMoreMenuItem:()=>sl,__experimentalFullscreenModeClose:()=>Ke,__experimentalMainDashboardButton:()=>ll,__experimentalPluginPostExcerpt:()=>il,initializeEditor:()=>dl,reinitializeEditor:()=>ml,store:()=>P});var ro=o(h()),Wa=o(He()),gt=o(Et()),qa=o(Te()),ht=o(R()),oe=o(p()),Ee=o(V()),wt=o(bo()),bt=o(_());var m=o(h());function xo(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=xo(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function us(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=xo(e))&&(a&&(a+=" "),a+=t);return a}var Z=us;var So=o(h());var yo=o(R()),Po=(0,yo.forwardRef)(({children:e,className:t,ariaLabel:r,as:a="div",...s},l)=>(0,So.jsx)(a,{ref:l,className:Z("admin-ui-navigable-region",t),"aria-label":r,role:"region",tabIndex:"-1",...s,children:e}));Po.displayName="NavigableRegion";var Mt=Po;var E=o(_()),ae=o(p()),pt=o(je()),Fa=o(ko()),H=o(C()),A=o(R());var kt=o(h()),ze=o(Se()),Tt=(0,kt.jsx)(ze.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,kt.jsx)(ze.Path,{d:"M14 6H6v8h1.5V8.5L17 18l1-1-9.5-9.5H14V6Z"})});var Bt=o(h()),We=o(Se()),It=(0,Bt.jsx)(We.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Bt.jsx)(We.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});var At=o(h()),qe=o(Se()),Ct=(0,At.jsx)(qe.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,At.jsx)(qe.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})});var Rt=o(h()),Xe=o(Se()),Lt=(0,Rt.jsx)(Xe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Rt.jsx)(Xe.Path,{d:"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z"})});var Dt=o(h()),Qe=o(Se()),Nt=(0,Dt.jsx)(Qe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,Dt.jsx)(Qe.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})});var eo=o(Ye()),ct=o(V()),Va=o(Ot()),Ga=o(Et()),to=o(ue()),Ua=o(Lo()),Ha=o(ce()),j=o(Y()),se=o(Be());var Ze=o(h()),Wo=o(_()),qo=o(Y());var D=o(h());var Oo=o(p()),K=o(Y()),Ft=o(C()),Fo=o(ue());var Vo=o(_()),Go=o(ce()),Uo=o(Be()),cs={edit:{clipPath:"inset(0% round 0px)"},hover:{clipPath:"inset( 22% round 2px )"},tap:{clipPath:"inset(0% round 0px)"}},ps={edit:{opacity:0,scale:.2},hover:{opacity:1,scale:1,clipPath:"inset( 22% round 2px )"}};function gs({showTooltip:e,icon:t,href:r,initialPost:a}){let{isRequestingSiteIcon:s,postType:l,siteIconUrl:i}=(0,Oo.useSelect)(B=>{let{getCurrentPostType:Me}=B(Vo.store),{getEntityRecord:we,getPostType:le,isResolving:ne}=B(Go.store),ke=we("root","__unstableBase",void 0)||{},de=a?.type||Me();return{isRequestingSiteIcon:ne("getEntityRecord",["root","__unstableBase",void 0]),postType:le(de),siteIconUrl:ke.site_icon_url}},[a?.type]),n=(0,Uo.useReducedMotion)(),c={duration:n?0:.2};if(!l)return null;let v;s&&!i?v=(0,D.jsx)("div",{className:"edit-post-fullscreen-mode-close-site-icon__image"}):i?v=(0,D.jsx)("img",{className:"edit-post-fullscreen-mode-close-site-icon__image",alt:(0,Ft.__)("Site Icon"),src:i}):v=(0,D.jsx)(K.Icon,{className:"edit-post-fullscreen-mode-close-site-icon__icon",icon:Nt,size:48});let S=t?(0,D.jsx)(K.Icon,{size:"36px",icon:t}):(0,D.jsx)("div",{className:"edit-post-fullscreen-mode-close-site-icon",children:v}),u=Z("edit-post-fullscreen-mode-close",{"has-icon":i}),M=r??(0,Fo.addQueryArgs)("edit.php",{post_type:l.slug}),F=l?.labels?.view_items??(0,Ft.__)("Back");return(0,D.jsxs)(K.__unstableMotion.div,{className:"edit-post-fullscreen-mode-close__view-mode-toggle",animate:"edit",initial:"edit",whileHover:"hover",whileTap:"tap",transition:c,children:[(0,D.jsx)(K.Button,{__next40pxDefaultSize:!0,className:u,href:M,label:F,showTooltip:e,tooltipPosition:"middle right",children:(0,D.jsx)(K.__unstableMotion.div,{variants:!n&&cs,children:(0,D.jsx)("div",{className:"edit-post-fullscreen-mode-close__view-mode-toggle-icon",children:S})})}),(0,D.jsx)(K.__unstableMotion.div,{className:Z("edit-post-fullscreen-mode-close__back-icon",{"has-site-icon":i}),variants:!n&&ps,children:(0,D.jsx)(K.Icon,{icon:Tt})})]})}var Ke=gs;var zo=o(jo()),{lock:Jl,unlock:f}=(0,zo.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/edit-post");var{BackButton:hs}=f(Wo.privateApis),ws={hidden:{x:"-100%"},distractionFreeInactive:{x:0},hover:{x:0,transition:{type:"tween",delay:.2}}};function bs({initialPost:e}){return(0,Ze.jsx)(hs,{children:({length:t})=>t<=1&&(0,Ze.jsx)(qo.__unstableMotion.div,{variants:ws,transition:{type:"tween",delay:.8},children:(0,Ze.jsx)(Ke,{showTooltip:!0,initialPost:e})})})}var Xo=bs;var Zo=o(p()),Ie=o(R()),$o=o(_()),Jo=o(ce());var Qo="core/edit-post",Yo="#wp-admin-bar-view a",Ko="#wp-admin-bar-preview a";var er=()=>{let{isViewable:e,newPermalink:t}=(0,Zo.useSelect)(a=>{let{getPostType:s}=a(Jo.store),{getCurrentPost:l,getEditedPostAttribute:i}=a($o.store);return{isViewable:s(i("type"))?.viewable,newPermalink:l().link}},[]),r=(0,Ie.useRef)();(0,Ie.useEffect)(()=>{r.current=document.querySelector(Ko)||document.querySelector(Yo)},[]),(0,Ie.useEffect)(()=>{if(!(!t||!r.current)){if(!e){r.current.style.display="none";return}r.current.style.display="",r.current.setAttribute("href",t)}},[t,e])};function tr(){return er(),null}var wr=o(R()),Wt=o(p()),et=o(rr()),br=o(C());var Je=o(p());var Vt=o(p());function vs(e=!1,t){switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}}function xs(e=[],t){let r=[...e];for(let a of t){let s=r.findIndex(l=>l.id===a.id);s!==-1?r[s]=a:r.push(a)}return r}function Ss(e={},t){switch(t.type){case"SET_META_BOXES_PER_LOCATIONS":{let r={...e};for(let[a,s]of Object.entries(t.metaBoxesPerLocation))r[a]=xs(r[a],s);return r}}return e}function ys(e=!1,t){switch(t.type){case"META_BOXES_INITIALIZED":return!0}return e}var Ps=(0,Vt.combineReducers)({isSaving:vs,locations:Ss,initialized:ys}),ar=(0,Vt.combineReducers)({metaBoxes:Ps});var Gt={};_t(Gt,{__experimentalSetPreviewDeviceType:()=>zs,__unstableCreateTemplate:()=>Qs,closeGeneralSidebar:()=>Es,closeModal:()=>ks,closePublishSidebar:()=>Bs,hideBlockTypes:()=>Vs,initializeMetaBoxes:()=>Ys,metaBoxUpdatesFailure:()=>js,metaBoxUpdatesSuccess:()=>Hs,openGeneralSidebar:()=>_s,openModal:()=>Ms,openPublishSidebar:()=>Ts,removeEditorPanel:()=>Rs,requestMetaBoxUpdates:()=>Us,setAvailableMetaBoxesPerLocation:()=>Gs,setIsEditingTemplate:()=>Xs,setIsInserterOpened:()=>Ws,setIsListViewOpened:()=>qs,showBlockTypes:()=>Fs,switchEditorMode:()=>Ds,toggleDistractionFree:()=>Ks,toggleEditorPanelEnabled:()=>As,toggleEditorPanelOpened:()=>Cs,toggleFeature:()=>Ls,toggleFullscreenMode:()=>Zs,togglePinnedPluginItem:()=>Ns,togglePublishSidebar:()=>Is,updatePreferredStyleVariations:()=>Os});var fr=o(ir()),Ae=o(V()),k=o(_()),I=o(Te()),ur=o(nr()),cr=o(ce()),pr=o(Ye()),$e=o(C());var dr=e=>{let t=document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`);return t||document.querySelector("#metaboxes .metabox-location-"+e)};var{interfaceStore:ye}=f(k.privateApis),_s=e=>({registry:t})=>{t.dispatch(ye).enableComplementaryArea("core",e)},Es=()=>({registry:e})=>e.dispatch(ye).disableComplementaryArea("core"),Ms=e=>({registry:t})=>((0,I.default)("select( 'core/edit-post' ).openModal( name )",{since:"6.3",alternative:"select( 'core/interface').openModal( name )"}),t.dispatch(ye).openModal(e)),ks=()=>({registry:e})=>((0,I.default)("select( 'core/edit-post' ).closeModal()",{since:"6.3",alternative:"select( 'core/interface').closeModal()"}),e.dispatch(ye).closeModal()),Ts=()=>({registry:e})=>{(0,I.default)("dispatch( 'core/edit-post' ).openPublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').openPublishSidebar"}),e.dispatch(k.store).openPublishSidebar()},Bs=()=>({registry:e})=>{(0,I.default)("dispatch( 'core/edit-post' ).closePublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').closePublishSidebar"}),e.dispatch(k.store).closePublishSidebar()},Is=()=>({registry:e})=>{(0,I.default)("dispatch( 'core/edit-post' ).togglePublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').togglePublishSidebar"}),e.dispatch(k.store).togglePublishSidebar()},As=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).toggleEditorPanelEnabled",{since:"6.5",alternative:"dispatch( 'core/editor').toggleEditorPanelEnabled"}),t.dispatch(k.store).toggleEditorPanelEnabled(e)},Cs=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).toggleEditorPanelOpened",{since:"6.5",alternative:"dispatch( 'core/editor').toggleEditorPanelOpened"}),t.dispatch(k.store).toggleEditorPanelOpened(e)},Rs=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).removeEditorPanel",{since:"6.5",alternative:"dispatch( 'core/editor').removeEditorPanel"}),t.dispatch(k.store).removeEditorPanel(e)},Ls=e=>({registry:t})=>t.dispatch(Ae.store).toggle("core/edit-post",e),Ds=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).switchEditorMode",{since:"6.6",alternative:"dispatch( 'core/editor').switchEditorMode"}),t.dispatch(k.store).switchEditorMode(e)},Ns=e=>({registry:t})=>{let r=t.select(ye).isItemPinned("core",e);t.dispatch(ye)[r?"unpinItem":"pinItem"]("core",e)};function Os(){return(0,I.default)("dispatch( 'core/edit-post' ).updatePreferredStyleVariations",{since:"6.6",hint:"Preferred Style Variations are not supported anymore."}),{type:"NOTHING"}}var Fs=e=>({registry:t})=>{f(t.dispatch(k.store)).showBlockTypes(e)},Vs=e=>({registry:t})=>{f(t.dispatch(k.store)).hideBlockTypes(e)};function Gs(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}var Us=()=>async({registry:e,select:t,dispatch:r})=>{r({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();let a=new window.FormData(document.querySelector(".metabox-base-form")),s=a.get("post_ID"),l=a.get("post_type"),i=e.select(cr.store).getEditedEntityRecord("postType",l,s),n=[i.comment_status?["comment_status",i.comment_status]:!1,i.ping_status?["ping_status",i.ping_status]:!1,i.sticky?["sticky",i.sticky]:!1,i.author?["post_author",i.author]:!1].filter(Boolean),c=t.getActiveMetaBoxLocations(),S=[a,...c.map(u=>new window.FormData(dr(u)))].reduce((u,M)=>{for(let[F,B]of M)u.append(F,B);return u},new window.FormData);n.forEach(([u,M])=>S.append(u,M));try{await(0,fr.default)({url:window._wpMetaBoxUrl,method:"POST",body:S,parse:!1}),r.metaBoxUpdatesSuccess()}catch{r.metaBoxUpdatesFailure()}};function Hs(){return{type:"META_BOX_UPDATES_SUCCESS"}}function js(){return{type:"META_BOX_UPDATES_FAILURE"}}var zs=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).__experimentalSetPreviewDeviceType",{since:"6.5",version:"6.7",hint:"registry.dispatch( editorStore ).setDeviceType"}),t.dispatch(k.store).setDeviceType(e)},Ws=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).setIsInserterOpened",{since:"6.5",alternative:"dispatch( 'core/editor').setIsInserterOpened"}),t.dispatch(k.store).setIsInserterOpened(e)},qs=e=>({registry:t})=>{(0,I.default)("dispatch( 'core/edit-post' ).setIsListViewOpened",{since:"6.5",alternative:"dispatch( 'core/editor').setIsListViewOpened"}),t.dispatch(k.store).setIsListViewOpened(e)};function Xs(){return(0,I.default)("dispatch( 'core/edit-post' ).setIsEditingTemplate",{since:"6.5",alternative:"dispatch( 'core/editor').setRenderingMode"}),{type:"NOTHING"}}function Qs(){return(0,I.default)("dispatch( 'core/edit-post' ).__unstableCreateTemplate",{since:"6.5"}),{type:"NOTHING"}}var mr=!1,Ys=()=>({registry:e,select:t,dispatch:r})=>{if(!e.select(k.store).__unstableIsEditorReady()||mr)return;let s=e.select(k.store).getCurrentPostType();window.postboxes.page!==s&&window.postboxes.add_postbox_toggles(s),mr=!0,(0,ur.addAction)("editor.savePost","core/edit-post/save-metaboxes",async(l,i)=>{!i.isAutosave&&t.hasMetaBoxes()&&await r.requestMetaBoxUpdates()}),r({type:"META_BOXES_INITIALIZED"})},Ks=()=>({registry:e})=>{(0,I.default)("dispatch( 'core/edit-post' ).toggleDistractionFree",{since:"6.6",alternative:"dispatch( 'core/editor').toggleDistractionFree"}),e.dispatch(k.store).toggleDistractionFree()},Zs=()=>({registry:e})=>{let t=e.select(Ae.store).get("core/edit-post","fullscreenMode");e.dispatch(Ae.store).toggle("core/edit-post","fullscreenMode"),e.dispatch(pr.store).createInfoNotice(t?(0,$e.__)("Fullscreen mode deactivated."):(0,$e.__)("Fullscreen mode activated."),{id:"core/edit-post/toggle-fullscreen-mode/notice",type:"snackbar",actions:[{label:(0,$e.__)("Undo"),onClick:()=>{e.dispatch(Ae.store).toggle("core/edit-post","fullscreenMode")}}]})};var zt={};_t(zt,{__experimentalGetInsertionPoint:()=>xi,__experimentalGetPreviewDeviceType:()=>bi,areMetaBoxesInitialized:()=>Pi,getActiveGeneralSidebarName:()=>ri,getActiveMetaBoxLocations:()=>hr,getAllMetaBoxes:()=>gi,getEditedPostTemplate:()=>_i,getEditorMode:()=>ei,getHiddenBlockTypes:()=>ii,getMetaBoxesPerLocation:()=>jt,getPreference:()=>si,getPreferences:()=>gr,hasMetaBoxes:()=>hi,isEditingTemplate:()=>yi,isEditorPanelEnabled:()=>di,isEditorPanelOpened:()=>mi,isEditorPanelRemoved:()=>ni,isEditorSidebarOpened:()=>ti,isFeatureActive:()=>ui,isInserterOpened:()=>vi,isListViewOpened:()=>Si,isMetaBoxLocationActive:()=>Ht,isMetaBoxLocationVisible:()=>pi,isModalActive:()=>fi,isPluginItemPinned:()=>ci,isPluginSidebarOpened:()=>oi,isPublishSidebarOpened:()=>li,isSavingMetaBoxes:()=>wi});var x=o(p()),pe=o(V()),Ut=o(ce()),L=o(_()),N=o(Te());var{interfaceStore:Ce}=f(L.privateApis),$s=[],Js={},ei=(0,x.createRegistrySelector)(e=>()=>e(pe.store).get("core","editorMode")??"visual"),ti=(0,x.createRegistrySelector)(e=>()=>{let t=e(Ce).getActiveComplementaryArea("core");return["edit-post/document","edit-post/block"].includes(t)}),oi=(0,x.createRegistrySelector)(e=>()=>{let t=e(Ce).getActiveComplementaryArea("core");return!!t&&!["edit-post/document","edit-post/block"].includes(t)}),ri=(0,x.createRegistrySelector)(e=>()=>e(Ce).getActiveComplementaryArea("core"));function ai(e,t){let r=e?.reduce((s,l)=>({...s,[l]:{enabled:!1}}),{});return t?.reduce((s,l)=>{let i=s?.[l];return{...s,[l]:{...i,opened:!0}}},r??{})??r??Js}var gr=(0,x.createRegistrySelector)(e=>()=>{(0,N.default)("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});let t=["editorMode","hiddenBlockTypes"].reduce((l,i)=>{let n=e(pe.store).get("core",i);return{...l,[i]:n}},{}),r=e(pe.store).get("core","inactivePanels"),a=e(pe.store).get("core","openPanels"),s=ai(r,a);return{...t,panels:s}});function si(e,t,r){(0,N.default)("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});let s=gr(e)[t];return s===void 0?r:s}var ii=(0,x.createRegistrySelector)(e=>()=>e(pe.store).get("core","hiddenBlockTypes")??$s),li=(0,x.createRegistrySelector)(e=>()=>((0,N.default)("select( 'core/edit-post' ).isPublishSidebarOpened",{since:"6.6",alternative:"select( 'core/editor' ).isPublishSidebarOpened"}),e(L.store).isPublishSidebarOpened())),ni=(0,x.createRegistrySelector)(e=>(t,r)=>((0,N.default)("select( 'core/edit-post' ).isEditorPanelRemoved",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelRemoved"}),e(L.store).isEditorPanelRemoved(r))),di=(0,x.createRegistrySelector)(e=>(t,r)=>((0,N.default)("select( 'core/edit-post' ).isEditorPanelEnabled",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelEnabled"}),e(L.store).isEditorPanelEnabled(r))),mi=(0,x.createRegistrySelector)(e=>(t,r)=>((0,N.default)("select( 'core/edit-post' ).isEditorPanelOpened",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelOpened"}),e(L.store).isEditorPanelOpened(r))),fi=(0,x.createRegistrySelector)(e=>(t,r)=>((0,N.default)("select( 'core/edit-post' ).isModalActive",{since:"6.3",alternative:"select( 'core/interface' ).isModalActive"}),!!e(Ce).isModalActive(r))),ui=(0,x.createRegistrySelector)(e=>(t,r)=>!!e(pe.store).get("core/edit-post",r)),ci=(0,x.createRegistrySelector)(e=>(t,r)=>e(Ce).isItemPinned("core",r)),hr=(0,x.createSelector)(e=>Object.keys(e.metaBoxes.locations).filter(t=>Ht(e,t)),e=>[e.metaBoxes.locations]),pi=(0,x.createRegistrySelector)(e=>(t,r)=>Ht(t,r)&&jt(t,r)?.some(({id:a})=>e(L.store).isEditorPanelEnabled(`meta-box-${a}`)));function Ht(e,t){let r=jt(e,t);return!!r&&r.length!==0}function jt(e,t){return e.metaBoxes.locations[t]}var gi=(0,x.createSelector)(e=>Object.values(e.metaBoxes.locations).flat(),e=>[e.metaBoxes.locations]);function hi(e){return hr(e).length>0}function wi(e){return e.metaBoxes.isSaving}var bi=(0,x.createRegistrySelector)(e=>()=>((0,N.default)("select( 'core/edit-site' ).__experimentalGetPreviewDeviceType",{since:"6.5",version:"6.7",alternative:"select( 'core/editor' ).getDeviceType"}),e(L.store).getDeviceType())),vi=(0,x.createRegistrySelector)(e=>()=>((0,N.default)("select( 'core/edit-post' ).isInserterOpened",{since:"6.5",alternative:"select( 'core/editor' ).isInserterOpened"}),e(L.store).isInserterOpened())),xi=(0,x.createRegistrySelector)(e=>()=>((0,N.default)("select( 'core/edit-post' ).__experimentalGetInsertionPoint",{since:"6.5",version:"6.7"}),f(e(L.store)).getInserter())),Si=(0,x.createRegistrySelector)(e=>()=>((0,N.default)("select( 'core/edit-post' ).isListViewOpened",{since:"6.5",alternative:"select( 'core/editor' ).isListViewOpened"}),e(L.store).isListViewOpened())),yi=(0,x.createRegistrySelector)(e=>()=>((0,N.default)("select( 'core/edit-post' ).isEditingTemplate",{since:"6.5",alternative:"select( 'core/editor' ).getRenderingMode"}),e(L.store).getCurrentPostType()==="wp_template"));function Pi(e){return e.metaBoxes.initialized}var _i=(0,x.createRegistrySelector)(e=>()=>{let{id:t,type:r}=e(L.store).getCurrentPost(),a=f(e(Ut.store)).getTemplateId(r,t);if(a)return e(Ut.store).getEditedEntityRecord("postType","wp_template",a)});var P=(0,Je.createReduxStore)(Qo,{reducer:ar,actions:Gt,selectors:zt});(0,Je.register)(P);function Ei(){let{toggleFullscreenMode:e}=(0,Wt.useDispatch)(P),{registerShortcut:t}=(0,Wt.useDispatch)(et.store);return(0,wr.useEffect)(()=>{t({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,br.__)("Enable or disable fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}})},[]),(0,et.useShortcut)("core/edit-post/toggle-fullscreen",()=>{e()}),null}var vr=Ei;var G=o(h()),ot=o(p()),re=o(C()),U=o(Y()),tt=o(R()),qt=o(_());function xr(){let{editPost:e}=(0,ot.useDispatch)(qt.store),[t,r]=(0,tt.useState)(void 0),[a,s]=(0,tt.useState)(""),{postType:l,isNewPost:i}=(0,ot.useSelect)(v=>{let{getEditedPostAttribute:S,isCleanNewPost:u}=v(qt.store);return{postType:S("type"),isNewPost:u()}},[]),[n,c]=(0,tt.useState)(()=>i&&l==="wp_block");return l!=="wp_block"||!i?null:(0,G.jsx)(G.Fragment,{children:n&&(0,G.jsx)(U.Modal,{title:(0,re.__)("Create pattern"),onRequestClose:()=>{c(!1)},overlayClassName:"reusable-blocks-menu-items__convert-modal",children:(0,G.jsx)("form",{onSubmit:v=>{v.preventDefault(),c(!1),e({title:a,meta:{wp_pattern_sync_status:t}})},children:(0,G.jsxs)(U.__experimentalVStack,{spacing:"5",children:[(0,G.jsx)(U.TextControl,{label:(0,re.__)("Name"),value:a,onChange:s,placeholder:(0,re.__)("My pattern"),className:"patterns-create-modal__name-input",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,G.jsx)(U.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,re._x)("Synced","pattern (singular)"),help:(0,re.__)("Sync this pattern across multiple locations."),checked:!t,onChange:()=>{r(t?void 0:"unsynced")}}),(0,G.jsx)(U.__experimentalHStack,{justify:"right",children:(0,G.jsx)(U.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",disabled:!a,accessibleWhenDisabled:!0,children:(0,re.__)("Create")})})]})})})})}var rt=o(R()),Sr=o(p()),yr=o(ue()),Pr=o(_());function Mi(e){return(0,yr.addQueryArgs)("post.php",{post:e,action:"edit"})}function _r(){let[e,t]=(0,rt.useState)(null),{postId:r,postStatus:a}=(0,Sr.useSelect)(s=>{let{getCurrentPost:l}=s(Pr.store),i=l(),{id:n,status:c,type:v}=i;return["wp_template","wp_template_part"].includes(v)&&(n=i.wp_id),{postId:n,postStatus:c}},[]);return(0,rt.useEffect)(()=>{r&&r!==e&&a!=="auto-draft"&&(window.history.replaceState({id:r},"Post "+r,Mi(r)),t(r))},[r,a,e]),null}var ge=o(h()),Cr=o(p());var Pe=o(h());var Re=o(R()),Er=o(Y()),Mr=o(p());function ki({location:e}){let t=(0,Re.useRef)(null),r=(0,Re.useRef)(null);(0,Re.useEffect)(()=>(r.current=document.querySelector(".metabox-location-"+e),r.current&&t.current.appendChild(r.current),()=>{r.current&&document.querySelector("#metaboxes").appendChild(r.current)}),[e]);let a=(0,Mr.useSelect)(l=>l(P).isSavingMetaBoxes(),[]),s=Z("edit-post-meta-boxes-area",`is-${e}`,{"is-loading":a});return(0,Pe.jsxs)("div",{className:s,children:[a&&(0,Pe.jsx)(Er.Spinner,{}),(0,Pe.jsx)("div",{className:"edit-post-meta-boxes-area__container",ref:t}),(0,Pe.jsx)("div",{className:"edit-post-meta-boxes-area__clear"})]})}var kr=ki;var Tr=o(R()),Br=o(p()),Ir=o(_());function Ar({id:e}){let t=(0,Br.useSelect)(r=>r(Ir.store).isEditorPanelEnabled(`meta-box-${e}`),[e]);return(0,Tr.useEffect)(()=>{let r=document.getElementById(e);r&&(t?r.classList.remove("is-hidden"):r.classList.add("is-hidden"))},[e,t]),null}function at({location:e}){let t=(0,Cr.useSelect)(r=>r(P).getMetaBoxesPerLocation(e),[e]);return(0,ge.jsxs)(ge.Fragment,{children:[(t??[]).map(({id:r})=>(0,ge.jsx)(Ar,{id:r},r)),(0,ge.jsx)(kr,{location:e})]})}var q=o(h()),De=o(C()),ma=o(Be()),fa=o(_()),ua=o(Lr()),ca=o(V());var Dr=o(h()),Nr=o(Y()),Or=o(ce()),Fr=o(p()),Vr=o(C()),Xt=o(ue());function Ti(){let e=(0,Fr.useSelect)(t=>{let{canUser:r}=t(Or.store),a=(0,Xt.addQueryArgs)("edit.php",{post_type:"wp_block"}),s=(0,Xt.addQueryArgs)("site-editor.php",{p:"/pattern"});return r("create",{kind:"postType",name:"wp_template"})?s:a},[]);return(0,Dr.jsx)(Nr.MenuItem,{role:"menuitem",href:e,children:(0,Vr.__)("Manage patterns")})}var Gr=Ti;var Ur=o(h()),Hr=o(p()),jr=o(V()),zr=o(C()),Wr=o(_());function qr(){let e=(0,Hr.useSelect)(t=>t(Wr.store).getCurrentPostType()==="wp_template",[]);return(0,Ur.jsx)(jr.PreferenceToggleMenuItem,{scope:"core/edit-post",name:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,zr.__)("Welcome Guide")})}var lt=o(h()),nt=o(C()),la=o(V()),na=o(_());var Le=o(h()),oa=o(C()),ra=o(p()),aa=o(_()),sa=o(V());var $=o(h()),Qt=o(R()),st=o(C()),Xr=o(Y()),Qr=o(p()),Yr=o(_()),Kr=o(V()),Zr=o(ue());var{PreferenceBaseOption:Bi}=f(Kr.privateApis);function Ii(){let e=document.getElementById("toggle-custom-fields-form");e.querySelector('[name="_wp_http_referer"]').setAttribute("value",(0,Zr.getPathAndQueryString)(window.location.href)),e.submit()}function Ai({willEnable:e}){let[t,r]=(0,Qt.useState)(!1);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message",children:(0,st.__)("A page reload is required for this change. Make sure your content is saved before reloading.")}),(0,$.jsx)(Xr.Button,{__next40pxDefaultSize:!0,variant:"secondary",isBusy:t,accessibleWhenDisabled:!0,disabled:t,onClick:()=>{r(!0),Ii()},children:e?(0,st.__)("Show & Reload Page"):(0,st.__)("Hide & Reload Page")})]})}function $r({label:e}){let t=(0,Qr.useSelect)(s=>!!s(Yr.store).getEditorSettings().enableCustomFields,[]),[r,a]=(0,Qt.useState)(t);return(0,$.jsx)(Bi,{label:e,isChecked:r,onChange:a,children:r!==t&&(0,$.jsx)(Ai,{willEnable:r})})}var Jr=o(h()),it=o(p()),Yt=o(_()),ea=o(V());var{PreferenceBaseOption:Ci}=f(ea.privateApis);function ta(e){let{toggleEditorPanelEnabled:t}=(0,it.useDispatch)(Yt.store),{isChecked:r,isRemoved:a}=(0,it.useSelect)(s=>{let{isEditorPanelEnabled:l,isEditorPanelRemoved:i}=s(Yt.store);return{isChecked:l(e.panelName),isRemoved:i(e.panelName)}},[e.panelName]);return a?null:(0,Jr.jsx)(Ci,{isChecked:r,onChange:()=>t(e.panelName),...e})}var{PreferencesModalSection:Ri}=f(sa.privateApis);function Li({areCustomFieldsRegistered:e,metaBoxes:t,...r}){let a=t.filter(({id:s})=>s!=="postcustom");return!e&&a.length===0?null:(0,Le.jsxs)(Ri,{...r,children:[e&&(0,Le.jsx)($r,{label:(0,oa.__)("Custom fields")}),a.map(({id:s,title:l})=>(0,Le.jsx)(ta,{label:l,panelName:`meta-box-${s}`},s))]})}var ia=(0,ra.withSelect)(e=>{let{getEditorSettings:t}=e(aa.store),{getAllMetaBoxes:r}=e(P);return{areCustomFieldsRegistered:t().enableCustomFields!==void 0,metaBoxes:r()}})(Li);var{PreferenceToggleControl:Di}=f(la.privateApis),{PreferencesModal:Ni}=f(na.privateApis);function da(){let e={general:(0,lt.jsx)(ia,{title:(0,nt.__)("Advanced")}),appearance:(0,lt.jsx)(Di,{scope:"core/edit-post",featureName:"themeStyles",help:(0,nt.__)("Make the editor look like your theme."),label:(0,nt.__)("Use theme styles")})};return(0,lt.jsx)(Ni,{extraSections:e})}var{ToolsMoreMenuGroup:Oi,ViewMoreMenuGroup:Fi}=f(fa.privateApis),Vi=()=>{let e=(0,ma.useViewportMatch)("large");return(0,q.jsxs)(q.Fragment,{children:[e&&(0,q.jsx)(Fi,{children:(0,q.jsx)(ca.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,De.__)("Fullscreen mode"),info:(0,De.__)("Show and hide the admin user interface"),messageActivated:(0,De.__)("Fullscreen mode activated."),messageDeactivated:(0,De.__)("Fullscreen mode deactivated."),shortcut:ua.displayShortcut.secondary("f")})}),(0,q.jsxs)(Oi,{children:[(0,q.jsx)(Gr,{}),(0,q.jsx)(qr,{})]}),(0,q.jsx)(da,{})]})},pa=Vi;var Zt=o(h()),xa=o(p());var w=o(h()),ga=o(p()),dt=o(Y()),O=o(C()),Kt=o(R());var Ne=o(h());function he({nonAnimatedSrc:e,animatedSrc:t}){return(0,Ne.jsxs)("picture",{className:"edit-post-welcome-guide__image",children:[(0,Ne.jsx)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,Ne.jsx)("img",{src:t,width:"312",height:"240",alt:""})]})}function ha(){let{toggleFeature:e}=(0,ga.useDispatch)(P);return(0,w.jsx)(dt.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,O.__)("Welcome to the editor"),finishButtonText:(0,O.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,w.jsx)(he,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,O.__)("Welcome to the editor")}),(0,w.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,O.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct \u201Cblock\u201D of content.")})]})},{image:(0,w.jsx)(he,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,O.__)("Customize each block")}),(0,w.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,O.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")})]})},{image:(0,w.jsx)(he,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,O.__)("Explore all blocks")}),(0,w.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,Kt.createInterpolateElement)((0,O.__)("All of the blocks available to you live in the block library. You\u2019ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,w.jsx)("img",{alt:(0,O.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})})]})},{image:(0,w.jsx)(he,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,O.__)("Learn more")}),(0,w.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,Kt.createInterpolateElement)((0,O.__)("New to the block editor? Want to learn more about using it? <a>Here's a detailed guide.</a>"),{a:(0,w.jsx)(dt.ExternalLink,{href:(0,O.__)("https://wordpress.org/documentation/article/wordpress-block-editor/")})})})]})}]})}var J=o(h()),wa=o(p()),ba=o(Y()),Oe=o(C());function va(){let{toggleFeature:e}=(0,wa.useDispatch)(P);return(0,J.jsx)(ba.Guide,{className:"edit-template-welcome-guide",contentLabel:(0,Oe.__)("Welcome to the template editor"),finishButtonText:(0,Oe.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,J.jsx)(he,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,Oe.__)("Welcome to the template editor")}),(0,J.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,Oe.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")})]})}]})}function Sa({postType:e}){let{isActive:t,isEditingTemplate:r}=(0,xa.useSelect)(a=>{let{isFeatureActive:s}=a(P),l=e==="wp_template";return{isActive:s(l?"welcomeGuideTemplate":"welcomeGuide"),isEditingTemplate:l}},[e]);return t?r?(0,Zt.jsx)(va,{}):(0,Zt.jsx)(ha,{}):null}var Fe=o(p()),_e=o(C());var ya=o(Ot()),$t=o(V()),Pa=o(Ye());function _a(){let{isFullscreen:e}=(0,Fe.useSelect)(a=>{let{get:s}=a($t.store);return{isFullscreen:s("core/edit-post","fullscreenMode")}},[]),{toggle:t}=(0,Fe.useDispatch)($t.store),{createInfoNotice:r}=(0,Fe.useDispatch)(Pa.store);(0,ya.useCommand)({name:"core/toggle-fullscreen-mode",label:e?(0,_e.__)("Exit fullscreen"):(0,_e.__)("Enter fullscreen"),icon:Lt,callback:({close:a})=>{t("core/edit-post","fullscreenMode"),a(),r(e?(0,_e.__)("Fullscreen off."):(0,_e.__)("Fullscreen on."),{id:"core/edit-post/toggle-fullscreen-mode/notice",type:"snackbar",actions:[{label:(0,_e.__)("Undo"),onClick:()=>{t("core/edit-post","fullscreenMode")}}]})}})}var Ea=o(p()),Ma=o(Be()),mt=o(je()),ka=o(He()),Gi=':root :where(.editor-styles-wrapper)::after {content: ""; display: block; height: 40vh;}';function Ta(e){let t=(0,Ea.useRegistry)(),r=(0,Ma.useRefEffect)(a=>{function s(i){if(i.target!==a&&i.target!==a.parentElement)return;let n=a.lastElementChild;if(!n)return;let c=n.getBoundingClientRect();if(i.clientY<c.bottom)return;i.preventDefault();let v=t.select(mt.store).getBlockOrder(""),S=v[v.length-1],u=t.select(mt.store).getBlock(S),{selectBlock:M,insertDefaultBlock:F}=t.dispatch(mt.store);u&&(0,ka.isUnmodifiedDefaultBlock)(u)?M(S):F()}let{ownerDocument:l}=a;return l.addEventListener("mousedown",s),()=>{l.removeEventListener("mousedown",s)}},[t]);return e?[r,Gi]:[]}var Ba=o(_()),Ia=o(p()),Aa=o(He()),Ca=o(je());var Ui=!0;function Ra(){return(0,Ia.useSelect)(e=>{let{getEditorSettings:t,getCurrentPostType:r,getDeviceType:a}=e(Ba.store);return Ui&&t().__unstableIsBlockBasedTheme||a()!=="Desktop"||["wp_template","wp_block"].includes(r())||f(e(Ca.store)).isZoomOut()||e(Aa.store).getBlockTypes().every(s=>s.apiVersion>=3)},[])}var Ve=o(R()),ft=o(p()),Jt=o(_());function La(e,t,r){let[a,s]=(0,Ve.useReducer)((u,{type:M,post:F,previousRenderingMode:B})=>M==="push"?[...u,{post:F,previousRenderingMode:B}]:M==="pop"&&u.length>1?u.slice(0,-1):u,[{post:{postId:e,postType:t}}]),{post:l,previousRenderingMode:i}=a[a.length-1],{getRenderingMode:n}=(0,ft.useSelect)(Jt.store),{setRenderingMode:c}=(0,ft.useDispatch)(Jt.store),v=(0,Ve.useCallback)(u=>{s({type:"push",post:{postId:u.postId,postType:u.postType},previousRenderingMode:n()}),c(r)},[n,c,r]),S=(0,Ve.useCallback)(()=>{s({type:"pop"}),i&&c(i)},[c,i]);return{currentPost:l,onNavigateToEntityRecord:v,onNavigateToPreviousEntityRecord:a.length>1?S:void 0}}var ut=o(p()),Da=o(_()),Na=o(R());var Oa=e=>{let t=(0,ut.useSelect)(a=>e&&a(Da.store).__unstableIsEditorReady(),[e]),{initializeMetaBoxes:r}=(0,ut.useDispatch)(P);(0,Na.useEffect)(()=>{t&&r()},[t,r])};var{getLayoutStyles:Hi}=f(pt.privateApis),{useCommandContext:ji}=f(Va.privateApis),{Editor:zi,FullscreenMode:Wi}=f(E.privateApis),{BlockKeyboardShortcuts:qi}=f(Ga.privateApis),Xi=["wp_template","wp_template_part","wp_block","wp_navigation","wp_registered_template"];function Qi(...e){let{hasThemeStyleSupport:t,editorSettings:r}=(0,ae.useSelect)(s=>({hasThemeStyleSupport:s(P).isFeatureActive("themeStyles"),editorSettings:s(E.store).getEditorSettings()}),[]),a=e.join(`
`);return(0,A.useMemo)(()=>{let s=r.styles?.filter(c=>c.__unstableType&&c.__unstableType!=="theme")??[],l=[...r?.defaultEditorStyles??[],...s],i=t&&s.length!==(r.styles?.length??0);!r.disableLayoutStyles&&!i&&l.push({css:Hi({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})});let n=i?r.styles??[]:l;return a?[...n,{css:a}]:n},[r.defaultEditorStyles,r.disableLayoutStyles,r.styles,t,a])}function Yi({isLegacy:e}){let[t,r,a]=(0,ae.useSelect)(d=>{let{get:g}=d(ct.store),{isMetaBoxLocationVisible:y}=d(P);return[!!g("core/edit-post","metaBoxesMainIsOpen"),g("core/edit-post","metaBoxesMainOpenHeight"),y("normal")||y("advanced")||y("side")]},[]),{set:s}=(0,ae.useDispatch)(ct.store),l=(0,A.useRef)(),i=(0,se.useMediaQuery)("(max-height: 549px)"),[{min:n,max:c},v]=(0,A.useState)(()=>({})),S=(0,se.useRefEffect)(d=>{let g=d.closest(".interface-interface-skeleton__content");if(!g)return;let y=g.querySelectorAll(":scope > .components-notice-list"),X=g.querySelector(".edit-post-meta-boxes-main__presenter"),Q=()=>{let me=g.offsetHeight;for(let W of y)me-=W.offsetHeight;let ve=X.offsetHeight;v({min:ve,max:me})},z=new window.ResizeObserver(Q);z.observe(g);for(let be of y)z.observe(be);return()=>z.disconnect()},[]),u=(0,A.useRef)({}),M=(0,A.useRef)(),F=(0,A.useId)(),B=(d="auto",g,y)=>{d==="auto"?g=!1:d=Math.min(c,Math.max(n,d)),g?s("core/edit-post","metaBoxesMainOpenHeight",d):i||(M.current.ariaValueNow=ne(d)),y&&l.current.updateSize({height:d,width:"auto"})},Me=(0,se.useEvent)(()=>({isOpen:t,openHeight:r,min:n}));if((0,A.useEffect)(()=>{let d=Me();if(d.min!==void 0&&l.current){let g=i?"auto":d.openHeight,y=d.isOpen?g:d.min;B(y,!1,!0)}},[i]),!a)return;let we=(0,m.jsxs)("div",{className:"edit-post-layout__metaboxes edit-post-meta-boxes-main__liner",hidden:!e&&!t,children:[(0,m.jsx)(at,{location:"normal"}),(0,m.jsx)(at,{location:"advanced"})]});if(e)return we;let le=r===void 0,ne=d=>Math.round((d-n)/(c-n)*100),ke=c===void 0||le?50:ne(r),de=(d=!t)=>s("core/edit-post","metaBoxesMainIsOpen",d),vt=d=>{let g={ArrowUp:20,ArrowDown:-20}[d.key];if(g){let y=l.current.resizable,X=le?y.offsetHeight:r,Q=g+X;B(Q,!0,!0),de(Q>n),d.preventDefault()}},Ge=(0,H.__)("Meta Boxes"),xt=(0,m.jsxs)("button",{"aria-expanded":t,onClick:({detail:d})=>{let{isToggleInferred:g}=u.current;(i||!d||g)&&(de(),B(t?n:i?"auto":r,!1,!0))},...i&&{onMouseDown:d=>d.stopPropagation(),onTouchStart:d=>d.stopPropagation()},children:[Ge,(0,m.jsx)(j.Icon,{icon:t?Ct:It})]}),St=!i&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Tooltip,{text:(0,H.__)("Drag to resize"),children:(0,m.jsx)("button",{ref:M,role:"separator","aria-valuenow":ke,"aria-label":(0,H.__)("Drag to resize"),"aria-describedby":F,onKeyDown:vt})}),(0,m.jsx)(j.VisuallyHidden,{id:F,children:(0,H.__)("Use up and down arrow keys to resize the meta box panel.")})]});return(0,m.jsxs)(j.ResizableBox,{"aria-label":Ge,...{as:Mt,ref:l,className:"edit-post-meta-boxes-main",defaultSize:{height:t?r:0},minHeight:n,maxHeight:c,enable:{top:!0},handleClasses:{top:"edit-post-meta-boxes-main__presenter"},handleComponent:{top:(0,m.jsxs)(m.Fragment,{children:[xt,St]})},onPointerDown:({pointerId:d,target:g})=>{M.current?.parentElement.contains(g)&&g.setPointerCapture(d)},onResizeStart:({timeStamp:d},g,y)=>{le&&B(y.offsetHeight,!1,!0),y.classList.add("is-resizing"),u.current={timeStamp:d,maxDelta:0}},onResize:(d,g,y,X)=>{let{maxDelta:Q}=u.current,z=Math.abs(X.height);u.current.maxDelta=Math.max(Q,z),B(l.current.state.height)},onResizeStop:(d,g,y)=>{y.classList.remove("is-resizing");let X=d.timeStamp-u.current.timeStamp,Q=d.target===M.current,{maxDelta:z}=u.current,be=z<1||X<144&&z<5;if(i||!Q&&be)u.current.isToggleInferred=!0;else{let{height:me}=l.current.state,ve=me>n;de(ve),ve&&B(me,!0)}}},children:[(0,m.jsx)("meta",{ref:S}),we]})}function Ki({postId:e,postType:t,settings:r,initialEdits:a}){_a();let s=Ra(),{createErrorNotice:l}=(0,ae.useDispatch)(eo.store),{currentPost:{postId:i,postType:n},onNavigateToEntityRecord:c,onNavigateToPreviousEntityRecord:v}=La(e,t,"post-only"),S=n==="wp_template",{mode:u,isFullscreenActive:M,hasResolvedMode:F,hasActiveMetaboxes:B,hasBlockSelected:Me,showIconLabels:we,isDistractionFree:le,showMetaBoxes:ne,isWelcomeGuideVisible:ke,templateId:de,enablePaddingAppender:vt,isDevicePreview:Ge}=(0,ae.useSelect)(W=>{let{get:xe}=W(ct.store),{isFeatureActive:fe,hasMetaBoxes:yt}=W(P),{canUser:Pt,getPostType:Qa,getTemplateId:Ya}=f(W(Ha.store)),Ka=r.supportsTemplateMode,Za=Qa(n)?.viewable??!1,$a=Pt("read",{kind:"postType",name:"wp_template"}),{getBlockSelectionStart:Ja,isZoomOut:ao}=f(W(pt.store)),{getEditorMode:es,getRenderingMode:ts,getDefaultRenderingMode:os,getDeviceType:rs}=f(W(E.store)),as=ts()==="post-only",so=!Xi.includes(n),ss=n==="wp_block"&&!v,io=Ya(n,i),lo=os(n);return{mode:es(),isFullscreenActive:fe("fullscreenMode"),hasActiveMetaboxes:yt(),hasResolvedMode:lo==="template-locked"?!!io:lo!==void 0,hasBlockSelected:!!Ja(),showIconLabels:xe("core","showIconLabels"),isDistractionFree:xe("core","distractionFree"),showMetaBoxes:so&&!ao()||ss,isWelcomeGuideVisible:fe("welcomeGuide"),templateId:Ka&&Za&&$a&&!S?io:null,enablePaddingAppender:!ao()&&as&&so,isDevicePreview:rs()!=="Desktop"}},[n,i,S,r.supportsTemplateMode,v]);Oa(B&&F);let[xt,St]=Ta(vt);ji(Me?"block-selection-edit":"entity-edit");let d=(0,A.useMemo)(()=>({...r,onNavigateToEntityRecord:c,onNavigateToPreviousEntityRecord:v,defaultRenderingMode:"post-only"}),[r,c,v]),g=Qi(St);we?document.body.classList.add("show-icon-labels"):document.body.classList.remove("show-icon-labels");let y=(0,j.__unstableUseNavigateRegions)(),X=Z("edit-post-layout","is-mode-"+u,{"has-metaboxes":B});function Q(W){l((0,H.sprintf)((0,H.__)('The "%s" plugin has encountered an error and cannot be rendered.'),W))}let{createSuccessNotice:z}=(0,ae.useDispatch)(eo.store),be=(0,A.useCallback)((W,xe)=>{switch(W){case"move-to-trash":document.location.href=(0,to.addQueryArgs)("edit.php",{trashed:1,post_type:xe[0].type,ids:xe[0].id});break;case"duplicate-post":{let fe=xe[0],yt=typeof fe.title=="string"?fe.title:fe.title?.rendered;z((0,H.sprintf)((0,H.__)('"%s" successfully created.'),(0,Ua.decodeEntities)(yt)||(0,H.__)("(no title)")),{type:"snackbar",id:"duplicate-post-action",actions:[{label:(0,H.__)("Edit"),onClick:()=>{let Pt=fe.id;document.location.href=(0,to.addQueryArgs)("post.php",{post:Pt,action:"edit"})}}]})}break}},[z]),me=(0,A.useMemo)(()=>({type:t,id:e}),[t,e]),ve=(0,se.useViewportMatch)("medium")&&M?(0,m.jsx)(Xo,{initialPost:me}):null;return(0,m.jsx)(j.SlotFillProvider,{children:(0,m.jsxs)(E.ErrorBoundary,{canCopyContent:!0,children:[(0,m.jsx)(Sa,{postType:n}),(0,m.jsx)("div",{className:y.className,...y,ref:y.ref,children:(0,m.jsxs)(zi,{settings:d,initialEdits:a,postType:n,postId:i,templateId:de,className:X,styles:g,forceIsDirty:B,contentRef:xt,disableIframe:!s,autoFocus:!ke,onActionPerformed:be,extraSidebarPanels:ne&&(0,m.jsx)(at,{location:"side"}),extraContent:!le&&ne&&(0,m.jsx)(Yi,{isLegacy:!s||Ge}),children:[(0,m.jsx)(E.PostLockedModal,{}),(0,m.jsx)(tr,{}),(0,m.jsx)(Wi,{isActive:M}),(0,m.jsx)(_r,{}),(0,m.jsx)(E.UnsavedChangesWarning,{}),(0,m.jsx)(E.AutosaveMonitor,{}),(0,m.jsx)(E.LocalAutosaveMonitor,{}),(0,m.jsx)(vr,{}),(0,m.jsx)(E.EditorKeyboardShortcutsRegister,{}),(0,m.jsx)(qi,{}),(0,m.jsx)(xr,{}),(0,m.jsx)(Fa.PluginArea,{onError:Q}),(0,m.jsx)(pa,{}),ve,(0,m.jsx)(E.EditorSnackbars,{})]})})]})})}var ja=Ki;var ee=o(h()),T=o(_()),za=o(ue()),oo=o(Te());var{PluginPostExcerpt:Zi}=f(T.privateApis),te=(0,za.getPath)(window.location.href)?.includes("site-editor.php"),ie=e=>{(0,oo.default)(`wp.editPost.${e}`,{since:"6.6",alternative:`wp.editor.${e}`})};function $i(e){return te?null:(ie("PluginBlockSettingsMenuItem"),(0,ee.jsx)(T.PluginBlockSettingsMenuItem,{...e}))}function Ji(e){return te?null:(ie("PluginDocumentSettingPanel"),(0,ee.jsx)(T.PluginDocumentSettingPanel,{...e}))}function el(e){return te?null:(ie("PluginMoreMenuItem"),(0,ee.jsx)(T.PluginMoreMenuItem,{...e}))}function tl(e){return te?null:(ie("PluginPrePublishPanel"),(0,ee.jsx)(T.PluginPrePublishPanel,{...e}))}function ol(e){return te?null:(ie("PluginPostPublishPanel"),(0,ee.jsx)(T.PluginPostPublishPanel,{...e}))}function rl(e){return te?null:(ie("PluginPostStatusInfo"),(0,ee.jsx)(T.PluginPostStatusInfo,{...e}))}function al(e){return te?null:(ie("PluginSidebar"),(0,ee.jsx)(T.PluginSidebar,{...e}))}function sl(e){return te?null:(ie("PluginSidebarMoreMenuItem"),(0,ee.jsx)(T.PluginSidebarMoreMenuItem,{...e}))}function il(){return te?null:((0,oo.default)("wp.editPost.__experimentalPluginPostExcerpt",{since:"6.6",hint:"Core and custom panels can be access programmatically using their panel name.",link:"https://developer.wordpress.org/block-editor/reference-guides/slotfills/plugin-document-setting-panel/#accessing-a-panel-programmatically"}),Zi)}var{BackButton:ll,registerCoreBlockBindingsSources:nl}=f(bt.privateApis);function dl(e,t,r,a,s){let l=window.matchMedia("(min-width: 782px)").matches,i=document.getElementById(e),n=(0,ht.createRoot)(i);return(0,oe.dispatch)(Ee.store).setDefaults("core/edit-post",{fullscreenMode:!0,themeStyles:!0,welcomeGuide:!0,welcomeGuideTemplate:!0}),(0,oe.dispatch)(Ee.store).setDefaults("core",{allowRightClickOverrides:!0,editorMode:"visual",editorTool:"edit",fixedToolbar:!1,hiddenBlockTypes:[],inactivePanels:[],openPanels:["post-status"],showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,enableChoosePatternModal:!0,isPublishSidebarEnabled:!0}),window.__experimentalMediaProcessing&&(0,oe.dispatch)(Ee.store).setDefaults("core/media",{requireApproval:!0,optimizeOnUpload:!0}),(0,oe.dispatch)(Wa.store).reapplyBlockTypeFilters(),l&&(0,oe.select)(Ee.store).get("core","showListViewByDefault")&&!(0,oe.select)(Ee.store).get("core","distractionFree")&&(0,oe.dispatch)(bt.store).setIsListViewOpened(!0),(0,gt.registerCoreBlocks)(),nl(),(0,wt.registerLegacyWidgetBlock)({inserter:!1}),(0,wt.registerWidgetGroupBlock)({inserter:!1}),(0,gt.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:a.__unstableEnableFullSiteEditingBlocks}),(document.compatMode==="CSS1Compat"?"Standards":"Quirks")!=="Standards"&&console.warn(`Your browser is using Quirks Mode. 
This can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins.`),window.navigator.userAgent.indexOf("iPhone")!==-1&&window.addEventListener("scroll",S=>{let u=document.getElementsByClassName("interface-interface-skeleton__body")[0];S.target===document&&(window.scrollY>100&&(u.scrollTop=u.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))}),window.addEventListener("dragover",S=>S.preventDefault(),!1),window.addEventListener("drop",S=>S.preventDefault(),!1),n.render((0,ro.jsx)(ht.StrictMode,{children:(0,ro.jsx)(ja,{settings:a,postId:r,postType:t,initialEdits:s})})),n}function ml(){(0,qa.default)("wp.editPost.reinitializeEditor",{since:"6.2",version:"6.3"})}return fs(fl);})();
//# sourceMappingURL=index.min.js.map
