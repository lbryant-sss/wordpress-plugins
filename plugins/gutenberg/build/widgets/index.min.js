var wp;(wp||={}).widgets=(()=>{var Fe=Object.create;var G=Object.defineProperty;var He=Object.getOwnPropertyDescriptor;var je=Object.getOwnPropertyNames;var Ne=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dt=(e,t)=>{for(var a in t)G(e,a,{get:t[a],enumerable:!0})},Et=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of je(t))!Ve.call(e,s)&&s!==a&&G(e,s,{get:()=>t[s],enumerable:!(r=He(t,s))||r.enumerable});return e};var o=(e,t,a)=>(a=e!=null?Fe(Ne(e)):{},Et(t||!e||!e.__esModule?G(a,"default",{value:e,enumerable:!0}):a,e)),Me=e=>Et(G({},"__esModule",{value:!0}),e);var j=c((ra,Ft)=>{Ft.exports=window.wp.blocks});var $=c((oa,Ht)=>{Ht.exports=window.wp.element});var m=c((sa,jt)=>{jt.exports=window.ReactJSXRuntime});var I=c((fa,Nt)=>{Nt.exports=window.wp.primitives});var E=c((ba,Mt)=>{Mt.exports=window.wp.blockEditor});var L=c((va,Pt)=>{Pt.exports=window.wp.components});var w=c((ya,Dt)=>{Dt.exports=window.wp.i18n});var K=c((ka,Rt)=>{Rt.exports=window.wp.coreData});var V=c((xa,It)=>{It.exports=window.wp.data});var $t=c((La,Gt)=>{Gt.exports=window.wp.notices});var et=c((Ba,Qt)=>{Qt.exports=window.wp.compose});var bt=c((Sa,qt)=>{qt.exports=window.wp.apiFetch});var ea={};dt(ea,{MoveToWidgetArea:()=>Be,addWidgetIdToBlock:()=>Ke,getWidgetIdFromBlock:()=>Xe,registerLegacyWidgetBlock:()=>Ye,registerLegacyWidgetVariations:()=>Ee,registerWidgetGroupBlock:()=>ta});var Tt=o(j());var kt={};dt(kt,{metadata:()=>gt,name:()=>Oe,settings:()=>Ue});var mt=o(m()),Q=o(I()),q=(0,mt.jsx)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,mt.jsx)(Q.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})});var ut=o(m()),Z=o(I()),W=(0,ut.jsx)(Z.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ut.jsx)(Z.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})});var nt=o(m()),J=o(I()),pt=(0,nt.jsx)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,nt.jsx)(J.Path,{d:"M19.75 9c0-1.257-.565-2.197-1.39-2.858-.797-.64-1.827-1.017-2.815-1.247-1.802-.42-3.703-.403-4.383-.396L11 4.5V6l.177-.001c.696-.006 2.416-.02 4.028.356.887.207 1.67.518 2.216.957.52.416.829.945.829 1.688 0 .592-.167.966-.407 1.23-.255.281-.656.508-1.236.674-1.19.34-2.82.346-4.607.346h-.077c-1.692 0-3.527 0-4.942.404-.732.209-1.424.545-1.935 1.108-.526.579-.796 1.33-.796 2.238 0 1.257.565 2.197 1.39 2.858.797.64 1.827 1.017 2.815 1.247 1.802.42 3.703.403 4.383.396L13 19.5h.714V22L18 18.5 13.714 15v3H13l-.177.001c-.696.006-2.416.02-4.028-.356-.887-.207-1.67-.518-2.216-.957-.52-.416-.829-.945-.829-1.688 0-.592.167-.966.407-1.23.255-.281.656-.508 1.237-.674 1.189-.34 2.819-.346 4.606-.346h.077c1.692 0 3.527 0 4.941-.404.732-.209 1.425-.545 1.936-1.108.526-.579.796-1.33.796-2.238z"})});var ct=o(m()),X=o(I()),ht=(0,ct.jsx)(X.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ct.jsx)(X.Path,{d:"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z"})});var gt={$schema:"https://schemas.wp.org/trunk/block.json",apiVersion:3,name:"core/legacy-widget",title:"Legacy Widget",category:"widgets",description:"Display a legacy widget.",textdomain:"default",attributes:{id:{type:"string",default:null},idBase:{type:"string",default:null},instance:{type:"object",default:null}},supports:{html:!1,customClassName:!1,reusable:!1},editorStyle:"wp-block-legacy-widget-editor"};var f=o(m());function Vt(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=Vt(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function De(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=Vt(e))&&(r&&(r+=" "),r+=t);return r}var N=De;var _=o(E()),h=o(L());var st=o(w()),ft=o($()),be=o(K());var wt=o(m()),tt=o(L()),Y=o(w()),Wt=o(V()),At=o(K()),zt=o(E());function Ot({selectedId:e,onSelect:t}){let a=(0,Wt.useSelect)(r=>{let s=r(zt.store).getSettings()?.widgetTypesToHideFromLegacyWidgetBlock??[];return r(At.store).getWidgetTypes({per_page:-1})?.filter(i=>!s.includes(i.id))},[]);return a?a.length===0?(0,Y.__)("There are no widgets available."):(0,wt.jsx)(tt.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,Y.__)("Legacy widget"),value:e??"",options:[{value:"",label:(0,Y.__)("Select widget")},...a.map(r=>({value:r.id,label:r.name}))],onChange:r=>{if(r){let s=a.find(i=>i.id===r);t({selectedId:s.id,isMulti:s.is_multi})}else t({selectedId:null})}}):(0,wt.jsx)(tt.Spinner,{})}var A=o(m());function Ut({name:e,description:t}){return(0,A.jsxs)("div",{className:"wp-block-legacy-widget-inspector-card",children:[(0,A.jsx)("h3",{className:"wp-block-legacy-widget-inspector-card__name",children:e}),(0,A.jsx)("span",{children:t})]})}var B=o(m());var M=o($()),ee=o(V()),ae=o($t()),ot=o(w()),re=o(L()),oe=o(et());var at=o(bt()),Kt=o(et()),Yt=o(w()),rt=class{constructor({id:t,idBase:a,instance:r,onChangeInstance:s,onChangeHasPreview:i,onError:b}){this.id=t,this.idBase=a,this._instance=r,this._hasPreview=null,this.onChangeInstance=s,this.onChangeHasPreview=i,this.onError=b,this.number=++Re,this.handleFormChange=(0,Kt.debounce)(this.handleFormChange.bind(this),200),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.initDOM(),this.bindEvents(),this.loadContent()}destroy(){this.unbindEvents(),this.element.remove()}initDOM(){this.element=y("div",{class:"widget open"},[y("div",{class:"widget-inside"},[this.form=y("form",{class:"form",method:"post"},[y("input",{class:"widget-id",type:"hidden",name:"widget-id",value:this.id??`${this.idBase}-${this.number}`}),y("input",{class:"id_base",type:"hidden",name:"id_base",value:this.idBase??this.id}),y("input",{class:"widget-width",type:"hidden",name:"widget-width",value:"250"}),y("input",{class:"widget-height",type:"hidden",name:"widget-height",value:"200"}),y("input",{class:"widget_number",type:"hidden",name:"widget_number",value:this.idBase?this.number.toString():""}),this.content=y("div",{class:"widget-content"}),this.id&&y("button",{class:"button is-primary",type:"submit"},(0,Yt.__)("Save"))])])])}bindEvents(){if(window.jQuery){let{jQuery:t}=window;t(this.form).on("change",null,this.handleFormChange),t(this.form).on("input",null,this.handleFormChange),t(this.form).on("submit",this.handleFormSubmit)}else this.form.addEventListener("change",this.handleFormChange),this.form.addEventListener("input",this.handleFormChange),this.form.addEventListener("submit",this.handleFormSubmit)}unbindEvents(){if(window.jQuery){let{jQuery:t}=window;t(this.form).off("change",null,this.handleFormChange),t(this.form).off("input",null,this.handleFormChange),t(this.form).off("submit",this.handleFormSubmit)}else this.form.removeEventListener("change",this.handleFormChange),this.form.removeEventListener("input",this.handleFormChange),this.form.removeEventListener("submit",this.handleFormSubmit)}async loadContent(){try{if(this.id){let{form:t}=await Zt(this.id);this.content.innerHTML=t}else if(this.idBase){let{form:t,preview:a}=await vt({idBase:this.idBase,instance:this.instance,number:this.number});if(this.content.innerHTML=t,this.hasPreview=!Jt(a),!this.instance.hash){let{instance:r}=await vt({idBase:this.idBase,instance:this.instance,number:this.number,formData:Xt(this.form)});this.instance=r}}if(window.jQuery){let{jQuery:t}=window;t(document).trigger("widget-added",[t(this.element)])}}catch(t){this.onError(t)}}handleFormChange(){this.idBase&&this.saveForm()}handleFormSubmit(t){t.preventDefault(),this.saveForm()}async saveForm(){let t=Xt(this.form);try{if(this.id){let{form:a}=await Zt(this.id,t);if(this.content.innerHTML=a,window.jQuery){let{jQuery:r}=window;r(document).trigger("widget-updated",[r(this.element)])}}else if(this.idBase){let{instance:a,preview:r}=await vt({idBase:this.idBase,instance:this.instance,number:this.number,formData:t});this.instance=a,this.hasPreview=!Jt(r)}}catch(a){this.onError(a)}}get instance(){return this._instance}set instance(t){this._instance!==t&&(this._instance=t,this.onChangeInstance(t))}get hasPreview(){return this._hasPreview}set hasPreview(t){this._hasPreview!==t&&(this._hasPreview=t,this.onChangeHasPreview(t))}},Re=0;function y(e,t={},a=null){let r=document.createElement(e);for(let[s,i]of Object.entries(t))r.setAttribute(s,i);if(Array.isArray(a))for(let s of a)s&&r.appendChild(s);else typeof a=="string"&&(r.innerText=a);return r}async function Zt(e,t=null){let a;return t?a=await(0,at.default)({path:`/wp/v2/widgets/${e}?context=edit`,method:"PUT",data:{form_data:t}}):a=await(0,at.default)({path:`/wp/v2/widgets/${e}?context=edit`,method:"GET"}),{form:a.rendered_form}}async function vt({idBase:e,instance:t,number:a,formData:r=null}){let s=await(0,at.default)({path:`/wp/v2/widget-types/${e}/encode`,method:"POST",data:{instance:t,number:a,form_data:r}});return{instance:s.instance,form:s.form,preview:s.preview}}function Jt(e){let t=document.createElement("div");return t.innerHTML=e,te(t)}function te(e){switch(e.nodeType){case e.TEXT_NODE:return e.nodeValue.trim()==="";case e.ELEMENT_NODE:return["AUDIO","CANVAS","EMBED","IFRAME","IMG","MATH","OBJECT","SVG","VIDEO"].includes(e.tagName)?!1:e.hasChildNodes()?Array.from(e.childNodes).every(te):!0;default:return!0}}function Xt(e){return new window.URLSearchParams(Array.from(new window.FormData(e))).toString()}function se({title:e,isVisible:t,id:a,idBase:r,instance:s,isWide:i,onChangeInstance:b,onChangeHasPreview:v}){let l=(0,M.useRef)(),p=(0,oe.useViewportMatch)("small"),d=(0,M.useRef)(new Set),g=(0,M.useRef)(new Set),{createNotice:C}=(0,ee.useDispatch)(ae.store);return(0,M.useEffect)(()=>{if(g.current.has(s)){g.current.delete(s);return}let T=new rt({id:a,idBase:r,instance:s,onChangeInstance(H){d.current.add(s),g.current.add(H),b(H)},onChangeHasPreview:v,onError(H){window.console.error(H),C("error",(0,ot.sprintf)((0,ot.__)('The "%s" block was affected by errors and may not function properly. Check the developer tools for more details.'),r||a))}});return l.current.appendChild(T.element),()=>{if(d.current.has(s)){d.current.delete(s);return}T.destroy()}},[a,r,s,b,v,p]),i&&p?(0,B.jsxs)("div",{className:N({"wp-block-legacy-widget__container":t}),children:[t&&(0,B.jsx)("h3",{className:"wp-block-legacy-widget__edit-form-title",children:e}),(0,B.jsx)(re.Popover,{focusOnMount:!1,placement:"right",offset:32,resize:!1,flip:!1,shift:!0,children:(0,B.jsx)("div",{ref:l,className:"wp-block-legacy-widget__edit-form",hidden:!t})})]}):(0,B.jsx)("div",{ref:l,className:"wp-block-legacy-widget__edit-form",hidden:!t,children:(0,B.jsx)("h3",{className:"wp-block-legacy-widget__edit-form-title",children:e})})}var k=o(m());var fe=o(et()),z=o($()),P=o(L()),ie=o(w()),le=o(bt());function de({idBase:e,instance:t,isVisible:a}){let[r,s]=(0,z.useState)(!1),[i,b]=(0,z.useState)("");(0,z.useEffect)(()=>{let l=typeof window.AbortController>"u"?void 0:new window.AbortController;async function p(){let d=`/wp/v2/widget-types/${e}/render`;return await(0,le.default)({path:d,method:"POST",signal:l?.signal,data:t?{instance:t}:{}})}return p().then(d=>{b(d.preview)}).catch(d=>{if(d.name!=="AbortError")throw d}),()=>l?.abort()},[e,t]);let v=(0,fe.useRefEffect)(l=>{if(!r)return;function p(){let C=Math.max(l.contentDocument.documentElement?.offsetHeight??0,l.contentDocument.body?.offsetHeight??0);l.style.height=`${C!==0?C:100}px`}let{IntersectionObserver:d}=l.ownerDocument.defaultView,g=new d(([C])=>{C.isIntersecting&&p()},{threshold:1});return g.observe(l),l.addEventListener("load",p),()=>{g.disconnect(),l.removeEventListener("load",p)}},[r]);return(0,k.jsxs)(k.Fragment,{children:[a&&!r&&(0,k.jsx)(P.Placeholder,{children:(0,k.jsx)(P.Spinner,{})}),(0,k.jsx)("div",{className:N("wp-block-legacy-widget__edit-preview",{"is-offscreen":!a||!r}),children:(0,k.jsx)(P.Disabled,{children:(0,k.jsx)("iframe",{ref:v,className:"wp-block-legacy-widget__edit-preview-iframe",tabIndex:"-1",title:(0,ie.__)("Legacy Widget Preview"),srcDoc:i,onLoad:l=>{l.target.contentDocument.body.style.overflow="hidden",s(!0)},height:100})})})]})}var O=o(m()),me=o(w());function ue({name:e}){return(0,O.jsxs)("div",{className:"wp-block-legacy-widget__edit-no-preview",children:[e&&(0,O.jsx)("h3",{children:e}),(0,O.jsx)("p",{children:(0,me.__)("No preview available.")})]})}var ne=o(m()),pe=o(V()),ce=o(E()),he=o(L()),U=o(j()),ge=o(w());function we({clientId:e,rawInstance:t}){let{replaceBlocks:a}=(0,pe.useDispatch)(ce.store);return(0,ne.jsx)(he.ToolbarButton,{onClick:()=>{t.title?a(e,[(0,U.createBlock)("core/heading",{content:t.title}),...(0,U.rawHandler)({HTML:t.text})]):a(e,(0,U.rawHandler)({HTML:t.text}))},children:(0,ge.__)("Convert to blocks")})}function ve(e){let{id:t,idBase:a}=e.attributes,{isWide:r=!1}=e,s=(0,_.useBlockProps)({className:N({"is-wide-widget":r})});return(0,f.jsx)("div",{...s,children:!t&&!a?(0,f.jsx)(Ie,{...e}):(0,f.jsx)(We,{...e})})}function Ie({attributes:{id:e,idBase:t},setAttributes:a}){return(0,f.jsx)(h.Placeholder,{icon:(0,f.jsx)(_.BlockIcon,{icon:q}),label:(0,st.__)("Legacy Widget"),children:(0,f.jsx)(h.Flex,{children:(0,f.jsx)(h.FlexBlock,{children:(0,f.jsx)(Ot,{selectedId:e??t,onSelect:({selectedId:r,isMulti:s})=>{a(r?s?{id:null,idBase:r,instance:{}}:{id:r,idBase:null,instance:null}:{id:null,idBase:null,instance:null})}})})})})}function We({attributes:{id:e,idBase:t,instance:a},setAttributes:r,clientId:s,isSelected:i,isWide:b=!1}){let[v,l]=(0,ft.useState)(null),p=e??t,{record:d,hasResolved:g}=(0,be.useEntityRecord)("root","widgetType",p),C=(0,ft.useCallback)(H=>{r({instance:H})},[]);if(!d&&g)return(0,f.jsx)(h.Placeholder,{icon:(0,f.jsx)(_.BlockIcon,{icon:q}),label:(0,st.__)("Legacy Widget"),children:(0,st.__)("Widget is missing.")});if(!g)return(0,f.jsx)(h.Placeholder,{children:(0,f.jsx)(h.Spinner,{})});let T=t&&!i?"preview":"edit";return(0,f.jsxs)(f.Fragment,{children:[t==="text"&&(0,f.jsx)(_.BlockControls,{group:"other",children:(0,f.jsx)(we,{clientId:s,rawInstance:a.raw})}),(0,f.jsx)(_.InspectorControls,{children:(0,f.jsx)(Ut,{name:d.name,description:d.description})}),(0,f.jsx)(se,{title:d.name,isVisible:T==="edit",id:e,idBase:t,instance:a,isWide:b,onChangeInstance:C,onChangeHasPreview:l}),t&&(0,f.jsxs)(f.Fragment,{children:[v===null&&T==="preview"&&(0,f.jsx)(h.Placeholder,{children:(0,f.jsx)(h.Spinner,{})}),v===!0&&(0,f.jsx)(de,{idBase:t,instance:a,isVisible:T==="preview"}),v===!1&&T==="preview"&&(0,f.jsx)(ue,{name:d.name})]})]})}var yt=o(j()),Ae=[{block:"core/calendar",widget:"calendar"},{block:"core/search",widget:"search"},{block:"core/html",widget:"custom_html",transform:({content:e})=>({content:e})},{block:"core/archives",widget:"archives",transform:({count:e,dropdown:t})=>({displayAsDropdown:!!t,showPostCounts:!!e})},{block:"core/latest-posts",widget:"recent-posts",transform:({show_date:e,number:t})=>({displayPostDate:!!e,postsToShow:t})},{block:"core/latest-comments",widget:"recent-comments",transform:({number:e})=>({commentsToShow:e})},{block:"core/tag-cloud",widget:"tag_cloud",transform:({taxonomy:e,count:t})=>({showTagCounts:!!t,taxonomy:e})},{block:"core/categories",widget:"categories",transform:({count:e,dropdown:t,hierarchical:a})=>({displayAsDropdown:!!t,showPostCounts:!!e,showHierarchy:!!a})},{block:"core/audio",widget:"media_audio",transform:({url:e,preload:t,loop:a,attachment_id:r})=>({src:e,id:r,preload:t,loop:a})},{block:"core/video",widget:"media_video",transform:({url:e,preload:t,loop:a,attachment_id:r})=>({src:e,id:r,preload:t,loop:a})},{block:"core/image",widget:"media_image",transform:({alt:e,attachment_id:t,caption:a,height:r,link_classes:s,link_rel:i,link_target_blank:b,link_type:v,link_url:l,size:p,url:d,width:g})=>({alt:e,caption:a,height:r,id:t,link:l,linkClass:s,linkDestination:v,linkTarget:b?"_blank":void 0,rel:i,sizeSlug:p,url:d,width:g})},{block:"core/gallery",widget:"media_gallery",transform:({ids:e,link_type:t,size:a,number:r})=>({ids:e,columns:r,linkTo:t,sizeSlug:a,images:e.map(s=>({id:s}))})},{block:"core/rss",widget:"rss",transform:({url:e,show_author:t,show_date:a,show_summary:r,items:s})=>({feedURL:e,displayAuthor:!!t,displayDate:!!a,displayExcerpt:!!r,itemsToShow:s})}].map(({block:e,widget:t,transform:a})=>({type:"block",blocks:[e],isMatch:({idBase:r,instance:s})=>r===t&&!!s?.raw,transform:({instance:r})=>{let s=(0,yt.createBlock)(e,a?a(r.raw):void 0);return r.raw?.title?[(0,yt.createBlock)("core/heading",{content:r.raw.title}),s]:s}})),ze={to:Ae},ye=ze;var{name:Oe}=gt,Ue={icon:ht,edit:ve,transforms:ye};var Bt={};dt(Bt,{metadata:()=>xt,name:()=>Ze,settings:()=>Je});var Ct=o(w()),Lt=o(j());var xt={$schema:"https://schemas.wp.org/trunk/block.json",apiVersion:3,name:"core/widget-group",title:"Widget Group",category:"widgets",attributes:{title:{type:"string"}},supports:{html:!1,inserter:!0,customClassName:!0,reusable:!1},editorStyle:"wp-block-widget-group-editor",style:"wp-block-widget-group"};var u=o(m()),n=o(E()),ke=o(L());var _t=o(w()),xe=o(V());function _e(e){let{clientId:t}=e,{innerBlocks:a}=(0,xe.useSelect)(r=>r(n.store).getBlock(t),[t]);return(0,u.jsx)("div",{...(0,n.useBlockProps)({className:"widget"}),children:a.length===0?(0,u.jsx)($e,{...e}):(0,u.jsx)(Qe,{...e})})}function $e({clientId:e}){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ke.Placeholder,{className:"wp-block-widget-group__placeholder",icon:(0,u.jsx)(n.BlockIcon,{icon:W}),label:(0,_t.__)("Widget Group"),children:(0,u.jsx)(n.ButtonBlockAppender,{rootClientId:e})}),(0,u.jsx)(n.InnerBlocks,{renderAppender:!1})]})}function Qe({attributes:e,setAttributes:t}){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.RichText,{tagName:"h2",identifier:"title",className:"widget-title",allowedFormats:[],placeholder:(0,_t.__)("Title"),value:e.title??"",onChange:a=>t({title:a})}),(0,u.jsx)(n.InnerBlocks,{})]})}var S=o(m()),it=o(E());function Ce({attributes:e}){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(it.RichText.Content,{tagName:"h2",className:"widget-title",value:e.title}),(0,S.jsx)("div",{className:"wp-widget-group__inner-blocks",children:(0,S.jsx)(it.InnerBlocks.Content,{})})]})}var F=o(m()),lt=o(E()),qe={attributes:{title:{type:"string"}},supports:{html:!1,inserter:!0,customClassName:!0,reusable:!1},save({attributes:e}){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(lt.RichText.Content,{tagName:"h2",className:"widget-title",value:e.title}),(0,F.jsx)(lt.InnerBlocks.Content,{})]})}},Le=[qe];var{name:Ze}=xt,Je={title:(0,Ct.__)("Widget Group"),description:(0,Ct.__)("Create a classic widget layout with a title that\u2019s styled by your theme for your widget areas."),icon:W,__experimentalLabel:({name:e})=>e,edit:_e,save:Ce,transforms:{from:[{type:"block",isMultiBlock:!0,blocks:["*"],isMatch(e,t){return!t.some(a=>a.name==="core/widget-group")},__experimentalConvert(e){let t=[...e.map(r=>(0,Lt.createBlock)(r.name,r.attributes,r.innerBlocks))],a=t[0].name==="core/heading"?t[0]:null;return t=t.filter(r=>r!==a),(0,Lt.createBlock)("core/widget-group",{...a&&{title:a.attributes.content}},t)}}]},deprecated:Le};var D=o(m()),x=o(L()),St=o(w());function Be({currentWidgetAreaId:e,widgetAreas:t,onSelect:a}){return(0,D.jsx)(x.ToolbarGroup,{children:(0,D.jsx)(x.ToolbarItem,{children:r=>(0,D.jsx)(x.DropdownMenu,{icon:pt,label:(0,St.__)("Move to widget area"),toggleProps:r,children:({onClose:s})=>(0,D.jsx)(x.MenuGroup,{label:(0,St.__)("Move to"),children:(0,D.jsx)(x.MenuItemsChoice,{choices:t.map(i=>({value:i.id,label:i.name,info:i.description})),value:e,onSelect:i=>{a(i),s()}})})})})})}function Xe(e){return e.attributes.__internalWidgetId}function Ke(e,t){return{...e,attributes:{...e.attributes||{},__internalWidgetId:t}}}var R=o(V()),Se=o(K()),Te=o(j());function Ee(e){let t=(0,R.subscribe)(()=>{let a=e?.widgetTypesToHideFromLegacyWidgetBlock??[],r=(0,R.select)(Se.store).getWidgetTypes({per_page:-1})?.filter(s=>!a.includes(s.id));r&&(t(),(0,R.dispatch)(Te.store).addBlockVariations("core/legacy-widget",r.map(s=>({name:s.id,title:s.name,description:s.description,attributes:s.is_multi?{idBase:s.id,instance:{}}:{id:s.id}}))))})}function Ye(e={}){let{metadata:t,settings:a,name:r}=kt;(0,Tt.registerBlockType)({name:r,...t},{...a,supports:{...a.supports,...e}})}function ta(e={}){let{metadata:t,settings:a,name:r}=Bt;(0,Tt.registerBlockType)({name:r,...t},{...a,supports:{...a.supports,...e}})}return Me(ea);})();
//# sourceMappingURL=index.min.js.map
