var wp;(wp||={}).formatLibrary=(()=>{var Do=Object.create;var oa=Object.defineProperty;var Oo=Object.getOwnPropertyDescriptor;var Wo=Object.getOwnPropertyNames;var Go=Object.getPrototypeOf,Ko=Object.prototype.hasOwnProperty;var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Zo=(t,e,a,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Wo(e))!Ko.call(t,s)&&s!==a&&oa(t,s,{get:()=>e[s],enumerable:!(r=Oo(e,s))||r.enumerable});return t};var o=(t,e,a)=>(a=t!=null?Do(Go(t)):{},Zo(e||!t||!t.__esModule?oa(a,"default",{value:t,enumerable:!0}):a,t));var g=L((Cr,ra)=>{ra.exports=window.wp.richText});var u=L((Sr,sa)=>{sa.exports=window.ReactJSXRuntime});var x=L((Tr,la)=>{la.exports=window.wp.i18n});var y=L((vr,fa)=>{fa.exports=window.wp.blockEditor});var j=L((Lr,ia)=>{ia.exports=window.wp.element});var B=L((Nr,ma)=>{ma.exports=window.wp.primitives});var ua=L((ls,na)=>{na.exports=window.wp.privateApis});var X=L((cs,xa)=>{xa.exports=window.wp.components});var Pt=L((ws,ka)=>{ka.exports=window.wp.url});var Ca=L((ys,_a)=>{_a.exports=window.wp.htmlEntities});var De=L((ks,Sa)=>{Sa.exports=window.wp.a11y});var Oe=L((_s,Ta)=>{Ta.exports=window.wp.data});var Ia=L((Ss,Na)=>{Na.exports=window.wp.compose});var No=L((tl,Bo)=>{Bo.exports=window.wp.latexToMathml});var Ao=o(g());var z=o(u()),pa=o(x()),Fe=o(g()),D=o(y());var wt=o(j()),re=(0,wt.forwardRef)(({icon:t,size:e=24,...a},r)=>(0,wt.cloneElement)(t,{width:e,height:e,...a,ref:r}));var se=o(u()),yt=o(B()),le=(0,se.jsx)(yt.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,se.jsx)(yt.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"})});var fe=o(u()),kt=o(B()),ie=(0,fe.jsx)(kt.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,fe.jsx)(kt.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})});var me=o(u()),_t=o(B()),ne=(0,me.jsx)(_t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,me.jsx)(_t.Path,{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"})});var ue=o(u()),Ct=o(B()),de=(0,ue.jsx)(Ct.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ue.jsx)(Ct.Path,{d:"M14.7 11.3c1-.6 1.5-1.6 1.5-3 0-2.3-1.3-3.4-4-3.4H7v14h5.8c1.4 0 2.5-.3 3.3-1 .8-.7 1.2-1.7 1.2-2.9.1-1.9-.8-3.1-2.6-3.7zm-5.1-4h2.3c.6 0 1.1.1 1.4.4.3.3.5.7.5 1.2s-.2 1-.5 1.2c-.3.3-.8.4-1.4.4H9.6V7.3zm4.6 9c-.4.3-1 .4-1.7.4H9.6v-3.9h2.9c.7 0 1.3.2 1.7.5.4.3.6.8.6 1.5s-.2 1.2-.6 1.5z"})});var pe=o(u()),St=o(B()),ce=(0,pe.jsx)(St.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(St.Path,{d:"M12.5 5L10 19h1.9l2.5-14z"})});var he=o(u()),Tt=o(B()),ge=(0,he.jsx)(Tt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,he.jsx)(Tt.Path,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"})});var xe=o(u()),vt=o(B()),be=(0,xe.jsx)(vt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,xe.jsx)(vt.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})});var we=o(u()),Lt=o(B()),ye=(0,we.jsx)(Lt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,we.jsx)(Lt.Path,{d:"M17.5 10h-1.7l-3.7 10.5h1.7l.9-2.6h3.9l.9 2.6h1.7L17.5 10zm-2.2 6.3 1.4-4 1.4 4h-2.8zm-4.8-3.8c1.6-1.8 2.9-3.6 3.7-5.7H16V5.2h-5.8V3H8.8v2.2H3v1.5h9.6c-.7 1.6-1.8 3.1-3.1 4.6C8.6 10.2 7.8 9 7.2 8H5.6c.6 1.4 1.7 2.9 2.9 4.4l-2.4 2.4c-.3.4-.7.8-1.1 1.2l1 1 1.2-1.2c.8-.8 1.6-1.5 2.3-2.3.8.9 1.7 1.7 2.5 2.5l.6-1.5c-.7-.6-1.4-1.3-2.1-2z"})});var ke=o(u()),Bt=o(B()),_e=(0,ke.jsx)(Bt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ke.jsx)(Bt.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});var Ce=o(u()),Nt=o(B()),Se=(0,Ce.jsx)(Nt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Ce.jsx)(Nt.Path,{d:"M11.2 6.8c-.7 0-1.4.5-1.6 1.1l-2.8 7.5-1.2-1.8c-.1-.2-.4-.3-.6-.3H3v1.5h1.6l1.2 1.8c.6.9 1.9.7 2.2-.3l2.9-7.9s.1-.2.2-.2h7.8V6.7h-7.8Zm5.3 3.4-1.9 1.9-1.9-1.9-1.1 1.1 1.9 1.9-1.9 1.9 1.1 1.1 1.9-1.9 1.9 1.9 1.1-1.1-1.9-1.9 1.9-1.9-1.1-1.1Z"})});var Te=o(u()),It=o(B()),ve=(0,Te.jsx)(It.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Te.jsx)(It.Path,{d:"M16.9 18.3l.8-1.2c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.1-.3-.4-.5-.6-.7-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.2 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3L15 19.4h4.3v-1.2h-2.4zM14.1 7.2h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z"})});var Le=o(u()),Vt=o(B()),Be=(0,Le.jsx)(Vt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Le.jsx)(Vt.Path,{d:"M16.9 10.3l.8-1.3c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.2-.2-.4-.4-.7-.6-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.1 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3l-1.8 2.8h4.3v-1.2h-2.2zm-2.8-3.1h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z"})});var Ne=o(u()),Rt=o(B()),Ie=(0,Ne.jsx)(Rt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Ne.jsx)(Rt.Path,{d:"M12.9 6h-2l-4 11h1.9l1.1-3h4.2l1.1 3h1.9L12.9 6zm-2.5 6.5l1.5-4.9 1.7 4.9h-3.2z"})});var da=o(ua()),{lock:fs,unlock:P}=(0,da.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/format-library");var{essentialFormatKey:qo}=P(D.privateApis),Ve="core/bold",Re=(0,pa.__)("Bold"),ca={name:Ve,title:Re,tagName:"strong",className:null,[qo]:!0,edit({isActive:t,value:e,onChange:a,onFocus:r}){function s(){a((0,Fe.toggleFormat)(e,{type:Ve,title:Re}))}function l(){a((0,Fe.toggleFormat)(e,{type:Ve})),r()}return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(D.RichTextShortcut,{type:"primary",character:"b",onUse:s}),(0,z.jsx)(D.RichTextToolbarButton,{name:"bold",icon:de,title:Re,onClick:l,isActive:t,shortcutType:"primary",shortcutCharacter:"b"}),(0,z.jsx)(D.__unstableRichTextInputEvent,{inputType:"formatBold",onInput:s})]})}};var Q=o(u()),ha=o(x()),J=o(g()),Ft=o(y());var je="core/code",Pe=(0,ha.__)("Inline code"),ga={name:je,title:Pe,tagName:"code",className:null,__unstableInputRule(t){let{start:a,text:r}=t;if(r[a-1]!=="`"||a-2<0)return t;let l=r.lastIndexOf("`",a-2);if(l===-1)return t;let f=l,i=a-2;return f===i||(t=(0,J.remove)(t,f,f+1),t=(0,J.remove)(t,i,i+1),t=(0,J.applyFormat)(t,{type:je},f,i)),t},edit({value:t,onChange:e,onFocus:a,isActive:r}){function s(){e((0,J.toggleFormat)(t,{type:je,title:Pe})),a()}return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Ft.RichTextShortcut,{type:"access",character:"x",onUse:s}),(0,Q.jsx)(Ft.RichTextToolbarButton,{icon:ie,title:Pe,onClick:s,isActive:r,role:"menuitemcheckbox"})]})}};var c=o(u()),k=o(X()),V=o(x()),Ee=o(j()),jt=o(g()),it=o(y()),$o=["image"],Me="core/image",ba=(0,V.__)("Inline image");function Yo(t){if(!t?.className)return;let[,e]=t.className.match(/wp-image-(\d+)/)??[];return e?parseInt(e,10):void 0}var Ae={name:Me,title:ba,keywords:[(0,V.__)("photo"),(0,V.__)("media")],object:!0,tagName:"img",className:null,attributes:{className:"class",style:"style",url:"src",alt:"alt"},edit:Jo};function Qo({value:t,onChange:e,activeObjectAttributes:a,contentRef:r}){let{style:s,alt:l}=a,f=s?.replace(/\D/g,""),[i,m]=(0,Ee.useState)(f),[n,w]=(0,Ee.useState)(l),S=i!==f||n!==l,R=(0,jt.useAnchor)({editableContentElement:r.current,settings:Ae});return(0,c.jsx)(k.Popover,{placement:"bottom",focusOnMount:!1,anchor:R,className:"block-editor-format-toolbar__image-popover",children:(0,c.jsx)("form",{className:"block-editor-format-toolbar__image-container-content",onSubmit:_=>{let C=t.replacements.slice();C[t.start]={type:Me,attributes:{...a,style:i?`width: ${i}px;`:"",alt:n}},e({...t,replacements:C}),_.preventDefault()},children:(0,c.jsxs)(k.__experimentalVStack,{spacing:4,children:[(0,c.jsx)(k.__experimentalNumberControl,{__next40pxDefaultSize:!0,label:(0,V.__)("Width"),value:i,min:1,onChange:_=>{m(_)}}),(0,c.jsx)(k.TextareaControl,{label:(0,V.__)("Alternative text"),__nextHasNoMarginBottom:!0,value:n,onChange:_=>{w(_)},help:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(k.ExternalLink,{href:(0,V.__)("https://www.w3.org/WAI/tutorials/images/decision-tree/"),children:(0,V.__)("Describe the purpose of the image.")}),(0,c.jsx)("br",{}),(0,V.__)("Leave empty if decorative.")]})}),(0,c.jsx)(k.__experimentalHStack,{justify:"right",children:(0,c.jsx)(k.Button,{disabled:!S,accessibleWhenDisabled:!0,variant:"primary",type:"submit",size:"compact",children:(0,V.__)("Apply")})})]})})})}function Jo({value:t,onChange:e,onFocus:a,isObjectActive:r,activeObjectAttributes:s,contentRef:l}){return(0,c.jsxs)(it.MediaUploadCheck,{children:[(0,c.jsx)(it.MediaUpload,{allowedTypes:$o,value:Yo(s),onSelect:({id:f,url:i,alt:m,width:n})=>{e((0,jt.insertObject)(t,{type:Me,attributes:{className:`wp-image-${f}`,style:`width: ${Math.min(n,150)}px;`,url:i,alt:m}})),a()},render:({open:f})=>(0,c.jsx)(it.RichTextToolbarButton,{icon:(0,c.jsx)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(k.Path,{d:"M4 18.5h16V17H4v1.5zM16 13v1.5h4V13h-4zM5.1 15h7.8c.6 0 1.1-.5 1.1-1.1V6.1c0-.6-.5-1.1-1.1-1.1H5.1C4.5 5 4 5.5 4 6.1v7.8c0 .6.5 1.1 1.1 1.1zm.4-8.5h7V10l-1-1c-.3-.3-.8-.3-1 0l-1.6 1.5-1.2-.7c-.3-.2-.6-.2-.9 0l-1.3 1V6.5zm0 6.1l1.8-1.3 1.3.8c.3.2.7.2.9-.1l1.5-1.4 1.5 1.4v1.5h-7v-.9z"})}),title:r?(0,V.__)("Replace image"):ba,onClick:f,isActive:r})}),r&&(0,c.jsx)(Qo,{value:t,onChange:e,activeObjectAttributes:s,contentRef:l})]})}var O=o(u()),wa=o(x()),ze=o(g()),W=o(y());var{essentialFormatKey:Xo}=P(W.privateApis),He="core/italic",Ue=(0,wa.__)("Italic"),ya={name:He,title:Ue,tagName:"em",className:null,[Xo]:!0,edit({isActive:t,value:e,onChange:a,onFocus:r}){function s(){a((0,ze.toggleFormat)(e,{type:He,title:Ue}))}function l(){a((0,ze.toggleFormat)(e,{type:He})),r()}return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(W.RichTextShortcut,{type:"primary",character:"i",onUse:s}),(0,O.jsx)(W.RichTextToolbarButton,{name:"italic",icon:ce,title:Ue,onClick:l,isActive:t,shortcutType:"primary",shortcutCharacter:"i"}),(0,O.jsx)(W.__unstableRichTextInputEvent,{inputType:"formatItalic",onInput:s})]})}};var H=o(u()),Ut=o(x()),tt=o(j()),b=o(g()),at=o(Pt()),et=o(y()),Aa=o(Ca());var Ha=o(De());var ht=o(u()),Mt=o(j()),E=o(x()),ct=o(De()),Pa=o(X()),Ea=o(Pt()),d=o(g()),mt=o(y()),At=o(Oe());var p=o(Pt());function Et(t){if(!t)return!1;let e=t.trim();if(!e)return!1;if(/^\S+:/.test(e)){let a=(0,p.getProtocol)(e);if(!(0,p.isValidProtocol)(a)||a.startsWith("http")&&!/^https?:\/\/[^\/\s]/i.test(e))return!1;let r=(0,p.getAuthority)(e);if(!(0,p.isValidAuthority)(r))return!1;let s=(0,p.getPath)(e);if(s&&!(0,p.isValidPath)(s))return!1;let l=(0,p.getQueryString)(e);if(l&&!(0,p.isValidQueryString)(l))return!1;let f=(0,p.getFragment)(e);if(f&&!(0,p.isValidFragment)(f))return!1}return!(e.startsWith("#")&&!(0,p.isValidFragment)(e))}function va({url:t,type:e,id:a,opensInNewWindow:r,nofollow:s,cssClasses:l}){let f={type:"core/link",attributes:{url:t}};e&&(f.attributes.type=e),a&&(f.attributes.id=a),r&&(f.attributes.target="_blank",f.attributes.rel=f.attributes.rel?f.attributes.rel+" noreferrer noopener":"noreferrer noopener"),s&&(f.attributes.rel=f.attributes.rel?f.attributes.rel+" nofollow":"nofollow");let i=l?.trim();return i?.length&&(f.attributes.class=i),f}function We(t,e,a=t.start,r=t.end){let s={start:null,end:null},{formats:l}=t,f,i;if(!l?.length)return s;let m=l.slice(),n=m[a]?.find(({type:C})=>C===e.type),w=m[r]?.find(({type:C})=>C===e.type),S=m[r-1]?.find(({type:C})=>C===e.type);if(n)f=n,i=a;else if(w)f=w,i=r;else if(S)f=S,i=r-1;else return s;let R=m[i].indexOf(f),_=[m,i,f,R];return a=tr(..._),r=er(..._),a=a<0?0:a,{start:a,end:r}}function La(t,e,a,r,s){let l=e,i={forwards:1,backwards:-1}[s]||1,m=i*-1;for(;t[l]&&t[l][r]===a;)l=l+i;return l=l+m,l}var Ba=(t,...e)=>(...a)=>t(...a,...e),tr=Ba(La,"backwards"),er=Ba(La,"forwards");var G=o(u()),Va=o(j()),Ra=o(Ia()),Ge=o(x()),K=o(X()),Fa=({setting:t,value:e,onChange:a})=>{let r=e?e?.cssClasses?.length>0:!1,[s,l]=(0,Va.useState)(r),i=`css-classes-setting-${(0,Ra.useInstanceId)(Fa)}`,m=w=>{let S=typeof w=="string"?w.replace(/,/g," ").replace(/\s+/g," ").trim():w;a({...e,[t.id]:S})},n=()=>{s?(r&&m(""),l(!1)):l(!0)};return(0,G.jsxs)("fieldset",{children:[(0,G.jsx)(K.VisuallyHidden,{as:"legend",children:t.title}),(0,G.jsxs)(K.__experimentalVStack,{spacing:3,children:[(0,G.jsx)(K.CheckboxControl,{__nextHasNoMarginBottom:!0,label:t.title,onChange:n,checked:s||r,"aria-expanded":s,"aria-controls":s?i:void 0}),s&&(0,G.jsx)("div",{id:i,children:(0,G.jsx)(K.__experimentalInputControl,{label:(0,Ge.__)("CSS classes"),value:e?.cssClasses,onChange:m,help:(0,Ge.__)("Separate multiple classes with spaces."),__unstableInputWidth:"100%",__next40pxDefaultSize:!0})})]})]})},ja=Fa;var ar=[...mt.LinkControl.DEFAULT_LINK_SETTINGS,{id:"nofollow",title:(0,E.__)("Mark as nofollow")},{id:"cssClasses",title:(0,E.__)("Additional CSS class(es)"),render:(t,e,a)=>(0,ht.jsx)(ja,{setting:t,value:e,onChange:a})}];function or({isActive:t,activeAttributes:e,value:a,onChange:r,onFocusOutside:s,stopAddingLink:l,contentRef:f,focusOnMount:i}){let n=rr(a,t).text,{selectionChange:w}=(0,At.useDispatch)(mt.store),{createPageEntity:S,userCanCreatePages:R,selectionStart:_}=(0,At.useSelect)(h=>{let{getSettings:Y,getSelectionStart:ae}=h(mt.store),lt=Y();return{createPageEntity:lt.__experimentalCreatePageEntity,userCanCreatePages:lt.__experimentalUserCanCreatePages,selectionStart:ae()}},[]),C=(0,Mt.useMemo)(()=>({url:e.url,type:e.type,id:e.id,opensInNewTab:e.target==="_blank",nofollow:e.rel?.includes("nofollow"),title:n,cssClasses:e.class}),[e.class,e.id,e.rel,e.target,e.type,e.url,n]);function te(){let h=(0,d.removeFormat)(a,"core/link");r(h),l(),(0,ct.speak)((0,E.__)("Link removed."),"assertive")}function F(h){let ae=!C?.url;h={...C,...h};let lt=(0,Ea.prependHTTP)(h.url),oe=va({url:lt,type:h.type,id:h.id!==void 0&&h.id!==null?String(h.id):void 0,opensInNewWindow:h.opensInNewTab,nofollow:h.nofollow,cssClasses:h.cssClasses}),ft=h.title||lt,A;if((0,d.isCollapsed)(a)&&!t){let bt=(0,d.insert)(a,ft);A=(0,d.applyFormat)(bt,oe,a.start,a.start+ft.length),r(A),l(),w({clientId:_.clientId,identifier:_.attributeKey,start:a.start+ft.length+1});return}else if(ft===n)A=(0,d.applyFormat)(a,oe);else{A=(0,d.create)({text:ft}),A=(0,d.applyFormat)(A,oe,0,ft.length);let bt=We(a,{type:"core/link"}),[Ho,Uo]=(0,d.split)(a,bt.start,bt.start),zo=(0,d.replace)(Uo,n,A);A=(0,d.concat)(Ho,zo)}r(A),ae||l(),Et(lt)?t?(0,ct.speak)((0,E.__)("Link edited."),"assertive"):(0,ct.speak)((0,E.__)("Link inserted."),"assertive"):(0,ct.speak)((0,E.__)("Warning: the link has been inserted but may have errors. Please test it."),"assertive")}let T=(0,d.useAnchor)({editableContentElement:f.current,settings:{...Ht,isActive:t}});async function ee(h){let Y=await S({title:h,status:"draft"});return{id:Y.id,type:Y.type,title:Y.title.rendered,url:Y.link,kind:"post-type"}}function xt(h){return(0,Mt.createInterpolateElement)((0,E.sprintf)((0,E.__)("Create page: <mark>%s</mark>"),h),{mark:(0,ht.jsx)("mark",{})})}return(0,ht.jsx)(Pa.Popover,{anchor:T,animate:!1,onClose:l,onFocusOutside:s,placement:"bottom",offset:8,shift:!0,focusOnMount:i,constrainTabbing:!0,children:(0,ht.jsx)(mt.LinkControl,{value:C,onChange:F,onRemove:te,hasRichPreviews:!0,createSuggestion:S&&ee,withCreateSuggestion:R,createSuggestionButtonText:xt,hasTextControl:!0,settings:ar,showInitialSuggestions:!0,suggestionsQuery:{initialSuggestionsSearchOptions:{type:"post",subtype:"page",perPage:20}}})})}function rr(t,e){let a=t.start,r=t.end;if(e){let s=We(t,{type:"core/link"});a=s.start,r=s.end+1}return(0,d.slice)(t,a,r)}var Ma=or;var{essentialFormatKey:sr}=P(et.privateApis),nt="core/link",Ua=(0,Ut.__)("Link");function lr({isActive:t,activeAttributes:e,value:a,onChange:r,onFocus:s,contentRef:l}){let[f,i]=(0,tt.useState)(!1),[m,n]=(0,tt.useState)(null);(0,tt.useEffect)(()=>{t||i(!1)},[t]),(0,tt.useLayoutEffect)(()=>{let F=l.current;if(!F)return;function T(ee){let xt=ee.target.closest("[contenteditable] a");!xt||!t||(i(!0),n({el:xt,action:"click"}))}return F.addEventListener("click",T),()=>{F.removeEventListener("click",T)}},[l,t]);function w(F){let T=(0,b.getTextContent)((0,b.slice)(a));!t&&T&&(0,at.isURL)(T)&&Et(T)?r((0,b.applyFormat)(a,{type:nt,attributes:{url:T}})):!t&&T&&(0,at.isEmail)(T)?r((0,b.applyFormat)(a,{type:nt,attributes:{url:`mailto:${T}`}})):!t&&T&&(0,at.isPhoneNumber)(T)?r((0,b.applyFormat)(a,{type:nt,attributes:{url:`tel:${T.replace(/\D/g,"")}`}})):(F&&n({el:F,action:null}),i(!0))}function S(){i(!1),m?.el?.tagName==="BUTTON"?m.el.focus():s(),n(null)}function R(){i(!1),n(null)}function _(){r((0,b.removeFormat)(a,nt)),(0,Ha.speak)((0,Ut.__)("Link removed."),"assertive")}let C=!(m?.el?.tagName==="A"&&m?.action==="click"),te=!(0,b.isCollapsed)(a);return(0,H.jsxs)(H.Fragment,{children:[te&&(0,H.jsx)(et.RichTextShortcut,{type:"primary",character:"k",onUse:w}),(0,H.jsx)(et.RichTextShortcut,{type:"primaryShift",character:"k",onUse:_}),(0,H.jsx)(et.RichTextToolbarButton,{name:"link",icon:_e,title:t?(0,Ut.__)("Link"):Ua,onClick:F=>{w(F.currentTarget)},isActive:t||f,shortcutType:"primary",shortcutCharacter:"k","aria-haspopup":"true","aria-expanded":f}),f&&(0,H.jsx)(Ma,{stopAddingLink:S,onFocusOutside:R,isActive:t,activeAttributes:e,value:a,onChange:r,contentRef:l,focusOnMount:C?"firstElement":!1})]})}var Ht={name:nt,title:Ua,tagName:"a",className:null,attributes:{url:"href",type:"data-type",id:"data-id",_id:"id",target:"target",rel:"rel",class:"class"},[sr]:!0,__unstablePasteRule(t,{html:e,plainText:a}){let r=(e||a).replace(/<[^>]+>/g,"").trim();if(!(0,at.isURL)(r)||!/^https?:/.test(r))return t;window.console.log(`Created link:

`,r);let s={type:nt,attributes:{url:(0,Aa.decodeEntities)(r)}};return(0,b.isCollapsed)(t)?(0,b.insert)(t,(0,b.applyFormat)((0,b.create)({text:a}),s,0,a.length)):(0,b.applyFormat)(t,s)},edit:lr};var ot=o(u()),Da=o(x()),Oa=o(g()),zt=o(y());var za="core/strikethrough",Ke=(0,Da.__)("Strikethrough"),Wa={name:za,title:Ke,tagName:"s",className:null,edit({isActive:t,value:e,onChange:a,onFocus:r}){function s(){a((0,Oa.toggleFormat)(e,{type:za,title:Ke})),r()}return(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(zt.RichTextShortcut,{type:"access",character:"d",onUse:s}),(0,ot.jsx)(zt.RichTextToolbarButton,{icon:ge,title:Ke,onClick:s,isActive:t,role:"menuitemcheckbox"})]})}};var rt=o(u()),Za=o(x()),qa=o(g()),Dt=o(y()),Ga="core/underline",Ka=(0,Za.__)("Underline"),$a={name:Ga,title:Ka,tagName:"span",className:null,attributes:{style:"style"},edit({value:t,onChange:e}){let a=()=>{e((0,qa.toggleFormat)(t,{type:Ga,attributes:{style:"text-decoration: underline;"},title:Ka}))};return(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)(Dt.RichTextShortcut,{type:"primary",character:"u",onUse:a}),(0,rt.jsx)(Dt.__unstableRichTextInputEvent,{inputType:"formatUnderline",onInput:a})]})}};var q=o(u()),to=o(x()),qt=o(j()),$t=o(y());var eo=o(g());var U=o(u()),Qa=o(j()),Ja=o(Oe()),Z=o(g()),M=o(y()),Wt=o(X()),Ze=o(x());var{Tabs:Ot}=P(Wt.privateApis),Ya=[{name:"color",title:(0,Ze.__)("Text")},{name:"backgroundColor",title:(0,Ze.__)("Background")}];function fr(t=""){return t.split(";").reduce((e,a)=>{if(a){let[r,s]=a.split(":");r==="color"&&(e.color=s),r==="background-color"&&s!==gt&&(e.backgroundColor=s)}return e},{})}function ir(t="",e){return t.split(" ").reduce((a,r)=>{if(r.startsWith("has-")&&r.endsWith("-color")){let s=r.replace(/^has-/,"").replace(/-color$/,""),l=(0,M.getColorObjectByAttributeValues)(e,s);a.color=l.color}return a},{})}function Gt(t,e,a){let r=(0,Z.getActiveFormat)(t,e);return r?{...fr(r.attributes.style),...ir(r.attributes.class,a)}:{}}function mr(t,e,a,r){let{color:s,backgroundColor:l}={...Gt(t,e,a),...r};if(!s&&!l)return(0,Z.removeFormat)(t,e);let f=[],i=[],m={};if(l?f.push(["background-color",l].join(":")):f.push(["background-color",gt].join(":")),s){let n=(0,M.getColorObjectByColorValue)(a,s);n?i.push((0,M.getColorClassName)("color",n.slug)):f.push(["color",s].join(":"))}return f.length&&(m.style=f.join(";")),i.length&&(m.class=i.join(" ")),(0,Z.applyFormat)(t,{type:e,attributes:m})}function nr({name:t,property:e,value:a,onChange:r}){let s=(0,Ja.useSelect)(f=>{let{getSettings:i}=f(M.store);return i().colors??[]},[]),l=(0,Qa.useMemo)(()=>Gt(a,t,s),[t,a,s]);return(0,U.jsx)(M.ColorPalette,{value:l[e],onChange:f=>{r(mr(a,t,s,{[e]:f}))},enableAlpha:!0,__experimentalIsRenderedInSidebar:!0})}function Xa({name:t,value:e,onChange:a,onClose:r,contentRef:s,isActive:l}){let f=(0,Z.useAnchor)({editableContentElement:s.current,settings:{...Kt,isActive:l}});return(0,U.jsx)(Wt.Popover,{onClose:r,className:"format-library__inline-color-popover",anchor:f,children:(0,U.jsxs)(Ot,{children:[(0,U.jsx)(Ot.TabList,{children:Ya.map(i=>(0,U.jsx)(Ot.Tab,{tabId:i.name,children:i.title},i.name))}),Ya.map(i=>(0,U.jsx)(Ot.TabPanel,{tabId:i.name,focusable:!1,children:(0,U.jsx)(nr,{name:t,property:i.name,value:e,onChange:a})},i.name))]})})}var gt="rgba(0, 0, 0, 0)",Zt="core/text-color",ao=(0,to.__)("Highlight"),ur=[];function qe(t,e){let{ownerDocument:a}=t,{defaultView:r}=a,l=r.getComputedStyle(t).getPropertyValue(e);return e==="background-color"&&l===gt&&t.parentElement?qe(t.parentElement,e):l}function dr(t,{color:e,backgroundColor:a}){if(!(!e&&!a))return{color:e||qe(t,"color"),backgroundColor:a===gt?qe(t,"background-color"):a}}function pr({value:t,onChange:e,isActive:a,activeAttributes:r,contentRef:s}){let[l,f=ur]=(0,$t.useSettings)("color.custom","color.palette"),[i,m]=(0,qt.useState)(!1),n=(0,qt.useMemo)(()=>dr(s.current,Gt(t,Zt,f)),[s,t,f]),w=!!f.length||l;return!w&&!a?null:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)($t.RichTextToolbarButton,{className:"format-library-text-color-button",isActive:a,icon:(0,q.jsx)(re,{icon:Object.keys(r).length?Ie:ne,style:n}),title:ao,onClick:w?()=>m(!0):()=>e((0,eo.removeFormat)(t,Zt)),role:"menuitemcheckbox"}),i&&(0,q.jsx)(Xa,{name:Zt,onClose:()=>m(!1),activeAttributes:r,value:t,onChange:e,contentRef:s,isActive:a})]})}var Kt={name:Zt,title:ao,tagName:"mark",className:"has-inline-color",attributes:{style:"style",class:"class"},edit:pr};var ro=o(u()),so=o(x()),lo=o(g()),fo=o(y());var oo="core/subscript",$e=(0,so.__)("Subscript"),io={name:oo,title:$e,tagName:"sub",className:null,edit({isActive:t,value:e,onChange:a,onFocus:r}){function s(){a((0,lo.toggleFormat)(e,{type:oo,title:$e}))}function l(){s(),r()}return(0,ro.jsx)(fo.RichTextToolbarButton,{icon:ve,title:$e,onClick:l,isActive:t,role:"menuitemcheckbox"})}};var no=o(u()),uo=o(x()),po=o(g()),co=o(y());var mo="core/superscript",Ye=(0,uo.__)("Superscript"),ho={name:mo,title:Ye,tagName:"sup",className:null,edit({isActive:t,value:e,onChange:a,onFocus:r}){function s(){a((0,po.toggleFormat)(e,{type:mo,title:Ye}))}function l(){s(),r()}return(0,no.jsx)(co.RichTextToolbarButton,{icon:Be,title:Ye,onClick:l,isActive:t,role:"menuitemcheckbox"})}};var xo=o(u()),bo=o(x()),wo=o(g()),yo=o(y());var go="core/keyboard",Qe=(0,bo.__)("Keyboard input"),ko={name:go,title:Qe,tagName:"kbd",className:null,edit({isActive:t,value:e,onChange:a,onFocus:r}){function s(){a((0,wo.toggleFormat)(e,{type:go,title:Qe}))}function l(){s(),r()}return(0,xo.jsx)(yo.RichTextToolbarButton,{icon:le,title:Qe,onClick:l,isActive:t,role:"menuitemcheckbox"})}};var Co=o(u()),So=o(x()),ut=o(g()),To=o(y());var Je="core/unknown",_o=(0,So.__)("Clear Unknown Formatting");function cr(t){return(0,ut.isCollapsed)(t)?!1:(0,ut.slice)(t).formats.some(a=>a.some(r=>r.type===Je))}var vo={name:Je,title:_o,tagName:"*",className:null,edit({isActive:t,value:e,onChange:a,onFocus:r}){if(!t&&!cr(e))return null;function s(){a((0,ut.removeFormat)(e,Je)),r()}return(0,Co.jsx)(To.RichTextToolbarButton,{name:"unknown",icon:be,title:_o,onClick:s,isActive:!0})}};var N=o(u()),st=o(x()),Lo=o(y()),I=o(X()),Yt=o(j()),dt=o(g());var Xe="core/language",Qt=(0,st.__)("Language"),ta={name:Xe,tagName:"bdo",className:null,edit:hr,title:Qt};function hr({isActive:t,value:e,onChange:a,contentRef:r}){let[s,l]=(0,Yt.useState)(!1),f=()=>{l(i=>!i)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Lo.RichTextToolbarButton,{icon:ye,label:Qt,title:Qt,onClick:()=>{t?a((0,dt.removeFormat)(e,Xe)):f()},isActive:t,role:"menuitemcheckbox"}),s&&(0,N.jsx)(gr,{value:e,onChange:a,onClose:f,contentRef:r})]})}function gr({value:t,contentRef:e,onChange:a,onClose:r}){let s=(0,dt.useAnchor)({editableContentElement:e.current,settings:ta}),[l,f]=(0,Yt.useState)(""),[i,m]=(0,Yt.useState)("ltr");return(0,N.jsx)(I.Popover,{className:"block-editor-format-toolbar__language-popover",anchor:s,onClose:r,children:(0,N.jsxs)(I.__experimentalVStack,{as:"form",spacing:4,className:"block-editor-format-toolbar__language-container-content",onSubmit:n=>{n.preventDefault(),a((0,dt.applyFormat)(t,{type:Xe,attributes:{lang:l,dir:i}})),r()},children:[(0,N.jsx)(I.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:Qt,value:l,onChange:n=>f(n),help:(0,st.__)('A valid language attribute, like "en" or "fr".')}),(0,N.jsx)(I.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,st.__)("Text direction"),value:i,options:[{label:(0,st.__)("Left to right"),value:"ltr"},{label:(0,st.__)("Right to left"),value:"rtl"}],onChange:n=>m(n)}),(0,N.jsx)(I.__experimentalHStack,{alignment:"right",children:(0,N.jsx)(I.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",text:(0,st.__)("Apply")})})]})})}var v=o(u()),Jt=o(x()),pt=o(j()),Xt=o(g()),Io=o(y()),$=o(X());var{Badge:xr}=P($.privateApis),ea="core/math",Vo=(0,Jt.__)("Math");function br({value:t,onChange:e,activeAttributes:a,contentRef:r,latexToMathML:s}){let[l,f]=(0,pt.useState)(a?.["data-latex"]||""),[i,m]=(0,pt.useState)(null),n=(0,Xt.useAnchor)({editableContentElement:r.current,settings:aa}),w=S=>{let R;f(S);try{R=s(S,{displayMode:!1}),m(null)}catch(C){m(C.message);return}let _=t.replacements.slice();_[t.start]={type:ea,attributes:{"data-latex":S},innerHTML:R},e({...t,replacements:_})};return(0,v.jsx)($.Popover,{placement:"bottom-start",offset:8,focusOnMount:!1,anchor:n,className:"block-editor-format-toolbar__math-popover",children:(0,v.jsx)("div",{style:{minWidth:"300px",padding:"4px"},children:(0,v.jsxs)($.__experimentalVStack,{spacing:1,children:[(0,v.jsx)($.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,Jt.__)("LaTeX math syntax"),value:l,onChange:w,placeholder:(0,Jt.__)("e.g., x^2, \\frac{a}{b}"),autoComplete:"off"}),i&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(xr,{intent:"error",className:"wp-block-math__error",children:i}),(0,v.jsx)("style",{children:".wp-block-math__error .components-badge__content{white-space:normal}"})]})]})})})}function wr({value:t,onChange:e,onFocus:a,isObjectActive:r,activeObjectAttributes:s,contentRef:l}){let[f,i]=(0,pt.useState)();return(0,pt.useEffect)(()=>{Promise.resolve().then(()=>o(No())).then(m=>{i(()=>m.default)})},[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Io.RichTextToolbarButton,{icon:Se,title:Vo,onClick:()=>{let m=(0,Xt.insertObject)(t,{type:ea,attributes:{"data-latex":""},innerHTML:""});m.start=m.end-1,e(m),a()},isActive:r}),r&&(0,v.jsx)(br,{value:t,onChange:e,activeAttributes:s,contentRef:l,latexToMathML:f})]})}var aa={name:ea,title:Vo,tagName:"math",className:null,attributes:{"data-latex":"data-latex"},contentEditable:!1,edit:wr};var Ro=o(u()),Fo=o(x()),jo=o(g()),Po=o(y()),yr="core/non-breaking-space",kr=(0,Fo.__)("Non breaking space"),Eo={name:yr,title:kr,tagName:"nbsp",className:null,edit({value:t,onChange:e}){function a(){e((0,jo.insert)(t,"\xA0"))}return(0,Ro.jsx)(Po.RichTextShortcut,{type:"primaryShift",character:" ",onUse:a})}};var Mo=[ca,ga,Ae,ya,Ht,Wa,$a,Kt,io,ho,ko,vo,ta,aa,Eo];Mo.forEach(({name:t,...e})=>(0,Ao.registerFormatType)(t,e));})();
//# sourceMappingURL=index.min.js.map
