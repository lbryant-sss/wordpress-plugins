(()=>{"use strict";const e=e=>{const t=document.getElementById("mollie-PayPal-button");if(!t)return;let o=!1;const n=t.children[0].value;t.addEventListener("click",l=>{l.preventDefault(),t&&(t.disabled=!0,t.classList.add("buttonDisabled"),jQuery.ajax({url:e,method:"POST",data:{action:"mollie_paypal_create_order_cart","mollie-payments-for-woocommerce_issuer_paypal_button":"paypal",nonce:n},success:e=>{const t=e.data;!0===e.success?window.location.href=t.redirect:console.log(e.data)},error:(e,o,n)=>{t.disabled=!1,t.classList.remove("buttonDisabled"),console.warn(o,n)}}),o=!0,o&&setTimeout(function(){t.disabled=!1,t.classList.remove("buttonDisabled"),o=!1},3e3))})};!function({_:t,molliepaypalButtonCart:o,jQuery:n}){if(t.isEmpty(o))return;const{product:{minFee:l},ajaxUrl:a}=o;if(!a)return;const s=e=>{e&&c()},c=()=>{const e=document.getElementById("mollie-PayPal-button");null!==e.parentNode&&e.parentNode.removeChild(e)},r=e=>parseFloat(e.textContent).toFixed(2),d=()=>{const e=(()=>{const e=document.getElementsByClassName("cart-subtotal")[0].getElementsByClassName("woocommerce-Price-amount")[0].childNodes[0].cloneNode(!0),t=e.getElementsByClassName("woocommerce-Price-currencySymbol")[0];e.removeChild(t);let o=parseFloat(r(e));return o+=(()=>{const e=document.getElementsByClassName("tax-rate");if(0===e.length)return 0;let t=0;for(const o of e){const e=o.getElementsByClassName("woocommerce-Price-amount")[0].cloneNode(!0),n=e.lastChild;e.removeChild(n),t+=parseFloat(r(e))}return t})(),o})();return l>e};n(document.body).on("updated_cart_totals",function(t){const o=document.getElementById("mollie-PayPal-button");null!=o&&null!=o.parentNode&&(s(d()),e(a))}),setTimeout(function(){const t=document.getElementById("mollie-PayPal-button");null!=t&&null!=t.parentNode&&(s(d()),e(a))},500)}(window)})();