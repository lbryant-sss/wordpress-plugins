jQuery(document).ready(function(){googleConsentMode()}),jQuery(window).on("load",function(){cookiesAndContentPolicyModal(),cookiesAndContentPolicyToggleSwitches(),openCookiesAndContentPolicySettingsLink(),openCookiesAndContentPolicySettingsHash(),gaSetReferrer()});var CACSP_COOKIE_NAME="cookies_and_content_security_policy";function cookiesAndContentPolicyModal(){Cookies.get(CACSP_COOKIE_NAME)||jQuery("body").hasClass("modal-cacsp-do-not-show-cookie-modal")||jQuery("html").hasClass("et-fb-app-frame")||(timer=setTimeout(function(){jQuery("html, body").addClass("modal-cacsp-open"),jQuery(".modal-cacsp-box.modal-cacsp-box-info").addClass("modal-cacsp-box-show")},cacspMessages.cacspTimeout),jQuery(".modal-cacsp-box.modal-cacsp-box-info .modal-cacsp-btns a.modal-cacsp-btn.modal-cacsp-btn-settings").on("click",function(){return openCookiesAndContentPolicySettings(!1),!1}),jQuery(".modal-cacsp-box.modal-cacsp-box-info .modal-cacsp-btns a.modal-cacsp-btn.modal-cacsp-btn-refuse").on("click",function(){return jQuery(".modal-cacsp-box.modal-cacsp-box-settings .modal-cacsp-btns a.modal-cacsp-btn.modal-cacsp-btn-save").trigger("click"),!1}),jQuery(".modal-cacsp-box.modal-cacsp-box-info .modal-cacsp-btns a.modal-cacsp-btn.modal-cacsp-btn-accept").on("click",function(){return jQuery(".modal-cacsp-box.modal-cacsp-box-settings .modal-cacsp-btns a.modal-cacsp-btn.modal-cacsp-btn-accept-all").trigger("click"),!1}),jQuery("body.modal-cacsp-open-no-backdrop").length&&jQuery("html").addClass("modal-cacsp-open-no-backdrop"),saveCookiesAndContentPolicySettings()),jQuery(".modal-cacsp-box-close").on("click",function(){return saveByClose=!1,jQuery(".modal-cacsp-box.modal-cacsp-box-info").hasClass("modal-cacsp-box-show")||!Cookies.get(CACSP_COOKIE_NAME)?(jQuery(".modal-cacsp-box .modal-cacsp-box-settings-list ul li a").removeClass("modal-cacsp-toggle-switch-active"),saveByClose=!0):Cookies.get(CACSP_COOKIE_NAME)?(jQuery(".modal-cacsp-box.modal-cacsp-box-settings").removeClass("modal-cacsp-box-show"),jQuery("html, body").removeClass("modal-cacsp-open")):saveByClose=!0,1==saveByClose&&jQuery(".modal-cacsp-box.modal-cacsp-box-settings .modal-cacsp-btns a.modal-cacsp-btn.modal-cacsp-btn-save").trigger("click"),!1})}function openCookiesAndContentPolicySettings(e){return e&&(jQuery("html, body").addClass("modal-cacsp-open"),jQuery(".modal-cacsp-backdrop").addClass("modal-cacsp-backdrop-show")),jQuery("body.modal-cacsp-open-no-backdrop").removeClass("modal-cacsp-open-no-backdrop"),jQuery(".modal-cacsp-box.modal-cacsp-box-info").removeClass("modal-cacsp-box-show"),jQuery(".modal-cacsp-box.modal-cacsp-box-settings").addClass("modal-cacsp-box-show"),jQuery("html").removeClass("modal-cacsp-open-no-backdrop"),Cookies.get(CACSP_COOKIE_NAME)&&(cookie_filter=JSON.parse(Cookies.get(CACSP_COOKIE_NAME)))&&jQuery.each(cookie_filter,function(e,o){jQuery(".modal-cacsp-box .modal-cacsp-box-settings-list ul li a[data-accepted-cookie="+o+"]").addClass("modal-cacsp-toggle-switch-active")}),!1}function openCookiesAndContentPolicySettingsLink(){jQuery('a[href$="#cookiesAndContentPolicySettings"]').on("click",function(){return openCookiesAndContentPolicySettings(!0),saveCookiesAndContentPolicySettings(),!1})}function openCookiesAndContentPolicySettingsHash(){"#cookiesAndContentPolicySettings"==window.location.hash&&(openCookiesAndContentPolicySettings(!0),saveCookiesAndContentPolicySettings(),location.hash="")}function cookiesAndContentPolicyToggleSwitches(){jQuery(".modal-cacsp-toggle-switch").on("click",function(){return jQuery(this).hasClass("disabled")||jQuery(this).toggleClass("modal-cacsp-toggle-switch-active"),!1})}function saveCookiesAndContentPolicySettings(){jQuery(".modal-cacsp-box.modal-cacsp-box-settings .modal-cacsp-btns a.modal-cacsp-btn").hasClass("js-modal-cacsp-btn-click")||jQuery(".modal-cacsp-box.modal-cacsp-box-settings .modal-cacsp-btns a.modal-cacsp-btn").on("click",function(){jQuery(".modal-cacsp-box.modal-cacsp-box-settings .modal-cacsp-btns a.modal-cacsp-btn").addClass("js-modal-cacsp-btn-click"),jQuery(this).hasClass("modal-cacsp-btn-accept-all")&&jQuery(".modal-cacsp-box .modal-cacsp-box-settings-list ul li a").addClass("modal-cacsp-toggle-switch-active"),jQuery(this).hasClass("modal-cacsp-btn-refuse-all")&&jQuery(".modal-cacsp-box .modal-cacsp-box-settings-list ul li a").removeClass("modal-cacsp-toggle-switch-active");var o=[];return jQuery(".modal-cacsp-box .modal-cacsp-box-settings-list ul li a.modal-cacsp-toggle-switch-active").each(function(e){o.push(jQuery(this).data("accepted-cookie"))}),secure="https:"===location.protocol,expires=parseInt(cacspMessages.cacspExpires),Cookies.set(CACSP_COOKIE_NAME,JSON.stringify(o),{expires:expires,sameSite:"Lax",secure:secure}),"1"==cacspMessages.cacspOptionSaveConsent?jQuery.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:{action:"cacsp_insert_consent_data",accepted_cookies:o.toString(),expires:expires},complete:function(){location.reload(!0)}}):location.reload(!0),!1})}function cookiesAndContentPolicyCheckBlockedIframe(e,o){"0"==cacspMessages.cacspOptionDisableContentNotAllowedMessage&&(Cookies.get(CACSP_COOKIE_NAME)?(cookie_filter=JSON.parse(Cookies.get(CACSP_COOKIE_NAME)))&&(cookie_filter_length=cookie_filter.length):cookie_filter_length=0,e.addClass("warning-cacsp-iframe"),e.is(":visible"))&&(warningCacspIframeHeight=e.height(),warningCacspIframeContentMargin=warningCacspIframeHeight-2*warningCacspIframeHeight,warningCacspIframeWidth=e.width(),warningHtml='<div class="warning-cacsp-iframe-content" style="height: '+warningCacspIframeHeight+"px; width: "+warningCacspIframeWidth+"px; margin-top: "+warningCacspIframeContentMargin+'px;">',3==cookie_filter_length?(warningHtml+='<div class="warning-cacsp-iframe-content-text">'+cacspMessages.cacspNotAllowedDescription+"</div>",""!==o&&(warningHtml+='<div class="warning-cacsp-iframe-content-button"><a href="mailto:'+o+"?subject="+encodeURI(cacspMessages.cacspNotAllowedDescription)+"&amp;body="+location.href+'">'+cacspMessages.cacspNotAllowedButton+"</a></div>")):warningHtml=(warningHtml+='<div class="warning-cacsp-iframe-content-text">'+cacspMessages.cacspReviewSettingsDescription+"</div>")+'<div class="warning-cacsp-iframe-content-button"><a href="#cookiesAndContentPolicySettings">'+cacspMessages.cacspReviewSettingsButton+"</a></div>",warningHtml+="</div>",jQuery(warningHtml).insertAfter(e),openCookiesAndContentPolicySettingsLink())}function cookiesAndContentPolicyCheckBlockedObject(e,o){Cookies.get(CACSP_COOKIE_NAME)?(cookie_filter=JSON.parse(Cookies.get(CACSP_COOKIE_NAME)))&&(cookie_filter_length=cookie_filter.length):cookie_filter_length=0,e.addClass("warning-cacsp-object"),e.is(":visible")&&(warningCacspIframeHeight=jQuery(".warning-cacsp-object").height(),warningCacspIframeContentMargin=warningCacspIframeHeight-2*warningCacspIframeHeight,warningCacspIframeWidth=jQuery(".warning-cacsp-object").width(),warningHtml='<div class="warning-cacsp-object-content" style="height: '+warningCacspIframeHeight+"px; width: "+warningCacspIframeWidth+"px; margin-top: "+warningCacspIframeContentMargin+'px;">',warningHtml=3==cookie_filter_length?(warningHtml+='<div class="warning-cacsp-object-content-text">'+cacspMessages.cacspNotAllowedDescription+"</div>")+'<div class="warning-cacsp-object-content-button"><a href="mailto:'+o+"?subject="+encodeURI(cacspMessages.cacspNotAllowedDescription)+"&amp;body="+location.href+'">'+cacspMessages.cacspNotAllowedButton+"</a></div>":(warningHtml+='<div class="warning-cacsp-object-content-text">'+cacspMessages.cacspReviewSettingsDescription+"</div>")+'<div class="warning-cacsp-object-content-button"><a href="#cookiesAndContentPolicySettings">'+cacspMessages.cacspReviewSettingsButton+"</a></div>",warningHtml+="</div>",jQuery(warningHtml).insertAfter(".warning-cacsp-object"),openCookiesAndContentPolicySettingsLink())}function cookiesAndContentPolicyErrorMessage(e,o){e=e+" "+cookiesAndContentPolicyTrailingSlash(o),domainsArr=e.split(" "),jQuery("iframe").each(function(){isAllowed=!1,(iframeHostname=cookiesAndContentPolicyGetHostname(jQuery(this).attr("src")))&&(iframeHostname=cookiesAndContentPolicyTrailingSlash(iframeHostname),jQuery.each(domainsArr,function(e,o){if(match=!1,o=cookiesAndContentPolicyTrailingSlash(o),iframeHostname.startsWith("//")&&(o=o.split(":")[1]),match=cookiesAndContentPolicyMatchHostname(iframeHostname,o))return!(isAllowed=!0)}),0==isAllowed)&&(jQuery.ajax({url:o+"/wp-json/cacsp/v1/texts",dataType:"json",async:!1,type:"GET",success:function(e){adminEmail=e.warning_texts.admin_email}}),cookiesAndContentPolicyCheckBlockedIframe(jQuery(this),adminEmail))}),jQuery("object").each(function(){isAllowed=!1,(objectHostname=cookiesAndContentPolicyGetHostname(jQuery(this).attr("data")))&&(objectHostname=cookiesAndContentPolicyTrailingSlash(objectHostname),jQuery.each(domainsArr,function(e,o){if(match=!1,o=cookiesAndContentPolicyTrailingSlash(o),objectHostname.startsWith("//")&&(o=o.split(":")[1]),match=cookiesAndContentPolicyMatchHostname(objectHostname,o))return!(isAllowed=!0)}),0==isAllowed)&&(jQuery.ajax({url:o+"/wp-json/cacsp/v1/texts",dataType:"json",async:!1,type:"GET",success:function(e){adminEmail=e.warning_texts.admin_email}}),cookiesAndContentPolicyCheckBlockedObject(jQuery(this),adminEmail))})}function cookiesAndContentPolicyMatchHostname(e,o){if(o)return o="^"+(o=o.split("*").map(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join(".*"))+"$",new RegExp(o).test(e)}function cookiesAndContentPolicyGetHostname(e){if(e)return locationProtocol=!1,e.startsWith("//")&&(e=location.protocol+e,locationProtocol=!0),e=new URL(e),domain=locationProtocol?location.protocol+"//"+e.hostname:e.protocol+"//"+e.hostname,e.hostname?domain:null}function cookiesAndContentPolicyTrailingSlash(e){return"/"!=e.substr(-1)&&(e+="/"),e}function gaSetReferrer(){if(0!==document.referrer.indexOf(location.protocol+"//"+location.host)&&!Cookies.get(CACSP_COOKIE_NAME)&&document.referrer&&Cookies.set("ga_page_referrer",document.referrer),Cookies.get("ga_page_referrer")&&Cookies.get(CACSP_COOKIE_NAME)){{function e(){dataLayer.push(arguments)}"function"!=typeof e&&(window.dataLayer=window.dataLayer||[])}e("set","page_referrer",Cookies.get(CACSP_COOKIE_NAME)),Cookies.remove("ga_page_referrer")}}function googleConsentMode(){"1"==cacspMessages.cacspOptionGoogleConsentMode&&(hasMarketing=!1,hasStatistics=!1,hasExperience=!1,waitForUpdate=500,Cookies.get(CACSP_COOKIE_NAME)&&(hasMarketing=Cookies.get(CACSP_COOKIE_NAME).includes("markerting")),Cookies.get(CACSP_COOKIE_NAME)&&(hasStatistics=Cookies.get(CACSP_COOKIE_NAME).includes("statistics")),Cookies.get(CACSP_COOKIE_NAME))&&(hasExperience=Cookies.get(CACSP_COOKIE_NAME).includes("experience")),"1"==cacspMessages.cacspOptionGoogleConsentMode&&Cookies.get(CACSP_COOKIE_NAME)&&gtag("consent","update",{ad_storage:hasMarketing?"granted":"denied",ad_user_data:hasMarketing?"granted":"denied",ad_personalization:hasMarketing?"granted":"denied",analytics_storage:hasStatistics?"granted":"denied",functionality_storage:hasExperience?"granted":"denied",personalization_storage:hasExperience?"granted":"denied",security_storage:hasExperience?"granted":"denied"})}"1"===cacspMessages.cacspWpEngineCompatibilityMode&&(CACSP_COOKIE_NAME="wpe-us"),jQuery("img").on("error",function(){jQuery(this).addClass("warning-cacsp-img")});