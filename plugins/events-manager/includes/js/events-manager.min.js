function em_setup_ui_elements(e){let t=e instanceof jQuery?e[0]:e;em_setup_selectize(e),em_setup_tippy(e),em_setup_moment_times(e),t.querySelector(".em-datepicker")&&em_setup_datepicker(t),t.querySelector(".em-time-input")&&em_setup_timepicker(t),em_setup_phone_inputs(t),document.dispatchEvent(new CustomEvent("em_setup_ui_elements",{detail:{container:t}}))}function em_unsetup_ui_elements(e){let t=e instanceof jQuery?e[0]:e;em_unsetup_selectize(t),em_unsetup_tippy(t),em_unsetup_datepicker(t),em_unsetup_timepicker(t),em_unsetup_phone_inputs(t),document.dispatchEvent(new CustomEvent("em_unsetup_ui_elements",{detail:{container:t}}))}function em_setup_moment_times(e){if(container=jQuery(e),window.moment){var t=function(e,t){return t=(t=(t=(t=(t=t.replace(/##T/g,Intl.DateTimeFormat().resolvedOptions().timeZone)).replace(/#T/g,"GMT"+e.format("Z"))).replace(/###t/g,-60*e.utcOffset())).replace(/##t/g,e.isDST())).replace(/#t/g,e.daysInMonth())};container.find(".em-date-momentjs").each((function(){var e=jQuery(this),n=moment.unix(e.data("date-start")),i=t(n,n.format(e.data("date-format")));if(e.data("date-start")!==e.data("date-end"))var a=moment.unix(e.data("date-end")),r=t(n,a.format(e.data("date-format"))),o=i+e.data("date-separator")+r;else o=i;e.text(o)}));var n=function(e,t){let n=new Date(1e3*e),i=n.getMinutes();if(24==t){let e=n.getHours();return e=e<10?"0"+e:e,i=i<10?"0"+i:i,e+":"+i}{let e=n.getHours()%12,t=e>=12?"PM":"AM";return 0===e&&(e=12),i=i<10?"0"+i:i,e+":"+i+" "+t}};container.find(".em-time-localjs").each((function(){var e=jQuery(this),t=n(e.data("time"),e.data("time-format"));e.data("time-end")&&(t=t+(e.data("time-separator")?e.data("time-separator"):" - ")+n(e.data("time-end"),e.data("time-format")));e.text(t)}))}}function em_load_jquery_css(e=!1){if(EM.ui_css&&0==jQuery("link#jquery-ui-em-css").length){var t=document.createElement("link");t.id="jquery-ui-em-css",t.rel="stylesheet",t.href=EM.ui_css,document.body.appendChild(t),e&&em_setup_jquery_ui_wrapper()}}function em_setup_jquery_ui_wrapper(){0===jQuery("#em-jquery-ui").length&&jQuery("body").append('<div id="em-jquery-ui" class="em">')}jQuery(document).ready((function(e){var t;e("#recurrence-frequency").length>0&&(e("#recurrence-frequency").addClass("em-recurrence-frequency"),e(".event-form-when .interval-desc").each((function(){this.classList.add(this.id)})),e(".event-form-when .alternate-selector").each((function(){this.classList.add("em-"+this.id)})),e("#recurrence-interval").addClass("em-recurrence-interval")),e("#em-wrapper").addClass("em"),e("#start-time").each((function(t,n){e(n).addClass("em-time-input em-time-start").next("#end-time").addClass("em-time-input em-time-end").parent().addClass("em-time-range")})),e(".events-table").on("click",".em-event-delete",(function(){if(!confirm("Are you sure you want to delete?"))return!1;window.location.href=this.href})),e("#event-form #event-image-delete, #location-form #location-image-delete").on("click",(function(){var t=e(this);t.is(":checked")?t.closest(".event-form-image, .location-form-image").find("#event-image-img, #location-image-img").hide():t.closest(".event-form-image, .location-form-image").find("#event-image-img, #location-image-img").show()})),e(document).on("click","a.em-booking-button",(function(t){t.preventDefault();var n=e(this);if(n.text()!=EM.bb_booked&&e(this).text()!=EM.bb_booking){n.text(EM.bb_booking);var i=n.attr("id").split("_");e.ajax({url:EM.ajaxurl,dataType:"jsonp",data:{event_id:i[1],_wpnonce:i[2],action:"booking_add_one"},success:function(t,i,a,r){t.result?(n.text(EM.bb_booked),n.addClass("disabled")):n.text(EM.bb_error),""!=t.message&&alert(t.message),e(document).triggerHandler("em_booking_button_response",[t,n])},error:function(){n.text(EM.bb_error)}})}return!1})),e(document).on("click","a.em-cancel-button",(function(t){t.preventDefault();var n=e(this);if(n.text()!=EM.bb_cancelled&&n.text()!=EM.bb_canceling){n.text(EM.bb_canceling);var i=n.attr("id").split("_");let t={};(i.length<3||!("booking_id"in n[0].dataset))&&(t={booking_id:i[1],_wpnonce:i[2],action:"booking_cancel"});let a=Object.assign(t,n[0].dataset);e.ajax({url:EM.ajaxurl,dataType:"jsonp",data:a,success:function(e,t,i,a){e.result?(n.text(EM.bb_cancelled),n.addClass("disabled")):n.text(EM.bb_cancel_error)},error:function(){n.text(EM.bb_cancel_error)}})}return!1})),e(document).on("click","a.em-booking-button-action",(function(t){t.preventDefault();var n=e(this),i={_wpnonce:n.attr("data-nonce"),action:n.attr("data-action")};return n.attr("data-event-id")&&(i.event_id=n.attr("data-event-id")),n.attr("data-booking-id")&&(i.booking_id=n.attr("data-booking-id")),n.text()!=EM.bb_booked&&e(this).text()!=EM.bb_booking&&(n.attr("data-loading")?n.text(n.attr("data-loading")):n.text(EM.bb_booking),e.ajax({url:EM.ajaxurl,dataType:"jsonp",data:i,success:function(t,i,a,r){t.result?(n.attr("data-success")?n.text(n.attr("data-success")):n.text(EM.bb_booked),n.addClass("disabled")):n.attr("data-error")?n.text(n.attr("data-error")):n.text(EM.bb_error),""!=t.message&&alert(t.message),e(document).triggerHandler("em_booking_button_action_response",[t,n])},error:function(){n.attr("data-error")?n.text(n.attr("data-error")):n.text(EM.bb_error)}})),!1})),e(".em-date-single, .em-date-range, #em-date-start").length>0&&(t=!0),t&&em_load_jquery_css(),e("#em-wrapper input.select-all").on("change",(function(){e(this).is(":checked")?(e("input.row-selector").prop("checked",!0),e("input.select-all").prop("checked",!0)):(e("input.row-selector").prop("checked",!1),e("input.select-all").prop("checked",!1))})),(e(".em-location-map").length>0||e(".em-locations-map").length>0||e("#em-map").length>0||e(".em-search-geo").length>0)&&em_maps_load(),e(".em-location-types .em-location-types-select").on("change",(function(){let t=e(this);if(0==t.val())e(".em-location-type").hide();else{let n=t.find("option:selected").data("display-class");e(".em-location-type").hide(),e(".em-location-type."+n).show(),"em-location-type-place"!=n&&jQuery("#em-location-reset a").trigger("click")}""!==t.data("active")&&t.val()!==t.data("active")?(e(".em-location-type-delete-active-alert").hide(),e(".em-location-type-delete-active-alert").show()):e(".em-location-type-delete-active-alert").hide()})).trigger("change"),jQuery('div.em-location-data [name="location_name"]').length>0&&(e('div.em-location-data [name="location_name"]').em_selectize({plugins:["restore_on_backspace"],valueField:"id",labelField:"label",searchField:"label",create:!0,createOnBlur:!0,maxItems:1,persist:!1,addPrecedence:!0,selectOnTab:!0,diacritics:!0,render:{item:function(e,t){return"<div>"+t(e.label)+"</div>"},option:function(e,t){let n="";return void 0!==e.address&&(""!==e.address&&""!==e.town?n=t(e.address)+", "+t(e.town):""!==e.address?n=t(e.address):""!==e.town&&(n=t(e.town))),'<div class="em-locations-autocomplete-item"><div class="em-locations-autocomplete-label">'+t(e.label)+'</div><div style="font-size:11px; text-decoration:italic;">'+n+"</div></div>"}},load:function(t,n){if(!t.length)return n();e.ajax({url:EM.locationajaxurl,data:{q:t,method:"selectize"},dataType:"json",type:"POST",error:function(){n()},success:function(e){n(e)}})},onItemAdd:function(e,t){this.clearCache();var n=this.options[e];e!==n.label?(jQuery("input#location-name").val(n.value),jQuery("input#location-address").val(n.address),jQuery("input#location-town").val(n.town),jQuery("input#location-state").val(n.state),jQuery("input#location-region").val(n.region),jQuery("input#location-postcode").val(n.postcode),jQuery("input#location-latitude").val(n.latitude),jQuery("input#location-longitude").val(n.longitude),void 0===n.country||""===n.country?jQuery("select#location-country option:selected").removeAttr("selected"):jQuery('select#location-country option[value="'+n.country+'"]').attr("selected","selected"),jQuery("input#location-id").val(n.id).trigger("change"),jQuery("div.em-location-data input, div.em-location-data select").prop("readonly",!0).css("opacity","0.5"),jQuery("#em-location-reset").show(),jQuery("#em-location-search-tip").hide(),this.disable(),this.$control.blur(),jQuery('div.em-location-data [class^="em-selectize"]').each((function(){"selectize"in this&&this.selectize.disable()})),jQuery(document).triggerHandler("em_locations_autocomplete_selected",[event,n])):jQuery("input#location-address").focus()}}),jQuery("#em-location-reset a").on("click",(function(){jQuery("div.em-location-data input, div.em-location-data select").each((function(){this.style.removeProperty("opacity"),this.readOnly=!1,"text"==this.type&&(this.value="")})),jQuery("div.em-location-data option:selected").removeAttr("selected"),jQuery("input#location-id").val(""),jQuery("#em-location-reset").hide(),jQuery("#em-location-search-tip").show(),jQuery("#em-map").hide(),jQuery("#em-map-404").show(),"undefined"!=typeof marker&&(marker.setPosition(new google.maps.LatLng(0,0)),infoWindow.close(),marker.setDraggable(!0));let t=e("div.em-location-data input#location-name")[0].selectize;return t.enable(),t.clear(!0),t.clearOptions(),jQuery("div.em-location-data select.em-selectize").each((function(){"selectize"in this&&(this.selectize.enable(),this.selectize.clear(!0))})),!1})),"0"!=jQuery("input#location-id").val()&&""!=jQuery("input#location-id").val()&&(jQuery("div.em-location-data input, div.em-location-data select").each((function(){this.style.setProperty("opacity","0.5","important"),this.readOnly=!0})),jQuery("#em-location-reset").show(),jQuery("#em-location-search-tip").hide(),jQuery("div.em-location-data select.em-selectize, div.em-location-data input.em-selectize-autocomplete").each((function(){"selectize"in this&&this.selectize.disable()})))),em_setup_ui_elements(document),e(document).triggerHandler("em_javascript_loaded")}));var em_ajaxify=function(e){return-1!=e.search("em_ajax=0")?e=e.replace("em_ajax=0","em_ajax=1"):-1!=e.search(/\?/)?e+="&em_ajax=1":e+="?em_ajax=1",e},em_setup_scripts=function(e=!1){let t=e||document;if(EM&&"assets"in EM){let e=EM.url+"/includes/external/";for(const[n,i]of Object.entries(EM.assets))if(t.querySelector(n)){if("css"in i)for(const[t,n]of Object.entries(i.css))if(!document.getElementById(t+"-css")){const i=document.createElement("link");i.id=t+"-css",i.rel="stylesheet",i.href=n.match(/^http/)?n:e+n,document.head.appendChild(i)}if("js"in i){let n={},a=function(e){if(n[e]=!1,Object.entries(n).length===Object.entries(i.js).length)for(e of Object.keys(n))r(e)},r=function(e){if(!n[e]){let a=i.js[e];"object"==typeof a&&"event"in a&&(a?.requires&&r(a.requires),document.dispatchEvent(new CustomEvent(a.event,{detail:{container:t}}))),n[e]=!0}};for(const[t,n]of Object.entries(i.js))if(!document.getElementById(t+"-js")){const i=document.createElement("script");i.id=t+"-js",i.async=!0,"object"==typeof n?("locale"in n&&n.locale&&(i.dataset.locale=n.locale),i.src=n.url.match(/^http/g)?n.url:e+n.url):i.src=n.match(/^http/g)?n:e+n,i.onload=()=>a(t),i.onerror=()=>a(t),document.head.appendChild(i)}}}}};document.addEventListener("DOMContentLoaded",(()=>em_setup_scripts(document))),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".em-recurrence-sets").forEach((function(e){e.querySelector('.em-recurrence-set[data-type="include"]:first-child').dataset.primary="1",document.dispatchEvent(new CustomEvent("em_event_editor_recurrences",{detail:{recurrenceSets:e}}))})),document.querySelectorAll('select[name="event_active_status"]').forEach((e=>{e.addEventListener("change",(function(t){"0"!==e.value||confirm(EM.event_cancellations.warning.replace(/\\n/g,"\n"))||t.preventDefault()}))})),document.querySelectorAll(".event_type").forEach((e=>{const t=e.closest("form");e.addEventListener("change",(function(){if(n()){let e,n=t.querySelector(".event-form-when"),i=n.querySelector(".em-datepicker.em-event-dates");e=i.classList.contains("em-datepicker-until")?[i.querySelector(".em-date-input-start.flatpickr-input")._flatpickr.selectedDates[0],i.querySelector(".em-date-input-end.flatpickr-input")._flatpickr.selectedDates[0]]:i.querySelector(".em-date-input.flatpickr-input")._flatpickr.selectedDates;let a=n.querySelector(".event-times.em-time-range"),r=a.querySelector(".em-time-input.em-time-start"),o=a.querySelector(".em-time-input.em-time-end"),s=a.querySelector("input.em-time-all-day"),c=n.querySelector("select.event_timezone")?.value,l=n.querySelector("select.event_active_status")?.value,d=!1,u=t.querySelector('.em-recurrence-set[data-primary="1"]');if(u){let t=u.querySelector(".em-recurrence-advanced .em-time-range");if(t){let e=t.querySelector(".em-time-input.em-time-start"),n=t.querySelector(".em-time-input.em-time-end"),i=t.querySelector(".em-time-all-day");e&&(e.value=r?.value),n&&(n.value=o?.value),i&&(i.checked=s?.checked)}if("on"===u.querySelector("select.recurrence_freq")?.value){let t=u.querySelector(".em-on-selector .em-date-input.flatpickr-input")?._flatpickr;t?.selectedDates||(t?.setDate(e,!0),d=!0)}else u.querySelectorAll(".em-recurrence-advanced .em-datepicker .em-date-input.flatpickr-input").forEach((t=>{t._flatpickr?.selectedDates.length||(t.closest(".em-datepicker-until")?(t._flatpickr.setDate(t.classList.contains("em-date-input-start")?e[0]:e[1],!0),d=!0):t.closest(".em-datepicker-range")&&(t._flatpickr.setDate(e,!0),d=!0))}));["select.recurrence_timezone","select.recurrence_status"].forEach((e=>{let t=u.querySelector(e),n="select.recurrence_timezone"===e?c:l;n&&t&&(t.selectize?t.selectize.setValue(n,!0):t.value=n)})),d||u.closest(".em-recurrence-sets").dispatchEvent(new CustomEvent("setDateTimes"))}}}));let n=function(){let n=!1;return t&&(n="checkbox"===e.type?e.checked:"single"!==e.value,t.classList.toggle("em-is-recurring",n),"checkbox"===e.type&&t.classList.toggle("em-type-recurring",e.checked),t.classList.remove(...[...t.classList].filter((e=>e.startsWith("em-type-")))),t.classList.add("em-type-"+e.value)),n};n()})),document.querySelectorAll(".em-convert-recurrence-link").forEach((e=>{e.addEventListener("click",(function(e){if(!confirm(EM.convert_recurring_warning))return e.preventDefault(),!1;let t=this.getAttribute("data-nonce");t&&(this.href=this.href.replace("nonce=x","nonce="+t))}))})),document.dispatchEvent(new CustomEvent("em_event_editor_loaded"))})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets,n=()=>t.dispatchEvent(new CustomEvent("updateSetsCount")),i=function(e){let i=t.querySelector(".em-recurrence-type-"+e+" .em-recurrence-type-sets"),a=i.querySelectorAll(".em-recurrence-set").length+1,r=t.querySelector(".em-recurrence-set-template").cloneNode(!0);r.classList.remove("em-recurrence-set-template","hidden"),r.classList.add("em-recurrence-set","new-recurrence-set"),r.querySelector(".em-recurrence-set-type").value=e,r.dataset.type=e,r.dataset.index=a,r.innerHTML=r.innerHTML.replace(/T%/g,`${e}`),r.innerHTML=r.innerHTML.replace(/N%/g,`${a}`),"exclude"===e&&r.querySelectorAll(".em-recurrence-advanced .only-include-type").forEach((e=>e.remove())),"include"===e&&r.querySelectorAll(".em-recurrence-advanced .only-exclude-type").forEach((e=>e.remove()));let o={recurrenceSet:r,index:a,success:!0};return i.dispatchEvent(new CustomEvent("beforeAddRecurrence",{detail:o})),o.success&&(i.append(r),em_setup_ui_elements(r),n(),emRecurrenceEditor.updateIntervalDescriptor(r),emRecurrenceEditor.updateIntervalSelectors(r),emRecurrenceEditor.updateDurationDescriptor(r),(e=>{e.dispatchEvent(new CustomEvent("updateRecurrenceSummary",{bubbles:!0}))})(r)),r};t.querySelectorAll('.em-add-recurrence-set[data-type="include"]').forEach((function(e){e.addEventListener("click",(()=>i("include")))})),t.querySelectorAll(".em-recurrence-type").forEach((function(e){e.addEventListener("addRecurrence",(function(t){t.detail.recurrenceSet=i(e.dataset.type)}))})),t.addEventListener("click",(function(e){if(e.target.matches(".em-recurrence-set-action-remove")){let i=e.target;e.preventDefault();let a=i.closest(".em-recurrence-set"),r=a.querySelector("input.em-recurrence-set-id"),o=a.querySelector("input.em-recurrence-set-delete-field");r&&o&&(o.value=o.getAttribute("data-nonce"),t.appendChild(o),t.appendChild(r)),a.remove(),n(),t.dispatchEvent(new CustomEvent("updateRecurrenceOrder"))}}))})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets;t.querySelectorAll(".em-recurrence-type-sets").forEach((function(e){let n=null,i=null,a=0,r=0,o=null,s=null;function c(t){if(!n)return;n.style.left=t.pageX-a+"px",n.style.top=t.pageY-r+"px";let o=Array.from(e.querySelectorAll(".em-recurrence-set")),s=!1;for(let n of o){let a=n.getBoundingClientRect(),r=a.top+window.pageYOffset;if(t.pageY<r+a.height/2){e.insertBefore(i,n),s=!0;break}}s||e.appendChild(i)}function l(a){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l),e.insertBefore(n.firstElementChild,i),n.remove(),i.remove(),i=null,n=null,e.querySelectorAll(".em-recurrence-set").forEach((function(e){e.matches(":first-child")?(e.dataset.primary="1",e.querySelectorAll(".em-time-all-day").forEach((e=>{e.indeterminate=!1}))):delete e.dataset.primary,e.classList.remove("reordering")})),t.dispatchEvent(new CustomEvent("updateRecurrenceOrder"))}e.addEventListener("mousedown",(function(t){e.querySelectorAll(".em-recurrence-set:not(:first-child)").forEach((e=>e.classList.add("reordering")));const d=t.target.closest(".em-recurrence-set-action-order");if(!d)return;const u=d.closest(".em-recurrence-set");if(!u)return;t.preventDefault(),o=u.parentNode,s=u.nextSibling;const p=u.getBoundingClientRect();a=t.pageX-(p.left+window.pageXOffset),r=t.pageY-(p.top+window.pageYOffset),n=document.createElement("div"),n.classList.add("em","em-recurrence-sets"),n.append(u),i=document.createElement("div"),i.classList.add("drop-placeholder"),i.style.height=p.height+"px",i.style.width=p.width+"px",o.insertBefore(i,s),document.body.appendChild(n),n.style.position="absolute",n.style.width="100%",n.style.left=p.left+window.pageXOffset+"px",n.style.top=p.top+window.pageYOffset+"px",n.style.zIndex="1000",document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)}))}))})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets,n=t.querySelector(".em-recurrence-type-exclude"),i=n.querySelector("& > .em-recurrence-set-reshedule-modal"),a=i.querySelector(".recurrence-reschedule-action");t.querySelectorAll("button.undo").forEach((function(e){e.addEventListener("click",(()=>{e.closest(".em-recurrence-set, .em-recurrence-type, .em-recurrence-sets")?.dispatchEvent(new CustomEvent("undo",{detail:{button:e},bubbles:!0}))}))})),t.addEventListener("undo",(function(e){let r;e.stopPropagation(),r=e.target.matches(".em-recurrence-set")?[e.target]:e.target.matches(".em-recurrence-type")?e.target.querySelectorAll(".em-recurrence-set"):t.querySelectorAll(".em-recurrence-set"),r.forEach((function(e){e.querySelectorAll('[data-undo]:not([type="checkbox"]):not(.selectized)').forEach((e=>{e.value=e.dataset.undo,e.readonly=!1,e.disabled=!1,e.classList.contains("em-recurrence-frequency")&&e.dispatchEvent(new Event("change",{bubbles:!1}))})),e.querySelectorAll('input[data-undo][type="checkbox"]').forEach((e=>{e.checked="1"===e.dataset.undo})),e.querySelectorAll(".em-datepicker").forEach((function(e){e.closest(".reschedulable")&&(e.querySelectorAll("input.em-date-input").forEach((e=>{e.disabled=!0,e.value=""})),e.querySelectorAll(".em-date-input.disabled, .em-datepicker-dates").forEach((e=>{e.classList.add("disabled")})))})),em_setup_datepicker_dates(e),e.querySelectorAll("select.em-selectize.selectized").forEach((e=>{void 0!==e.dataset.undo&&e.selectize?.setValue(e.dataset.undo.split(",")),e.closest(".reschedulable")&&e.selectize?.disable()})),e.querySelectorAll(".reschedulable [name]:not(.selectized)").forEach((e=>{e.disabled=!0})),e.querySelector('input[type="hidden"][data-nonce]').disabled=!0,e.querySelectorAll(".reschedule-trigger").forEach((e=>{e.disabled=!1})),delete e.dataset.rescheduled,e.classList.remove("advanced-modified","advanced-modified-dates"),emRecurrenceEditor.updateIntervalDescriptor(e),emRecurrenceEditor.updateIntervalSelectors(e),emRecurrenceEditor.updateDurationDescriptor(e)})),e.target.matches(".em-recurrence-type-exclude")?(n.querySelectorAll(".em-recurrence-set.new-recurrence-set").forEach((e=>e.querySelector(".em-recurrence-set-action-remove")?.click())),i.querySelector(".em-modal-content")?.append(a),a.querySelector("[data-nonce]").disabled=!0):e.target.matches('.em-recurrence-set[data-type="exclude"]')&&0===e.target.closest(".em-recurrence-type-exclude").querySelectorAll(".em-recurrence-set[data-rescheduled]").length&&i.querySelector(".em-modal-content")?.append(a),t.dispatchEvent(new CustomEvent("updateSetsCount")),t.dispatchEvent(new CustomEvent("setAdvancedDefaults",{bubbles:!0}))})),t.querySelectorAll(".em-recurrence-set").forEach((function(e){delete e.dataset.rescheduled;let t="exclude"===e.dataset.type?i:e.querySelector(".em-recurrence-set-reshedule-modal");e.querySelectorAll("button.reschedule-trigger").forEach((function(n){n.addEventListener("click",(function(i){void 0!==e.dataset.rescheduled?r(n):(t.rescheduleButton=n,t.classList.toggle("primary-recurrence",e.dataset.primary),openModal(t))}))})),"include"===e.dataset.type&&(t.addEventListener("em_modal_close",(function(){e.append(t),delete t.rescheduleButton})),t.querySelector("button.reschedule-cancel")?.addEventListener("click",(()=>closeModal(t))),t.querySelector("button.reschedule-confirm")?.addEventListener("click",(function(n){r(t.rescheduleButton),e.querySelector(".em-recurrence-pattern")?.prepend(t.querySelector(".recurrence-reschedule-action")),e.dataset.rescheduled="1",closeModal(t)})),e.addEventListener("undo",(function(){t.querySelector(".em-modal-content")?.append(e.querySelector(".recurrence-reschedule-action"))})))}));let r=function(e){let t=e.closest(".reschedulable");t.querySelectorAll("[disabled]").forEach((e=>{e.disabled=!1})),t.querySelectorAll(".disabled").forEach((e=>{e.classList.remove("disabled")})),t.querySelectorAll(".em-datepicker-data input").forEach((e=>{e.dataset.undo=e.value})),t.querySelectorAll("select.em-selectize.selectized").forEach((function(e){e.selectize?.enable();let t=e.selectize?.getValue();t&&(e.dataset.undo=t.join())})),t.closest(".em-recurrence-set").querySelector(e.dataset.nonce).disabled=!1,t.querySelectorAll(".reschedule-trigger").forEach((e=>{e.disabled=!0}))};t.querySelectorAll('.em-add-recurrence-set[data-type="exclude"]').forEach((function(e){e.addEventListener("click",(function(a){n.querySelectorAll("[data-rescheduled]").length>0||!t.dataset.event_id?e.closest(".em-recurrence-type-exclude")?.dispatchEvent(new CustomEvent("addRecurrence",{bubbles:!0})):openModal(i)}))})),i.addEventListener("em_modal_close",(function(){n.append(i),delete i.rescheduleButton})),i.querySelector("button.reschedule-cancel")?.addEventListener("click",(()=>closeModal(i))),i.querySelector("button.reschedule-confirm")?.addEventListener("click",(function(e){let o;if(i.rescheduleButton)r(i.rescheduleButton),o=i.rescheduleButton.closest(".em-recurrence-set");else{let e=t.querySelector(".em-recurrence-type-exclude");e?.dispatchEvent(new CustomEvent("addRecurrence",{bubbles:!0})),o=e?.querySelector(".em-recurrence-set:last-child")}o&&(o.dataset.rescheduled="1"),n.firstElementChild.after(a),a.querySelector("[data-nonce]").disabled=!1,closeModal(i)})),t.addEventListener("updateSetsCount",(function(){"0"===n.dataset.count&&i.querySelector(".em-modal-content")?.append(a)}))})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets;document.addEventListener("em_luxon_ready",(function(){t.addEventListener("setDateTimes",(function(){let e=t.closest("form").querySelector(".event-form-when");if(e){let n,i,a,r,o,s,c=e.querySelector(".em-datepicker.em-event-dates"),l=e.querySelector(".event-times.em-time-range"),d=jQuery(l.querySelector(".em-time-input.em-time-start")),u=jQuery(l.querySelector(".em-time-input.em-time-end")),p=luxon.DateTime,m=t.querySelector('.em-recurrence-set[data-primary="1"] select.recurrence_timezone')?.value;m=m?.replace(/\.5/g,":30")||m;let f=!0,h=new Set;if(t.querySelectorAll(".em-recurrence-type-include .em-recurrence-set").forEach((e=>{let t,c,l=e.querySelector(".em-recurrence-timezone select")?.value||m;if(l=l?.replace(/\.5/g,":30")||l,l&&h.add(l),"on"===e.querySelector("select.recurrence_freq")?.value){let n=e.querySelector(".em-on-selector .em-date-input")?._flatpickr?.selectedDates;n&&(n.sort((function(e,t){return e-t})),t=p.fromJSDate(n[0]),c=p.fromJSDate(n[n.length-1]))}else e.querySelectorAll(".em-recurrence-advanced .em-datepicker .em-date-input.flatpickr-input").forEach((e=>{e._flatpickr?.selectedDates.length&&(e.closest(".em-datepicker-until")?e.classList.contains("em-date-input-start")?t=p.fromJSDate(e._flatpickr.selectedDates[0]):e.classList.contains("em-date-input-end")&&(c=p.fromJSDate(e._flatpickr.selectedDates[0])):e.closest(".em-datepicker-range")&&(t=p.fromJSDate(e._flatpickr.selectedDates[0]),c=e._flatpickr.selectedDates.length>=2?p.fromJSDate(e._flatpickr.selectedDates[1]):t),o??=t,s??=c)}));if(t??=o,c??=s||o,t=t?.setZone(l,{keepLocalTime:!0}),c=c?.setZone(l,{keepLocalTime:!0}),t&&c){let o=e.querySelector(".em-recurrence-advanced .em-time-range");if(o){let n=jQuery(o.querySelector(".em-time-input.em-time-start")),i=jQuery(o.querySelector(".em-time-input.em-time-end")),s=o.querySelector(".em-time-all-day");if(!s||s.checked||s.indeterminate||(f=!1),o.querySelector(".em-time-all-day")?.checked)c=c.endOf("day"),a|=0,r|=86399;else{let e=n.em_timepicker("getSecondsFromMidnight");if(t=n.val()?t.plus({seconds:e}):t.plus({seconds:a||0}),i.val()){let e=i.em_timepicker("getSecondsFromMidnight");c=c.plus({seconds:e})}else c=c.plus({seconds:r||0});a|=n.em_timepicker("getSecondsFromMidnight"),r|=i.em_timepicker("getSecondsFromMidnight")}let l=e.querySelector(".recurrence_duration")?.value;l&&(c=c.plus({days:l}))}t.isValid&&(!n||t<n)&&(n=t.setZone(m)),c.isValid&&(!i||c>i)&&(i=c.setZone(m))}})),n?.isValid&&i?.isValid){let t=n.setZone("system",{keepLocalTime:!0}).toJSDate(),a=i.setZone("system",{keepLocalTime:!0}).toJSDate();c.classList.contains("em-datepicker-range")?c.querySelector(".em-date-input.flatpickr-input")?._flatpickr?.setDate([t,a],!0):(c.querySelector(".em-date-input-start.flatpickr-input")?._flatpickr?.setDate(t,!0),c.querySelector(".em-date-input-end.flatpickr-input")?._flatpickr?.setDate(a,!0)),d.em_timepicker("setTime",t),u.em_timepicker("setTime",a);let r=0===n.hour&&0===n.minute&&0===n.second,o=23===i.hour&&59===i.minute&&59===i.second,s=l.querySelector(".em-time-all-day");s&&(f&&r&&o?(s.checked=!0,s.dispatchEvent(new Event("change",{bubbles:!0}))):(s.checked=!1,s.dispatchEvent(new Event("change",{bubbles:!0}))));let p=e.querySelector(".recurring-summary-dates");if(p){p.classList.remove("hidden");let t="D",a=1==EM.show24hours?"H:mm":"h:mm a",r=p.querySelector(".date.start-date");r&&(r.textContent=n.toFormat(t));let o=p.querySelector(".time.start-time");o&&(o.textContent=" @ "+n.toFormat(a));let c=p.querySelector(".date.end-date");c&&(c.textContent=i.toFormat(t));let l=p.querySelector(".time.end-time");l&&(l.textContent=" @ "+i.toFormat(a)),p.classList.remove("is-all-day","has-all-day"),s?.checked?p.classList.add("is-all-day"):f&&p.classList.add("has-all-day");let d=p.querySelector(".recurring-timezone .timezone");d&&m&&(d.textContent=m),h.size>1?p.classList.add("has-multiple-timezones"):p.classList.remove("has-multiple-timezones");let u=e.querySelector(".recurring-summary-missing");u&&u.classList.add("hidden")}}}}))}));let n={small:500,large:!1},i=document.querySelectorAll(".em-recurring-summary .recurring-summary-dates");i.length>0&&EM_ResizeObserver(n,i)}));let emRecurrenceEditor={updateIntervalDescriptor:function(e){(e.matches(".em-recurrence-sets")?e.querySelectorAll(".em-recurrence-set"):[e.closest(".em-recurrence-set")]).forEach((function(e){e.querySelectorAll(".interval-desc").forEach((e=>e.classList.add("hidden")));let t="-plural",n=e.querySelector("input.em-recurrence-interval");n&&("1"!==n.value&&""!==n.value||(t="-singular"));let i=e.querySelector("select.em-recurrence-frequency"),a=i?i.value:"",r="span.interval-desc.interval-"+a+t;e.querySelectorAll(r).forEach((e=>e.classList.remove("hidden"))),e.querySelectorAll(".interval-desc-intro").forEach((e=>e.classList.toggle("hidden","on"===a)))}))},updateDurationDescriptor:function(e){(e.matches(".em-recurrence-sets")?e.querySelectorAll(".em-recurrence-set"):[e.closest(".em-recurrence-set")]).forEach((function(e){e.querySelectorAll(".recurrence-days-desc").forEach((e=>e.classList.add("hidden")));let t=e.querySelector("input.em-recurrence-duration"),n=t&&("1"===t.value||""===t.value&&"1"===t.placeholder)?"singular":"plural";e.querySelectorAll(".recurrence-days-desc.em-"+n).forEach((e=>e.classList.remove("hidden")))}))},updateIntervalSelectors:function(e){(e.matches(".em-recurrence-sets")?e.querySelectorAll(".em-recurrence-set"):[e.closest(".em-recurrence-set")]).forEach((function(e){e.querySelectorAll(".alternate-selector").forEach((e=>e.classList.add("hidden")));let t=e.querySelector("select.em-recurrence-frequency"),n=t?t.value:"";e.querySelectorAll(".em-"+n+"-selector").forEach((e=>e.classList.remove("hidden"))),e.querySelectorAll(".em-recurrence-interval").forEach((e=>e.classList.toggle("hidden","on"===n)))}))}};document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets;t.addEventListener("setAdvancedDefaults",(function(){let e=t.querySelector(".em-recurrence-type-include .em-recurrence-set:first-child"),n=".em-recurrence-type-include .em-recurrence-set:not(:first-child) .em-recurrence-advanced";t.querySelectorAll(".em-recurrence-set").forEach((e=>{e.dataset.primaryModified="0"}));let i=e.querySelector(".em-recurrence-times"),a=i.querySelector(".em-time-all-day"),r=i.querySelector(".em-time-start"),o=i.querySelector(".em-time-end");t.querySelectorAll(".em-recurrence-set").forEach((t=>{if(t!==e){let e=t.querySelector(".em-recurrence-times");if(e){let n=!1;[[".em-time-start",r],[".em-time-end",o]].forEach((([i,a])=>{let r=e.querySelector(i);r&&(r.value&&(n=!0),r.placeholder=a.value||a.placeholder,""===r.value&&a.value!==a.dataset.undo&&(t.dataset.primaryModified="1"))})),e.querySelectorAll(".em-time-all-day").forEach((e=>{e.indeterminate=!n&&a&&a.checked}))}}})),t.querySelectorAll(".em-recurrence-set").forEach((function(t){t.matches(".em-recurrence-type-include .em-recurrence-set:first-child")||e.querySelectorAll(".em-recurrence-advanced .em-datepicker .em-date-input.flatpickr-input").forEach((function(e){let n=e.closest(".em-datepicker"),i=e._flatpickr.altInput.value,a=e._flatpickr._inputData.some((e=>e.value!==e.dataset.undo)),r=".em-recurrence-dates .em-date-input.form-control";n.classList.contains("em-datepicker-range")?t.querySelectorAll(r).forEach((function(e){e.previousElementSibling.placeholder||=e.placeholder,e.placeholder=i||e.previousElementSibling.placeholder,""===e.value&&a&&(e.closest(".em-recurrence-set").dataset.primaryModified="1")})):n.classList.contains("em-datepicker-until")&&(r+=e.classList.contains("em-date-input-start")?".em-date-input-start":".em-date-input-end",t.querySelectorAll(r).forEach((function(e){e.placeholder=i||e.previousElementSibling.placeholder,""===e.value&&a&&(e.closest(".em-recurrence-set").dataset.primaryModified="1")})))}))})),["timezone","status"].forEach((function(i){const a=".em-recurrence-"+i;let r=e.querySelector(a+" select");if(r){("timezone"===i?[n,".em-recurrence-type-exclude .em-recurrence-set .em-recurrence-advanced"]:[n]).forEach((function(e){t.querySelectorAll(e+" "+a+" select").forEach((function(e){e.selectize&&(r.value?(e.selectize.settings.placeholder=r.querySelector(`option[value="${r.value}"]`)?.textContent||r.value,e.selectize.updatePlaceholder(),""===e.value&&r.value!==r.dataset.undo&&(e.closest(".em-recurrence-set").dataset.primaryModified="1")):(e.selectize.settings.placeholder=r.selectize?.settings.placeholder,e.selectize.updatePlaceholder()))}))}))}}));let s=e.querySelector("input.em-recurrence-duration");s&&s.value.trim()&&t.querySelectorAll(n+" input.em-recurrence-duration").forEach((function(e){e.placeholder=s.value.trim(),""===e.value&&s.value!==s.dataset.undo&&(e.closest(".em-recurrence-set").dataset.primaryModified="1")})),t.querySelectorAll(".em-recurrence-set").forEach((function(e){e.classList.toggle("advanced-modified-primary","1"===e.dataset.primaryModified),e.dataset.primaryModified&&e.dispatchEvent(new Event("change",{bubbles:!0})),delete e.dataset.primaryModified;let t,n=0,i=!1,a=!1,r=!1,o=!1;"on"===e.querySelector("select.em-recurrence-frequency")?.value?n=2:e.querySelectorAll(".em-recurrence-dates .em-datepicker-data input[name]").forEach((function(e){n+=e.value?1:0,e.matches(":first-of-type")&&(i=!!e.value,a=e.value!==e.dataset.undo),e.matches(":last-of-type")&&(r=!!e.value,o=e.value!==e.dataset.undo),t||=e.value!==e.dataset.undo})),e.classList.toggle("has-date-range",n>=2),n<2&&(e.classList.toggle("has-date-range-start",i),e.classList.toggle("has-date-range-end",r)),a&&o?(e.classList.toggle("has-modified-date-range",!0),e.classList.toggle("has-modified-date-range-start",!1),e.classList.toggle("has-modified-date-range-end",!1)):(e.classList.toggle("has-modified-date-range",!1),e.classList.toggle("has-modified-date-range-start",a),e.classList.toggle("has-modified-date-range-end",o))})),t.dispatchEvent(new Event("updateRecurrenceSummary",{bubbles:!0}))})),t.addEventListener("updateSetsCount",(function(){["include","exclude"].forEach((function(e){let n=t.querySelector(".em-recurrence-type-"+e);if(n){let i=n.querySelectorAll(".em-recurrence-set").length;t.setAttribute("data-"+e+"-count",i),n.dataset.count=i}}))})),t.addEventListener("updateRecurrenceOrder",(function(){let e;t.querySelectorAll(".em-recurrence-type-include .em-recurrence-set").forEach((function(n,i){let a=n.querySelector(".em-recurrence-order");a&&(a.value=i+1),n.classList.toggle("show-advanced",0===i),n!==e&&0===i&&(e=n,e.querySelectorAll("[data-placeholder]").forEach((e=>{e.placeholder=e.dataset.placeholder})),e.querySelectorAll(".em-datepicker .em-date-input-end.form-control").forEach((e=>{e.placeholder=e.previousElementSibling.placeholder})),e.querySelectorAll(".em-datepicker .em-date-input-start.form-control").forEach((e=>{e.placeholder=e.previousElementSibling.placeholder})),t.dispatchEvent(new CustomEvent("updateSetsCount")),t.dispatchEvent(new CustomEvent("setAdvancedDefaults")),t.dispatchEvent(new CustomEvent("updateRecurrenceSummary"))),n.matches(":first-child")?(n.dataset.primary="1",n.querySelectorAll(".em-time-all-day").forEach((e=>{e.indeterminate=!1}))):delete n.dataset.primary}))})),t.dispatchEvent(new CustomEvent("updateSetsCount")),emRecurrenceEditor.updateIntervalDescriptor(t),emRecurrenceEditor.updateIntervalSelectors(t),emRecurrenceEditor.updateDurationDescriptor(t)})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets;t.addEventListener("keyup",(function(e){e.target.matches("input.em-recurrence-interval")?emRecurrenceEditor.updateIntervalDescriptor(e.target.closest(".em-recurrence-set")):e.target.matches("input.em-recurrence-duration")&&emRecurrenceEditor.updateDurationDescriptor(e.target.closest(".em-recurrence-set"))})),t.addEventListener("change",(function(e){if(e.target.matches("select.em-recurrence-frequency")){let t=e.target.closest(".em-recurrence-set");emRecurrenceEditor.updateIntervalDescriptor(t),emRecurrenceEditor.updateIntervalSelectors(t)}}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("form.em-event-admin-recurring").forEach((e=>{e.addEventListener("submit",(function(t){let n,i=e.querySelector('input[name="event_recreate_tickets"]');i&&"1"===i.value&&(n=EM.event_recurrence_bookings),n&&!confirm(n)&&t.preventDefault()}))})),document.querySelectorAll(".em-reschedule-trigger, .em-reschedule-cancel").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget,n=t.matches(".em-reschedule-trigger");t.closest(".em-recurrence-reschedule")?.querySelector(t.dataset.target)?.classList.toggle("reschedule-hidden",!n),t.parentElement.querySelectorAll("[data-nonce]").forEach((e=>{e.disabled=!n})),t.parentElement.querySelectorAll("button").forEach((e=>e.classList.remove("reschedule-hidden"))),t.classList.add("reschedule-hidden")}))}))})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets,n=()=>t.dispatchEvent(new CustomEvent("setAdvancedDefaults")),i=()=>t.dispatchEvent(new CustomEvent("setDateTimes"));t.addEventListener("click",(function(e){const t=e.target.closest(".em-recurrence-set-action-advanced");if(!t)return;const n=t.closest(".em-recurrence-set");n.classList.toggle("show-advanced"),"_tippy"in t&&(n.classList.contains("show-advanced")?t._tippy.setContent(t.getAttribute("data-label-hide")):t._tippy.setContent(t.getAttribute("data-label-show")))}));let a=function(e){const t=e.querySelector(".em-recurrence-advanced"),n=e.querySelector(".em-recurrence-set-action-advanced");if(!t||!n)return;const i=t.querySelectorAll("input, select, textarea");let a=Array.from(i).some((e=>"checkbox"===e.type?e.checked:""!==e.value.trim()));e.classList.toggle("has-advanced-value",a)};t.addEventListener("change",(function(e){e.target.closest(".em-recurrence-advanced")&&a(e.target.closest(".em-recurrence-set"))})),t.querySelectorAll(".em-recurrence-set").forEach((e=>a(e))),t.querySelectorAll(".em-recurrence-type").forEach((function(e){e.addEventListener("change",(function(t){let a=t.target.closest(".em-recurrence-set");if(t.target.closest(".em-recurrence-advanced"))e.classList.contains("em-recurrence-type-include")&&(a===a.parentElement?.firstElementChild&&n(),i()),(e=>{e.dispatchEvent(new CustomEvent("updateRecurrenceSummary",{bubbles:!0}))})(a);else if("on"===a?.querySelector("select.recurrence_freq")?.value){if(t.target.closest(".em-datepicker.em-on-selector")){let i=t.target.closest(".em-date-input")?._flatpickr?.selectedDates;if(i){i.sort((function(e,t){return e-t}));let t=a.querySelector(".em-recurrence-dates.em-datepicker");if(t)if(t.classList.contains("em-datepicker-until"))t.querySelector(".em-date-input-start")?._flatpickr?.setDate(i[0]),t.querySelector(".em-date-input-end")?._flatpickr?.setDate(i[i.length-1]);else if(t.classList.contains("em-datepicker-range")){let e=[i[0],i[i.length-1]];t.querySelector(".em-date-input")?._flatpickr?.setDate(e)}e.classList.contains("em-recurrence-type-include")&&a===a.parentElement?.firstElementChild&&n()}}i()}}))})),t.addEventListener("change",(function(e){if(e.target.closest(".em-recurrence-advanced")){let n=e.target.closest(".em-recurrence-set"),i=!1;n.querySelectorAll(".em-recurrence-advanced [name]:not([disabled]):not([data-nonce]").forEach((e=>{e.name&&e.dataset.undo?"checkbox"===e.type?e.checked&&"1"!==e.dataset.undo&&(i=!0):e.value!==e.dataset.undo&&(i=!0):t.dataset.event_id&&e.value&&(i=!0)})),n.classList.toggle("advanced-modified",i)}if(e.target.matches(".em-time-input")){let n=e.target.closest(".em-recurrence-set"),i=n.querySelector(".em-time-input.em-time-start"),a=n.querySelector(".em-time-input.em-time-end"),r=n.querySelector("input.em-recurrence-duration");if(!(r?.value>0||r?.placeholder>0||!1)){let n=i.dataset.seconds?parseInt(i.dataset.seconds):null,r=a.dataset.seconds?parseInt(a.dataset.seconds):null;if(!n||!r){let e=t.querySelector('.em-recurrence-set[data-type="include"]:first-child');if(e){if(null===n){let t=e.querySelector(".em-time-input.em-time-start")?.dataset.seconds;n=void 0===t?null:parseInt(e.querySelector(".em-time-input.em-time-start")?.dataset.seconds||0)}if(null===r){let t=e.querySelector(".em-time-input.em-time-end")?.dataset.seconds;r=void 0===t?null:parseInt(e.querySelector(".em-time-input.em-time-end")?.dataset.seconds||0)}}}null!==n&&null!==r&&(e.target.matches(".em-time-start")&&n>r&&(a.value=i.value,a.dispatchEvent(new Event("change"))),e.target.matches(".em-time-end")&&n>r&&(i.value=a.value,i.dispatchEvent(new Event("change"))))}}if(e.target.matches("input.em-recurrence-duration")&&("0"===e.target.value||""===e.target.value&&"0"===e.target.placeholder)){let n=e.target.closest(".em-recurrence-set");(n.dataset.primary?n:t).querySelectorAll(".em-recurrence-times .em-time-end").forEach((e=>e.dispatchEvent(new Event("change"))))}let n=t.querySelector(".em-recurrence-set[data-primary] .em-time-all-day");if(e.target.matches(".em-time-all-day")){let t=e.target;t.matches(".em-recurrence-set[data-primary] .em-time-all-day")?t.readOnly&&(t.checked=!0,t.readOnly=!1):t.readOnly?(t.checked=!0,t.readOnly=!1):t.checked&&n.checked&&(t.readOnly=!0,t.indeterminate=!0,t.closest(".em-time-range").querySelectorAll(".em-time-input").forEach((e=>{e.value=""})))}})),t.addEventListener("updateRecurrenceSummary",(function(e){(e.target.matches(".em-recurrence-set")?[e.target]:e.target.querySelectorAll(".em-recurrence-set")).forEach((function(e){let t=e.querySelector(".advanced-summary");if(t){let n={start:"",end:"",startIsSet:!1,endIsSet:!1},i={start:"",end:"",startIsSet:!1,endIsSet:!1};if("on"===e.querySelector("select.recurrence_freq")?.value){let t=e.querySelector(".em-on-selector .em-date-input")?._flatpickr?.selectedDates;t&&(t.sort((function(e,t){return e-t})),n.start=t[0],n.startIsSet=!0,n.end=t[t.length-1],n.endIsSet=!0)}else{let t=e.querySelector(".em-recurrence-dates.em-datepicker");if(t.classList.contains("em-datepicker-until"))["start","end"].forEach((function(e){let i=t.querySelector(`.em-date-input-${e}`);i&&(i._flatpickr&&i._flatpickr.altInput&&i._flatpickr.selectedDates.length?(n[e]=i._flatpickr.altInput.value,n[e+"IsSet"]=!0):i.nextElementSibling&&(n[e]=i.nextElementSibling.value||i.nextElementSibling.placeholder))}));else if(t.classList.contains("em-datepicker-range")){let e=t.querySelector(".em-date-input");e&&(e._flatpickr&&e._flatpickr.altInput&&e._flatpickr.selectedDates.length?(n.start=e._flatpickr.altInput.value,n.startIsSet=!0):e.nextElementSibling&&(n.start=e.nextElementSibling.value||e.nextElementSibling.placeholder))}}["start","end"].forEach((function(t){let n=e.querySelector(`.em-recurrence-times .em-time-${t}`);n&&(i[t]=n.value||n.placeholder||"",n.value&&(i[t+"IsSet"]=!0))}));let a=e.querySelector(".em-recurrence-timezone select"),r="";if(a){let t=a.value;r=t?a.querySelector(`option[value="${t}"]`)?.textContent||"":e.querySelector(".em-recurrence-timezone .selectize-input input")?.placeholder||""}let o=e.querySelector(".em-recurrence-duration input.em-recurrence-duration"),s=o&&(o.value.trim()||o.placeholder)||"0";emRecurrenceEditor.updateDurationDescriptor(e),4===Object.entries(n).length?(t.querySelectorAll(".start-date").forEach((e=>{e.textContent=n.start,e.classList.toggle("is-set",n.startIsSet)})),t.querySelectorAll(".end-date").forEach((e=>{e.textContent=n.end,e.classList.toggle("is-set",n.endIsSet)}))):t.querySelectorAll(".dates").forEach((e=>{e.textContent=n.start,e.classList.toggle("is-set",n.startIsSet)})),t.querySelectorAll(".times").forEach((function(e){e.innerHTML=`<span class="start-time">${i.start}</span> - <span class="end-time">${i.end}</span>`,e.firstElementChild.classList.toggle("is-set",i.startIsSet),e.lastElementChild.classList.toggle("is-set",i.endIsSet)})),t.querySelector(".all-day")?.classList.toggle("is-set",e.querySelector(".em-time-all-day")?.checked),t.querySelectorAll(".timezone").forEach((e=>{e.textContent=r,e.classList.toggle("is-set",a?.value)})),t.querySelectorAll(".duration").forEach((e=>{e.textContent=s,e.classList.toggle("is-set",o&&""!==o.value)}))}}))}))})),document.addEventListener("em_event_editor_recurrences",(function(e){let t=e.detail.recurrenceSets;document.addEventListener("em_setup_ui_elements",(function(e){if(e.detail.container===document){em_unsetup_ui_elements(t.querySelector(".em-recurrence-set-template"))}t.dispatchEvent(new CustomEvent("setAdvancedDefaults")),t.dispatchEvent(new CustomEvent("setDateTimes"))})),document.addEventListener("em_setup_ui_elements",(function(e){if(e.detail.container===document){let e=t.querySelector(".em-recurrence-type-include .em-recurrence-set:first-child");const n={".em-recurrence-timezone select":'select[name="event_timezone"]',".em-recurrence-status select":'select[name="event_active_status"]'};Object.entries(n).forEach((function([n,i]){let a=e.querySelector(n),r=t.closest("form").querySelector(".event-form-when"),o=r?.querySelector(i);if(a&&o){a.selectize?a.selectize.on("change",(function(e){o.selectize?o.selectize.setValue(e,!0):(o.value=e,o.dispatchEvent(new Event("change",{bubbles:!0})))})):a.addEventListener("change",(function(){o.selectize?o.selectize.setValue(a.value,!0):(o.value=a.value,o.dispatchEvent(new Event("change",{bubbles:!0})))}));let e=a.selectize?a.selectize.getValue():a.value;e&&(o.selectize?o.selectize.setValue(e,!0):o.value=e)}}))}}))})),document.addEventListener("em_event_editor_loaded",(function(e){const t=jQuery.noConflict();if(t("#em-tickets-form").length>0){document.getElementById("event-rsvp").addEventListener("click",(function(e){const t=this.parentElement.querySelector("input.event_rsvp_delete[data-nonce]"),n=document.getElementById("event-rsvp-options");if(this.checked)n.classList.remove("hidden"),t.disabled=!0;else{confirm(EM.disable_bookings_warning)?(n.classList.add("hidden"),t.disabled=!1):e.preventDefault()}})),t("input#event-rsvp").is(":checked")?t("div#rsvp-data").fadeIn():t("div#rsvp-data").hide();var n=function(){t("#em-tickets-form table tbody tr.em-tickets-row").show(),t("#em-tickets-form table tbody tr.em-tickets-row-form").hide()};document.querySelectorAll('#em-tickets-form input.possibly-indeterminate[type="checkbox"], #em-tickets-form input[type="checkbox"][indeterminate]').forEach((e=>{e.hasAttribute("indeterminate")&&e.readOnly&&(e.indeterminate=!0),e.addEventListener("click",(()=>{e.hasAttribute("indeterminate")&&!e.classList.contains("determinate")?(e.readOnly?(e.checked=!0,e.readOnly=!1):e.checked&&(e.readOnly=!0,e.indeterminate=!0),e.classList.contains("possibly-indeterminate")&&(e.nextElementSibling.value=e.indeterminate?"default":e.checked?1:0)):e.nextElementSibling.value=e.checked?1:0}))})),t("#em-tickets-add").on("click",(function(e){e.preventDefault(),n();var a=t("#em-tickets-form table tbody");a.first(".em-ticket-template").find("input.em-date-input.flatpickr-input").each((function(){"_flatpickr"in this&&this._flatpickr.destroy()}));var r=a.length+1,o=a.first(".em-ticket-template").clone(!0).attr("id","em-ticket-"+r).removeClass("em-ticket-template").addClass("em-ticket").appendTo(t("#em-tickets-form table"));o.find("*[name]").each((function(e,n){(n=t(n)).attr("name",n.attr("name").replace("em_tickets[0]","em_tickets["+r+"]"))}));let s=o.find(".ticket-dates-from-normal").first();if(s.attr("data-until-id")){let e=s.attr("data-until-id").replace("-0","-"+r);s.attr("data-until-id",e),o.find(".ticket-dates-to-normal").attr("id",s.attr("data-until-id"))}o.show().find(".ticket-actions-edit").trigger("click"),o.find(".em-time-input").off().each((function(e,t){"object"==typeof this.em_timepickerObj&&this.em_timepicker("remove")})),em_setup_ui_elements(o),t("html, body").animate({scrollTop:o.offset().top-30}),i(),o.find(".ticket_uuid").val("10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16))))})),t(document).on("click",".ticket-actions-edit",(function(e){e.preventDefault(),n();var i=t(this).closest("tbody");return i.find("tr.em-tickets-row").hide(),i.find("tr.em-tickets-row-form").fadeIn(),!1})),t(document).on("click",".ticket-actions-edited",(function(e){e.preventDefault();var n=t(this).closest("tbody"),i=n.attr("id").replace("em-ticket-","");return n.find(".em-tickets-row").fadeIn(),n.find(".em-tickets-row-form").hide(),n.find("*[name]").each((function(e,a){if("ticket_start_pub"==(a=t(a)).attr("name"))n.find("span.ticket_start").text(a.val());else if("ticket_end_pub"==a.attr("name"))n.find("span.ticket_end").text(a.val());else if(a.attr("name")=="em_tickets["+i+"][ticket_type]")"members"==a.find(":selected").val()&&n.find("span.ticket_name").prepend("* ");else if(a.attr("name")=="em_tickets["+i+"][ticket_start_recurring_days]"){var r="before"==n.find("select.ticket-dates-from-recurring-when").val()?"-"+a.val():a.val();""!=a.val()?(n.find("span.ticket_start_recurring_days").text(r),n.find("span.ticket_start_recurring_days_text, span.ticket_start_time").removeClass("hidden").show()):(n.find("span.ticket_start_recurring_days").text(" - "),n.find("span.ticket_start_recurring_days_text, span.ticket_start_time").removeClass("hidden").hide())}else if(a.attr("name")=="em_tickets["+i+"][ticket_end_recurring_days]"){r="before"==n.find("select.ticket-dates-to-recurring-when").val()?"-"+a.val():a.val();""!=a.val()?(n.find("span.ticket_end_recurring_days").text(r),n.find("span.ticket_end_recurring_days_text, span.ticket_end_time").removeClass("hidden").show()):(n.find("span.ticket_end_recurring_days").text(" - "),n.find("span.ticket_end_recurring_days_text, span.ticket_end_time").removeClass("hidden").hide())}else{var o=a.attr("name").replace("em_tickets["+i+"][","").replace("]","").replace("[]","");n.find(".em-tickets-row ."+o).text(a.val())}})),t(document).triggerHandler("em_maps_tickets_edit",[n,i,!0]),t("html, body").animate({scrollTop:n.parent().offset().top-30}),!1})),t(document).on("change",".em-ticket-form select.ticket_type",(function(e){var n=t(this);let i=n.closest(".em-ticket-form");"members"===this.value||"-1"===this.value&&"members"===this.dataset.default?n.closest(".em-ticket-form").find(".ticket-roles").fadeIn():n.closest(".em-ticket-form").find(".ticket-roles").hide(),"-1"===this.value&&"members"===this.dataset.default?(i[0].querySelectorAll('.ticket-roles input[type="checkbox"][indeterminate]').forEach((e=>{e.indeterminate=!0,e.classList.remove("determinate")})),i[0].querySelectorAll('.ticket-roles input[type="checkbox"]:not([indeterminate])').forEach((e=>{e.checked=!1}))):"members"===this.value&&i[0].querySelectorAll('.ticket-roles input[type="checkbox"][indeterminate]').forEach((e=>{e.indeterminate=!1,e.readOnly=!1,e.checked=!0,e.classList.add("determinate")}))})),t(".em-ticket-form select.ticket_type").trigger("change"),t(document).on("change",'.em-ticket-form .ticket-roles input[type="checkbox"]',(function(e){let t=this.closest(".em-ticket-form"),n=t.querySelector(".em-ticket-form select.ticket_type");"members"===n.dataset.default&&"-1"===n.value&&(n.value="members",t.querySelectorAll('.ticket-roles input[type="checkbox"][indeterminate]').forEach((e=>{e.indeterminate=!1,e.readOnly=!1,e.checked=!0,e.classList.add("determinate")})))})),t(document).on("click",".em-ticket-form .ticket-options-advanced",(function(e){e.preventDefault();var n=t(this);n.hasClass("show")?(n.closest(".em-ticket-form").find(".em-ticket-form-advanced").fadeIn(),n.find(".show,.show-advanced").hide(),n.find(".hide,.hide-advanced").show()):(n.closest(".em-ticket-form").find(".em-ticket-form-advanced").hide(),n.find(".show,.show-advanced").show(),n.find(".hide,.hide-advanced").hide()),n.toggleClass("show")})),t(".em-ticket-form").each((function(){var e=!1,n=t(this);n.find('.em-ticket-form-advanced input[type="text"]').each((function(){""!=this.value&&(e=!0)})),n.find('.em-ticket-form-advanced input[type="checkbox"]:checked').length>0&&(e=!0),n.find(".em-ticket-form-advanced option:selected").each((function(){""!=this.value&&(e=!0)})),e&&n.find(".ticket-options-advanced").trigger("click")})),t(document).on("click",".ticket-actions-delete",(function(e){e.preventDefault();var n=t(this).closest("tbody");if(n.find("input.ticket_id").val()>0){let e=this.classList.contains("parent-ticket")?EM.eventEditor.deleteTicketParentWarning:EM.eventEditor.deleteTicketWarning;confirm(e)&&(n.find("input.delete[data-nonce]").prop("disabled",!1),n.closest(".em-ticket").addClass("ticket-deleted"))}else n.remove();return i(),!1})),t("#em-tickets-form.em-tickets-sortable table").sortable({items:"> tbody",placeholder:"em-ticket-sortable-placeholder",handle:".ticket-status",helper:function(e,n){var i=t(n).clone().addClass("em-ticket-sortable-helper"),a=i.find(".em-tickets-row td").length;return i.children().remove(),i.append('<tr class="em-tickets-row"><td colspan="'+a+'" style="text-align:left; padding-left:15px;"><span class="dashicons dashicons-tickets-alt"></span></td></tr>'),i}});var i=function(){var e=t("#em-tickets-form table tbody.em-ticket");1==e.length?(e.find(".ticket-status").addClass("single"),t("#em-tickets-form.em-tickets-sortable table").sortable("option","disabled",!0)):(e.find(".ticket-status").removeClass("single"),t("#em-tickets-form.em-tickets-sortable table").sortable("option","disabled",!1))};i()}}));const setupListTable=function(e){const t=e.querySelectorAll('tbody .check-column input[type="checkbox"]'),n=e.querySelector("form.em-list-table-form");let i;e.querySelectorAll(".tablenav-pages a").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();let i=e.href.match(/#[0-9]+/);if(null!=i&&i.length>0){let e=i[0].replace("#","");n.querySelector("input[name=pno]").val(e)}else{let t=new URL(e.href);t.searchParams.has("paged")?n.querySelectorAll("input[name=pno], input[name=paged]").forEach((e=>e.value=t.searchParams.get("paged"))):n.querySelectorAll("input[name=pno], input[name=paged]").forEach((e=>e.value=1))}return n.requestSubmit(),!1}))})),e.querySelectorAll(".tablenav-pages input[name=paged]").forEach((function(e){e.addEventListener("change",(function(t){t.preventDefault();let i=n.querySelector(".tablenav-pages a.last-page");if(i){let t=new URL(i.href);if(t.searchParams.has("paged")){let n=parseInt(t.searchParams.get("paged"));parseInt(e.value)>n&&(e.value=n)}}else{let i=n.querySelector("input[name=pno]");if(i&&i.value&&parseInt(e.value)>parseInt(i.value))return e.value=i.value,t.preventDefault(),!1}return n.querySelectorAll("input[name=pno]").forEach((t=>t.value=e.value)),n.requestSubmit(),!1}))})),e.addEventListener("click",(function(n){if(n.target.matches(".manage-column.column-cb input"))e.querySelectorAll(".check-column input").forEach((function(t){t.checked=n.target.checked,t.closest("tr").classList.toggle("selected",n.target.checked),e.querySelector(".tablenav .bulkactions-input").querySelectorAll("input,select,button").forEach((function(e){n.target.checked?e.removeAttribute("disabled"):e.setAttribute("disabled",!0),n.target.checked?e.classList.remove("disabled"):e.classList.add("disabled",!0)}))}));else if(n.target.matches('tbody .check-column input[type="checkbox"]')){let a=!1;n.shiftKey?t.forEach((e=>{e!==n.target&&e!==i||(a=!a),(a||e===i)&&(e.checked=i.checked),e.closest("tr").classList.toggle("selected",e.checked)})):n.target.closest("tr").classList.toggle("selected",n.target.checked);let r=n.target.checked||e.querySelectorAll('tbody .check-column input[type="checkbox"]:checked').length>0;e.querySelector(".tablenav .bulkactions-input").querySelectorAll("input,select,button").forEach((function(e){r?e.removeAttribute("disabled"):e.setAttribute("disabled",!0),r?e.classList.remove("disabled"):e.classList.add("disabled",!0)})),i=n.target}else if(n.target.closest("tbody td.column-primary")){if(n.target.matches("a[href],button:not(.toggle-row)"))return!0;n.preventDefault();let e=n.target.closest("td.column-primary"),t=e.closest("tr");t.classList.contains("expanded")?(t.classList.remove("expanded"),t.classList.add("collapsed"),e.querySelector("button.toggle-row").classList.remove("expanded")):(t.classList.add("expanded"),t.classList.remove("collapsed"),e.querySelector("button.toggle-row").classList.add("expanded"))}})),e.querySelectorAll(".tablenav .bulkactions-input").forEach((e=>{e.querySelectorAll("input,select,button").forEach((function(e){e.setAttribute("disabled",!0),e.classList.add("disabled",!0)}))})),e.querySelector("thead").addEventListener("click",(function(e){let t="th"===e.target.tagName.toLowerCase()?e.target:e.target.closest("th");if(t&&(t.classList.contains("sorted")||t.classList.contains("sortable"))){e.preventDefault();let i=new URL(t.querySelector("a").href).searchParams;if(i.get("orderby")){n.querySelector('input[name="orderby"]').value=i.get("orderby");let e=i.get("order")?i.get("order"):"asc";n.querySelector('input[name="order"]').value=e,n.requestSubmit()}}}));let a=e.querySelector("button.filters-trigger");a&&(a.addEventListener("click",(function(t){t.preventDefault(),a.classList.contains("hidden")?(e.querySelectorAll("div.actions.filters").forEach((e=>e.classList.remove("hidden"))),a.classList.remove("hidden"),a.setAttribute("aria-label",a.dataset.labelHide),"_tippy"in a&&a._tippy.setContent(a.dataset.labelHide)):(e.querySelectorAll("div.actions.filters").forEach((e=>e.classList.add("hidden"))),a.classList.add("hidden"),a.setAttribute("aria-label",a.dataset.labelShow),"_tippy"in a&&a._tippy.setContent(a.dataset.labelShow))})),e.addEventListener("em_resize",(function(){e.classList.contains("size-small")&&(a.classList.remove("hidden"),a.click())})));let r=e.querySelector("button.small-expand-trigger");r&&r.addEventListener("click",(function(t){t.preventDefault(),r.classList.contains("expanded")?(e.querySelectorAll("tbody tr.expanded, tbody button.toggle-row.expanded").forEach((e=>e.classList.remove("expanded"))),e.classList.remove("expanded"),r.classList.remove("expanded")):(e.querySelectorAll("tbody tr, tbody button.toggle-row").forEach((e=>{e.classList.add("expanded"),e.classList.remove("collapsed")})),e.classList.add("expanded"),r.classList.add("expanded"))})),e.querySelectorAll('.tablenav .actions input[type="text"]').forEach((function(e){e.addEventListener("keypress",(function(e){13===(e.keyCode?e.keyCode:e.which)&&(e.preventDefault(),n.requestSubmit())}))}));EM_ResizeObserver({xsmall:465,small:640,medium:930,large:!1},[e]),n.addEventListener("submit",(function(t){t.preventDefault(),e.classList.add("em-working");let i=document.createElement("div");return i.id="em-loading",e.append(i),e.querySelectorAll(".em-list-table-error-notice").forEach((e=>e.remove())),fetch(EM.ajaxurl,{method:"POST",body:new FormData(n)}).then((function(e){if(e.ok)return e.text();throw new Error("Network Response "+e.status)})).then((function(t){if(!t)throw new Error("Empty string received");e.classList.contains("frontend")||n.querySelectorAll(".em-list-table-trigger").forEach((function(e){let t=document.querySelector(e.rel);t&&t.remove()}));let i=document.createElement("div");i.innerHTML=t;let a=i.firstElementChild;e.replaceWith(a),document.dispatchEvent(new CustomEvent("em_list_table_filtered",{detail:{prevListTable:e,listTable:a,form:a.firstElementChild,data:t}}))})).catch((function(t){let n=document.createElement("div");n.innerHTML="<p>There was an unexpected error retrieving table data with error <code>"+t.message+"</code>, please try again or contact an administrator.</p>",n.setAttribute("class","em-warning error em-list-table-error-notice"),e.querySelector(".table-wrap").before(n),i.remove(),e.classList.remove("em-working")})),!1})),e.querySelectorAll(".em-list-table-trigger").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();let n=document.querySelector(e.getAttribute("rel"));openModal(n)}))})),e.querySelectorAll(".em-list-table-settings form").forEach((t=>{t.addEventListener("submit",(function(i){i.preventDefault();let a=t.closest(".em-modal"),r=n.querySelector("[name=cols]");r.value="",t.querySelectorAll(".em-list-table-cols-selected .item").forEach((function(e){e.classList.contains("hidden")||(""!==r.value?r.value=r.value+","+e.getAttribute("data-value"):r.value=e.getAttribute("data-value"))}));let o=t.querySelector('select[name="limit"]');o&&(n.querySelector('[name="limit"]').value=o.value),t.querySelectorAll("[data-setting]").forEach((function(e){n.querySelectorAll('[name="'+e.name+'"]').forEach((e=>e.remove()));let t=e.cloneNode(!0);t.classList.add("hidden"),n.appendChild(t)})),closeModal(a),a.dispatchEvent(new CustomEvent("submitted")),e.dispatchEvent(new CustomEvent("em_list_table_settings_submitted",{detail:{listTableForm:n,form:t,modal:a},bubbles:!0})),n.requestSubmit()}))})),e.querySelectorAll(".em-list-table-export > form").forEach((function(e){e.addEventListener("submit",(function(e){var t=this.querySelector(".em-list-table-filters");if(t){let e=n.querySelectorAll(".em-list-table-filters [name]");t.innerHTML="",e&&e.forEach((function(e){t.appendChild(e.cloneNode(!0))}));let i=n.querySelectorAll("[data-persist]");i&&i.forEach((function(e){t.appendChild(e.cloneNode(!0))}))}}))})),e.querySelectorAll(".em-list-table-cols-sortable").forEach((function(e){Sortable.create(e)})),document.dispatchEvent(new CustomEvent("em_list_table_setup",{detail:{listTable:e,listTableForm:n}}));const o=JSON.parse(n.dataset.actionMessages);let s=!1;e.addEventListener("click",(function(t){if(t.target.matches("a[data-row_action]")){t.preventDefault();let i=t.target,a=i.closest("tr");if(!s){let e=[];if(i.dataset.confirmation&&i.dataset.confirmation in o&&e.push(o[i.dataset.confirmation]),i.dataset.row_action in o&&e.push(o[i.dataset.row_action]),e.length>0&&!confirm(e.join("\n\n")))return!1}let r=i.closest("[data-tippy-root], .em-tooltip-ddm-content");r&&"_tippy"in r&&r._tippy.hide(),i.dataset.upstream&&e.querySelectorAll('tr[data-id="'+a.dataset.id+'"]').forEach((e=>e.classList.add("loading")));let c=new FormData(n);for(const[e,t]of Object.entries(i.dataset))c.set(e,t);return c.set("view",e.dataset.view),c.set("action",e.dataset.basename+"_row"),listTableRowAction(a,c),!1}})),e.addEventListener("click",(function(e){e.target.matches("a[data-row_action]")&&e.preventDefault()})),e.querySelectorAll("button.em-list-table-bulk-action").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();let t=n.querySelector("select.bulk-action-selector"),i=t.options[t.selectedIndex];if(i.dataset.confirm&&!confirm(i.dataset.confirm))return s=!1,!1;s=!0,n.querySelectorAll("tbody .check-column input:checked").forEach((function(e){let t=e.parentElement.querySelector('[data-row_action="'+i.value+'"]');if(t){let n=e.closest("tr");t.dataset.upstream&&n.classList.contains("loading")||t.click()}})),s=!1}))})),e.addEventListener("em_list_table_row_action_complete",(function(t){if(t.detail.upstream){let n=t.detail.currentRow,i=t.detail.formData;if("delete"===i.get("row_action")){let t=n.querySelector(".column-primary span.em-icon-trash.em-tooltip");t&&e.querySelectorAll('tr[data-id="'+i.get("row_id")+'"]').forEach((function(e){if(e!==n){let n=e.querySelector(".column-primary");n.prepend(t.cloneNode(!0)),em_setup_tippy(n)}e.classList.remove("faded-out"),e.classList.remove("loading")}))}else if("refresh"!==i.get("row_action")){let a=n.querySelector(".column-primary span.em-icon.em-tooltip").getAttribute("aria-label");i.set("row_action","refresh"),i.set("feedback",a),e.querySelectorAll('tr[data-id="'+i.get("row_id")+'"]').forEach((function(e){e!==n&&(listTableRowAction(e,i),delete isUpstreamAction[t.detail.booking_id],Object.keys(isUpstreamAction).length&&(isUpstreamAction=!1))}))}}})),e.querySelectorAll("td.column-actions a").forEach((e=>{e.classList.add("em-tooltip"),e.setAttribute("aria-label",e.innerText)}))};let listTableRowAction=function(e,t,n=!1){let i=e.closest(".em-list-table");e.classList.add("loading"),t.set("row_id",e.dataset.id),fetch(EM.ajaxurl,{method:"post",body:t}).then((function(e){return e.text()})).then((function(a){if(e.classList.add("faded-out"),"delete"===t.get("row_action")){e.querySelectorAll('th.check-column input[type="checkbox"], .em-list-table-actions').forEach((e=>e.remove()));let t=e.querySelector(".column-primary"),n=document.createElement("div");n.innerHTML=a;let i=n.firstElementChild;em_setup_tippy(n),t.prepend(i)}else e.innerHTML=a,setupListTableExtras(e);e.classList.remove("faded-out"),e.classList.remove("loading"),i.dispatchEvent(new CustomEvent("em_list_table_row_action_complete",{detail:{currentRow:e,formData:t,upstream:n}}))}))};const setupListTableExtras=function(e){e.querySelectorAll("td.column-actions a").forEach((e=>{e.classList.add("em-tooltip"),e.setAttribute("aria-label",e.innerText)})),e.querySelectorAll("td .em-list-table-col-tooltip .em-list-table-col-tooltip").forEach((e=>{e.querySelectorAll(".em-tooltip").forEach((e=>e.remove())),e.querySelectorAll(".em-tooltip-content").forEach((e=>e.classList.remove("hidden")))})),em_setup_tippy(e),em_setup_selectize(e)};function em_setup_datepicker(e){wrap=jQuery(e);let t=wrap.find(".em-date-single, .em-date-range");if(t.length>0){var n={dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,firstDay:EM.firstDay,yearRange:"c-100:c+15",beforeShow:function(e,t){em_setup_jquery_ui_wrapper(),t.dpDiv.appendTo("#em-jquery-ui")}};EM.dateFormat&&(n.dateFormat=EM.dateFormat),EM.yearRange&&(n.yearRange=EM.yearRange),jQuery(document).triggerHandler("em_datepicker",n),t.find("input.em-date-input-loc").each((function(e,t){var i=(t=jQuery(t)).nextAll("input.em-date-input").first(),a=i.val();if(t.datepicker(n),t.datepicker("option","altField",i),a){var r=jQuery.datepicker.formatDate(EM.dateFormat,jQuery.datepicker.parseDate("yy-mm-dd",a));t.val(r),i.val(a)}t.on("change",(function(){""==jQuery(this).val()&&jQuery(this).nextAll(".em-date-input").first().val("")}))})),t.filter(".em-date-range").find('input.em-date-input-loc[type="text"]').each((function(e,t){if((t=jQuery(t)).hasClass("em-date-start"))t.datepicker("option","onSelect",(function(e){var t=jQuery(this),n=t.parents(".em-date-range").find(".em-date-end").first(),i=t.nextAll("input.em-date-input").first().val(),a=n.nextAll("input.em-date-input").first().val();t.trigger("em_datepicker_change"),i>a&&""!=a&&(n.datepicker("setDate",e),n.trigger("change").trigger("em_datepicker_change")),n.datepicker("option","minDate",e)}));else if(t.hasClass("em-date-end")){var n=t.parents(".em-date-range").find(".em-date-start").first();""!=n.val()&&t.datepicker("option","minDate",n.val())}}))}let i=wrap.find(".em-datepicker, .em-datepicker-range");if(i.length>0){let t,n=jQuery("#em-flatpickr");0===n.length&&(n=jQuery('<div class="em pixelbones em-flatpickr" id="em-flatpickr"></div>').appendTo("body")),"locale"in EM.datepicker&&(flatpickr.localize(flatpickr.l10ns[EM.datepicker.locale]),flatpickr.l10ns.default.firstDayOfWeek=EM.firstDay);let a={appendTo:n[0],dateFormat:"Y-m-d",disableMoble:"true",allowInput:!0,onChange:[function(e,n,i){if(t!==e){let t=jQuery(i.input).closest(".em-datepicker"),a=t.find(".em-datepicker-data"),r=a.find("input"),o=function(e){let t=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[i,t,n].join("-")};if(0===e.length){if("single"===i.config.mode&&t.hasClass("em-datepicker-until")){(i.input.classList.contains("em-date-input-start")?r[0]:r[1]).setAttribute("value",""),0===r.filter((e=>""!==e.value)).length&&t.removeClass("has-value")}else if(t.removeClass("has-value"),r.attr("value",""),"multiple"===i.config.mode){let e=i.input.closest(".em-datepicker").querySelector(".em-datepicker-dates");e&&(e.querySelectorAll(".item:not(.clear-all)").forEach((e=>e.remove())),e.classList.remove("has-value"))}}else if(t.addClass("has-value"),"range"===i.config.mode&&void 0!==e[1])r[0].setAttribute("value",o(e[0])),r[1].setAttribute("value",o(e[1]));else if("single"===i.config.mode&&t.hasClass("em-datepicker-until"))if(i.input.classList.contains("em-date-input-start")){let n;if(r[0].setAttribute("value",o(e[0])),t.attr("data-until-id")){n=jQuery("#"+t.attr("data-until-id")+" .em-date-input-end")[0]._flatpickr}else n=t.find(".em-date-input-end")[0]._flatpickr;void 0!==n.selectedDates[0]&&n.selectedDates[0]<e[0]&&(n.setDate(e[0],!1),r[1].setAttribute("value",o(n.selectedDates[0]))),n.set("minDate",e[0])}else r[1].setAttribute("value",o(e[0]));else if("multiple"===i.config.mode){r[0].setAttribute("value",n),e.sort((function(e,t){return e-t}));let t=i.input.closest(".em-datepicker").querySelector(".em-datepicker-dates");if(t.classList.add("has-value"),t){t.querySelectorAll(".item:not(.clear-all)").forEach((e=>e.remove())),e.sort(((e,t)=>e-t));let n=[],a=[];e.forEach(((t,i)=>{if(0===a.length)a.push(t);else{1===(t-a[a.length-1])/864e5?a.push(t):(n.push(a),a=[t])}i===e.length-1&&n.push(a)})),n.forEach((e=>{let n=document.createElement("div");n.className="item";let a=e.map((e=>i.formatDate(e,"Y-m-d")));n.dataset.date=a.join(",");let r=i.formatDate(e[0],i.config.altFormat),o=i.formatDate(e[e.length-1],i.config.altFormat);n.innerHTML=`<span>${e.length>1?r+" - "+o:r}</span><a href="#" class="remove" tabindex="-1" title="Remove"></a>`,t.insertBefore(n,t.querySelector(".clear-all"))}))}}else r[0].setAttribute("value",o(e[0]));r.trigger("change");let s=a.attr("date-value");a.attr("data-value",r.toArray().map((e=>e.value)).filter((e=>""!==e)).join(",")),s===n&&a.trigger("change"),t[0].dispatchEvent(new CustomEvent("datepicker-onChange",{detail:{selectedDates:e,dateStr:n,instance:i}}))}t=null}],onClose:function(e,n,i){"range"===i.config.mode&&void 0!==e[1]?1===e.length&&i.setDate([e[0],e[0]],!0):(a.onChange[0](e,n,i),t=e)},locale:{}};EM.datepicker.format!==a.dateFormat&&(a.altFormat=EM.datepicker.format,a.altInput=!0),jQuery(document).triggerHandler("em_datepicker_options",a),i.each((function(e,t){(t=jQuery(t)).find(".em-datepicker-data").addClass("hidden");let n=t.hasClass("em-datepicker-range"),i={};t.attr("data-datepicker")&&(i=JSON.parse(t.attr("data-datepicker")),"object"!=typeof i&&(i={}));let r={};t.find("script.datepicker-options").length>0&&(r=JSON.parse(t.find("script.datepicker-options").text()),"object"!=typeof i&&(r={}));let o=Object.assign({},a,i,r);o.mode=n?"range":"single",t.hasClass("em-datepicker-multiple")&&(o.mode="multiple"),n&&"onClose"in o&&(o.onClose=[function(e,t,n){1===e.length&&n.setDate([e[0],e[0]],!0)}]),t.attr("data-separator")&&(o.locale.rangeSeparator=t.attr("data-separator")),t.attr("data-format")&&(o.altFormat=t.attr("data-format"));let s=t.find(".em-date-input");"input"===s[0].tagName.toLowerCase()?s.attr("type","text"):(o.wrap=!0,s.find('input[type="hidden"]').attr("type","text")),s.flatpickr(o)})),em_setup_datepicker_dates(i),jQuery(document).triggerHandler("em_flatpickr_loaded",[wrap]),e.dispatchEvent(new CustomEvent("em_datepicker_loaded",{bubbles:!0,detail:{container:wrap,datepickers:i}}))}}function em_setup_datepicker_dates(e){let t=jQuery(e);(t.first().hasClass("em-datepicker")?t:t.find(".em-datepicker, .em-datepicker-range")).each((function(e,t){let n=(t=jQuery(t)).find(".em-date-input"),i=t.find(".em-datepicker-data input");if(i.attr("type","hidden"),t.hasClass("em-datepicker-until")){let e,a=n.filter(".em-date-input-start")[0]._flatpickr;t.attr("data-until-id")?e=jQuery("#"+t.attr("data-until-id")+" .em-date-input-end")[0]._flatpickr:(e=n.filter(".em-date-input-end")[0]._flatpickr,i[1]&&i[1].value&&e.setDate(i[1].value,!1,"Y-m-d")),i[0]&&i[0].value&&(a.setDate(i[0].value,!1,"Y-m-d"),e.set("minDate",i[0].value)),a._inputData=i[0]?[i[0]]:[],e._inputData=i[1]?[i[1]]:[]}else if(t.hasClass("em-datepicker-multiple")){if(i[0]&&i[0].value){let e=i[0].value.split(",");n[0]._flatpickr.setDate(e,!0,"Y-m-d")}n[0]._flatpickr._inputData=[i[0]]}else{let e=[];n[0]._flatpickr._inputData=[],i.each((function(t,i){i.value&&(e.push(i.value),n[0]._flatpickr._inputData.push(i))})),n[0]._flatpickr.setDate(e,!1,"Y-m-d")}}))}function em_unsetup_datepicker(e){e.querySelectorAll(".em-datepicker .em-date-input.flatpickr-input").forEach((function(e){"_flatpickr"in e&&e._flatpickr.destroy()}))}function em_setup_timepicker(e){wrap=jQuery(e);var t={step:15};t.timeFormat=1==EM.show24hours?"G:i":"g:i A",jQuery(document).triggerHandler("em_timepicker_options",t),wrap.find(".em-time-input").em_timepicker(t).each((function(e,t){this.dataset.seconds=this.value?jQuery(this).em_timepicker("getSecondsFromMidnight"):""}));let n=function(e){e.stopPropagation();const t=new CustomEvent("change",{bubbles:!0,cancelable:!0,detail:{target:e.target}});Object.defineProperty(t,"target",{configurable:!0,get:()=>e.target}),e.target.closest(".em-time-range").dispatchEvent(t)};wrap.find(".em-time-range input.em-time-start").each((function(e,t){var n=jQuery(t);n.data("oldTime",n.em_timepicker("getSecondsFromMidnight"))})).on("change",(function(e){var t=jQuery(this),i=t.closest(".em-time-range"),a=i.find(".em-time-end").first();if(a.val()){var r=t.data("oldTime"),o=1e3*(a.em_timepicker("getSecondsFromMidnight")-r),s=t.em_timepicker("getSecondsFromMidnight");this.value&&a.em_timepicker("getSecondsFromMidnight")>=r&&a.em_timepicker("setTime",new Date(t.em_timepicker("getTime").getTime()+o)),t.data("oldTime",s)}(t.val()||a.val())&&i.find(".em-time-all-day").prop("checked",!1).prop("indeterminate",!1),this.dataset.seconds=t.val()?t.em_timepicker("getSecondsFromMidnight"):"",n(e)})),e.querySelectorAll(".em-time-range").forEach((e=>e.addEventListener("change",(function(e){if(e.target.matches("input.em-time-end")){let t=jQuery(e.target);e.target.dataset.seconds=t.val()?t.em_timepicker("getSecondsFromMidnight"):"";let n=t.prevAll(".em-time-start"),i=e.target.closest(".event-form-when, .em-time-range"),a=i.querySelector(".em-date-end"),r=i.querySelector(".em-date-start"),o=a?a.value:"",s=r?r.value:"";if(n.val()){let i=n.em_timepicker("getTime")>t.em_timepicker("getTime")&&(!s||o===s);e.target.classList.toggle("error",i)}r&&i.querySelectorAll(".em-time-all-day").forEach((function(e){e.checked=!1,e.indeterminate=!1}))}else e.target.matches(".em-date-end")?jQuery(e.target.closest(".event-form-when")).find(".em-time-end").trigger("change"):e.target.matches("input.em-time-all-day")&&(e.currentTarget.querySelectorAll(".em-time-input").forEach((function(t){t.readOnly=e.target.checked})),e.target.checked&&(e.currentTarget.querySelectorAll(".em-time-start").forEach((e=>jQuery(e).em_timepicker("setTime",new Date("2000-01-01 00:00:00")))),e.currentTarget.querySelectorAll(".em-time-end").forEach((e=>jQuery(e).em_timepicker("setTime",new Date("2000-01-01 23:59:59"))))))})))),wrap.find(".em-time-range input.em-time-end").on("change",n)}function em_unsetup_timepicker(e){jQuery(e).find(".em-time-range input.em-time-end, .em-time-range input.em-time-start").unbind(["click","focus","change"])}document.addEventListener("em_list_table_filtered",(function(e){setupListTable(e.detail.listTable),setupListTableExtras(e.detail.listTable)})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".em_obj div.tablenav").forEach((function(e){let t=e.closest(".em_obj");t.classList.add("em-list-table","legacy","frontend"),t.querySelector("& > form").classList.add("em-list-table-form")})),document.querySelectorAll(".em-list-table").forEach((e=>setupListTable(e)))})),document.addEventListener("em_list_table_setup",(function(e){let t=e.detail.listTable,n=e.detail.listTableForm;if(t.classList.contains("em-bookings-table")){t.addEventListener("em_list_table_settings_submitted",(function(e){let t=e.detail.form,n=e.detail.listTableForm,i=t.querySelector('select[name="view"]');if(i){let e=n.querySelector('[name="view"][value="'+i.value+'"]');e&&(e.checked=!0);let t=n.querySelector("button.em-bookings-table-view-option[data-view]");t&&(t.setAttribute("data-view",i.value),t.innerText=i.options[i.selectedIndex].innerText)}}));let e={theme:"light-border",allowHTML:!0,interactive:!0,trigger:"manual",placement:"bottom",zIndex:1e6,touch:!0},i={theme:"light-border",appendTo:"parent",touch:!1};t.querySelectorAll(".em-bookings-table-views-trigger").forEach((function(a){i.content=a.parentElement.getAttribute("aria-label");let r=tippy(a.parentElement,i),o=a.parentElement.querySelector(".em-bookings-table-views-options"),s=o.parentElement,c=document.createElement("div");e.content=c;let l=tippy(a,e);l.setProps({onShow(e){r.disable(),c.append(o)},onShown(e){o.querySelector("input:checked").focus()},onHidden(e){r.enable(),o.parentElement!==s&&s.append(o)}});let d=function(e){if("keydown"===e.type&&13!==e.which&&40!==e.which)return!1;e.preventDefault(),e.stopPropagation(),a._tippy.show(),r.hide()};a.addEventListener("click",d),a.addEventListener("keydown",d),a.firstElementChild.addEventListener("focus",(function(e){l.hide(),r.enable(),r.show()})),a.firstElementChild.addEventListener("blur",(function(){r.hide()}));let u=jQuery;$views=u(t).find(".em-bookings-table-views"),$views.on("focus blur",".em-bookings-table-views-options input",(function(){document.activeElement===this?this.parentElement.classList.add("focused"):this.parentElement.classList.remove("focused")})),$views.on("keydown click",".em-bookings-table-views-options input",(function(e){if("keydown"===e.type&&13!==e.which)return-1!==[37,38,39,40].indexOf(e.which)?(38===e.which?this.parentElement.previousElementSibling&&this.parentElement.previousElementSibling.focus():40===e.which&&this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.focus(),!1):(9===e.which&&l.hide(),!0);this.checked=!0;let t=u(this);t.closest("fieldset").find("label").removeClass("checked"),t.parent().addClass("checked");let i=u(this).closest(".em-bookings-table-views"),a=this.value,r=i.children(".em-bookings-table-views-trigger").children(".em-search-view-option");a!==r.attr("data-view")&&(r.attr("data-view",this.value).text(this.parentElement.innerText),n.querySelector('input[name="cols"][type="hidden"]').value="",n.requestSubmit()),l.hide()}))}))}})),document.addEventListener("em_list_table_filtered",(function(e){e.detail.listTable.classList.contains("em-bookings-table")&&window.jQuery&&jQuery(document).triggerHandler("em_bookings_filtered",[jQuery(e.detail.data),e.detail.listTable,jQuery(e.detail.form)])})),document.addEventListener("click",(function(e){if(!e.target.closest(".em-datepicker-dates .item:not(.clear-all) .remove"))return;e.preventDefault();const t=e.target.closest(".item"),n=t.closest(".em-datepicker-dates"),i=n.closest(".em-datepicker");i.querySelector(".em-date-input");t.remove();const a=[];n.querySelectorAll(".item:not(.clear-all)").forEach((e=>{e.dataset.date.split(",").forEach((e=>a.push(e)))}));const r=i.querySelector(".em-date-input")._flatpickr;r&&r.setDate(a,!0,"Y-m-d");const o=i.querySelector(".em-datepicker-data input");o&&(o.value=a.join(","),o.dispatchEvent(new Event("change")))})),document.addEventListener("click",(function(e){if(!e.target.closest(".em-datepicker-dates .clear-all"))return;e.preventDefault();const t=e.target.closest(".em-datepicker-dates"),n=t.closest(".em-datepicker"),i=n.querySelector(".em-date-input")._flatpickr;t.querySelectorAll(".item:not(.clear-all)").forEach((e=>e.remove())),i&&i.clear();const a=n.querySelector(".em-datepicker-data input");a&&(a.value="",a.dispatchEvent(new Event("change")))}));let em_close_other_selectized=function(){let e=this.classList.contains("selectize-control")?this.closest(".em-selectize.selectize-control"):this;document.querySelectorAll(".em-selectize.dropdown-active").forEach((function(t){t!==e&&"selectize"in t.previousElementSibling&&t.previousElementSibling.selectize.close()}))};function em_setup_selectize(e){container=jQuery(e),container.find(".em-selectize.selectize-control").on("click",em_close_other_selectized);let t=function(e,t){let n='<div class="option"';return"data"in e&&Object.entries(e.data).forEach((function(e){n+=" data-"+t(e[0])+'="'+t(e[1])+'"'})),n+=">",this.$input.hasClass("checkboxes")?n+=e.text.replace(/^(\s+)?/i,"$1<span></span> "):n+=e.text,n+="</div>",n};container.find("select:not([multiple]).em-selectize, .em-selectize select:not([multiple])").em_selectize({selectOnTab:!1,render:{option:t}}).on("change",(e=>{e.target.selectize?.$input[0].parentElement.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,detail:{target:e.target,selectize:e.target.selectize}}))})),container.find("select[multiple].em-selectize, .em-selectize select[multiple]").em_selectize({selectOnTab:!1,hideSelected:!1,plugins:["remove_button","click2deselect","multidropdown"],diacritics:!0,render:{item:function(e,t){return'<div class="item"><span>'+e.text.replace(/^\s+/i,"")+"</span></div>"},option:t,optgroup:function(e,t){let n='<div class="optgroup" data-group="'+t(e.label)+'"';return"data"in e&&Object.entries(e.data).forEach((function(e){n+=" data-"+t(e[0])+'="'+t(e[1])+'"'})),n+=">",n+e.html+"</div>"}}}).on("change",(e=>{e.target.selectize?.$input[0].parentElement.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,detail:{target:e.target,selectize:e.target.selectize}}))})),container.find(".em-selectize:not(.always-open)").each((function(){if("selectize"in this){let e=this.selectize;this.selectize.$wrapper.on("keydown",(function(t){9===t.keyCode&&e.blur()}))}})),container.find(".em-selectize.always-open").each((function(){if("selectize"in this){let e=this.selectize;e.open(),e.advanceSelection=function(){},e.setActiveItem=function(){},this.selectize.$control.on("click",".remove",(function(t){if(!e.isLocked){var n=jQuery(t.currentTarget).parent();return e.removeItem(n.attr("data-value")),e.refreshOptions(),!1}}))}})),container.find(".em-list-table-modal .em-list-table-cols").each((function(){let e=jQuery(this),t=jQuery(this).find(".em-list-table-cols-sortable");e.find(".em-selectize.always-open").each((function(){if("selectize"in this){let n=this.selectize;n.on("item_add",(function(e,i){let a=i.clone(),r=n.getOption(e),o=r.attr("data-type");a.appendTo(t),a.attr("data-type",o),r.attr("data-header")&&a.children("span:first-child").text(r.attr("data-header")),jQuery('<input type="hidden" name="cols['+e+']" value="1">').appendTo(a)})),n.on("item_remove",(function(t){e.find('.item[data-value="'+t+'"]').remove()})),e.on("click",".em-list-table-cols-selected .item .remove",(function(){let e=this.parentElement.getAttribute("data-value");n.removeItem(e,!0)}))}}))}))}function em_unsetup_selectize(e){e.querySelectorAll(".em-selectize").forEach((function(e){"selectize"in e&&e.selectize.destroy()}))}function em_setup_tippy(e){let t=jQuery(e);var n={theme:"light-border",appendTo:"parent",content(e){if(e.dataset.content)try{let n=t[0].querySelector(e.dataset.content);if(n)return n.classList.remove("hidden"),n}catch(t){console.log("Invlid tooltip selector in %o : %o",e,t)}return e.getAttribute("aria-label")??e.title??""},touch:["hold",300],allowHTML:!0};jQuery(document).trigger("em-tippy-vars",[n,t]),t.find(".em-tooltip").each(((e,t)=>tippy(t,n)));let i={theme:"light-border",arrow:!1,allowHTML:!0,interactive:!0,trigger:"manual",placement:"bottom",zIndex:1e6,touch:!0};jQuery(document).trigger("em-tippy-ddm-vars",[i,t]),t.find(".em-tooltip-ddm").each((function(){let e,t;this.getAttribute("data-content")?(e=document.getElementById(this.getAttribute("data-content")),t=e.previousElementSibling):(e=this.nextElementSibling,t=e.previousElementSibling);let n=document.createElement("div"),a=this.getAttribute("data-button-width");a&&("match"==a?(i.maxWidth=this.clientWidth,e.style.width=this.clientWidth+"px"):i.maxWidth=this.getAttribute("data-button-width")),i.content=n;let r=tippy(this,i);r.props.distance=50,r.setProps({onShow(t){t.reference.getAttribute("data-tooltip-class")&&t.popper.classList.add(t.reference.getAttribute("data-tooltip-class")),t.popper.classList.add("em-tooltip-ddm-display"),n.append(e),e.classList.remove("em-tooltip-ddm-content")},onShown(t){e.firstElementChild.focus()},onHidden(n){e.previousElementSibling!==t&&(t.after(e),e.classList.add("em-tooltip-ddm-content"))}});let o=function(e){if("keydown"===e.type&&13!==e.which&&40!==e.which)return!1;e.preventDefault(),e.stopPropagation(),this._tippy.show()};this.addEventListener("click",o),this.addEventListener("keydown",o),n.addEventListener("blur",(function(){n.hide()})),n.addEventListener("mouseover",(function(){e.firstElementChild.blur()}))}))}function em_unsetup_tippy(e){e.querySelectorAll(".em-tooltip-ddm").forEach((function(e){"_tippy"in e&&e._tippy.destroy()}))}document.addEventListener("events_manager_js_loaded",(function(){EM_Selectize.define("multidropdown",(function(e){if(!this.$input.hasClass("multidropdown"))return;let t,n,i,a,r,o=this,s=o.setup,c=o.refreshOptions,l=(o.open,o.close,!1);this.changeFunction=function(){let e=o.getValue(),t=this.$input.attr("data-selected-text")?this.$input.attr("data-selected-text"):"%d Selected";r.children("span.selected-text").text(t.replace("%d",e.length)),e.length>0?(r.removeClass("hidden"),n.text(a),o.$control_input.attr("placeholder",o.$input.attr("placeholder"))):(r.addClass("hidden"),n.text(i))},this.setup=function(){s.apply(o),o.isDropdownClosingPlaceholder=!1,t=jQuery('<div class="em-selectize-placeholder"></div>').prependTo(o.$wrapper);let e=this.$input.attr("data-clear-text")?this.$input.attr("data-clear-text"):"Clear Selection";r=jQuery('<span class="placeholder-count hidden"><a href="#" class="remove" tabindex="-1">X</a><span class="selected-text"></span><span class="clear-selection">'+e+"</span></div>").prependTo(t),n=jQuery('<span class="placeholder-text"></span>').appendTo(t),i=o.$input.attr("data-default")?o.$input.attr("data-default"):o.$input.attr("placeholder"),a=o.$input.attr("data-label")?o.$input.attr("data-label"):o.$input.attr("placeholder"),n.text(i),o.$dropdown.prepend(o.$control_input.parent()),o.on("dropdown_close",(function(){o.$wrapper.removeClass("dropdown-active")})),o.on("dropdown_open",(function(){o.$wrapper.addClass("dropdown-active"),o.$control_input.val("")})),o.on("change",this.changeFunction),t.on("focus blur click",(function(e){this.matches(".em-selectize-placeholder")&&(o.isOpen||"blur"===e.type?o.isOpen&&"focus"!==e.type&&o.close():o.open())})).on("focus blur click mousedown mouseup",(function(e){if(this.matches(".em-selectize-placeholder"))return e.stopPropagation(),e.preventDefault(),"click"===e.type?(em_close_other_selectized.call(this.closest(".selectize-control")),o.isOpen&&o.$control_input.val()&&!this.matches(".placeholder-count")&&!this.closest(".placeholder-count")&&(l=!0,o.close())):l=!1,!1})),r.on("click",(function(e){e.preventDefault(),e.stopPropagation(),o.clear(),o.isOpen&&o.refreshOptions()})),this.changeFunction()},this.refreshOptions=function(...e){c.apply(o,e),!this.hasOptions&&this.lastQuery?(!1===l&&(this.$wrapper.addClass("dropdown-active"),o.isOpen=!0),this.$wrapper.addClass("no-options"),l=!1):this.$wrapper.removeClass("no-options")}}))}));var infoWindow,em_maps_loaded=!1,maps={},maps_markers={};function em_maps_load(){if(!em_maps_loaded)if(0!=jQuery("script#google-maps").length||"object"==typeof google&&"object"==typeof google.maps)"object"!=typeof google||"object"!=typeof google.maps||em_maps_loaded?jQuery("script#google-maps").length>0&&jQuery(window).load((function(){em_maps_loaded||em_maps()})):em_maps();else{var e=document.createElement("script");e.type="text/javascript",e.id="google-maps";var t=EM.is_ssl?"https:":"http:";void 0!==EM.google_maps_api?e.src=t+"//maps.google.com/maps/api/js?v=quarterly&libraries=places&callback=em_maps&key="+EM.google_maps_api:e.src=t+"//maps.google.com/maps/api/js?v=quarterly&libraries=places&callback=em_maps",document.body.appendChild(e)}}function em_maps_load_locations(e){let t,n=e,i=n.getAttribute("id").replace("em-locations-map-","");if(document.getElementById("em-locations-map-coords-"+i))t=JSON.parse(document.getElementById("em-locations-map-coords-"+i).text);else{let e=n.parentElement.querySelector(".em-locations-map-coords");t=e?JSON.parse(e.text):{}}jQuery.getJSON(document.URL,t,(function(e){if(e.length>0){var t={mapTypeId:google.maps.MapTypeId.ROADMAP};"object"==typeof EM.google_map_id_styles&&void 0!==EM.google_map_id_styles[i]?(console.log(EM.google_map_id_styles[i]),t.styles=EM.google_map_id_styles[i]):void 0!==EM.google_maps_styles&&(t.styles=EM.google_maps_styles),jQuery(document).triggerHandler("em_maps_locations_map_options",t);var a={};jQuery(document).triggerHandler("em_maps_location_marker_options",a),maps[i]=new google.maps.Map(n,t),maps_markers[i]=[];var r=new google.maps.LatLngBounds;jQuery.map(e,(function(e,t){if(0!=e.location_latitude||0!=e.location_longitude){var n=parseFloat(e.location_latitude),o=parseFloat(e.location_longitude),s=new google.maps.LatLng(n,o);jQuery.extend(a,{position:s,map:maps[i]});var c=new google.maps.Marker(a);maps_markers[i].push(c),c.setTitle(e.location_name),em_map_infobox(c,'<div class="em-map-balloon"><div id="em-map-balloon-'+i+'" class="em-map-balloon-content">'+e.location_balloon+"</div></div>",maps[i]),r.extend(new google.maps.LatLng(n,o))}})),maps[i].fitBounds(r),jQuery&&jQuery(document).triggerHandler("em_maps_locations_hook",[maps[i],e,i,maps_markers[i]]),document.dispatchEvent(new CustomEvent("em_maps_locations_hook",{detail:{map:maps[i],data:e,id:i,markers:maps_markers[i],el:n},cancellable:!0}))}else n.firstElementChild.innerHTML="No locations found",jQuery&&jQuery(document).triggerHandler("em_maps_locations_hook_not_found",[jQuery(n)]),document.dispatchEvent(new CustomEvent("em_maps_locations_hook_not_found",{detail:{id:i,el:n},cancellable:!0}))}))}function em_maps_load_location(e){var t=(e=jQuery(e)).attr("id").replace("em-location-map-","");em_LatLng=new google.maps.LatLng(jQuery("#em-location-map-coords-"+t+" .lat").text(),jQuery("#em-location-map-coords-"+t+" .lng").text());var n={zoom:14,center:em_LatLng,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,gestureHandling:"cooperative"};"object"==typeof EM.google_map_id_styles&&void 0!==EM.google_map_id_styles[t]?(console.log(EM.google_map_id_styles[t]),n.styles=EM.google_map_id_styles[t]):void 0!==EM.google_maps_styles&&(n.styles=EM.google_maps_styles),jQuery(document).triggerHandler("em_maps_location_map_options",n),maps[t]=new google.maps.Map(document.getElementById("em-location-map-"+t),n);var i={position:em_LatLng,map:maps[t]};jQuery(document).triggerHandler("em_maps_location_marker_options",i),maps_markers[t]=new google.maps.Marker(i),(infoWindow=new google.maps.InfoWindow({content:jQuery("#em-location-map-info-"+t+" .em-map-balloon").get(0)})).open(maps[t],maps_markers[t]),maps[t].panBy(40,-70),jQuery(document).triggerHandler("em_maps_location_hook",[maps[t],infoWindow,maps_markers[t],t]),jQuery(window).on("resize",(function(e){google.maps.event.trigger(maps[t],"resize"),maps[t].setCenter(maps_markers[t].getPosition()),maps[t].panBy(40,-70)}))}function em_maps(){if(jQuery("div.em-location-map").each((function(e,t){em_maps_load_location(t)})),jQuery("div.em-locations-map").each((function(e,t){em_maps_load_locations(t)})),jQuery("select#location-select-id, input#location-address").length>0){var e,t=function(){var t=jQuery("#location-latitude").val(),n=jQuery("#location-longitude").val();if(0!=t||0!=n){var i=new google.maps.LatLng(t,n);a.setPosition(i);var r=jQuery("input#location-name").length>0?jQuery("input#location-name").val():jQuery("input#title").val();r=em_esc_attr(r),a.setTitle(r),jQuery("#em-map").show(),jQuery("#em-map-404").hide(),google.maps.event.trigger(e,"resize"),e.setCenter(i),e.panBy(40,-55),infoWindow.setContent('<div id="location-balloon-content"><strong>'+r+"</strong><br>"+em_esc_attr(jQuery("#location-address").val())+"<br>"+em_esc_attr(jQuery("#location-town").val())+"</div>"),infoWindow.open(e,a),jQuery(document).triggerHandler("em_maps_location_hook",[e,infoWindow,a,0])}else jQuery("#em-map").hide(),jQuery("#em-map-404").show()};if(jQuery("#location-select-id, input#location-id").on("change",(function(){var t;t=jQuery(this).val(),jQuery("#em-map").length>0&&(jQuery("#em-map-404 .em-loading-maps").show(),jQuery.getJSON(document.URL,{em_ajax_action:"get_location",id:t},(function(t){0!=t.location_latitude&&0!=t.location_longitude?(loc_latlng=new google.maps.LatLng(t.location_latitude,t.location_longitude),a.setPosition(loc_latlng),a.setTitle(t.location_name),a.setDraggable(!1),jQuery("#em-map").show(),jQuery("#em-map-404").hide(),jQuery("#em-map-404 .em-loading-maps").hide(),e.setCenter(loc_latlng),e.panBy(40,-55),infoWindow.setContent('<div id="location-balloon-content">'+t.location_balloon+"</div>"),infoWindow.open(e,a),google.maps.event.trigger(e,"resize"),jQuery(document).triggerHandler("em_maps_location_hook",[e,infoWindow,a,0])):(jQuery("#em-map").hide(),jQuery("#em-map-404").show(),jQuery("#em-map-404 .em-loading-maps").hide())})))})),jQuery("#location-name, #location-town, #location-address, #location-state, #location-postcode, #location-country").on("change",(function(){if(!0!==jQuery(this).prop("readonly")){var e=[jQuery("#location-address").val(),jQuery("#location-town").val(),jQuery("#location-state").val(),jQuery("#location-postcode").val()],n="";if(jQuery.each(e,(function(e,t){""!=t&&(n=""==n?n+t:n+", "+t)})),""==n)return jQuery("#em-map").hide(),jQuery("#em-map-404").show(),!1;0!=jQuery("#location-country option:selected").val()&&(n=""==n?n+jQuery("#location-country option:selected").text():n+", "+jQuery("#location-country option:selected").text()),jQuery("#em-map-404 .em-loading-maps").show(),""!=n&&jQuery("#em-map").length>0&&r.geocode({address:n},(function(e,n){n==google.maps.GeocoderStatus.OK&&(jQuery("#location-latitude").val(e[0].geometry.location.lat()),jQuery("#location-longitude").val(e[0].geometry.location.lng())),t()}))}})),jQuery("#em-map").length>0){var n=new google.maps.LatLng(0,0),i={zoom:14,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,gestureHandling:"cooperative"};void 0!==EM.google_maps_styles&&(i.styles=EM.google_maps_styles),e=new google.maps.Map(document.getElementById("em-map"),i);var a=new google.maps.Marker({position:n,map:e,draggable:!0});infoWindow=new google.maps.InfoWindow({content:""});var r=new google.maps.Geocoder;google.maps.event.addListener(infoWindow,"domready",(function(){document.getElementById("location-balloon-content").parentNode.style.overflow="",document.getElementById("location-balloon-content").parentNode.parentNode.style.overflow=""})),google.maps.event.addListener(a,"dragend",(function(){var t=a.getPosition();jQuery("#location-latitude").val(t.lat()),jQuery("#location-longitude").val(t.lng()),e.setCenter(t),e.panBy(40,-55)})),jQuery("#location-select-id").length>0?jQuery("#location-select-id").trigger("change"):t(),jQuery(document).triggerHandler("em_map_loaded",[e,infoWindow,a])}jQuery(window).on("resize",(function(t){google.maps.event.trigger(e,"resize"),e.setCenter(a.getPosition()),e.panBy(40,-55)}))}em_maps_loaded=!0,jQuery(document).triggerHandler("em_maps_loaded")}function em_map_infobox(e,t,n){var i=new google.maps.InfoWindow({content:t});google.maps.event.addListener(e,"click",(function(){infoWindow&&infoWindow.close(),infoWindow=i,i.open(n,e)}))}function em_esc_attr(e){return"string"!=typeof e?"":e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}jQuery(document).on("em_view_loaded_map",(function(e,t,n){if(em_maps_loaded){em_maps_load_locations(t.find("div.em-locations-map")[0])}else em_maps_load()})),jQuery(document).on("em_search_ajax",(function(e,t,n){em_maps_loaded&&(n.find("div.em-location-map").each((function(e,t){em_maps_load_location(t)})),n.find("div.em-locations-map").each((function(e,t){em_maps_load_locations(t)})))}));let openModal=function(e,t=null){(e=jQuery(e)).appendTo(document.body),setTimeout((function(){e.addClass("active").find(".em-modal-popup").addClass("active"),jQuery(document).triggerHandler("em_modal_open",[e]),document.dispatchEvent(new CustomEvent("em_modal_open",{detail:{modal:e}})),"function"==typeof t&&setTimeout(t,200)}),100)},closeModal=function(e,t=null){(e=jQuery(e)).removeClass("active").find(".em-modal-popup").removeClass("active"),setTimeout((function(){if(e.attr("data-parent")){let t=jQuery("#"+e.attr("data-parent"));t.length&&e.appendTo(t)}e.triggerHandler("em_modal_close"),e[0].dispatchEvent(new CustomEvent("em_modal_close",{bubbles:!0,detail:{modal:e}})),"function"==typeof t&&t()}),500)};function EM_Alert(e){let t=document.getElementById("em-alert-modal");null===t&&(t=document.createElement("div"),t.setAttribute("class","em pixelbones em-modal"),t.id="em-alert-modal",t.innerHTML='<div class="em-modal-popup"><header><a class="em-close-modal"></a><div class="em-modal-title">&nbsp;</div></header><div class="em-modal-content" id="em-alert-modal-content"></div></div>',document.body.append(t)),document.getElementById("em-alert-modal-content").innerHTML=e,openModal(t)}jQuery(document).on("click",".em-modal .em-close-modal",(function(e){let t=jQuery(this).closest(".em-modal");t.attr("data-prevent-close")||closeModal(t)})),jQuery(document).on("click",".em-modal",(function(e){if(jQuery(e.target).hasClass("em-modal")){let e=jQuery(this);e.attr("data-prevent-close")||closeModal(e)}})),jQuery(document).ready((function(t){let n={theme:"light-border",allowHTML:!0,interactive:!0,trigger:"manual",placement:"bottom",zIndex:1e6,touch:!0};t(document).trigger("em-search-views-trigger-vars",[n]);let i={theme:"light-border",appendTo:"parent",touch:!1};t(document).trigger("em-tippy-vars",[i]),t(".em-search:not(.em-search-advanced)").each((function(){let e=t(this),a=e.attr("id").replace("em-search-",""),o=e.find(".em-search-form").first(),s=e.find(".em-search-advanced");const c=function(e,t=1){let n=t>0?t:null;jQuery(e).attr("data-advanced-total-input",n),l()},l=function(n=!1){e.find("span.total-count").remove();let i=0;s.find("[data-advanced-total-input]").each((function(){let e=this.getAttribute("data-advanced-total-input");i+=Math.abs(e)})),e.attr("data-advanced-total",i),d(n),s.find(".em-search-advanced-section").each((function(){let e=t(this),n=0;e.attr("data-advanced-total",0),e.find("[data-advanced-total-input]").each((function(){let e=this.getAttribute("data-advanced-total-input");n+=Math.abs(e)})),e.attr("data-advanced-total",n),p(e)})),(i>0||!e.attr("data-advanced-previous-total")||i!=e.attr("data-advanced-previous-total"))&&u(!0),m()},d=function(t=!1){let n=jQuery('.em-search-advanced-trigger[data-search-advanced-id="em-search-advanced-'+a+'"]');n.find("span.total-count").remove();let i=e.attr("data-advanced-total");if(i>0){let e=jQuery('<span class="total-count">'+i+"</span>").appendTo(n);t||e.addClass("tentative")}},u=function(t=!1){let n=s.find('button[type="submit"]'),i=e.find('.em-search-main-bar button[type="submit"]'),a=n.add(i);t?a.removeClass("disabled").attr("aria-disabled","false"):a.addClass("disabled").attr("aria-disabled","true")},p=function(e){let n=e.attr("data-advanced-total");e.find("header span.total-count").remove(),n>0&&t('<span class="total-count">'+n+"</span>").appendTo(e.find("header"))},m=function(){let t=s.find('button[type="reset"]');t.attr("data-placeholder")||t.attr("data-placeholder",t.text());let n=e.attr("data-advanced-total");n>0?(t.text(t.attr("data-placeholder")+" ("+n+")").prop("disabled",!1),t.removeClass("disabled").attr("aria-disabled","false")):(t.text(t.attr("data-placeholder")),t.addClass("disabled").attr("aria-disabled","true"))};e.find(".em-search-views-trigger").each((function(){i.content=this.parentElement.getAttribute("aria-label");let r=tippy(this.parentElement,i),s=this.parentElement.querySelector(".em-search-views-options"),c=s.parentElement,l=document.createElement("div");n.content=l;let d=tippy(this,n);d.setProps({onShow(e){r.disable(),l.append(s)},onShown(e){s.querySelector("input:checked").focus()},onHidden(e){r.enable(),s.parentElement!==c&&c.append(s)}});let p=function(e){if("keydown"===e.type&&13!==e.which&&40!==e.which)return!1;e.preventDefault(),e.stopPropagation(),this._tippy.show(),r.hide()};this.addEventListener("click",p),this.addEventListener("keydown",p),this.firstElementChild.addEventListener("focus",(function(e){d.hide(),r.enable(),r.show()})),this.firstElementChild.addEventListener("blur",(function(){r.hide()})),e.on("focus blur",".em-search-views-options input",(function(){document.activeElement===this?this.parentElement.classList.add("focused"):this.parentElement.classList.remove("focused")})),e[0].addEventListener("change",(function(){u(!0)})),e.on("keydown click",".em-search-views-options input",(function(e){if("keydown"===e.type&&13!==e.which)return-1!==[37,38,39,40].indexOf(e.which)?(38===e.which?this.parentElement.previousElementSibling&&this.parentElement.previousElementSibling.focus():40===e.which&&this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.focus(),!1):(9===e.which&&d.hide(),!0);this.checked=!0;let n=t(this);n.closest("fieldset").find("label").removeClass("checked"),n.parent().addClass("checked");let i=t(this).closest(".em-search-views"),r=this.value,s=i.children(".em-search-views-trigger").children(".em-search-view-option");r!==s.attr("data-view")&&(s.attr("data-view",this.value).text(this.parentElement.innerText),t("#em-view-"+a).find("#em-view-custom-data-search-"+a).remove(),o.find('button[type="submit"]').focus(),o.trigger("forcesubmit")),d.hide()}))})),e.find(".em-search-sort-trigger").each((function(){i.content=this.parentElement.getAttribute("aria-label");tippy(this.parentElement,i);e.on("keydown click",".em-search-sort-option",(function(e){let t="ASC"===this.dataset.sort?"DESC":"ASC";this.setAttribute("data-sort",t),this.parentElement.querySelector('input[name="order"]').value=t,o.find('button[type="submit"]').focus(),o.trigger("forcesubmit")}))}));let f=function(n){if(e.hasClass("advanced-mode-inline"))s.hasClass("visible")?(s.slideUp().removeClass("visible"),"_tippy"in this&&this._tippy.setContent(this.getAttribute("data-label-show"))):(s.slideDown().addClass("visible"),"_tippy"in this&&this._tippy.setContent(this.getAttribute("data-label-hide")));else if(!s.hasClass("active")){let e=t('<form action="" method="post" class="em-search-advanced-form" id="em-search-form-advanced-'+a+'"></form>');e.appendTo(s),s.find(".em-modal-popup").appendTo(e);let n=this;openModal(s,(function(){n.blur(),s.find("input.em-search-text").focus()}))}};e.on("click","button.em-search-advanced-trigger:not([data-search-advanced-id],[data-parent-trigger])",f),o.on("search_advanced_trigger",f),s.on("em_modal_close",(function(){s.find(".em-modal-popup").appendTo(s),s.children("form").remove();let t=e.find("button.em-search-advanced-trigger").focus();t.length>0&&"_tippy"in t[0]&&t[0]._tippy.hide()})),s.find(".em-search-advanced-section > header").on("click",(function(){let e=t(this),n=e.closest("section"),i=e.siblings(".em-search-section-content");n.hasClass("active")?(i.slideUp(),n.removeClass("active")):(i.slideDown(),n.addClass("active"))}));let h=function(e){let n=t(e),i=""!==n.val()?1:0;c(n,i)};e.on("change input",".em-search-main-bar input.em-search-text",(function(e){let t=s.find("input.em-search-text");0===t.length?h(this):(t.val(this.value),h(t[0])),u(!0)})),e.on("change",".em-search-main-bar input.em-search-geo-coords",(function(){let e=t(this),n=s.find("div.em-search-geo"),i=n.find("input.em-search-geo-coords");if(i.length>0){i.val(e.val()).attr("class",e.attr("class"));let t=e.siblings("input.em-search-geo").first();n.find("input.em-search-geo").val(t.val()).attr("class",t.attr("class")),h(i)}else h(this)})),e.find(".em-search-main-bar .em-datepicker input.em-search-scope.flatpickr-input").each((function(){"_flatpickr"in this&&this._flatpickr.config.onClose.push((function(e,t,n){let i=s.find(".em-datepicker input.em-search-scope.flatpickr-input");if(0===i.length){let e=t?1:0;c(n.input,e)}else i[0]._flatpickr.setDate(e,!0),i[0]._flatpickr.close()}))})),e.find("select.em-selectize").each((function(){"selectize"in this&&this.selectize.on("change",(function(){v(this)}))})),s.on("change input","input.em-search-text",(function(t){"change"===t.type&&e.find(".em-search-main input.em-search-text").val(this.value),h(this)})),s.on("change","input.em-search-geo-coords",(function(n){h(this);let i=t(this),a=e.find(".em-search-main div.em-search-geo");if(a.length>0){a.find("input.em-search-geo-coords").val(i.val()).attr("class",i.attr("class"));let e=i.siblings("input.em-search-geo");a.find("input.em-search-geo").val(e.val()).attr("class",e.attr("class"))}})),s.on("clear_search",(function(){let n=t(this).find("input.em-search-text");0===n.length&&(n=e.find("input.em-search-text")),n.val("").attr("value",null).trigger("change")})),s.on("change",'input[type="checkbox"]',(function(e){let n=t(this),i=n.prop("checked")?1:0;c(n,i)})),s.on("calculate_totals",(function(){s.find("input.em-search-text, input.em-search-geo-coords").each((function(){h(this)})),s.find('input[type="checkbox"]').trigger("change")})),s.on("clear_search",(function(){let n=t(this).find("input.em-search-geo");0===n.length&&(n=e.find("input.em-search-geo")),n.removeClass("off").removeClass("on").val(""),n.siblings("input.em-search-geo-coords").val("").trigger("change"),s.find('input[type="checkbox"]').prop("checked",!1).trigger("change").prop("checked",!1)})),s.find(".em-datepicker input.em-search-scope.flatpickr-input").each((function(){"_flatpickr"in this&&this._flatpickr.config.onClose.push((function(t,n,i){if(i.input.getAttribute("data-previous-value")!==n){let a=n?1:0;c(i.input,a);let r=e.find(".em-search-main-bar .em-datepicker input.em-search-scope.flatpickr-input");r.length>0&&r[0]._flatpickr.setDate(t,!0),i.input.setAttribute("data-previous-value",n)}}))})),s.on("calculate_totals",(function(){s.find(".em-datepicker input.em-search-scope.flatpickr-input").first().each((function(){let e=this._flatpickr.selectedDates.length>0?1:0;c(this,e)}))})),s.on("clear_search",(function(){let t=s.find(".em-datepicker input.em-search-scope.flatpickr-input");0===t.length&&(t=e.find(".em-datepicker input.em-search-scope.flatpickr-input")),t.each((function(){this._flatpickr.clear(),c(this,0)}))}));let g=function(){e.find(".em-datepicker input.em-search-scope.flatpickr-input").each((function(){if("calendar"==e.attr("data-view"))this.setAttribute("data-advanced-total-input",0),this._flatpickr.input.disabled=!0;else{this._flatpickr.input.disabled=!1;let e=this._flatpickr.selectedDates.length>0?1:0;this.setAttribute("data-advanced-total-input",e)}}))};t(document).on("em_search_loaded",g),g();let v=function(e){let t=e.items.length;if(1!=t||e.items[0]||(t=0),0===e.$input.closest(".em-search-advanced").length){let t="."+e.$input.attr("class").replaceAll(" ",".").trim(),n=s.find(t);n.length>0&&(n[0].selectize.setValue(e.items),v(n[0].selectize))}c(e.$input,t)};s.find("select.em-selectize").each((function(){"selectize"in this&&this.selectize.on("change",(function(){v(this)}))})),s.on("calculate_totals",(function(){t(this).find("select.em-selectize").each((function(){v(this.selectize)}))})),s.on("clear_search",(function(){let t=function(){this.selectize.clear(),this.selectize.refreshItems(),this.selectize.refreshOptions(!1),this.selectize.blur()};s.find("select.em-selectize").each(t),e.find(".em-search-main-bar select.em-selectize").each(t)}));let y=function(){if("selectize"in this){this.selectize.settings.placeholder=this.selectize.settings.original_placeholder,this.selectize.updatePlaceholder();let e=[];this.selectize.$input.find("option").each((function(){let t=null!==this.value?this.value:this.innerHTML;e.push({value:t,text:this.innerHTML})})),this.selectize.addOption(e),this.selectize.refreshOptions(!1)}},b=function(){"selectize"in this&&(this.selectize.clearOptions(),"original_placeholder"in this.selectize.settings||(this.selectize.settings.original_placeholder=this.selectize.settings.placeholder),this.selectize.settings.placeholder=EM.txt_loading,this.selectize.updatePlaceholder())};t(".em-search-advanced select[name=country], .em-search select[name=country]").on("change",(function(){var e=t(this);let n=e.closest(".em-search-location");if(n.find("select[name=state]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=region]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=town]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=state], select[name=region], select[name=town]").each(b),""!=e.val()){n.find(".em-search-location-meta").slideDown();var i={action:"search_states",country:e.val(),return_html:!0};n.find("select[name=state]").load(EM.ajaxurl,i,y),i.action="search_regions",n.find("select[name=region]").load(EM.ajaxurl,i,y),i.action="search_towns",n.find("select[name=town]").load(EM.ajaxurl,i,y)}else n.find(".em-search-location-meta").slideUp()})),t(".em-search-advanced select[name=region], .em-search select[name=region]").on("change",(function(){var e=t(this);let n=e.closest(".em-search-location");n.find("select[name=state]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=town]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=state], select[name=town]").each(b);var i={action:"search_states",region:e.val(),country:n.find("select[name=country]").val(),return_html:!0};n.find("select[name=state]").load(EM.ajaxurl,i,y),i.action="search_towns",n.find("select[name=town]").load(EM.ajaxurl,i,y)})),t(".em-search-advanced select[name=state], .em-search select[name=state]").on("change",(function(){var e=t(this);let n=e.closest(".em-search-location");n.find("select[name=town]").html('<option value="">'+EM.txt_loading+"</option>").each(b);var i={action:"search_towns",state:e.val(),region:n.find("select[name=region]").val(),country:n.find("select[name=country]").val(),return_html:!0};n.find("select[name=town]").load(EM.ajaxurl,i,y)})),s.on("click",'button[type="reset"]',(function(){0!=e.attr("data-advanced-total")&&(s.find("input.em-search-text, input.em-search-geo").val("").attr("data-advanced-total-input",null).trigger("change"),e.trigger("clear_search"),s.trigger("clear_search"),l(!0),s.hasClass("em-modal")&&f(),s.append('<input name="clear_search" type="hidden" value="1">'),s.find('button[type="submit"]').trigger("forceclick"),m())})).each((function(){s.trigger("calculate_totals"),l(!0)}));const w=function(e,t=!0){d(t)};e.on("update_trigger_count",w),s.on("update_trigger_count",w),s.on("click forceclick",'button[type="submit"]',(function(e){return e.preventDefault(),this.classList.contains("disabled")&&"forceclick"!==e.type||(s.hasClass("em-modal")?closeModal(s,(function(){o.submit()})):o.submit()),!1})),e.on("submit forcesubmit",".em-search-form",(function(n){if(e.hasClass("no-ajax"))return!0;n.preventDefault();let i=t(this),o=i.find('button[type="submit"]');if("forcesubmit"!==n.type&&o.hasClass("disabled"))return!1;let c=i.closest(".em-search");if(c.hasClass("em-search-legacy"))r(i);else{let r=t("#em-view-"+a),p=i.find('[name="view"]:checked, [name="view"][type="hidden"], .em-search-view-option-hidden').val();Array.isArray(p)&&(p=p.shift());let m=r.find("#em-view-custom-data-search-"+a).clone(),f=t('<div class="em-view-custom-data"></div>');m.children().appendTo(f),m.remove(),f.appendTo(i),r.append('<div class="em-loading"></div>'),o.each((function(){EM.txt_searching!==this.innerHTML&&(this.setAttribute("data-button-text",this.innerHTML),this.innerHTML=EM.txt_searching)}));var d=i.serialize();t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:d,success:function(t){o.each((function(){this.innerHTML=this.getAttribute("data-button-text")})),r=EM_View_Updater(r,t),r.attr("data-view",p),e.attr("data-view",p),s.attr("data-view",p),jQuery(document).triggerHandler("em_view_loaded_"+p,[r,i,n]),jQuery(document).triggerHandler("em_search_loaded",[r,i,n]),jQuery(document).triggerHandler("em_search_result",[d,r,n]),c.find(".count.tentative").removeClass("tentative"),o.addClass("disabled").attr("aria-disabled","true"),l(!0),e.attr("data-advanced-previous-total",e.attr("data-advanced-total")),u(!1),f.remove(),e.find('input[name="clear_search"]').remove()}})}return!1})),EM_ResizeObserver(EM.search.breakpoints,[e[0]])})),t(document).on("click",".em-search-advanced-trigger[data-search-advanced-id], .em-search-advanced-trigger[data-parent-trigger]",(function(){if(this.getAttribute("data-search-advanced-id")){let e=document.getElementById(this.getAttribute("data-search-advanced-id"));if(e){let t=e.closest("form.em-search-form");if(t)return void t.dispatchEvent(new CustomEvent("search_advanced_trigger"))}}else if(this.getAttribute("data-parent-trigger")){let e=document.getElementById(this.getAttribute("data-parent-trigger"));if(e)return void e.click()}console.log("Cannot locate a valid advanced search form trigger for %o",this)})),t(document).on("click",".em-view-container .em-ajax.em-pagination a.page-numbers",(function(e){let n=t(this),i=n.closest(".em-view-container"),r=n.attr("href"),o=n.closest(".em-pagination").attr("data-em-ajax");o&&(r+=r.includes("?")?"&":"?",r+=o);let s=new URL(r,window.location.origin).searchParams;return i.attr("data-view")&&s.set("view",i.attr("data-view")),i.append('<div class="loading" id="em-loading"></div>'),t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:s.toString(),success:function(e){i=EM_View_Updater(i,e),i.find(".em-pagination").each((function(){a.observe(this)})),jQuery(document).triggerHandler("em_page_loaded",[i]),i[0].scrollIntoView({behavior:"smooth"})}}),e.preventDefault(),!1}));const a=new ResizeObserver((function(e){for(let t of e){let e=t.target;if(!e.classList.contains("observing")){e.classList.add("observing");let t=!1;e.classList.remove("overflowing");for(const n of e.querySelectorAll(".not-current"))if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth){t=!0;break}t&&e.classList.add("overflowing"),e.classList.remove("observing")}}}));t(".em-pagination").each((function(){a.observe(this)})),t(document).on("click change",".em-search-legacy .em-toggle",(function(e){e.preventDefault();var n=t(this),i=n.attr("rel").split(":");n.hasClass("show-search")?(i.length>1?n.closest(i[1]).find(i[0]).slideUp():t(i[0]).slideUp(),n.find(".show, .show-advanced").show(),n.find(".hide, .hide-advanced").hide(),n.removeClass("show-search")):(i.length>1?n.closest(i[1]).find(i[0]).slideDown():t(i[0]).slideDown(),n.find(".show, .show-advanced").hide(),n.find(".hide, .hide-advanced").show(),n.addClass("show-search"))}));let r=function(n){this.em_search&&this.em_search.value==EM.txt_search&&(this.em_search.value="");var i=n.closest(".em-search-wrapper").find(".em-search-ajax");if(0==i.length&&(i=t(".em-search-ajax")),i.length>0){i.append('<div class="loading" id="em-loading"></div>');var a=n.find(".em-search-submit button");a.attr("data-button-text",a.val()).val(EM.txt_searching);var r=a.children("img");r.length>0&&r.attr("src",r.attr("src").replace("search-mag.png","search-loading.gif"));var o=n.serialize();return t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:o,success:function(s){a.val(a.attr("data-button-text")),r.length>0&&r.attr("src",r.attr("src").replace("search-loading.gif","search-mag.png")),i.replaceWith(s),""==n.find("input[name=em_search]").val()&&n.find("input[name=em_search]").val(EM.txt_search),0==(i=n.closest(".em-search-wrapper").find(".em-search-ajax")).length&&(i=t(".em-search-ajax")),jQuery(document).triggerHandler("em_search_ajax",[o,i,e])}}),e.preventDefault(),!1}};t(".em-search-ajax").length>0&&t(document).on("click",".em-search-ajax a.page-numbers",(function(e){var n=t(this),i=n.closest(".em-pagination").attr("data-em-ajax"),a=n.closest(".em-search-ajax"),r=a.parent(),o=n.attr("href").split("?")[1];return""!=i&&(o=""!=o?o+"&"+i:i),o+="&legacy=1",a.append('<div class="loading" id="em-loading"></div>'),t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:o,success:function(t){a.replaceWith(t),a=r.find(".em-search-ajax"),jQuery(document).triggerHandler("em_search_ajax",[o,a,e])}}),e.preventDefault(),!1}))})),jQuery(document).ready((function(e){const t=function(t){(t=e(t)).attr("id")&&t.attr("id").match(/^em-calendar-[0-9]+$/)||t.attr("id","em-calendar-"+Math.floor(1e4*Math.random())),t.find("a").off("click"),t.on("click","a.em-calnav, a.em-calnav-today",(function(n){n.preventDefault();const i=e(this);if(""===i.attr("href"))return;i.closest(".em-calendar").prepend('<div class="loading" id="em-loading"></div>');let a=i.attr("href");const r=i.closest("[data-view-id]").data("view-id"),o=e("form#em-view-custom-data-calendar-"+r);let s=new FormData;if(o.length>0){s=new FormData(o[0]);let e=new URL(a,window.location.origin),t=e.searchParams;for(const[e,n]of t.entries())"mo"===e?s.set("month",n):"yr"===e?s.set("year",n):s.set(e,n);e.searchParams.delete("mo"),e.searchParams.delete("yr"),a=e.toString()}t.attr("data-timezone")&&s.set("calendar_timezone",t.attr("data-timezone")),s.set("id",r),s.set("ajaxCalendar",1),s.set("em_ajax",1),t.hasClass("with-advanced")&&s.set("has_advanced_trigger",1),e.ajax({url:a,data:s,processData:!1,contentType:!1,method:"POST",success:function(e){let n=EM_View_Updater(t,e);(t=n.hasClass("em-view-container")?n.find(".em-calendar"):n)[0].dispatchEvent(new CustomEvent("em_calendar_load",{bubbles:!0}))},dataType:"html"})})),t[0].addEventListener("reload",(()=>{n(t,t.attr("data-year"),t.attr("data-month"))}));let n=function(e,t,n){let i=e.find(".em-calnav-next"),a=new URL(i.attr("href"),window.location.origin);a.searchParams.set("mo",n),a.searchParams.set("yr",t),i.attr("href",a.toString()).trigger("click")},i=function(t,n){let i=e('<span class="marker">'+n+"</span>");i.insertAfter(t);let a=i.width()+40;i.remove(),t.style.setProperty("width",a+"px","important")};!function(){let a=t.find(".month form");if(t.find(".event-style-pill .em-cal-event").on("click",(function(e){if(e.preventDefault(),!(t.hasClass("preview-tooltips")&&t.data("preview-tooltips-trigger")||t.hasClass("preview-modal"))){let e=this.getAttribute("data-event-url");null!==e&&(window.location.href=e)}e.target.closest(".em-cal-body").querySelectorAll(".em-cal-day-date").forEach((e=>e.classList.remove("selected"))),e.target.closest(".em-cal-day").querySelector(".em-cal-day-date")?.classList.add("selected")})),a.length>0){a.find('input[type="submit"]').hide();let r=e('<select style="display:none;visibility:hidden;"></select>').appendTo(a),o=(e("<option></option>").appendTo(r),t.find('select[name="month"]').val(),t.find('select[name="year"]').val(),t.find('select[name="month"]'),t.find('select[name="year"]'),t.find(".em-month-picker")),s=o.data("month-value");o.prop("type","text").prop("value",s),i(o[0],s);let c=e("#em-flatpickr");0===c.length&&(c=e('<div class="em pixelbones" id="em-flatpickr"></div>').appendTo("body"));let l=null;"future"===t.data("scope")&&(l=new Date,l.setMonth(l.getMonth()-1)),"locale"in EM.datepicker&&(flatpickr.localize(flatpickr.l10ns[EM.datepicker.locale]),flatpickr.l10ns.default.firstDayOfWeek=EM.firstDay),o.flatpickr({appendTo:c[0],dateFormat:"F Y",minDate:l,disableMobile:"true",plugins:[new monthSelectPlugin({shorthand:!0,dateFormat:"F Y",altFormat:"F Y"})],onChange:function(e,a,r){i(r.input,a),n(t,e[0].getFullYear(),e[0].getMonth()+1)}}),o.addClass("select-toggle")}if(t.hasClass("preview-tooltips")){var r={theme:"light-border",allowHTML:!0,interactive:!0,trigger:"mouseenter focus click",content:e=>document.createElement("div"),onShow(e){const n=e.reference.getAttribute("data-event-id"),i=t.find('section.em-cal-events-content .em-cal-event-content[data-event-id="'+n+'"]');e.props.content.append(i.first().clone()[0])},onHide(e){e.props.content.innerHTML=""}};t.data("preview-tooltips-trigger")&&(r.trigger=t.data("preview-tooltips-trigger")),e(document).trigger("em-tippy-cal-event-vars",[r]),tippy(t.find(".em-cal-event").toArray(),r)}else t.hasClass("preview-modal")&&t.find(".em-cal-event").on("click",(function(e){const n=this.getAttribute("data-event-id"),i=t.find('section.em-cal-events-content .em-cal-event-content[data-event-id="'+n+'"]');i.attr("data-calendar-id",t.attr("id")),openModal(i),e.target.closest(".em-cal-body").querySelectorAll(".em-cal-day-date").forEach((e=>e.classList.remove("selected"))),e.target.closest(".em-cal-day").querySelector(".em-cal-day-date")?.classList.add("selected")}));t.hasClass("responsive-dateclick-modal")&&t.find(".eventful .em-cal-day-date, .eventful-post .em-cal-day-date, .eventful-pre .em-cal-day-date").on("click",(function(e){e.preventDefault();const n=this.getAttribute("data-timestamp"),i=t.find('.em-cal-date-content[data-calendar-date="'+n+'"], .em-cal-date-content[data-timestamp="'+n+'"]');i.attr("data-calendar-id",t.attr("id")),openModal(i),e.target.closest(".em-cal-body").querySelectorAll(".em-cal-day-date").forEach((e=>e.classList.remove("selected"))),e.target.closest(".em-cal-day").querySelector(".em-cal-day-date")?.classList.add("selected")})),t.hasClass("size-fixed")||EM_ResizeObserver(EM.calendar.breakpoints,[t[0],t[0]]);let o=t.find(".em-cal-body");if(o.hasClass("even-aspect")){let e=function(e){let t=e.firstElementChild.getBoundingClientRect().width;t>0&&e.style.setProperty("--grid-auto-rows","minmax("+t+"px, auto)")};new ResizeObserver((function(t){for(let n of t)e(n.target)})).observe(o[0]),e(o[0])}if(t.find(".date-day-colors").each((function(){let t=JSON.parse(this.getAttribute("data-colors")),n=e(this).siblings(".em-cal-day-date.colored"),i={1:{1:"--date-border-color",class:"one"},2:{1:"--date-border-color-top",2:"--date-border-color-bottom",class:"two"},3:{1:"--date-border-color-top",2:"--date-border-color-right",3:"--date-border-color-bottom",class:"three"},4:{1:"--date-border-color-top",2:"--date-border-color-right",3:"--date-border-color-bottom",4:"--date-border-color-left",class:"four"}};for(let a=0;a<t.length;a+=4){const r=t.slice(a,a+4);let o=n.children().first(),s=e('<div class="ring"></div>').prependTo(n);o.appendTo(s),s.addClass(i[r.length].class);for(let e=0;e<r.length;e++)s.css(i[r.length][e+1],r[e])}})),t.hasClass("with-advanced")){const n=t.find(".em-search-advanced-trigger");e("#"+n.attr("data-search-advanced-id")).triggerHandler("update_trigger_count")}}(),e(document).triggerHandler("em_calendar_loaded",[t])};e(".em-calendar").each((function(){let n=e(this);t(n)})),e(document).on("em_calendar_load",".em-calendar",(function(){t(this)})),e(document).on("em_view_loaded_calendar",(function(e,n,i){let a;a=n.hasClass("em-calendar")?n:n.find(".em-calendar").first(),t(a)}))}));let EM_View_Updater=function(e,t){let n=jQuery(t),i=e.hasClass("em-view-container")?e:e.parent(".em-view-container");if(i.length>0)n.hasClass("em-view-container")?(i.replaceWith(n),i=n):i.empty().append(n);else if(n.hasClass("em-view-container"))e.replaceWith(n),i=n;else if(n.attr("data-view-id")){let t=jQuery('<div class="em em-view-container"></div>'),i=n.attr("data-view-id");t.attr("data-view-id",i),t.attr("id","em-view-"+i),t.attr("data-view-type",n.attr("data-view-type")),t.append(n),e.replaceWith(t)}return em_setup_ui_elements(i[0]),i},EM_ResizeObserver=function(e,t){const n=new ResizeObserver((function(t){for(let n of t){let t=n.target;if(!t.classList.contains("size-fixed"))for(const[n,i]of Object.entries(e))if(t.offsetWidth<=i||!1===i){for(let i of Object.keys(e))i!==n&&t.classList.remove("size-"+i);t.classList.contains("size-"+n)||(t.classList.add("size-"+n),t.dispatchEvent(new CustomEvent("em_resize")));break}}}));return t.forEach((function(e){void 0!==e&&n.observe(e)})),n};jQuery(document).ready((function(e){let t={small:600,large:!1};const n=EM_ResizeObserver(t,e(".em-list").toArray());e(document).on("em_page_loaded em_view_loaded_list em_view_loaded_list-grouped em_view_loaded_grid",(function(e,t){t.find(".em-list").each((function(){this.classList.contains("size-fixed")||n.observe(this)}))})),e(document).on("click",".em-grid .em-item[data-href]",(function(e){"a"!==e.target.type&&(window.location.href=this.getAttribute("data-href"))})),t={small:600,medium:900,large:!1};const i=EM_ResizeObserver(t,e(".em-item-single").toArray());e(document).on("em_view_loaded",(function(e,t){t.find(".em-event-single").each((function(){this.classList.contains("size-fixed")||i.observe(this)}))})),e(document).on("click",".em-event-booking-form .em-login-trigger a",(function(t){t.preventDefault();var n=e(this).closest(".em-event-booking-form");n.find(".em-login-trigger").hide(),n.find(".em-login-content").fadeIn();let i=n.find(".em-login");i[0].scrollIntoView({behavior:"smooth"}),i.first().find('input[name="log"]').focus()})),e(document).on("click",".em-event-booking-form .em-login-cancel",(function(t){t.preventDefault();let n=e(this).closest(".em-event-booking-form");n.find(".em-login-content").hide(),n.find(".em-login-trigger").show()})),EM_ResizeObserver({small:500,large:!1},e(".em-login").toArray())})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("form.em-ajax-form").forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault();let t=e.currentTarget,n=new FormData(t);t.querySelector('button[type="submit"]');if(t.classList.contains("no-overlay-spinner"))t.classList.add("loading");else{let e=document.createElement("div");e.id="em-loading",t.append(e)}var i=new XMLHttpRequest;return t.getAttribute("data-api-url")?(i.open("POST",t.getAttribute("data-api-url"),!0),i.setRequestHeader("X-WP-Nonce",EM.api_nonce)):i.open("POST",EM.ajaxurl,!0),i.onload=function(){if(this.status>=200&&this.status<400)try{let e,i=JSON.parse(this.response);t.classList.contains("no-inline-notice")||(e=t.querySelector(".em-notice"),e||(e=document.createElement("div"),t.prepend(e),n.get("action")&&t.dispatchEvent(new CustomEvent("em_ajax_form_success_"+n.get("action"),{detail:{form:t,notice:e,response:i}}))),e.innerHTML="",e.setAttribute("class","em-notice")),i.result?t.classList.contains("no-inline-notice")?(t.classList.add("load-successful"),t.classList.remove("loading"),i.message&&EM_Alert(i.message)):(e.classList.add("em-notice-success"),e.innerHTML=i.message,t.replaceWith(e)):t.classList.contains("no-inline-notice")?EM_Alert(i.errors):(e.classList.add("em-notice-error"),e.innerHTML=i.errors)}catch(e){alert("Error Encountered : "+e)}else alert("Error encountered... please see debug logs or contact support.");t.classList.remove("loading")},i.onerror=function(){alert("Connection error encountered... please see debug logs or contact support.")},i.send(n),!1}))}))}));let em_setup_phone_inputs=function(e){},em_unsetup_phone_inputs=function(e){};if(EM.phone){let e,t=function(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return""!==e&&e?{"Africa/Abidjan":{c:["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"]},"Africa/Accra":{c:["GH"]},"Africa/Addis_Ababa":{c:["ET"]},"Africa/Algiers":{c:["DZ"]},"Africa/Asmara":{c:["ER"]},"Africa/Asmera":{c:["ER"]},"Africa/Bamako":{c:["ML"]},"Africa/Bangui":{c:["CF"]},"Africa/Banjul":{c:["GM"]},"Africa/Bissau":{c:["GW"]},"Africa/Blantyre":{c:["MW"]},"Africa/Brazzaville":{c:["CG"]},"Africa/Bujumbura":{c:["BI"]},"Africa/Cairo":{c:["EG"]},"Africa/Casablanca":{c:["MA"]},"Africa/Ceuta":{c:["ES"]},"Africa/Conakry":{c:["GN"]},"Africa/Dakar":{c:["SN"]},"Africa/Dar_es_Salaam":{c:["TZ"]},"Africa/Djibouti":{c:["DJ"]},"Africa/Douala":{c:["CM"]},"Africa/El_Aaiun":{c:["EH"]},"Africa/Freetown":{c:["SL"]},"Africa/Gaborone":{c:["BW"]},"Africa/Harare":{c:["ZW"]},"Africa/Johannesburg":{c:["ZA","LS","SZ"]},"Africa/Juba":{c:["SS"]},"Africa/Kampala":{c:["UG"]},"Africa/Khartoum":{c:["SD"]},"Africa/Kigali":{c:["RW"]},"Africa/Kinshasa":{c:["CD"]},"Africa/Lagos":{c:["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"]},"Africa/Libreville":{c:["GA"]},"Africa/Lome":{c:["TG"]},"Africa/Luanda":{c:["AO"]},"Africa/Lubumbashi":{c:["CD"]},"Africa/Lusaka":{c:["ZM"]},"Africa/Malabo":{c:["GQ"]},"Africa/Maputo":{c:["MZ","BI","BW","CD","MW","RW","ZM","ZW"]},"Africa/Maseru":{c:["LS"]},"Africa/Mbabane":{c:["SZ"]},"Africa/Mogadishu":{c:["SO"]},"Africa/Monrovia":{c:["LR"]},"Africa/Nairobi":{c:["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"]},"Africa/Ndjamena":{c:["TD"]},"Africa/Niamey":{c:["NE"]},"Africa/Nouakchott":{c:["MR"]},"Africa/Ouagadougou":{c:["BF"]},"Africa/Porto-Novo":{c:["BJ"]},"Africa/Sao_Tome":{c:["ST"]},"Africa/Timbuktu":{c:["ML"]},"Africa/Tripoli":{c:["LY"]},"Africa/Tunis":{c:["TN"]},"Africa/Windhoek":{c:["NA"]},"America/Adak":{c:["US"]},"America/Anchorage":{c:["US"]},"America/Anguilla":{c:["AI"]},"America/Antigua":{c:["AG"]},"America/Araguaina":{c:["BR"]},"America/Argentina/Buenos_Aires":{c:["AR"]},"America/Argentina/Catamarca":{c:["AR"]},"America/Argentina/ComodRivadavia":{c:["AR"]},"America/Argentina/Cordoba":{c:["AR"]},"America/Argentina/Jujuy":{c:["AR"]},"America/Argentina/La_Rioja":{c:["AR"]},"America/Argentina/Mendoza":{c:["AR"]},"America/Argentina/Rio_Gallegos":{c:["AR"]},"America/Argentina/Salta":{c:["AR"]},"America/Argentina/San_Juan":{c:["AR"]},"America/Argentina/San_Luis":{c:["AR"]},"America/Argentina/Tucuman":{c:["AR"]},"America/Argentina/Ushuaia":{c:["AR"]},"America/Aruba":{c:["AW"]},"America/Asuncion":{c:["PY"]},"America/Atikokan":{c:["CA"]},"America/Atka":{},"America/Bahia":{c:["BR"]},"America/Bahia_Banderas":{c:["MX"]},"America/Barbados":{c:["BB"]},"America/Belem":{c:["BR"]},"America/Belize":{c:["BZ"]},"America/Blanc-Sablon":{c:["CA"]},"America/Boa_Vista":{c:["BR"]},"America/Bogota":{c:["CO"]},"America/Boise":{c:["US"]},"America/Buenos_Aires":{c:["AR"]},"America/Cambridge_Bay":{c:["CA"]},"America/Campo_Grande":{c:["BR"]},"America/Cancun":{c:["MX"]},"America/Caracas":{c:["VE"]},"America/Catamarca":{},"America/Cayenne":{c:["GF"]},"America/Cayman":{c:["KY"]},"America/Chicago":{c:["US"]},"America/Chihuahua":{c:["MX"]},"America/Coral_Harbour":{c:["CA"]},"America/Cordoba":{c:["AR"]},"America/Costa_Rica":{c:["CR"]},"America/Creston":{c:["CA"]},"America/Cuiaba":{c:["BR"]},"America/Curacao":{c:["CW"]},"America/Danmarkshavn":{c:["GL"]},"America/Dawson":{c:["CA"]},"America/Dawson_Creek":{c:["CA"]},"America/Denver":{c:["US"]},"America/Detroit":{c:["US"]},"America/Dominica":{c:["DM"]},"America/Edmonton":{c:["CA"]},"America/Eirunepe":{c:["BR"]},"America/El_Salvador":{c:["SV"]},"America/Ensenada":{},"America/Fort_Nelson":{c:["CA"]},"America/Fort_Wayne":{},"America/Fortaleza":{c:["BR"]},"America/Glace_Bay":{c:["CA"]},"America/Godthab":{},"America/Goose_Bay":{c:["CA"]},"America/Grand_Turk":{c:["TC"]},"America/Grenada":{c:["GD"]},"America/Guadeloupe":{c:["GP"]},"America/Guatemala":{c:["GT"]},"America/Guayaquil":{c:["EC"]},"America/Guyana":{c:["GY"]},"America/Halifax":{c:["CA"]},"America/Havana":{c:["CU"]},"America/Hermosillo":{c:["MX"]},"America/Indiana/Indianapolis":{c:["US"]},"America/Indiana/Knox":{c:["US"]},"America/Indiana/Marengo":{c:["US"]},"America/Indiana/Petersburg":{c:["US"]},"America/Indiana/Tell_City":{c:["US"]},"America/Indiana/Vevay":{c:["US"]},"America/Indiana/Vincennes":{c:["US"]},"America/Indiana/Winamac":{c:["US"]},"America/Indianapolis":{},"America/Inuvik":{c:["CA"]},"America/Iqaluit":{c:["CA"]},"America/Jamaica":{c:["JM"]},"America/Jujuy":{},"America/Juneau":{c:["US"]},"America/Kentucky/Louisville":{c:["US"]},"America/Kentucky/Monticello":{c:["US"]},"America/Knox_IN":{},"America/Kralendijk":{c:["BQ"]},"America/La_Paz":{c:["BO"]},"America/Lima":{c:["PE"]},"America/Los_Angeles":{c:["US"]},"America/Louisville":{},"America/Lower_Princes":{c:["SX"]},"America/Maceio":{c:["BR"]},"America/Managua":{c:["NI"]},"America/Manaus":{c:["BR"]},"America/Marigot":{c:["MF"]},"America/Martinique":{c:["MQ"]},"America/Matamoros":{c:["MX"]},"America/Mazatlan":{c:["MX"]},"America/Mendoza":{},"America/Menominee":{c:["US"]},"America/Merida":{c:["MX"]},"America/Metlakatla":{c:["US"]},"America/Mexico_City":{c:["MX"]},"America/Miquelon":{c:["PM"]},"America/Moncton":{c:["CA"]},"America/Monterrey":{c:["MX"]},"America/Montevideo":{c:["UY"]},"America/Montreal":{c:["CA"]},"America/Montserrat":{c:["MS"]},"America/Nassau":{c:["BS"]},"America/New_York":{c:["US"]},"America/Nipigon":{c:["CA"]},"America/Nome":{c:["US"]},"America/Noronha":{c:["BR"]},"America/North_Dakota/Beulah":{c:["US"]},"America/North_Dakota/Center":{c:["US"]},"America/North_Dakota/New_Salem":{c:["US"]},"America/Nuuk":{c:["GL"]},"America/Ojinaga":{c:["MX"]},"America/Panama":{c:["PA","CA","KY"]},"America/Pangnirtung":{c:["CA"]},"America/Paramaribo":{c:["SR"]},"America/Phoenix":{c:["US","CA"]},"America/Port-au-Prince":{c:["HT"]},"America/Port_of_Spain":{c:["TT"]},"America/Porto_Acre":{},"America/Porto_Velho":{c:["BR"]},"America/Puerto_Rico":{c:["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"]},"America/Punta_Arenas":{c:["CL"]},"America/Rainy_River":{c:["CA"]},"America/Rankin_Inlet":{c:["CA"]},"America/Recife":{c:["BR"]},"America/Regina":{c:["CA"]},"America/Resolute":{c:["CA"]},"America/Rio_Branco":{c:["BR"]},"America/Rosario":{},"America/Santa_Isabel":{},"America/Santarem":{c:["BR"]},"America/Santiago":{c:["CL"]},"America/Santo_Domingo":{c:["DO"]},"America/Sao_Paulo":{c:["BR"]},"America/Scoresbysund":{c:["GL"]},"America/Shiprock":{},"America/Sitka":{c:["US"]},"America/St_Barthelemy":{c:["BL"]},"America/St_Johns":{c:["CA"]},"America/St_Kitts":{c:["KN"]},"America/St_Lucia":{c:["LC"]},"America/St_Thomas":{c:["VI"]},"America/St_Vincent":{c:["VC"]},"America/Swift_Current":{c:["CA"]},"America/Tegucigalpa":{c:["HN"]},"America/Thule":{c:["GL"]},"America/Thunder_Bay":{c:["CA"]},"America/Tijuana":{c:["MX"]},"America/Toronto":{c:["CA","BS"]},"America/Tortola":{c:["VG"]},"America/Vancouver":{c:["CA"]},"America/Virgin":{c:["VI"]},"America/Whitehorse":{c:["CA"]},"America/Winnipeg":{c:["CA"]},"America/Yakutat":{c:["US"]},"America/Yellowknife":{c:["CA"]},"Antarctica/Casey":{c:["AQ"]},"Antarctica/Davis":{c:["AQ"]},"Antarctica/DumontDUrville":{c:["AQ"]},"Antarctica/Macquarie":{c:["AU"]},"Antarctica/Mawson":{c:["AQ"]},"Antarctica/McMurdo":{c:["AQ"]},"Antarctica/Palmer":{c:["AQ"]},"Antarctica/Rothera":{c:["AQ"]},"Antarctica/South_Pole":{c:["AQ"]},"Antarctica/Syowa":{c:["AQ"]},"Antarctica/Troll":{c:["AQ"]},"Antarctica/Vostok":{c:["AQ"]},"Arctic/Longyearbyen":{c:["SJ"]},"Asia/Aden":{c:["YE"]},"Asia/Almaty":{c:["KZ"]},"Asia/Amman":{c:["JO"]},"Asia/Anadyr":{c:["RU"]},"Asia/Aqtau":{c:["KZ"]},"Asia/Aqtobe":{c:["KZ"]},"Asia/Ashgabat":{c:["TM"]},"Asia/Ashkhabad":{},"Asia/Atyrau":{c:["KZ"]},"Asia/Baghdad":{c:["IQ"]},"Asia/Bahrain":{c:["BH"]},"Asia/Baku":{c:["AZ"]},"Asia/Bangkok":{c:["TH","KH","LA","VN"]},"Asia/Barnaul":{c:["RU"]},"Asia/Beirut":{c:["LB"]},"Asia/Bishkek":{c:["KG"]},"Asia/Brunei":{c:["BN"]},"Asia/Calcutta":{},"Asia/Chita":{c:["RU"]},"Asia/Choibalsan":{c:["MN"]},"Asia/Chongqing":{},"Asia/Chungking":{},"Asia/Colombo":{c:["LK"]},"Asia/Dacca":{},"Asia/Damascus":{c:["SY"]},"Asia/Dhaka":{c:["BD"]},"Asia/Dili":{c:["TL"]},"Asia/Dubai":{c:["AE","OM"]},"Asia/Dushanbe":{c:["TJ"]},"Asia/Famagusta":{c:["CY"]},"Asia/Gaza":{c:["PS"]},"Asia/Harbin":{},"Asia/Hebron":{c:["PS"]},"Asia/Ho_Chi_Minh":{c:["VN"]},"Asia/Hong_Kong":{c:["HK"]},"Asia/Hovd":{c:["MN"]},"Asia/Irkutsk":{c:["RU"]},"Asia/Istanbul":{},"Asia/Jakarta":{c:["ID"]},"Asia/Jayapura":{c:["ID"]},"Asia/Jerusalem":{c:["IL"]},"Asia/Kabul":{c:["AF"]},"Asia/Kamchatka":{c:["RU"]},"Asia/Karachi":{c:["PK"]},"Asia/Kashgar":{},"Asia/Kathmandu":{c:["NP"]},"Asia/Katmandu":{},"Asia/Khandyga":{c:["RU"]},"Asia/Kolkata":{c:["IN"]},"Asia/Krasnoyarsk":{c:["RU"]},"Asia/Kuala_Lumpur":{c:["MY"]},"Asia/Kuching":{c:["MY"]},"Asia/Kuwait":{c:["KW"]},"Asia/Macao":{},"Asia/Macau":{c:["MO"]},"Asia/Magadan":{c:["RU"]},"Asia/Makassar":{c:["ID"]},"Asia/Manila":{c:["PH"]},"Asia/Muscat":{c:["OM"]},"Asia/Nicosia":{c:["CY"]},"Asia/Novokuznetsk":{c:["RU"]},"Asia/Novosibirsk":{c:["RU"]},"Asia/Omsk":{c:["RU"]},"Asia/Oral":{c:["KZ"]},"Asia/Phnom_Penh":{c:["KH"]},"Asia/Pontianak":{c:["ID"]},"Asia/Pyongyang":{c:["KP"]},"Asia/Qatar":{c:["QA","BH"]},"Asia/Qostanay":{c:["KZ"]},"Asia/Qyzylorda":{c:["KZ"]},"Asia/Rangoon":{},"Asia/Riyadh":{c:["SA","AQ","KW","YE"]},"Asia/Saigon":{},"Asia/Sakhalin":{c:["RU"]},"Asia/Samarkand":{c:["UZ"]},"Asia/Seoul":{c:["KR"]},"Asia/Shanghai":{c:["CN"]},"Asia/Singapore":{c:["SG","MY"]},"Asia/Srednekolymsk":{c:["RU"]},"Asia/Taipei":{c:["TW"]},"Asia/Tashkent":{c:["UZ"]},"Asia/Tbilisi":{c:["GE"]},"Asia/Tehran":{c:["IR"]},"Asia/Tel_Aviv":{},"Asia/Thimbu":{},"Asia/Thimphu":{c:["BT"]},"Asia/Tokyo":{c:["JP"]},"Asia/Tomsk":{c:["RU"]},"Asia/Ujung_Pandang":{},"Asia/Ulaanbaatar":{c:["MN"]},"Asia/Ulan_Bator":{},"Asia/Urumqi":{c:["CN"]},"Asia/Ust-Nera":{c:["RU"]},"Asia/Vientiane":{c:["LA"]},"Asia/Vladivostok":{c:["RU"]},"Asia/Yakutsk":{c:["RU"]},"Asia/Yangon":{c:["MM"]},"Asia/Yekaterinburg":{c:["RU"]},"Asia/Yerevan":{c:["AM"]},"Atlantic/Azores":{c:["PT"]},"Atlantic/Bermuda":{c:["BM"]},"Atlantic/Canary":{c:["ES"]},"Atlantic/Cape_Verde":{c:["CV"]},"Atlantic/Faeroe":{},"Atlantic/Faroe":{c:["FO"]},"Atlantic/Jan_Mayen":{c:["SJ"]},"Atlantic/Madeira":{c:["PT"]},"Atlantic/Reykjavik":{c:["IS"]},"Atlantic/South_Georgia":{c:["GS"]},"Atlantic/St_Helena":{c:["SH"]},"Atlantic/Stanley":{c:["FK"]},"Australia/ACT":{},"Australia/Adelaide":{c:["AU"]},"Australia/Brisbane":{c:["AU"]},"Australia/Broken_Hill":{c:["AU"]},"Australia/Canberra":{},"Australia/Currie":{},"Australia/Darwin":{c:["AU"]},"Australia/Eucla":{c:["AU"]},"Australia/Hobart":{c:["AU"]},"Australia/LHI":{},"Australia/Lindeman":{c:["AU"]},"Australia/Lord_Howe":{c:["AU"]},"Australia/Melbourne":{c:["AU"]},"Australia/NSW":{},"Australia/North":{},"Australia/Perth":{c:["AU"]},"Australia/Queensland":{},"Australia/South":{},"Australia/Sydney":{c:["AU"]},"Australia/Tasmania":{},"Australia/Victoria":{},"Australia/West":{},"Australia/Yancowinna":{},"Brazil/Acre":{},"Brazil/DeNoronha":{},"Brazil/East":{},"Brazil/West":{},CET:{c:["XK"]},CST6CDT:{},"Canada/Atlantic":{},"Canada/Central":{},"Canada/Eastern":{c:["CA"]},"Canada/Mountain":{},"Canada/Newfoundland":{},"Canada/Pacific":{},"Canada/Saskatchewan":{},"Canada/Yukon":{},"Chile/Continental":{},"Chile/EasterIsland":{},Cuba:{},EET:{},EST:{},EST5EDT:{},Egypt:{},Eire:{},"Etc/GMT":{c:["AC"]},"Etc/GMT+0":{},"Etc/GMT+1":{},"Etc/GMT+10":{},"Etc/GMT+11":{},"Etc/GMT+12":{},"Etc/GMT+2":{},"Etc/GMT+3":{},"Etc/GMT+4":{},"Etc/GMT+5":{},"Etc/GMT+6":{},"Etc/GMT+7":{},"Etc/GMT+8":{},"Etc/GMT+9":{},"Etc/GMT-0":{},"Etc/GMT-1":{},"Etc/GMT-10":{},"Etc/GMT-11":{},"Etc/GMT-12":{},"Etc/GMT-13":{},"Etc/GMT-14":{},"Etc/GMT-2":{},"Etc/GMT-3":{},"Etc/GMT-4":{},"Etc/GMT-5":{},"Etc/GMT-6":{},"Etc/GMT-7":{},"Etc/GMT-8":{},"Etc/GMT-9":{},"Etc/GMT0":{},"Etc/Greenwich":{},"Etc/UCT":{},"Etc/UTC":{},"Etc/Universal":{},"Etc/Zulu":{},"Europe/Amsterdam":{c:["NL"]},"Europe/Andorra":{c:["AD"]},"Europe/Astrakhan":{c:["RU"]},"Europe/Athens":{c:["GR"]},"Europe/Belfast":{c:["GB"]},"Europe/Belgrade":{c:["RS","BA","HR","ME","MK","SI"]},"Europe/Berlin":{c:["DE"]},"Europe/Bratislava":{c:["SK"]},"Europe/Brussels":{c:["BE"]},"Europe/Bucharest":{c:["RO"]},"Europe/Budapest":{c:["HU"]},"Europe/Busingen":{c:["DE"]},"Europe/Chisinau":{c:["MD"]},"Europe/Copenhagen":{c:["DK"]},"Europe/Dublin":{c:["IE"]},"Europe/Gibraltar":{c:["GI"]},"Europe/Guernsey":{c:["GG"]},"Europe/Helsinki":{c:["FI","AX"]},"Europe/Isle_of_Man":{c:["IM"]},"Europe/Istanbul":{c:["TR"]},"Europe/Jersey":{c:["JE"]},"Europe/Kaliningrad":{c:["RU"]},"Europe/Kiev":{c:["UA"]},"Europe/Kirov":{c:["RU"]},"Europe/Lisbon":{c:["PT"]},"Europe/Ljubljana":{c:["SI"]},"Europe/London":{c:["GB","GG","IM","JE"]},"Europe/Luxembourg":{c:["LU"]},"Europe/Madrid":{c:["ES"]},"Europe/Malta":{c:["MT"]},"Europe/Mariehamn":{c:["AX"]},"Europe/Minsk":{c:["BY"]},"Europe/Monaco":{c:["MC"]},"Europe/Moscow":{c:["RU"]},"Europe/Nicosia":{},"Europe/Oslo":{c:["NO","SJ","BV"]},"Europe/Paris":{c:["FR"]},"Europe/Podgorica":{c:["ME"]},"Europe/Prague":{c:["CZ","SK"]},"Europe/Riga":{c:["LV"]},"Europe/Rome":{c:["IT","SM","VA"]},"Europe/Samara":{c:["RU"]},"Europe/San_Marino":{c:["SM"]},"Europe/Sarajevo":{c:["BA"]},"Europe/Saratov":{c:["RU"]},"Europe/Simferopol":{c:["RU","UA"]},"Europe/Skopje":{c:["MK"]},"Europe/Sofia":{c:["BG"]},"Europe/Stockholm":{c:["SE"]},"Europe/Tallinn":{c:["EE"]},"Europe/Tirane":{c:["AL"]},"Europe/Tiraspol":{},"Europe/Ulyanovsk":{c:["RU"]},"Europe/Uzhgorod":{c:["UA"]},"Europe/Vaduz":{c:["LI"]},"Europe/Vatican":{c:["VA"]},"Europe/Vienna":{c:["AT"]},"Europe/Vilnius":{c:["LT"]},"Europe/Volgograd":{c:["RU"]},"Europe/Warsaw":{c:["PL"]},"Europe/Zagreb":{c:["HR"]},"Europe/Zaporozhye":{c:["UA"]},"Europe/Zurich":{c:["CH","DE","LI"]},Factory:{},GB:{c:["GB"]},"GB-Eire":{c:["GB"]},GMT:{c:["AC"]},"GMT+0":{},"GMT-0":{},GMT0:{},Greenwich:{},HST:{},Hongkong:{},Iceland:{},"Indian/Antananarivo":{c:["MG"]},"Indian/Chagos":{c:["IO"]},"Indian/Christmas":{c:["CX"]},"Indian/Cocos":{c:["CC"]},"Indian/Comoro":{c:["KM"]},"Indian/Kerguelen":{c:["TF","HM"]},"Indian/Mahe":{c:["SC"]},"Indian/Maldives":{c:["MV"]},"Indian/Mauritius":{c:["MU"]},"Indian/Mayotte":{c:["YT"]},"Indian/Reunion":{c:["RE","TF"]},Iran:{},Israel:{},Jamaica:{},Japan:{},Kwajalein:{},Libya:{},MET:{},MST:{},MST7MDT:{},"Mexico/BajaNorte":{},"Mexico/BajaSur":{},"Mexico/General":{},NZ:{c:["NZ"]},"NZ-CHAT":{},Navajo:{},PRC:{},PST8PDT:{},"Pacific/Apia":{c:["WS"]},"Pacific/Auckland":{c:["NZ","AQ"]},"Pacific/Bougainville":{c:["PG"]},"Pacific/Chatham":{c:["NZ"]},"Pacific/Chuuk":{c:["FM"]},"Pacific/Easter":{c:["CL"]},"Pacific/Efate":{c:["VU"]},"Pacific/Enderbury":{},"Pacific/Fakaofo":{c:["TK"]},"Pacific/Fiji":{c:["FJ"]},"Pacific/Funafuti":{c:["TV"]},"Pacific/Galapagos":{c:["EC"]},"Pacific/Gambier":{c:["PF"]},"Pacific/Guadalcanal":{c:["SB"]},"Pacific/Guam":{c:["GU","MP"]},"Pacific/Honolulu":{c:["US","UM"]},"Pacific/Johnston":{c:["UM"]},"Pacific/Kanton":{c:["KI"]},"Pacific/Kiritimati":{c:["KI"]},"Pacific/Kosrae":{c:["FM"]},"Pacific/Kwajalein":{c:["MH"]},"Pacific/Majuro":{c:["MH"]},"Pacific/Marquesas":{c:["PF"]},"Pacific/Midway":{c:["UM"]},"Pacific/Nauru":{c:["NR"]},"Pacific/Niue":{c:["NU"]},"Pacific/Norfolk":{c:["NF"]},"Pacific/Noumea":{c:["NC"]},"Pacific/Pago_Pago":{c:["AS","UM"]},"Pacific/Palau":{c:["PW"]},"Pacific/Pitcairn":{c:["PN"]},"Pacific/Pohnpei":{c:["FM"]},"Pacific/Ponape":{},"Pacific/Port_Moresby":{c:["PG","AQ"]},"Pacific/Rarotonga":{c:["CK"]},"Pacific/Saipan":{c:["MP"]},"Pacific/Samoa":{c:["WS"]},"Pacific/Tahiti":{c:["PF"]},"Pacific/Tarawa":{c:["KI"]},"Pacific/Tongatapu":{c:["TO"]},"Pacific/Truk":{},"Pacific/Wake":{c:["UM"]},"Pacific/Wallis":{c:["WF"]},"Pacific/Yap":{},Poland:{},Portugal:{},ROC:{},ROK:{},Singapore:{c:["SG"]},Turkey:{},UCT:{},"US/Alaska":{},"US/Aleutian":{},"US/Arizona":{c:["US"]},"US/Central":{},"US/East-Indiana":{},"US/Eastern":{},"US/Hawaii":{c:["US"]},"US/Indiana-Starke":{},"US/Michigan":{},"US/Mountain":{},"US/Pacific":{},"US/Samoa":{c:["WS"]},UTC:{},Universal:{},"W-SU":{},WET:{},Zulu:{}}[e].c[0]:null};em_setup_phone_inputs=async function(n,i={}){return!!EM.phone&&(e?void n.querySelectorAll('input.em-phone-intl[type="tel"]').forEach((function(e){let n=document.createElement("input"),a=e.name;a&&(e.name=a+"_intl",n.name=a),e.classList.add("em-intl-tel"),n.setAttribute("class",e.getAttribute("class")+" em-intl-tel-full"),n.classList.remove("em-intl-tel"),n.type="hidden",e.id&&(n.id=e.id+"-full"),n.value=e.value,e.getAttribute("data-name")&&(n.setAttribute("data-name",e.getAttribute("data-name")),e.removeAttribute("data-name")),e.after(n);let r=Object.assign({autoPlaceholder:"aggressive",separateDialCode:!0},EM.phone.options),o=Object.assign(r,i);if(EM.phone.detectJS||o.detectJS){let e=t();e?o.initialCountry=e:EM.phone.initialCountry&&(o.initialCountry=EM.phone.initialCountry)}o.onlyCountries&&(Array.isArray(o.onlyCountries)&&o.onlyCountries.length>0?o.onlyCountries.includes(o.initialCountry&&o.initialCountry)||o.onlyCountries.push(o.initialCountry):o.onlyCountries=[]);let s=EM.intlTelInput(e,o),c=parseInt(e.style.paddingLeft.replace("px",""));e.style.setProperty("padding-left",c+"px","important"),e.addEventListener("change",(function(t){if(n.value=s.getNumber(),e.value.trim()){let t=e.closest(".iti");if(s.isValidNumber())t.classList.remove("invalid-number"),t.nextElementSibling&&t.nextElementSibling.classList.contains("em-inline-error")&&t.nextElementSibling.remove();else{t.classList.add("invalid-number");s.getValidationError();let e;t.nextElementSibling&&t.nextElementSibling.classList.contains("em-inline-error")?e=t.nextElementSibling:(e=document.createElement("div"),e.classList.add("em-inline-error"),t.after(e)),e.innerHTML='<span class="em-icon"></span> '+EM.phone.error,e.classList.remove("hide")}}})),e.addEventListener("countrychange",(function(t){if(n.value=s.getNumber(),e.getAttribute("style")){let t=parseInt(e.style.paddingLeft.replace("px",""));e.style.setProperty("padding-left",t+"px","important")}}))})):(import(EM.url+"/includes/external/intl-tel-input/js/intlTelInputWithUtils.js").then((()=>{e=!0,em_setup_phone_inputs(n)})),!1))},em_unsetup_phone_inputs=function(e){e.querySelectorAll('input.em-phone-intl[type="tel"]').forEach((function(e){let t=EM.intlTelInput?.getInstance(e);t&&t.destroy()}))}}
/*!
 * jquery-timepicker v1.13.16 - Copyright (c) 2020 Jon Thornton - https://www.jonthornton.com/jquery-timepicker/
 * Did a search/replace of timepicker to em_timepicker to prevent conflicts.
 */
!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}var s=86400,c=function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var n=e%(60*t.step);return(n-=(t.minTime||0)%(60*t.step))>=30*t.step?e+=60*t.step-n:e-=n,function(e,t){if(e==s&&t.show2400)return e;return e%s}(e,t)};var l,d={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,lang:{},listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:c,scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},u={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},p=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._handleFormatValue=this._handleFormatValue.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this.targetEl=e;var i=n.extractAttrOptions(e,Object.keys(d));this.settings=this.parseSettings(a(a(a({},d),t),i))}var i,r,c;return i=n,c=[{key:"extractAttrOptions",value:function(e,t){var n,i={},a=o(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;r in e.dataset&&(i[r]=e.dataset[r])}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"isVisible",value:function(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}},{key:"hideAll",value:function(){var e,t=o(document.getElementsByClassName("ui-em_timepicker-input"));try{for(t.s();!(e=t.n()).done;){var n=e.value.em_timepickerObj;n&&n.hideMe()}}catch(e){t.e(e)}finally{t.f()}}}],(r=[{key:"hideMe",value:function(){if(this.settings.useSelect)this.targetEl.blur();else if(this.list&&n.isVisible(this.list)){this.settings.selectOnBlur&&this._selectValue(),this.list.hide();var e=new CustomEvent("hideTimepicker");this.targetEl.dispatchEvent(e)}}},{key:"_findRow",value:function(e){if(!e&&0!==e)return!1;var t=!1;return e=this.settings.roundingFunction(e,this.settings),!!this.list&&(this.list.find("li").each((function(n,i){var a=Number.parseInt(i.dataset.time);if(!Number.isNaN(a))return a==e?(t=i,!1):void 0})),t)}},{key:"_hideKeyboard",value:function(){return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.settings.disableTouchKeyboard}},{key:"_setTimeValue",value:function(e,t){if("INPUT"===this.targetEl.nodeName){null===e&&""==this.targetEl.value||(this.targetEl.value=e);var n=this;n.settings.useSelect&&"select"!=t&&n.list&&n.list.val(n._roundAndFormatTime(n.time2int(e)))}var i=new Event("selectTime");if(this.selectedValue!=e){this.selectedValue=e;var a=new Event("changeTime"),r=new CustomEvent("change",{detail:"em_timepicker"});return"select"==t?(this.targetEl.dispatchEvent(i),this.targetEl.dispatchEvent(a),this.targetEl.dispatchEvent(r)):-1==["error","initial"].indexOf(t)&&this.targetEl.dispatchEvent(a),!0}return-1==["error","initial"].indexOf(t)&&this.targetEl.dispatchEvent(i),!1}},{key:"_getTimeValue",value:function(){return"INPUT"===this.targetEl.nodeName?this.targetEl.value:this.selectedValue}},{key:"_selectValue",value:function(){var e=this,t=(e.settings,e.list.find(".ui-em_timepicker-selected"));if(t.hasClass("ui-em_timepicker-disabled"))return!1;if(!t.length)return!0;var n=t.get(0).dataset.time;if(n){var i=Number.parseInt(n);Number.isNaN(i)||(n=i)}return null!==n&&("string"!=typeof n&&(n=e._int2time(n)),e._setTimeValue(n,"select")),!0}},{key:"time2int",value:function(e){if(""===e||null==e)return null;if(e instanceof Date)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");var t=/^(([^0-9]*))?([0-9]?[0-9])(([0-5][0-9]))?(([0-5][0-9]))?(([^0-9]*))$/;e.match(/\W/)&&(t=/^(([^0-9]*))?([0-9]?[0-9])(\W+([0-5][0-9]?))?(\W+([0-5][0-9]))?(([^0-9]*))$/);var n=e.match(t);if(!n)return null;var i=parseInt(1*n[3],10),a=n[2]||n[9],r=i,o=1*n[5]||0,c=1*n[7]||0;if(a||2!=n[3].length||"0"!=n[3][0]||(a="am"),i<=12&&a){var l=(a=a.trim())==this.settings.lang.pm||a==this.settings.lang.PM;r=12==i?l?12:0:i+(l?12:0)}else if(3600*i+60*o+c>=s+(this.settings.show2400?1:0)){if(!1===this.settings.wrapHours)return null;r=i%24}var d=3600*r+60*o+c;if(i<12&&!a&&this.settings._twelveHourTime&&this.settings.scrollDefault){var u=d-this.settings.scrollDefault();u<0&&u>=-43200&&(d=(d+43200)%s)}return d}},{key:"parseSettings",value:function(e){var t=this;if(e.lang=a(a({},u),e.lang),this.settings=e,e.minTime&&(e.minTime=this.time2int(e.minTime)),e.maxTime&&(e.maxTime=this.time2int(e.maxTime)),e.listWidth&&(e.listWidth=this.time2int(e.listWidth)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=this.time2int(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(t.time2int(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var n=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(t.time2int(n),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"==typeof e.timeFormat&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),!1===e.showOnFocus&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),e.disableTimeRanges||(e.disableTimeRanges=[]),e.disableTimeRanges.length>0){for(var i in e.disableTimeRanges)e.disableTimeRanges[i]=[this.time2int(e.disableTimeRanges[i][0]),this.time2int(e.disableTimeRanges[i][1])];for(e.disableTimeRanges=e.disableTimeRanges.sort((function(e,t){return e[0]-t[0]})),i=e.disableTimeRanges.length-1;i>0;i--)e.disableTimeRanges[i][0]<=e.disableTimeRanges[i-1][1]&&(e.disableTimeRanges[i-1]=[Math.min(e.disableTimeRanges[i][0],e.disableTimeRanges[i-1][0]),Math.max(e.disableTimeRanges[i][1],e.disableTimeRanges[i-1][1])],e.disableTimeRanges.splice(i,1))}return e}},{key:"_disableTextInputHandler",value:function(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}},{key:"_int2duration",value:function(e,t){e=Math.abs(e);var n,i,a=Math.round(e/60),r=[];return a<60?r=[a,this.settings.lang.mins]:(n=Math.floor(a/60),i=a%60,30==t&&30==i&&(n+=this.settings.lang.decimal+5),r.push(n),r.push(1==n?this.settings.lang.hr:this.settings.lang.hrs),30!=t&&i&&(r.push(i),r.push(this.settings.lang.mins))),r.join(" ")}},{key:"_roundAndFormatTime",value:function(e){if(null!==(e=this.settings.roundingFunction(e,this.settings)))return this._int2time(e)}},{key:"_int2time",value:function(e){if("number"!=typeof e)return null;var t=parseInt(e%60),n=parseInt(e/60%60),i=parseInt(e/3600%24),a=new Date(1970,0,2,i,n,t,0);if(isNaN(a.getTime()))return null;if("function"==typeof this.settings.timeFormat)return this.settings.timeFormat(a);for(var r,o,c="",l=0;l<this.settings.timeFormat.length;l++)switch(o=this.settings.timeFormat.charAt(l)){case"a":c+=a.getHours()>11?this.settings.lang.pm:this.settings.lang.am;break;case"A":c+=a.getHours()>11?this.settings.lang.PM:this.settings.lang.AM;break;case"g":c+=0==(r=a.getHours()%12)?"12":r;break;case"G":r=a.getHours(),e===s&&(r=this.settings.show2400?24:0),c+=r;break;case"h":0!=(r=a.getHours()%12)&&r<10&&(r="0"+r),c+=0===r?"12":r;break;case"H":r=a.getHours(),e===s&&(r=this.settings.show2400?24:0),c+=r>9?r:"0"+r;break;case"i":c+=(n=a.getMinutes())>9?n:"0"+n;break;case"s":c+=(t=a.getSeconds())>9?t:"0"+t;break;case"\\":l++,c+=this.settings.timeFormat.charAt(l);break;default:c+=o}return c}},{key:"_setSelected",value:function(){var e=this.list;e.find("li").removeClass("ui-em_timepicker-selected");var t=this.time2int(this._getTimeValue());if(null!==t){var n=this._findRow(t);if(n){var i=n.getBoundingClientRect(),a=e.get(0).getBoundingClientRect(),r=i.top-a.top;if(r+i.height>a.height||r<0){var o=e.scrollTop()+(i.top-a.top)-i.height;e.scrollTop(o)}var s=Number.parseInt(n.dataset.time);(this.settings.forceRoundTime||s===t)&&n.classList.add("ui-em_timepicker-selected")}}}},{key:"_isFocused",value:function(e){return e===document.activeElement}},{key:"_handleFormatValue",value:function(e){e&&"em_timepicker"==e.detail||this._formatValue(e)}},{key:"_formatValue",value:function(e,t){if(""!==this.targetEl.value){if(!this._isFocused(this.targetEl)||e&&"change"==e.type){var n=this.settings,i=this.time2int(this.targetEl.value);if(null!==i){var a=!1;null!==n.minTime&&null!==n.maxTime&&(i<n.minTime||i>n.maxTime)&&(a=!0);var r,s=o(n.disableTimeRanges);try{for(s.s();!(r=s.n()).done;){var c=r.value;if(i>=c[0]&&i<c[1]){a=!0;break}}}catch(e){s.e(e)}finally{s.f()}if(n.forceRoundTime){var l=n.roundingFunction(i,n);l!=i&&(i=l,t=null)}var d=this._int2time(i);if(a){this._setTimeValue(d);var u=new CustomEvent("timeRangeError");this.targetEl.dispatchEvent(u)}else this._setTimeValue(d,t)}else{var p=new CustomEvent("timeFormatError");this.targetEl.dispatchEvent(p)}}}else this._setTimeValue(null,t)}},{key:"_generateNoneElement",value:function(t,n){var i,a,r,o;return"object"==e(t)?(i=t.label,a=t.className,r=t.value):"string"==typeof t?(i=t,r=""):$.error("Invalid noneOption value"),n?(o=document.createElement("option")).value=r:(o=document.createElement("li")).dataset.time=String(r),o.innerText=i,o.classList.add(a),o}},{key:"_handleKeyUp",value:function(e){if(!this.list||!n.isVisible(this.list)||this.settings.disableTextInput)return!0;if("paste"!==e.type&&"cut"!==e.type)switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:this.settings.typeaheadHighlight?this._setSelected():this.list.hide()}else setTimeout((function(){this.settings.typeaheadHighlight?this._setSelected():this.list.hide()}),0)}}])&&t(i.prototype,r),c&&t(i,c),n}();l=function(t){var n={init:function(e){return this.each((function(){var a=t(this),o=new p(this,e),s=o.settings;if(s.lang,this.em_timepickerObj=o,a.addClass("ui-em_timepicker-input"),s.useSelect)i(a);else{if(a.prop("autocomplete","off"),s.showOn)for(var c in s.showOn)a.on(s.showOn[c]+".em_timepicker",n.show);a.on("change.em_timepicker",o._handleFormatValue),a.on("keydown.em_timepicker",r),a.on("keyup.em_timepicker",o._handleKeyUp),s.disableTextInput&&a.on("keydown.em_timepicker",o._disableTextInputHandler),a.on("cut.em_timepicker",o._handleKeyUp),a.on("paste.em_timepicker",o._handleKeyUp),o._formatValue(null,"initial")}}))},show:function(e){var n=t(this),r=n[0].em_timepickerObj,o=r.settings;if(e&&e.preventDefault(),o.useSelect)r.list.trigger("focus");else{r._hideKeyboard()&&n.trigger("blur");var s=r.list;if(!n.prop("readonly")&&(s&&0!==s.length&&"function"!=typeof o.durationTime||(i(n),s=r.list),!p.isVisible(s))){n.is("input")&&(r.selectedValue=n.val()),r._setSelected(),p.hideAll(),"number"==typeof o.listWidth&&s.width(n.outerWidth()*o.listWidth),s.show();var c={};o.orientation.match(/r/)?c.left=n.offset().left+n.outerWidth()-s.outerWidth()+parseInt(s.css("marginLeft").replace("px",""),10):o.orientation.match(/l/)?c.left=n.offset().left+parseInt(s.css("marginLeft").replace("px",""),10):o.orientation.match(/c/)&&(c.left=n.offset().left+(n.outerWidth()-s.outerWidth())/2+parseInt(s.css("marginLeft").replace("px",""),10)),"t"==(o.orientation.match(/t/)?"t":o.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+s.outerHeight()>t(window).height()+t(window).scrollTop()?"t":"b")?(s.addClass("ui-em_timepicker-positioned-top"),c.top=n.offset().top-s.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)):(s.removeClass("ui-em_timepicker-positioned-top"),c.top=n.offset().top+n.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)),s.offset(c);var l=s.find(".ui-em_timepicker-selected");if(!l.length){var d=r.time2int(r._getTimeValue());null!==d?l=t(r._findRow(d)):o.scrollDefault&&(l=t(r._findRow(o.scrollDefault())))}if(l.length&&!l.hasClass("ui-em_timepicker-disabled")||(l=s.find("li:not(.ui-em_timepicker-disabled):first")),l&&l.length){var u=s.scrollTop()+l.position().top-l.outerHeight();s.scrollTop(u)}else s.scrollTop(0);return o.stopScrollPropagation&&t(document).on("wheel.ui-em_timepicker",".ui-em_timepicker-wrapper",(function(e){e.preventDefault();var n=t(this).scrollTop();t(this).scrollTop(n+e.originalEvent.deltaY)})),t(document).on("mousedown.ui-em_timepicker",a),t(window).on("resize.ui-em_timepicker",a),o.closeOnWindowScroll&&t(document).on("scroll.ui-em_timepicker",a),n.trigger("showTimepicker"),this}}},hide:function(e){var t=this[0].em_timepickerObj;return t&&t.hideMe(),p.hideAll(),this},option:function(n,a){return"string"==typeof n&&void 0===a?this[0].em_timepickerObj.settings[n]:this.each((function(){var r=t(this),o=r[0].em_timepickerObj,s=o.settings,c=o.list;"object"==e(n)?s=t.extend(s,n):"string"==typeof n&&(s[n]=a),s=o.parseSettings(s),o.settings=s,o._formatValue({type:"change"},"initial"),c&&(c.remove(),o.list=null),s.useSelect&&i(r)}))},getSecondsFromMidnight:function(){var e=this[0].em_timepickerObj;return e.time2int(e._getTimeValue())},getTime:function(e){var t=this[0].em_timepickerObj,n=t._getTimeValue();if(!n)return null;var i=t.time2int(n);if(null===i)return null;e||(e=new Date);var a=new Date(e);return a.setHours(i/3600),a.setMinutes(i%3600/60),a.setSeconds(i%60),a.setMilliseconds(0),a},isVisible:function(){var e=this[0].em_timepickerObj;return!!(e&&e.list&&p.isVisible(e.list))},setTime:function(e){var t=this[0].em_timepickerObj,n=t.settings;if(n.forceRoundTime)var i=t._roundAndFormatTime(t.time2int(e));else i=t._int2time(t.time2int(e));return e&&null===i&&n.noneOption&&(i=e),t._setTimeValue(i,"initial"),t._formatValue({type:"change"},"initial"),t&&t.list&&t._setSelected(),this},remove:function(){var e=this;if(e.hasClass("ui-em_timepicker-input")){var t=e[0].em_timepickerObj,n=t.settings;return e.removeAttr("autocomplete","off"),e.removeClass("ui-em_timepicker-input"),e.removeData("em_timepicker-obj"),e.off(".em_timepicker"),t.list&&t.list.remove(),n.useSelect&&e.show(),t.list=null,this}}};function i(e){var i=e[0].em_timepickerObj,a=i.list,r=i.settings;if(a&&a.length&&(a.remove(),i.list=null),r.useSelect){a=t("<select></select>",{class:"ui-em_timepicker-select"}),e.attr("name")&&a.attr("name","ui-em_timepicker-"+e.attr("name"));var o=a}else a=t("<ul></ul>",{class:"ui-em_timepicker-list"}),(o=t("<div></div>",{class:"ui-em_timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(a);if(r.noneOption)if(!0===r.noneOption&&(r.noneOption=r.useSelect?"Time...":"None"),t.isArray(r.noneOption)){for(var l in r.noneOption)if(parseInt(l,10)==l){var d=i._generateNoneElement(r.noneOption[l],r.useSelect);a.append(d)}}else d=i._generateNoneElement(r.noneOption,r.useSelect),a.append(d);r.className&&o.addClass(r.className),null===r.minTime&&null===r.durationTime||!r.showDuration||("function"==typeof r.step||r.step,o.addClass("ui-em_timepicker-with-duration"),o.addClass("ui-em_timepicker-step-"+r.step));var u=r.minTime;"function"==typeof r.durationTime?u=i.time2int(r.durationTime()):null!==r.durationTime&&(u=r.durationTime);var p=null!==r.minTime?r.minTime:0,m=null!==r.maxTime?r.maxTime:p+s-1;m<p&&(m+=s),86399===m&&"string"===t.type(r.timeFormat)&&r.show2400&&(m=s);var f=r.disableTimeRanges,h=0,g=f.length,v=r.step;"function"!=typeof v&&(v=function(){return r.step}),l=p;for(var y=0;l<=m;l+=60*v(++y)){var b,w=l,_=i._int2time(w);if(r.useSelect?(b=t("<option></option>",{value:_})).text(_):((b=t("<li></li>")).addClass(w%s<43200?"ui-em_timepicker-am":"ui-em_timepicker-pm"),b.attr("data-time",c(w,r)),b.text(_)),(null!==r.minTime||null!==r.durationTime)&&r.showDuration){var E=i._int2duration(l-u,r.step);if(r.useSelect)b.text(b.text()+" ("+E+")");else{var A=t("<span></span>",{class:"ui-em_timepicker-duration"});A.text(" ("+E+")"),b.append(A)}}h<g&&(w>=f[h][1]&&(h+=1),f[h]&&w>=f[h][0]&&w<f[h][1]&&(r.useSelect?b.prop("disabled",!0):b.addClass("ui-em_timepicker-disabled"))),a.append(b)}if(o.data("em_timepicker-input",e),i.list=o,r.useSelect)e.val()&&a.val(i._roundAndFormatTime(i.time2int(e.val()))),a.on("focus",(function(){t(this).data("em_timepicker-input").trigger("showTimepicker")})),a.on("blur",(function(){t(this).data("em_timepicker-input").trigger("hideTimepicker")})),a.on("change",(function(){i._setTimeValue(t(this).val(),"select")})),i._setTimeValue(a.val(),"initial"),e.hide().after(a);else{var k=r.appendTo;"string"==typeof k?k=t(k):"function"==typeof k&&(k=k(e)),k.append(o),i._setSelected(),a.on("mousedown click","li",(function(r){e.off("focus.em_timepicker"),e.on("focus.em_timepicker-ie-hack",(function(){e.off("focus.em_timepicker-ie-hack"),e.on("focus.em_timepicker",n.show)})),i._hideKeyboard()||e[0].focus(),a.find("li").removeClass("ui-em_timepicker-selected"),t(this).addClass("ui-em_timepicker-selected"),i._selectValue()&&(e.trigger("hideTimepicker"),a.on("mouseup.em_timepicker click.em_timepicker","li",(function(e){a.off("mouseup.em_timepicker click.em_timepicker"),o.hide()})))}))}}function a(e){if(e.target!=window){var n=t(e.target);n.closest(".ui-em_timepicker-input").length||n.closest(".ui-em_timepicker-wrapper").length||(p.hideAll(),t(document).off(".ui-em_timepicker"),t(window).off(".ui-em_timepicker"))}}function r(e){var i=t(this),a=i[0].em_timepickerObj,r=a.list;if(!r||!p.isVisible(r)){if(40!=e.keyCode)return!0;n.show.call(i.get(0)),r=a.list,a._hideKeyboard()||i.trigger("focus")}switch(e.keyCode){case 13:return a._selectValue()&&(a._formatValue({type:"change"}),a.hideMe()),e.preventDefault(),!1;case 38:var o=r.find(".ui-em_timepicker-selected");return o.length?o.is(":first-child")||(o.removeClass("ui-em_timepicker-selected"),o.prev().addClass("ui-em_timepicker-selected"),o.prev().position().top<o.outerHeight()&&r.scrollTop(r.scrollTop()-o.outerHeight())):(r.find("li").each((function(e,n){if(t(n).position().top>0)return o=t(n),!1})),o.addClass("ui-em_timepicker-selected")),!1;case 40:return 0===(o=r.find(".ui-em_timepicker-selected")).length?(r.find("li").each((function(e,n){if(t(n).position().top>0)return o=t(n),!1})),o.addClass("ui-em_timepicker-selected")):o.is(":last-child")||(o.removeClass("ui-em_timepicker-selected"),o.next().addClass("ui-em_timepicker-selected"),o.next().position().top+2*o.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+o.outerHeight())),!1;case 27:r.find("li").removeClass("ui-em_timepicker-selected"),a.hideMe();break;case 9:a.hideMe();break;default:return!0}}t.fn.em_timepicker=function(i){return this.length?n[i]?this.hasClass("ui-em_timepicker-input")?n[i].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!==e(i)&&i?void t.error("Method "+i+" does not exist on jQuery.em_timepicker"):n.init.apply(this,arguments):this},t.fn.em_timepicker.defaults=d},"object"===("undefined"==typeof exports?"undefined":e(exports))&&exports&&"object"===("undefined"==typeof module?"undefined":e(module))&&module&&module.exports===exports?l(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],l):l(jQuery)}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).flatpickr=t()}(this,(function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)i[a]=r[o];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},r=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},o=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,a)}),t)}}var c=function(e){return e instanceof Array?e:[e]};function l(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e,t){return t(e)?e:e.parentNode?p(e.parentNode,t):void 0}function m(e,t){var n=d("div","numInputWrapper"),i=d("input","numInput "+e),a=d("span","arrowUp"),r=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var o in t)i.setAttribute(o,t[o]);return n.appendChild(i),n.appendChild(a),n.appendChild(r),n}function f(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var h=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:h,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),a=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return a.setDate(a.getDate()-a.getDay()+n.firstDayOfWeek),a},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:h,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:h,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},y={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},b={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[b.w(e,t,n)]},F:function(e,t,n){return g(b.n(e,t,n)-1,!1,t)},G:function(e,t,n){return r(b.h(e,t,n))},H:function(e){return r(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return r(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return r(e.getFullYear(),4)},d:function(e){return r(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return r(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return r(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},w=function(e){var t=e.config,n=void 0===t?i:t,r=e.l10n,o=void 0===r?a:r,s=e.isMobile,c=void 0!==s&&s;return function(e,t,i){var a=i||o;return void 0===n.formatDate||c?t.split("").map((function(t,i,r){return b[t]&&"\\"!==r[i-1]?b[t](e,a,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,a)}},_=function(e){var t=e.config,n=void 0===t?i:t,r=e.l10n,o=void 0===r?a:r;return function(e,t,a,r){if(0===e||e){var s,c=r||o,l=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var d=t||(n||i).dateFormat,u=String(e).trim();if("today"===u)s=new Date,a=!0;else if(n&&n.parseDate)s=n.parseDate(e,d);else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else{for(var p=void 0,m=[],f=0,h=0,g="";f<d.length;f++){var b=d[f],w="\\"===b,_="\\"===d[f-1]||w;if(y[b]&&!_){g+=y[b];var E=new RegExp(g).exec(e);E&&(p=!0)&&m["Y"!==b?"push":"unshift"]({fn:v[b],val:E[++h]})}else w||(g+=".")}s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),m.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,c)||s})),s=p?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===a&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+l))}}};function E(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var A=function(e,t,n){return 3600*e+60*t+n};function k(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var a=e.minDate.getHours(),r=e.minDate.getMinutes(),o=e.minDate.getSeconds();t<a&&(t=a),t===a&&n<r&&(n=r),t===a&&n===r&&i<o&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),c=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(c,n)),t===s&&n===c&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}function C(h,v){var b={config:e(e({},i),D.defaultConfig),l10n:a};function C(){var e;return(null===(e=b.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function S(e){return e.bind(b)}function x(){var e=b.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==b.calendarContainer&&(b.calendarContainer.style.visibility="hidden",b.calendarContainer.style.display="block"),void 0!==b.daysContainer){var t=(b.days.offsetWidth+1)*e.showMonths;b.daysContainer.style.width=t+"px",b.calendarContainer.style.width=t+(void 0!==b.weekWrapper?b.weekWrapper.offsetWidth:0)+"px",b.calendarContainer.style.removeProperty("visibility"),b.calendarContainer.style.removeProperty("display")}}))}function M(e){if(0===b.selectedDates.length){var t=void 0===b.config.minDate||E(new Date,b.config.minDate)>=0?new Date:new Date(b.config.minDate.getTime()),n=k(b.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),b.selectedDates=[t],b.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=f(e),i=n;void 0!==b.amPM&&n===b.amPM&&(b.amPM.textContent=b.l10n.amPM[o(b.amPM.textContent===b.l10n.amPM[0])]);var a=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),c=parseFloat(i.getAttribute("step")),l=parseInt(i.value,10),d=l+c*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var u=i===b.hourElement,p=i===b.minuteElement;d<a?(d=s+d+o(!u)+(o(u)&&o(!b.amPM)),p&&F(void 0,-1,b.hourElement)):d>s&&(d=i===b.hourElement?d-s-o(!b.amPM):a,p&&F(void 0,1,b.hourElement)),b.amPM&&u&&(1===c?d+l===23:Math.abs(d-l)>c)&&(b.amPM.textContent=b.l10n.amPM[o(b.amPM.textContent===b.l10n.amPM[0])]),i.value=r(d)}}(e);var i=b._input.value;T(),Ee(),b._input.value!==i&&b._debouncedChange()}function T(){if(void 0!==b.hourElement&&void 0!==b.minuteElement){var e,t,n=(parseInt(b.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(b.minuteElement.value,10)||0)%60,a=void 0!==b.secondElement?(parseInt(b.secondElement.value,10)||0)%60:0;void 0!==b.amPM&&(e=n,t=b.amPM.textContent,n=e%12+12*o(t===b.l10n.amPM[1]));var r=void 0!==b.config.minTime||b.config.minDate&&b.minDateHasTime&&b.latestSelectedDateObj&&0===E(b.latestSelectedDateObj,b.config.minDate,!0),s=void 0!==b.config.maxTime||b.config.maxDate&&b.maxDateHasTime&&b.latestSelectedDateObj&&0===E(b.latestSelectedDateObj,b.config.maxDate,!0);if(void 0!==b.config.maxTime&&void 0!==b.config.minTime&&b.config.minTime>b.config.maxTime){var c=A(b.config.minTime.getHours(),b.config.minTime.getMinutes(),b.config.minTime.getSeconds()),l=A(b.config.maxTime.getHours(),b.config.maxTime.getMinutes(),b.config.maxTime.getSeconds()),d=A(n,i,a);if(d>l&&d<c){var u=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(c);n=u[0],i=u[1],a=u[2]}}else{if(s){var p=void 0!==b.config.maxTime?b.config.maxTime:b.config.maxDate;(n=Math.min(n,p.getHours()))===p.getHours()&&(i=Math.min(i,p.getMinutes())),i===p.getMinutes()&&(a=Math.min(a,p.getSeconds()))}if(r){var m=void 0!==b.config.minTime?b.config.minTime:b.config.minDate;(n=Math.max(n,m.getHours()))===m.getHours()&&i<m.getMinutes()&&(i=m.getMinutes()),i===m.getMinutes()&&(a=Math.max(a,m.getSeconds()))}}L(n,i,a)}}function O(e){var t=e||b.latestSelectedDateObj;t&&t instanceof Date&&L(t.getHours(),t.getMinutes(),t.getSeconds())}function L(e,t,n){void 0!==b.latestSelectedDateObj&&b.latestSelectedDateObj.setHours(e%24,t,n||0,0),b.hourElement&&b.minuteElement&&!b.isMobile&&(b.hourElement.value=r(b.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),b.minuteElement.value=r(t),void 0!==b.amPM&&(b.amPM.textContent=b.l10n.amPM[o(e>=12)]),void 0!==b.secondElement&&(b.secondElement.value=r(n)))}function j(e){var t=f(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&Z(n)}function I(e,t,n,i){return t instanceof Array?t.forEach((function(t){return I(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return I(e,t,n,i)})):(e.addEventListener(t,n,i),void b._handlers.push({remove:function(){return e.removeEventListener(t,n,i)}}))}function P(){ve("onChange")}function q(e,t){var n=void 0!==e?b.parseDate(e):b.latestSelectedDateObj||(b.config.minDate&&b.config.minDate>b.now?b.config.minDate:b.config.maxDate&&b.config.maxDate<b.now?b.config.maxDate:b.now),i=b.currentYear,a=b.currentMonth;try{void 0!==n&&(b.currentYear=n.getFullYear(),b.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,b.config.errorHandler(e)}t&&b.currentYear!==i&&(ve("onYearChange"),Y()),!t||b.currentYear===i&&b.currentMonth===a||ve("onMonthChange"),b.redraw()}function N(e){var t=f(e);~t.className.indexOf("arrow")&&F(e,t.classList.contains("arrowUp")?1:-1)}function F(e,t,n){var i=e&&f(e),a=n||i&&i.parentNode&&i.parentNode.firstChild,r=ye("increment");r.delta=t,a&&a.dispatchEvent(r)}function R(e,t,n,i){var a=ee(t,!0),r=d("span",e,t.getDate().toString());return r.dateObj=t,r.$i=i,r.setAttribute("aria-label",b.formatDate(t,b.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===E(t,b.now)&&(b.todayDateElem=r,r.classList.add("today"),r.setAttribute("aria-current","date")),a?(r.tabIndex=-1,be(t)&&(r.classList.add("selected"),b.selectedDateElem=r,"range"===b.config.mode&&(l(r,"startRange",b.selectedDates[0]&&0===E(t,b.selectedDates[0],!0)),l(r,"endRange",b.selectedDates[1]&&0===E(t,b.selectedDates[1],!0)),"nextMonthDay"===e&&r.classList.add("inRange")))):r.classList.add("flatpickr-disabled"),"range"===b.config.mode&&function(e){return!("range"!==b.config.mode||b.selectedDates.length<2)&&E(e,b.selectedDates[0])>=0&&E(e,b.selectedDates[1])<=0}(t)&&!be(t)&&r.classList.add("inRange"),b.weekNumbers&&1===b.config.showMonths&&"prevMonthDay"!==e&&i%7==6&&b.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+b.config.getWeek(t)+"</span>"),ve("onDayCreate",r),r}function H(e){e.focus(),"range"===b.config.mode&&ae(e)}function z(e){for(var t=e>0?0:b.config.showMonths-1,n=e>0?b.config.showMonths:-1,i=t;i!=n;i+=e)for(var a=b.daysContainer.children[i],r=e>0?0:a.children.length-1,o=e>0?a.children.length:-1,s=r;s!=o;s+=e){var c=a.children[s];if(-1===c.className.indexOf("hidden")&&ee(c.dateObj))return c}}function $(e,t){var n=C(),i=te(n||document.body),a=void 0!==e?e:i?n:void 0!==b.selectedDateElem&&te(b.selectedDateElem)?b.selectedDateElem:void 0!==b.todayDateElem&&te(b.todayDateElem)?b.todayDateElem:z(t>0?1:-1);void 0===a?b._input.focus():i?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():b.currentMonth,i=t>0?b.config.showMonths:-1,a=t>0?1:-1,r=n-b.currentMonth;r!=i;r+=a)for(var o=b.daysContainer.children[r],s=n-b.currentMonth===r?e.$i+t:t<0?o.children.length-1:0,c=o.children.length,l=s;l>=0&&l<c&&l!=(t>0?c:-1);l+=a){var d=o.children[l];if(-1===d.className.indexOf("hidden")&&ee(d.dateObj)&&Math.abs(e.$i-l)>=Math.abs(t))return H(d)}b.changeMonth(a),$(z(a),0)}(a,t):H(a)}function B(e,t){for(var n=(new Date(e,t,1).getDay()-b.l10n.firstDayOfWeek+7)%7,i=b.utils.getDaysInMonth((t-1+12)%12,e),a=b.utils.getDaysInMonth(t,e),r=window.document.createDocumentFragment(),o=b.config.showMonths>1,s=o?"prevMonthDay hidden":"prevMonthDay",c=o?"nextMonthDay hidden":"nextMonthDay",l=i+1-n,u=0;l<=i;l++,u++)r.appendChild(R("flatpickr-day "+s,new Date(e,t-1,l),0,u));for(l=1;l<=a;l++,u++)r.appendChild(R("flatpickr-day",new Date(e,t,l),0,u));for(var p=a+1;p<=42-n&&(1===b.config.showMonths||u%7!=0);p++,u++)r.appendChild(R("flatpickr-day "+c,new Date(e,t+1,p%a),0,u));var m=d("div","dayContainer");return m.appendChild(r),m}function Q(){if(void 0!==b.daysContainer){u(b.daysContainer),b.weekNumbers&&u(b.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<b.config.showMonths;t++){var n=new Date(b.currentYear,b.currentMonth,1);n.setMonth(b.currentMonth+t),e.appendChild(B(n.getFullYear(),n.getMonth()))}b.daysContainer.appendChild(e),b.days=b.daysContainer.firstChild,"range"===b.config.mode&&1===b.selectedDates.length&&ae()}}function Y(){if(!(b.config.showMonths>1||"dropdown"!==b.config.monthSelectorType)){var e=function(e){return!(void 0!==b.config.minDate&&b.currentYear===b.config.minDate.getFullYear()&&e<b.config.minDate.getMonth()||void 0!==b.config.maxDate&&b.currentYear===b.config.maxDate.getFullYear()&&e>b.config.maxDate.getMonth())};b.monthsDropdownContainer.tabIndex=-1,b.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(b.currentYear,t).getMonth().toString(),n.textContent=g(t,b.config.shorthandCurrentMonth,b.l10n),n.tabIndex=-1,b.currentMonth===t&&(n.selected=!0),b.monthsDropdownContainer.appendChild(n)}}}function V(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();b.config.showMonths>1||"static"===b.config.monthSelectorType?e=d("span","cur-month"):(b.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),b.monthsDropdownContainer.setAttribute("aria-label",b.l10n.monthAriaLabel),I(b.monthsDropdownContainer,"change",(function(e){var t=f(e),n=parseInt(t.value,10);b.changeMonth(n-b.currentMonth),ve("onMonthChange")})),Y(),e=b.monthsDropdownContainer);var i=m("cur-year",{tabindex:"-1"}),a=i.getElementsByTagName("input")[0];a.setAttribute("aria-label",b.l10n.yearAriaLabel),b.config.minDate&&a.setAttribute("min",b.config.minDate.getFullYear().toString()),b.config.maxDate&&(a.setAttribute("max",b.config.maxDate.getFullYear().toString()),a.disabled=!!b.config.minDate&&b.config.minDate.getFullYear()===b.config.maxDate.getFullYear());var r=d("div","flatpickr-current-month");return r.appendChild(e),r.appendChild(i),n.appendChild(r),t.appendChild(n),{container:t,yearElement:a,monthElement:e}}function U(){u(b.monthNav),b.monthNav.appendChild(b.prevMonthNav),b.config.showMonths&&(b.yearElements=[],b.monthElements=[]);for(var e=b.config.showMonths;e--;){var t=V();b.yearElements.push(t.yearElement),b.monthElements.push(t.monthElement),b.monthNav.appendChild(t.container)}b.monthNav.appendChild(b.nextMonthNav)}function W(){b.weekdayContainer?u(b.weekdayContainer):b.weekdayContainer=d("div","flatpickr-weekdays");for(var e=b.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");b.weekdayContainer.appendChild(t)}return G(),b.weekdayContainer}function G(){if(b.weekdayContainer){var e=b.l10n.firstDayOfWeek,n=t(b.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=b.config.showMonths;i--;)b.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function K(e,t){void 0===t&&(t=!0);var n=t?e:e-b.currentMonth;n<0&&!0===b._hidePrevMonthArrow||n>0&&!0===b._hideNextMonthArrow||(b.currentMonth+=n,(b.currentMonth<0||b.currentMonth>11)&&(b.currentYear+=b.currentMonth>11?1:-1,b.currentMonth=(b.currentMonth+12)%12,ve("onYearChange"),Y()),Q(),ve("onMonthChange"),we())}function X(e){return b.calendarContainer.contains(e)}function J(e){if(b.isOpen&&!b.config.inline){var t=f(e),n=X(t),i=!(t===b.input||t===b.altInput||b.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(b.input)||~e.path.indexOf(b.altInput))||n||X(e.relatedTarget)),a=!b.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&a&&(b.config.allowInput&&b.setDate(b._input.value,!1,b.config.altInput?b.config.altFormat:b.config.dateFormat),void 0!==b.timeContainer&&void 0!==b.minuteElement&&void 0!==b.hourElement&&""!==b.input.value&&void 0!==b.input.value&&M(),b.close(),b.config&&"range"===b.config.mode&&1===b.selectedDates.length&&b.clear(!1))}}function Z(e){if(!(!e||b.config.minDate&&e<b.config.minDate.getFullYear()||b.config.maxDate&&e>b.config.maxDate.getFullYear())){var t=e,n=b.currentYear!==t;b.currentYear=t||b.currentYear,b.config.maxDate&&b.currentYear===b.config.maxDate.getFullYear()?b.currentMonth=Math.min(b.config.maxDate.getMonth(),b.currentMonth):b.config.minDate&&b.currentYear===b.config.minDate.getFullYear()&&(b.currentMonth=Math.max(b.config.minDate.getMonth(),b.currentMonth)),n&&(b.redraw(),ve("onYearChange"),Y())}}function ee(e,t){var n;void 0===t&&(t=!0);var i=b.parseDate(e,void 0,t);if(b.config.minDate&&i&&E(i,b.config.minDate,void 0!==t?t:!b.minDateHasTime)<0||b.config.maxDate&&i&&E(i,b.config.maxDate,void 0!==t?t:!b.maxDateHasTime)>0)return!1;if(!b.config.enable&&0===b.config.disable.length)return!0;if(void 0===i)return!1;for(var a=!!b.config.enable,r=null!==(n=b.config.enable)&&void 0!==n?n:b.config.disable,o=0,s=void 0;o<r.length;o++){if("function"==typeof(s=r[o])&&s(i))return a;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return a;if("string"==typeof s){var c=b.parseDate(s,void 0,!0);return c&&c.getTime()===i.getTime()?a:!a}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return a}return!a}function te(e){return void 0!==b.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&b.daysContainer.contains(e)}function ne(e){var t=e.target===b._input,n=b._input.value.trimEnd()!==_e();!t||!n||e.relatedTarget&&X(e.relatedTarget)||b.setDate(b._input.value,!0,e.target===b.altInput?b.config.altFormat:b.config.dateFormat)}function ie(e){var t=f(e),n=b.config.wrap?h.contains(t):t===b._input,i=b.config.allowInput,a=b.isOpen&&(!i||!n),r=b.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return b.setDate(b._input.value,!0,t===b.altInput?b.config.altFormat:b.config.dateFormat),b.close(),t.blur();b.open()}else if(X(t)||a||r){var o=!!b.timeContainer&&b.timeContainer.contains(t);switch(e.keyCode){case 13:o?(e.preventDefault(),M(),ue()):pe(e);break;case 27:e.preventDefault(),ue();break;case 8:case 46:n&&!b.config.allowInput&&(e.preventDefault(),b.clear());break;case 37:case 39:if(o||n)b.hourElement&&b.hourElement.focus();else{e.preventDefault();var s=C();if(void 0!==b.daysContainer&&(!1===i||s&&te(s))){var c=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),K(c),$(z(1),0)):$(void 0,c)}}break;case 38:case 40:e.preventDefault();var l=40===e.keyCode?1:-1;b.daysContainer&&void 0!==t.$i||t===b.input||t===b.altInput?e.ctrlKey?(e.stopPropagation(),Z(b.currentYear-l),$(z(1),0)):o||$(void 0,7*l):t===b.currentYearElement?Z(b.currentYear-l):b.config.enableTime&&(!o&&b.hourElement&&b.hourElement.focus(),M(e),b._debouncedChange());break;case 9:if(o){var d=[b.hourElement,b.minuteElement,b.secondElement,b.amPM].concat(b.pluginElements).filter((function(e){return e})),u=d.indexOf(t);if(-1!==u){var p=d[u+(e.shiftKey?-1:1)];e.preventDefault(),(p||b._input).focus()}}else!b.config.noCalendar&&b.daysContainer&&b.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),b._input.focus())}}if(void 0!==b.amPM&&t===b.amPM)switch(e.key){case b.l10n.amPM[0].charAt(0):case b.l10n.amPM[0].charAt(0).toLowerCase():b.amPM.textContent=b.l10n.amPM[0],T(),Ee();break;case b.l10n.amPM[1].charAt(0):case b.l10n.amPM[1].charAt(0).toLowerCase():b.amPM.textContent=b.l10n.amPM[1],T(),Ee()}(n||X(t))&&ve("onKeyDown",e)}function ae(e,t){if(void 0===t&&(t="flatpickr-day"),1===b.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():b.days.firstElementChild.dateObj.getTime(),i=b.parseDate(b.selectedDates[0],void 0,!0).getTime(),a=Math.min(n,b.selectedDates[0].getTime()),r=Math.max(n,b.selectedDates[0].getTime()),o=!1,s=0,c=0,l=a;l<r;l+=864e5)ee(new Date(l),!0)||(o=o||l>a&&l<r,l<i&&(!s||l>s)?s=l:l>i&&(!c||l<c)&&(c=l));Array.from(b.rContainer.querySelectorAll("*:nth-child(-n+"+b.config.showMonths+") > ."+t)).forEach((function(t){var a,r,l,d=t.dateObj.getTime(),u=s>0&&d<s||c>0&&d>c;if(u)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));o&&!u||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(n<=b.selectedDates[0].getTime()?"startRange":"endRange"),i<n&&d===i?t.classList.add("startRange"):i>n&&d===i&&t.classList.add("endRange"),d>=s&&(0===c||d<=c)&&(r=i,l=n,(a=d)>Math.min(r,l)&&a<Math.max(r,l))&&t.classList.add("inRange")))}))}}function re(){!b.isOpen||b.config.static||b.config.inline||le()}function oe(e){return function(t){var n=b.config["_"+e+"Date"]=b.parseDate(t,b.config.dateFormat),i=b.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(b["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),b.selectedDates&&(b.selectedDates=b.selectedDates.filter((function(e){return ee(e)})),b.selectedDates.length||"min"!==e||O(n),Ee()),b.daysContainer&&(de(),void 0!==n?b.currentYearElement[e]=n.getFullYear().toString():b.currentYearElement.removeAttribute(e),b.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function se(){return b.config.wrap?h.querySelector("[data-input]"):h}function ce(){"object"!=typeof b.config.locale&&void 0===D.l10ns[b.config.locale]&&b.config.errorHandler(new Error("flatpickr: invalid locale "+b.config.locale)),b.l10n=e(e({},D.l10ns.default),"object"==typeof b.config.locale?b.config.locale:"default"!==b.config.locale?D.l10ns[b.config.locale]:void 0),y.D="("+b.l10n.weekdays.shorthand.join("|")+")",y.l="("+b.l10n.weekdays.longhand.join("|")+")",y.M="("+b.l10n.months.shorthand.join("|")+")",y.F="("+b.l10n.months.longhand.join("|")+")",y.K="("+b.l10n.amPM[0]+"|"+b.l10n.amPM[1]+"|"+b.l10n.amPM[0].toLowerCase()+"|"+b.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},v),JSON.parse(JSON.stringify(h.dataset||{}))).time_24hr&&void 0===D.defaultConfig.time_24hr&&(b.config.time_24hr=b.l10n.time_24hr),b.formatDate=w(b),b.parseDate=_({config:b.config,l10n:b.l10n})}function le(e){if("function"!=typeof b.config.position){if(void 0!==b.calendarContainer){ve("onPreCalendarPosition");var t=e||b._positionElement,n=Array.prototype.reduce.call(b.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=b.calendarContainer.offsetWidth,a=b.config.position.split(" "),r=a[0],o=a.length>1?a[1]:null,s=t.getBoundingClientRect(),c=window.innerHeight-s.bottom,d="above"===r||"below"!==r&&c<n&&s.top>n,u=window.pageYOffset+s.top+(d?-n-2:t.offsetHeight+2);if(l(b.calendarContainer,"arrowTop",!d),l(b.calendarContainer,"arrowBottom",d),!b.config.inline){var p=window.pageXOffset+s.left,m=!1,f=!1;"center"===o?(p-=(i-s.width)/2,m=!0):"right"===o&&(p-=i-s.width,f=!0),l(b.calendarContainer,"arrowLeft",!m&&!f),l(b.calendarContainer,"arrowCenter",m),l(b.calendarContainer,"arrowRight",f);var h=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=p+i>window.document.body.offsetWidth,v=h+i>window.document.body.offsetWidth;if(l(b.calendarContainer,"rightMost",g),!b.config.static)if(b.calendarContainer.style.top=u+"px",g)if(v){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===y)return;var w=window.document.body.offsetWidth,_=Math.max(0,w/2-i/2),E=y.cssRules.length,A="{left:"+s.left+"px;right:auto;}";l(b.calendarContainer,"rightMost",!1),l(b.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+A,E),b.calendarContainer.style.left=_+"px",b.calendarContainer.style.right="auto"}else b.calendarContainer.style.left="auto",b.calendarContainer.style.right=h+"px";else b.calendarContainer.style.left=p+"px",b.calendarContainer.style.right="auto"}}}else b.config.position(b,e)}function de(){b.config.noCalendar||b.isMobile||(Y(),we(),Q())}function ue(){b._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(b.close,0):b.close()}function pe(e){e.preventDefault(),e.stopPropagation();var t=p(f(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=b.latestSelectedDateObj=new Date(n.dateObj.getTime()),a=(i.getMonth()<b.currentMonth||i.getMonth()>b.currentMonth+b.config.showMonths-1)&&"range"!==b.config.mode;if(b.selectedDateElem=n,"single"===b.config.mode)b.selectedDates=[i];else if("multiple"===b.config.mode){var r=be(i);r?b.selectedDates.splice(parseInt(r),1):b.selectedDates.push(i)}else"range"===b.config.mode&&(2===b.selectedDates.length&&b.clear(!1,!1),b.latestSelectedDateObj=i,b.selectedDates.push(i),0!==E(i,b.selectedDates[0],!0)&&b.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(T(),a){var o=b.currentYear!==i.getFullYear();b.currentYear=i.getFullYear(),b.currentMonth=i.getMonth(),o&&(ve("onYearChange"),Y()),ve("onMonthChange")}if(we(),Q(),Ee(),a||"range"===b.config.mode||1!==b.config.showMonths?void 0!==b.selectedDateElem&&void 0===b.hourElement&&b.selectedDateElem&&b.selectedDateElem.focus():H(n),void 0!==b.hourElement&&void 0!==b.hourElement&&b.hourElement.focus(),b.config.closeOnSelect){var s="single"===b.config.mode&&!b.config.enableTime,c="range"===b.config.mode&&2===b.selectedDates.length&&!b.config.enableTime;(s||c)&&ue()}P()}}b.parseDate=_({config:b.config,l10n:b.l10n}),b._handlers=[],b.pluginElements=[],b.loadedPlugins=[],b._bind=I,b._setHoursFromDate=O,b._positionCalendar=le,b.changeMonth=K,b.changeYear=Z,b.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),b.input.value="",void 0!==b.altInput&&(b.altInput.value=""),void 0!==b.mobileInput&&(b.mobileInput.value=""),b.selectedDates=[],b.latestSelectedDateObj=void 0,!0===t&&(b.currentYear=b._initialDate.getFullYear(),b.currentMonth=b._initialDate.getMonth()),!0===b.config.enableTime){var n=k(b.config);L(n.hours,n.minutes,n.seconds)}b.redraw(),e&&ve("onChange")},b.close=function(){b.isOpen=!1,b.isMobile||(void 0!==b.calendarContainer&&b.calendarContainer.classList.remove("open"),void 0!==b._input&&b._input.classList.remove("active")),ve("onClose")},b.onMouseOver=ae,b._createElement=d,b.createDay=R,b.destroy=function(){void 0!==b.config&&ve("onDestroy");for(var e=b._handlers.length;e--;)b._handlers[e].remove();if(b._handlers=[],b.mobileInput)b.mobileInput.parentNode&&b.mobileInput.parentNode.removeChild(b.mobileInput),b.mobileInput=void 0;else if(b.calendarContainer&&b.calendarContainer.parentNode)if(b.config.static&&b.calendarContainer.parentNode){var t=b.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else b.calendarContainer.parentNode.removeChild(b.calendarContainer);b.altInput&&(b.input.type="text",b.altInput.parentNode&&b.altInput.parentNode.removeChild(b.altInput),delete b.altInput),b.input&&(b.input.type=b.input._type,b.input.classList.remove("flatpickr-input"),b.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete b[e]}catch(e){}}))},b.isEnabled=ee,b.jumpToDate=q,b.updateValue=Ee,b.open=function(e,t){if(void 0===t&&(t=b._positionElement),!0===b.isMobile){if(e){e.preventDefault();var n=f(e);n&&n.blur()}return void 0!==b.mobileInput&&(b.mobileInput.focus(),b.mobileInput.click()),void ve("onOpen")}if(!b._input.disabled&&!b.config.inline){var i=b.isOpen;b.isOpen=!0,i||(b.calendarContainer.classList.add("open"),b._input.classList.add("active"),ve("onOpen"),le(t)),!0===b.config.enableTime&&!0===b.config.noCalendar&&(!1!==b.config.allowInput||void 0!==e&&b.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return b.hourElement.select()}),50))}},b.redraw=de,b.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(b.config,e),e)void 0!==me[i]&&me[i].forEach((function(e){return e()}));else b.config[e]=t,void 0!==me[e]?me[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(b.config[e]=c(t));b.redraw(),Ee(!0)},b.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=b.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return b.clear(t);fe(e,n),b.latestSelectedDateObj=b.selectedDates[b.selectedDates.length-1],b.redraw(),q(void 0,t),O(),0===b.selectedDates.length&&b.clear(!1),Ee(t),t&&ve("onChange")},b.toggle=function(e){if(!0===b.isOpen)return b.close();b.open(e)};var me={locale:[ce,G],showMonths:[U,x,W],minDate:[q],maxDate:[q],positionElement:[ge],clickOpens:[function(){!0===b.config.clickOpens?(I(b._input,"focus",b.open),I(b._input,"click",b.open)):(b._input.removeEventListener("focus",b.open),b._input.removeEventListener("click",b.open))}]};function fe(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return b.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[b.parseDate(e,t)];else if("string"==typeof e)switch(b.config.mode){case"single":case"time":n=[b.parseDate(e,t)];break;case"multiple":n=e.split(b.config.conjunction).map((function(e){return b.parseDate(e,t)}));break;case"range":n=e.split(b.l10n.rangeSeparator).map((function(e){return b.parseDate(e,t)}))}else b.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));b.selectedDates=b.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&ee(e,!1)})),"range"===b.config.mode&&b.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function he(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?b.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:b.parseDate(e.from,void 0),to:b.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function ge(){b._positionElement=b.config.positionElement||b._input}function ve(e,t){if(void 0!==b.config){var n=b.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](b.selectedDates,b.input.value,b,t);"onChange"===e&&(b.input.dispatchEvent(ye("change")),b.input.dispatchEvent(ye("input")))}}function ye(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function be(e){for(var t=0;t<b.selectedDates.length;t++){var n=b.selectedDates[t];if(n instanceof Date&&0===E(n,e))return""+t}return!1}function we(){b.config.noCalendar||b.isMobile||!b.monthNav||(b.yearElements.forEach((function(e,t){var n=new Date(b.currentYear,b.currentMonth,1);n.setMonth(b.currentMonth+t),b.config.showMonths>1||"static"===b.config.monthSelectorType?b.monthElements[t].textContent=g(n.getMonth(),b.config.shorthandCurrentMonth,b.l10n)+" ":b.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),b._hidePrevMonthArrow=void 0!==b.config.minDate&&(b.currentYear===b.config.minDate.getFullYear()?b.currentMonth<=b.config.minDate.getMonth():b.currentYear<b.config.minDate.getFullYear()),b._hideNextMonthArrow=void 0!==b.config.maxDate&&(b.currentYear===b.config.maxDate.getFullYear()?b.currentMonth+1>b.config.maxDate.getMonth():b.currentYear>b.config.maxDate.getFullYear()))}function _e(e){var t=e||(b.config.altInput?b.config.altFormat:b.config.dateFormat);return b.selectedDates.map((function(e){return b.formatDate(e,t)})).filter((function(e,t,n){return"range"!==b.config.mode||b.config.enableTime||n.indexOf(e)===t})).join("range"!==b.config.mode?b.config.conjunction:b.l10n.rangeSeparator)}function Ee(e){void 0===e&&(e=!0),void 0!==b.mobileInput&&b.mobileFormatStr&&(b.mobileInput.value=void 0!==b.latestSelectedDateObj?b.formatDate(b.latestSelectedDateObj,b.mobileFormatStr):""),b.input.value=_e(b.config.dateFormat),void 0!==b.altInput&&(b.altInput.value=_e(b.config.altFormat)),!1!==e&&ve("onValueUpdate")}function Ae(e){var t=f(e),n=b.prevMonthNav.contains(t),i=b.nextMonthNav.contains(t);n||i?K(n?-1:1):b.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?b.changeYear(b.currentYear+1):t.classList.contains("arrowDown")&&b.changeYear(b.currentYear-1)}return function(){b.element=b.input=h,b.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=e(e({},JSON.parse(JSON.stringify(h.dataset||{}))),v),r={};b.config.parseDate=a.parseDate,b.config.formatDate=a.formatDate,Object.defineProperty(b.config,"enable",{get:function(){return b.config._enable},set:function(e){b.config._enable=he(e)}}),Object.defineProperty(b.config,"disable",{get:function(){return b.config._disable},set:function(e){b.config._disable=he(e)}});var o="time"===a.mode;if(!a.dateFormat&&(a.enableTime||o)){var s=D.defaultConfig.dateFormat||i.dateFormat;r.dateFormat=a.noCalendar||o?"H:i"+(a.enableSeconds?":S":""):s+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||o)&&!a.altFormat){var l=D.defaultConfig.altFormat||i.altFormat;r.altFormat=a.noCalendar||o?"h:i"+(a.enableSeconds?":S K":" K"):l+" h:i"+(a.enableSeconds?":S":"")+" K"}Object.defineProperty(b.config,"minDate",{get:function(){return b.config._minDate},set:oe("min")}),Object.defineProperty(b.config,"maxDate",{get:function(){return b.config._maxDate},set:oe("max")});var d=function(e){return function(t){b.config["min"===e?"_minTime":"_maxTime"]=b.parseDate(t,"H:i:S")}};Object.defineProperty(b.config,"minTime",{get:function(){return b.config._minTime},set:d("min")}),Object.defineProperty(b.config,"maxTime",{get:function(){return b.config._maxTime},set:d("max")}),"time"===a.mode&&(b.config.noCalendar=!0,b.config.enableTime=!0),Object.assign(b.config,r,a);for(var u=0;u<t.length;u++)b.config[t[u]]=!0===b.config[t[u]]||"true"===b.config[t[u]];for(n.filter((function(e){return void 0!==b.config[e]})).forEach((function(e){b.config[e]=c(b.config[e]||[]).map(S)})),b.isMobile=!b.config.disableMobile&&!b.config.inline&&"single"===b.config.mode&&!b.config.disable.length&&!b.config.enable&&!b.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<b.config.plugins.length;u++){var p=b.config.plugins[u](b)||{};for(var m in p)n.indexOf(m)>-1?b.config[m]=c(p[m]).map(S).concat(b.config[m]):void 0===a[m]&&(b.config[m]=p[m])}a.altInputClass||(b.config.altInputClass=se().className+" "+b.config.altInputClass),ve("onParseConfig")}(),ce(),b.input=se(),b.input?(b.input._type=b.input.type,b.input.type="text",b.input.classList.add("flatpickr-input"),b._input=b.input,b.config.altInput&&(b.altInput=d(b.input.nodeName,b.config.altInputClass),b._input=b.altInput,b.altInput.placeholder=b.input.placeholder,b.altInput.disabled=b.input.disabled,b.altInput.required=b.input.required,b.altInput.tabIndex=b.input.tabIndex,b.altInput.type="text",b.input.setAttribute("type","hidden"),!b.config.static&&b.input.parentNode&&b.input.parentNode.insertBefore(b.altInput,b.input.nextSibling)),b.config.allowInput||b._input.setAttribute("readonly","readonly"),ge()):b.config.errorHandler(new Error("Invalid input element specified")),function(){b.selectedDates=[],b.now=b.parseDate(b.config.now)||new Date;var e=b.config.defaultDate||("INPUT"!==b.input.nodeName&&"TEXTAREA"!==b.input.nodeName||!b.input.placeholder||b.input.value!==b.input.placeholder?b.input.value:null);e&&fe(e,b.config.dateFormat),b._initialDate=b.selectedDates.length>0?b.selectedDates[0]:b.config.minDate&&b.config.minDate.getTime()>b.now.getTime()?b.config.minDate:b.config.maxDate&&b.config.maxDate.getTime()<b.now.getTime()?b.config.maxDate:b.now,b.currentYear=b._initialDate.getFullYear(),b.currentMonth=b._initialDate.getMonth(),b.selectedDates.length>0&&(b.latestSelectedDateObj=b.selectedDates[0]),void 0!==b.config.minTime&&(b.config.minTime=b.parseDate(b.config.minTime,"H:i")),void 0!==b.config.maxTime&&(b.config.maxTime=b.parseDate(b.config.maxTime,"H:i")),b.minDateHasTime=!!b.config.minDate&&(b.config.minDate.getHours()>0||b.config.minDate.getMinutes()>0||b.config.minDate.getSeconds()>0),b.maxDateHasTime=!!b.config.maxDate&&(b.config.maxDate.getHours()>0||b.config.maxDate.getMinutes()>0||b.config.maxDate.getSeconds()>0)}(),b.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=b.currentMonth),void 0===t&&(t=b.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:b.l10n.daysInMonth[e]}},b.isMobile||function(){var e=window.document.createDocumentFragment();if(b.calendarContainer=d("div","flatpickr-calendar"),b.calendarContainer.tabIndex=-1,!b.config.noCalendar){if(e.appendChild((b.monthNav=d("div","flatpickr-months"),b.yearElements=[],b.monthElements=[],b.prevMonthNav=d("span","flatpickr-prev-month"),b.prevMonthNav.innerHTML=b.config.prevArrow,b.nextMonthNav=d("span","flatpickr-next-month"),b.nextMonthNav.innerHTML=b.config.nextArrow,U(),Object.defineProperty(b,"_hidePrevMonthArrow",{get:function(){return b.__hidePrevMonthArrow},set:function(e){b.__hidePrevMonthArrow!==e&&(l(b.prevMonthNav,"flatpickr-disabled",e),b.__hidePrevMonthArrow=e)}}),Object.defineProperty(b,"_hideNextMonthArrow",{get:function(){return b.__hideNextMonthArrow},set:function(e){b.__hideNextMonthArrow!==e&&(l(b.nextMonthNav,"flatpickr-disabled",e),b.__hideNextMonthArrow=e)}}),b.currentYearElement=b.yearElements[0],we(),b.monthNav)),b.innerContainer=d("div","flatpickr-innerContainer"),b.config.weekNumbers){var t=function(){b.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",b.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;b.innerContainer.appendChild(n),b.weekNumbers=i,b.weekWrapper=n}b.rContainer=d("div","flatpickr-rContainer"),b.rContainer.appendChild(W()),b.daysContainer||(b.daysContainer=d("div","flatpickr-days"),b.daysContainer.tabIndex=-1),Q(),b.rContainer.appendChild(b.daysContainer),b.innerContainer.appendChild(b.rContainer),e.appendChild(b.innerContainer)}b.config.enableTime&&e.appendChild(function(){b.calendarContainer.classList.add("hasTime"),b.config.noCalendar&&b.calendarContainer.classList.add("noCalendar");var e=k(b.config);b.timeContainer=d("div","flatpickr-time"),b.timeContainer.tabIndex=-1;var t=d("span","flatpickr-time-separator",":"),n=m("flatpickr-hour",{"aria-label":b.l10n.hourAriaLabel});b.hourElement=n.getElementsByTagName("input")[0];var i=m("flatpickr-minute",{"aria-label":b.l10n.minuteAriaLabel});if(b.minuteElement=i.getElementsByTagName("input")[0],b.hourElement.tabIndex=b.minuteElement.tabIndex=-1,b.hourElement.value=r(b.latestSelectedDateObj?b.latestSelectedDateObj.getHours():b.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),b.minuteElement.value=r(b.latestSelectedDateObj?b.latestSelectedDateObj.getMinutes():e.minutes),b.hourElement.setAttribute("step",b.config.hourIncrement.toString()),b.minuteElement.setAttribute("step",b.config.minuteIncrement.toString()),b.hourElement.setAttribute("min",b.config.time_24hr?"0":"1"),b.hourElement.setAttribute("max",b.config.time_24hr?"23":"12"),b.hourElement.setAttribute("maxlength","2"),b.minuteElement.setAttribute("min","0"),b.minuteElement.setAttribute("max","59"),b.minuteElement.setAttribute("maxlength","2"),b.timeContainer.appendChild(n),b.timeContainer.appendChild(t),b.timeContainer.appendChild(i),b.config.time_24hr&&b.timeContainer.classList.add("time24hr"),b.config.enableSeconds){b.timeContainer.classList.add("hasSeconds");var a=m("flatpickr-second");b.secondElement=a.getElementsByTagName("input")[0],b.secondElement.value=r(b.latestSelectedDateObj?b.latestSelectedDateObj.getSeconds():e.seconds),b.secondElement.setAttribute("step",b.minuteElement.getAttribute("step")),b.secondElement.setAttribute("min","0"),b.secondElement.setAttribute("max","59"),b.secondElement.setAttribute("maxlength","2"),b.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),b.timeContainer.appendChild(a)}return b.config.time_24hr||(b.amPM=d("span","flatpickr-am-pm",b.l10n.amPM[o((b.latestSelectedDateObj?b.hourElement.value:b.config.defaultHour)>11)]),b.amPM.title=b.l10n.toggleTitle,b.amPM.tabIndex=-1,b.timeContainer.appendChild(b.amPM)),b.timeContainer}()),l(b.calendarContainer,"rangeMode","range"===b.config.mode),l(b.calendarContainer,"animate",!0===b.config.animate),l(b.calendarContainer,"multiMonth",b.config.showMonths>1),b.calendarContainer.appendChild(e);var a=void 0!==b.config.appendTo&&void 0!==b.config.appendTo.nodeType;if((b.config.inline||b.config.static)&&(b.calendarContainer.classList.add(b.config.inline?"inline":"static"),b.config.inline&&(!a&&b.element.parentNode?b.element.parentNode.insertBefore(b.calendarContainer,b._input.nextSibling):void 0!==b.config.appendTo&&b.config.appendTo.appendChild(b.calendarContainer)),b.config.static)){var s=d("div","flatpickr-wrapper");b.element.parentNode&&b.element.parentNode.insertBefore(s,b.element),s.appendChild(b.element),b.altInput&&s.appendChild(b.altInput),s.appendChild(b.calendarContainer)}b.config.static||b.config.inline||(void 0!==b.config.appendTo?b.config.appendTo:window.document.body).appendChild(b.calendarContainer)}(),function(){if(b.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(b.element.querySelectorAll("[data-"+e+"]"),(function(t){return I(t,"click",b[e])}))})),b.isMobile)!function(){var e=b.config.enableTime?b.config.noCalendar?"time":"datetime-local":"date";b.mobileInput=d("input",b.input.className+" flatpickr-mobile"),b.mobileInput.tabIndex=1,b.mobileInput.type=e,b.mobileInput.disabled=b.input.disabled,b.mobileInput.required=b.input.required,b.mobileInput.placeholder=b.input.placeholder,b.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",b.selectedDates.length>0&&(b.mobileInput.defaultValue=b.mobileInput.value=b.formatDate(b.selectedDates[0],b.mobileFormatStr)),b.config.minDate&&(b.mobileInput.min=b.formatDate(b.config.minDate,"Y-m-d")),b.config.maxDate&&(b.mobileInput.max=b.formatDate(b.config.maxDate,"Y-m-d")),b.input.getAttribute("step")&&(b.mobileInput.step=String(b.input.getAttribute("step"))),b.input.type="hidden",void 0!==b.altInput&&(b.altInput.type="hidden");try{b.input.parentNode&&b.input.parentNode.insertBefore(b.mobileInput,b.input.nextSibling)}catch(e){}I(b.mobileInput,"change",(function(e){b.setDate(f(e).value,!1,b.mobileFormatStr),ve("onChange"),ve("onClose")}))}();else{var e=s(re,50);if(b._debouncedChange=s(P,300),b.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&I(b.daysContainer,"mouseover",(function(e){"range"===b.config.mode&&ae(f(e))})),I(b._input,"keydown",ie),void 0!==b.calendarContainer&&I(b.calendarContainer,"keydown",ie),b.config.inline||b.config.static||I(window,"resize",e),void 0!==window.ontouchstart?I(window.document,"touchstart",J):I(window.document,"mousedown",J),I(window.document,"focus",J,{capture:!0}),!0===b.config.clickOpens&&(I(b._input,"focus",b.open),I(b._input,"click",b.open)),void 0!==b.daysContainer&&(I(b.monthNav,"click",Ae),I(b.monthNav,["keyup","increment"],j),I(b.daysContainer,"click",pe)),void 0!==b.timeContainer&&void 0!==b.minuteElement&&void 0!==b.hourElement){I(b.timeContainer,["increment"],M),I(b.timeContainer,"blur",M,{capture:!0}),I(b.timeContainer,"click",N),I([b.hourElement,b.minuteElement],["focus","click"],(function(e){return f(e).select()})),void 0!==b.secondElement&&I(b.secondElement,"focus",(function(){return b.secondElement&&b.secondElement.select()})),void 0!==b.amPM&&I(b.amPM,"click",(function(e){M(e)}))}b.config.allowInput&&I(b._input,"blur",ne)}}(),(b.selectedDates.length||b.config.noCalendar)&&(b.config.enableTime&&O(b.config.noCalendar?b.latestSelectedDateObj:void 0),Ee(!1)),x();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!b.isMobile&&t&&le(),ve("onReady")}(),b}function S(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],a=0;a<n.length;a++){var r=n[a];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=C(r,t||{}),i.push(r._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},a=0,r=t;a<r.length;a++){i(r[a])}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return S(this,e)},HTMLElement.prototype.flatpickr=function(e){return S([this],e)});var D=function(e,t){return"string"==typeof e?S(window.document.querySelectorAll(e),t):e instanceof Node?S([e],t):S(e,t)};return D.defaultConfig={},D.l10ns={en:e({},a),default:e({},a)},D.localize=function(t){D.l10ns.default=e(e({},D.l10ns.default),t)},D.setDefaults=function(t){D.defaultConfig=e(e({},D.defaultConfig),t)},D.parseDate=_({}),D.formatDate=w({}),D.compareDates=E,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return S(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=D),D})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).monthSelectPlugin=t()}(this,(function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},e.apply(this,arguments)};function t(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function n(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var i={shorthand:!1,dateFormat:"F Y",altFormat:"F Y",theme:"light"};return function(a){var r=e(e({},i),a);return function(e){e.config.dateFormat=r.dateFormat,e.config.altFormat=r.altFormat;var i={monthsContainer:null};function a(){if(i.monthsContainer){t(i.monthsContainer);for(var n,a,o=document.createDocumentFragment(),s=0;s<12;s++){var l=e.createDay("flatpickr-monthSelect-month",new Date(e.currentYear,s),0,s);l.dateObj.getMonth()===(new Date).getMonth()&&l.dateObj.getFullYear()===(new Date).getFullYear()&&l.classList.add("today"),l.textContent=(n=s,a=r.shorthand,e.l10n.months[a?"shorthand":"longhand"][n]),l.addEventListener("click",c),o.appendChild(l)}i.monthsContainer.appendChild(o),e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()?e.prevMonthNav.classList.add("flatpickr-disabled"):e.prevMonthNav.classList.remove("flatpickr-disabled"),e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.nextMonthNav.classList.add("flatpickr-disabled"):e.nextMonthNav.classList.remove("flatpickr-disabled")}}function o(){if(e.rContainer&&e.selectedDates.length){for(var t=e.rContainer.querySelectorAll(".flatpickr-monthSelect-month.selected"),n=0;n<t.length;n++)t[n].classList.remove("selected");var i=e.selectedDates[0].getMonth(),a=e.rContainer.querySelector(".flatpickr-monthSelect-month:nth-child("+(i+1)+")");a&&a.classList.add("selected")}}function s(){var t=e.selectedDates[0];(t&&((t=new Date(t)).setFullYear(e.currentYear),e.config.minDate&&t<e.config.minDate&&(t=e.config.minDate),e.config.maxDate&&t>e.config.maxDate&&(t=e.config.maxDate),e.currentYear=t.getFullYear()),e.currentYearElement.value=String(e.currentYear),e.rContainer)&&e.rContainer.querySelectorAll(".flatpickr-monthSelect-month").forEach((function(t){t.dateObj.setFullYear(e.currentYear),e.config.minDate&&t.dateObj<e.config.minDate||e.config.maxDate&&t.dateObj>e.config.maxDate?t.classList.add("flatpickr-disabled"):t.classList.remove("flatpickr-disabled")}));o()}function c(t){t.preventDefault(),t.stopPropagation();var i=n(t);if(i instanceof Element&&!i.classList.contains("flatpickr-disabled")&&!i.classList.contains("notAllowed")&&(l(i.dateObj),e.config.closeOnSelect)){var a="single"===e.config.mode,r="range"===e.config.mode&&2===e.selectedDates.length;(a||r)&&e.close()}}function l(t){var n=new Date(e.currentYear,t.getMonth(),t.getDate()),i=[];switch(e.config.mode){case"single":i=[n];break;case"multiple":i.push(n);break;case"range":2===e.selectedDates.length?i=[n]:(i=e.selectedDates.concat([n])).sort((function(e,t){return e.getTime()-t.getTime()}))}e.setDate(i,!0),o()}var d={37:-1,39:1,40:3,38:-3};function u(){var t;"range"===(null===(t=e.config)||void 0===t?void 0:t.mode)&&1===e.selectedDates.length&&e.clear(!1),e.selectedDates.length||a()}return{onParseConfig:function(){e.config.enableTime=!1},onValueUpdate:o,onKeyDown:function(t,n,a,r){var o=void 0!==d[r.keyCode];if((o||13===r.keyCode)&&e.rContainer&&i.monthsContainer){var s=e.rContainer.querySelector(".flatpickr-monthSelect-month.selected"),c=Array.prototype.indexOf.call(i.monthsContainer.children,document.activeElement);if(-1===c){var u=s||i.monthsContainer.firstElementChild;u.focus(),c=u.$i}o?i.monthsContainer.children[(12+c+d[r.keyCode])%12].focus():13===r.keyCode&&i.monthsContainer.contains(document.activeElement)&&l(document.activeElement.dateObj)}},onReady:[function(){r._stubbedCurrentMonth=e._initialDate.getMonth(),e._initialDate.setMonth(r._stubbedCurrentMonth),e.currentMonth=r._stubbedCurrentMonth},function(){if(e.rContainer){t(e.rContainer);for(var n=0;n<e.monthElements.length;n++){var i=e.monthElements[n];i.parentNode&&i.parentNode.removeChild(i)}}},function(){e.rContainer&&(i.monthsContainer=e._createElement("div","flatpickr-monthSelect-months"),i.monthsContainer.tabIndex=-1,a(),e.rContainer.appendChild(i.monthsContainer),e.calendarContainer.classList.add("flatpickr-monthSelect-theme-"+r.theme))},function(){e._bind(e.prevMonthNav,"click",(function(t){t.preventDefault(),t.stopPropagation(),e.changeYear(e.currentYear-1),s(),a()})),e._bind(e.nextMonthNav,"click",(function(t){t.preventDefault(),t.stopPropagation(),e.changeYear(e.currentYear+1),s(),a()})),e._bind(i.monthsContainer,"mouseover",(function(t){"range"===e.config.mode&&e.onMouseOver(n(t),"flatpickr-monthSelect-month")}))},o,function(){e.config.onClose.push(u),e.loadedPlugins.push("monthSelect")}],onDestroy:[function(){r._stubbedCurrentMonth&&(e._initialDate.setMonth(r._stubbedCurrentMonth),e.currentMonth=r._stubbedCurrentMonth,delete r._stubbedCurrentMonth)},function(){if(null!==i.monthsContainer)for(var e=i.monthsContainer.querySelectorAll(".flatpickr-monthSelect-month"),t=0;t<e.length;t++)e[t].removeEventListener("click",c)},function(){e.config.onClose=e.config.onClose.filter((function(e){return e!==u}))}]}}}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Popper={})}(this,(function(e){"use strict";function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function i(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var r=Math.max,o=Math.min,s=Math.round;function c(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),a=1,r=1;if(i(e)&&t){var o=e.offsetHeight,c=e.offsetWidth;c>0&&(a=s(n.width)/c||1),o>0&&(r=s(n.height)/o||1)}return{width:n.width/a,height:n.height/r,top:n.top/r,right:n.right/a,bottom:n.bottom/r,left:n.left/a,x:n.left/a,y:n.top/r}}function l(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function d(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return c(u(e)).left+l(e).scrollLeft}function m(e){return t(e).getComputedStyle(e)}function f(e){var t=m(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+i)}function h(e,n,a){void 0===a&&(a=!1);var r,o,m=i(n),h=i(n)&&function(e){var t=e.getBoundingClientRect(),n=s(t.width)/e.offsetWidth||1,i=s(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(n),g=u(n),v=c(e,h),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(m||!m&&!a)&&(("body"!==d(n)||f(g))&&(y=(r=n)!==t(r)&&i(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:l(r)),i(n)?((b=c(n,!0)).x+=n.clientLeft,b.y+=n.clientTop):g&&(b.x=p(g))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function g(e){var t=c(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function v(e){return"html"===d(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||u(e)}function y(e){return["html","body","#document"].indexOf(d(e))>=0?e.ownerDocument.body:i(e)&&f(e)?e:y(v(e))}function b(e,n){var i;void 0===n&&(n=[]);var a=y(e),r=a===(null==(i=e.ownerDocument)?void 0:i.body),o=t(a),s=r?[o].concat(o.visualViewport||[],f(a)?a:[]):a,c=n.concat(s);return r?c:c.concat(b(v(s)))}function w(e){return["table","td","th"].indexOf(d(e))>=0}function _(e){return i(e)&&"fixed"!==m(e).position?e.offsetParent:null}function E(e){for(var n=t(e),r=_(e);r&&w(r)&&"static"===m(r).position;)r=_(r);return r&&("html"===d(r)||"body"===d(r)&&"static"===m(r).position)?n:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&i(e)&&"fixed"===m(e).position)return null;var n=v(e);for(a(n)&&(n=n.host);i(n)&&["html","body"].indexOf(d(n))<0;){var r=m(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||n}var A="top",k="bottom",C="right",S="left",D="auto",x=[A,k,C,S],M="start",T="end",O="viewport",L="popper",j=x.reduce((function(e,t){return e.concat([t+"-"+M,t+"-"+T])}),[]),I=[].concat(x,[D]).reduce((function(e,t){return e.concat([t,t+"-"+M,t+"-"+T])}),[]),P=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function q(e){var t=new Map,n=new Set,i=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&a(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),i}function N(e){return e.split("-")[0]}function F(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function R(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function H(e,i){return i===O?R(function(e){var n=t(e),i=u(e),a=n.visualViewport,r=i.clientWidth,o=i.clientHeight,s=0,c=0;return a&&(r=a.width,o=a.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=a.offsetLeft,c=a.offsetTop)),{width:r,height:o,x:s+p(e),y:c}}(e)):n(i)?function(e){var t=c(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(i):R(function(e){var t,n=u(e),i=l(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=r(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=r(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-i.scrollLeft+p(e),d=-i.scrollTop;return"rtl"===m(a||n).direction&&(c+=r(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:c,y:d}}(u(e)))}function z(e,t,a){var s="clippingParents"===t?function(e){var t=b(v(e)),a=["absolute","fixed"].indexOf(m(e).position)>=0&&i(e)?E(e):e;return n(a)?t.filter((function(e){return n(e)&&F(e,a)&&"body"!==d(e)})):[]}(e):[].concat(t),c=[].concat(s,[a]),l=c[0],u=c.reduce((function(t,n){var i=H(e,n);return t.top=r(i.top,t.top),t.right=o(i.right,t.right),t.bottom=o(i.bottom,t.bottom),t.left=r(i.left,t.left),t}),H(e,l));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function $(e){return e.split("-")[1]}function B(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Q(e){var t,n=e.reference,i=e.element,a=e.placement,r=a?N(a):null,o=a?$(a):null,s=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(r){case A:t={x:s,y:n.y-i.height};break;case k:t={x:s,y:n.y+n.height};break;case C:t={x:n.x+n.width,y:c};break;case S:t={x:n.x-i.width,y:c};break;default:t={x:n.x,y:n.y}}var l=r?B(r):null;if(null!=l){var d="y"===l?"height":"width";switch(o){case M:t[l]=t[l]-(n[d]/2-i[d]/2);break;case T:t[l]=t[l]+(n[d]/2-i[d]/2)}}return t}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function V(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function U(e,t){void 0===t&&(t={});var i=t,a=i.placement,r=void 0===a?e.placement:a,o=i.boundary,s=void 0===o?"clippingParents":o,l=i.rootBoundary,d=void 0===l?O:l,p=i.elementContext,m=void 0===p?L:p,f=i.altBoundary,h=void 0!==f&&f,g=i.padding,v=void 0===g?0:g,y=Y("number"!=typeof v?v:V(v,x)),b=m===L?"reference":L,w=e.rects.popper,_=e.elements[h?b:m],E=z(n(_)?_:_.contextElement||u(e.elements.popper),s,d),S=c(e.elements.reference),D=Q({reference:S,element:w,strategy:"absolute",placement:r}),M=R(Object.assign({},w,D)),T=m===L?M:S,j={top:E.top-T.top+y.top,bottom:T.bottom-E.bottom+y.bottom,left:E.left-T.left+y.left,right:T.right-E.right+y.right},I=e.modifiersData.offset;if(m===L&&I){var P=I[r];Object.keys(j).forEach((function(e){var t=[C,k].indexOf(e)>=0?1:-1,n=[A,k].indexOf(e)>=0?"y":"x";j[e]+=P[n]*t}))}return j}var W={placement:"bottom",modifiers:[],strategy:"absolute"};function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function K(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,a=void 0===i?[]:i,r=t.defaultOptions,o=void 0===r?W:r;return function(e,t,i){void 0===i&&(i=o);var r,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},W,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],d=!1,u={state:c,setOptions:function(i){var r="function"==typeof i?i(c.options):i;p(),c.options=Object.assign({},o,c.options,r),c.scrollParents={reference:n(e)?b(e):e.contextElement?b(e.contextElement):[],popper:b(t)};var s,d,m=function(e){var t=q(e);return P.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(a,c.options.modifiers),d=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return c.orderedModifiers=m.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var r=a({state:c,name:t,instance:u,options:i});l.push(r||function(){})}})),u.update()},forceUpdate:function(){if(!d){var e=c.elements,t=e.reference,n=e.popper;if(G(t,n)){c.rects={reference:h(t,E(n),"fixed"===c.options.strategy),popper:g(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<c.orderedModifiers.length;i++)if(!0!==c.reset){var a=c.orderedModifiers[i],r=a.fn,o=a.options,s=void 0===o?{}:o,l=a.name;"function"==typeof r&&(c=r({state:c,options:s,name:l,instance:u})||c)}else c.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(c)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){p(),d=!0}};if(!G(e,t))return u;function p(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(i).then((function(e){!d&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var X={passive:!0},J={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var n=e.state,i=e.instance,a=e.options,r=a.scroll,o=void 0===r||r,s=a.resize,c=void 0===s||s,l=t(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&d.forEach((function(e){e.addEventListener("scroll",i.update,X)})),c&&l.addEventListener("resize",i.update,X),function(){o&&d.forEach((function(e){e.removeEventListener("scroll",i.update,X)})),c&&l.removeEventListener("resize",i.update,X)}},data:{}},Z={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function te(e){var n,i=e.popper,a=e.popperRect,r=e.placement,o=e.variation,c=e.offsets,l=e.position,d=e.gpuAcceleration,p=e.adaptive,f=e.roundOffsets,h=e.isFixed,g=c.x,v=void 0===g?0:g,y=c.y,b=void 0===y?0:y,w="function"==typeof f?f({x:v,y:b}):{x:v,y:b};v=w.x,b=w.y;var _=c.hasOwnProperty("x"),D=c.hasOwnProperty("y"),x=S,M=A,O=window;if(p){var L=E(i),j="clientHeight",I="clientWidth";L===t(i)&&"static"!==m(L=u(i)).position&&"absolute"===l&&(j="scrollHeight",I="scrollWidth"),(r===A||(r===S||r===C)&&o===T)&&(M=k,b-=(h&&L===O&&O.visualViewport?O.visualViewport.height:L[j])-a.height,b*=d?1:-1),r!==S&&(r!==A&&r!==k||o!==T)||(x=C,v-=(h&&L===O&&O.visualViewport?O.visualViewport.width:L[I])-a.width,v*=d?1:-1)}var P,q=Object.assign({position:l},p&&ee),N=!0===f?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:s(t*i)/i||0,y:s(n*i)/i||0}}({x:v,y:b}):{x:v,y:b};return v=N.x,b=N.y,d?Object.assign({},q,((P={})[M]=D?"0":"",P[x]=_?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",P)):Object.assign({},q,((n={})[M]=D?b+"px":"",n[x]=_?v+"px":"",n.transform="",n))}var ne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,a=void 0===i||i,r=n.adaptive,o=void 0===r||r,s=n.roundOffsets,c=void 0===s||s,l={placement:N(t.placement),variation:$(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,te(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,te(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},ie={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},r=t.elements[e];i(r)&&d(r)&&(Object.assign(r.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});i(a)&&d(a)&&(Object.assign(a.style,o),Object.keys(r).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]},ae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,a=n.offset,r=void 0===a?[0,0]:a,o=I.reduce((function(e,n){return e[n]=function(e,t,n){var i=N(e),a=[S,A].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=r[0],s=r[1];return o=o||0,s=(s||0)*a,[S,C].indexOf(i)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,r),e}),{}),s=o[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[i]=o}},re={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return re[e]}))}var se={start:"end",end:"start"};function ce(e){return e.replace(/start|end/g,(function(e){return se[e]}))}function le(e,t){void 0===t&&(t={});var n=t,i=n.placement,a=n.boundary,r=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?I:c,d=$(i),u=d?s?j:j.filter((function(e){return $(e)===d})):x,p=u.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=u);var m=p.reduce((function(t,n){return t[n]=U(e,{placement:n,boundary:a,rootBoundary:r,padding:o})[N(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}var de={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var a=n.mainAxis,r=void 0===a||a,o=n.altAxis,s=void 0===o||o,c=n.fallbackPlacements,l=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,f=void 0===m||m,h=n.allowedAutoPlacements,g=t.options.placement,v=N(g),y=c||(v!==g&&f?function(e){if(N(e)===D)return[];var t=oe(e);return[ce(e),t,ce(t)]}(g):[oe(g)]),b=[g].concat(y).reduce((function(e,n){return e.concat(N(n)===D?le(t,{placement:n,boundary:d,rootBoundary:u,padding:l,flipVariations:f,allowedAutoPlacements:h}):n)}),[]),w=t.rects.reference,_=t.rects.popper,E=new Map,x=!0,T=b[0],O=0;O<b.length;O++){var L=b[O],j=N(L),I=$(L)===M,P=[A,k].indexOf(j)>=0,q=P?"width":"height",F=U(t,{placement:L,boundary:d,rootBoundary:u,altBoundary:p,padding:l}),R=P?I?C:S:I?k:A;w[q]>_[q]&&(R=oe(R));var H=oe(R),z=[];if(r&&z.push(F[j]<=0),s&&z.push(F[R]<=0,F[H]<=0),z.every((function(e){return e}))){T=L,x=!1;break}E.set(L,z)}if(x)for(var B=function(e){var t=b.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},Q=f?3:1;Q>0&&"break"!==B(Q);Q--);t.placement!==T&&(t.modifiersData[i]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ue(e,t,n){return r(e,o(t,n))}var pe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,a=n.mainAxis,s=void 0===a||a,c=n.altAxis,l=void 0!==c&&c,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,m=n.padding,f=n.tether,h=void 0===f||f,v=n.tetherOffset,y=void 0===v?0:v,b=U(t,{boundary:d,rootBoundary:u,padding:m,altBoundary:p}),w=N(t.placement),_=$(t.placement),D=!_,x=B(w),T="x"===x?"y":"x",O=t.modifiersData.popperOffsets,L=t.rects.reference,j=t.rects.popper,I="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,P="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(O){if(s){var R,H="y"===x?A:S,z="y"===x?k:C,Q="y"===x?"height":"width",Y=O[x],V=Y+b[H],W=Y-b[z],G=h?-j[Q]/2:0,K=_===M?L[Q]:j[Q],X=_===M?-j[Q]:-L[Q],J=t.elements.arrow,Z=h&&J?g(J):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[H],ne=ee[z],ie=ue(0,L[Q],Z[Q]),ae=D?L[Q]/2-G-ie-te-P.mainAxis:K-ie-te-P.mainAxis,re=D?-L[Q]/2+G+ie+ne+P.mainAxis:X+ie+ne+P.mainAxis,oe=t.elements.arrow&&E(t.elements.arrow),se=oe?"y"===x?oe.clientTop||0:oe.clientLeft||0:0,ce=null!=(R=null==q?void 0:q[x])?R:0,le=Y+re-ce,de=ue(h?o(V,Y+ae-ce-se):V,Y,h?r(W,le):W);O[x]=de,F[x]=de-Y}if(l){var pe,me="x"===x?A:S,fe="x"===x?k:C,he=O[T],ge="y"===T?"height":"width",ve=he+b[me],ye=he-b[fe],be=-1!==[A,S].indexOf(w),we=null!=(pe=null==q?void 0:q[T])?pe:0,_e=be?ve:he-L[ge]-j[ge]-we+P.altAxis,Ee=be?he+L[ge]+j[ge]-we-P.altAxis:ye,Ae=h&&be?function(e,t,n){var i=ue(e,t,n);return i>n?n:i}(_e,he,Ee):ue(h?_e:ve,he,h?Ee:ye);O[T]=Ae,F[T]=Ae-he}t.modifiersData[i]=F}},requiresIfExists:["offset"]},me={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,a=e.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,s=N(n.placement),c=B(s),l=[S,C].indexOf(s)>=0?"height":"width";if(r&&o){var d=function(e,t){return Y("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:V(e,x))}(a.padding,n),u=g(r),p="y"===c?A:S,m="y"===c?k:C,f=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],h=o[c]-n.rects.reference[c],v=E(r),y=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,b=f/2-h/2,w=d[p],_=y-u[l]-d[m],D=y/2-u[l]/2+b,M=ue(w,D,_),T=c;n.modifiersData[i]=((t={})[T]=M,t.centerOffset=M-D,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&F(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[A,C,k,S].some((function(t){return e[t]>=0}))}var ge={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,a=t.rects.popper,r=t.modifiersData.preventOverflow,o=U(t,{elementContext:"reference"}),s=U(t,{altBoundary:!0}),c=fe(o,i),l=fe(s,a,r),d=he(c),u=he(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},ve=K({defaultModifiers:[J,Z,ne,ie]}),ye=[J,Z,ne,ie,ae,de,pe,me,ge],be=K({defaultModifiers:ye});e.applyStyles=ie,e.arrow=me,e.computeStyles=ne,e.createPopper=be,e.createPopperLite=ve,e.defaultModifiers=ye,e.detectOverflow=U,e.eventListeners=J,e.flip=de,e.hide=ge,e.offset=ae,e.popperGenerator=K,e.popperOffsets=Z,e.preventOverflow=pe,Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(e=e||self).tippy=t(e.Popper)}(this,(function(e){"use strict";var t="undefined"!=typeof window&&"undefined"!=typeof document,n=!!t&&!!window.msCrypto,i={passive:!0,capture:!0},a=function(){return document.body};function r(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function o(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function s(e,t){return"function"==typeof e?e.apply(void 0,t):e}function c(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function l(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function d(e){return[].concat(e)}function u(e,t){-1===e.indexOf(t)&&e.push(t)}function p(e){return e.split("-")[0]}function m(e){return[].slice.call(e)}function f(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function h(){return document.createElement("div")}function g(e){return["Element","Fragment"].some((function(t){return o(e,t)}))}function v(e){return o(e,"MouseEvent")}function y(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function b(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function w(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function _(e){var t,n=d(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function E(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}function A(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var k={isTouch:!1},C=0;function S(){k.isTouch||(k.isTouch=!0,window.performance&&document.addEventListener("mousemove",D))}function D(){var e=performance.now();e-C<20&&(k.isTouch=!1,document.removeEventListener("mousemove",D)),C=e}function x(){var e=document.activeElement;if(y(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var M=Object.assign({appendTo:a,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),T=Object.keys(M);function O(e){var t=(e.plugins||[]).reduce((function(t,n){var i,a=n.name,r=n.defaultValue;return a&&(t[a]=void 0!==e[a]?e[a]:null!=(i=M[a])?i:r),t}),{});return Object.assign({},e,t)}function L(e,t){var n=Object.assign({},t,{content:s(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(O(Object.assign({},M,{plugins:t}))):T).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},M.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function j(e,t){e.innerHTML=t}function I(e){var t=h();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",g(e)?t.appendChild(e):j(t,e)),t}function P(e,t){g(t.content)?(j(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?j(e,t.content):e.textContent=t.content)}function q(e){var t=e.firstElementChild,n=m(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function N(e){var t=h(),n=h();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=h();function a(n,i){var a=q(t),r=a.box,o=a.content,s=a.arrow;i.theme?r.setAttribute("data-theme",i.theme):r.removeAttribute("data-theme"),"string"==typeof i.animation?r.setAttribute("data-animation",i.animation):r.removeAttribute("data-animation"),i.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?r.setAttribute("role",i.role):r.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||P(o,e.props),i.arrow?s?n.arrow!==i.arrow&&(r.removeChild(s),r.appendChild(I(i.arrow))):r.appendChild(I(i.arrow)):s&&r.removeChild(s)}return i.className="tippy-content",i.setAttribute("data-state","hidden"),P(i,e.props),t.appendChild(n),n.appendChild(i),a(e.props,e.props),{popper:t,onUpdate:a}}N.$$tippy=!0;var F=1,R=[],H=[];function z(t,o){var l,g,y,C,S,D,x,T,j=L(t,Object.assign({},M,O(f(o)))),I=!1,P=!1,N=!1,z=!1,$=[],B=c(we,j.interactiveDebounce),Q=F++,Y=(T=j.plugins).filter((function(e,t){return T.indexOf(e)===t})),V={id:Q,reference:t,popper:h(),popperInstance:null,props:j,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Y,clearDelayTimeouts:function(){clearTimeout(l),clearTimeout(g),cancelAnimationFrame(y)},setProps:function(e){if(!V.state.isDestroyed){oe("onBeforeUpdate",[V,e]),ye();var n=V.props,i=L(t,Object.assign({},n,f(e),{ignoreAttributes:!0}));V.props=i,ve(),n.interactiveDebounce!==i.interactiveDebounce&&(le(),B=c(we,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?d(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&t.removeAttribute("aria-expanded"),ce(),re(),G&&G(n,i),V.popperInstance&&(ke(),Se().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),oe("onAfterUpdate",[V,e])}},setContent:function(e){V.setProps({content:e})},show:function(){var e=V.state.isVisible,t=V.state.isDestroyed,n=!V.state.isEnabled,i=k.isTouch&&!V.props.touch,o=r(V.props.duration,0,M.duration);if(!(e||t||n||i||te().hasAttribute("disabled")||(oe("onShow",[V],!1),!1===V.props.onShow(V)))){if(V.state.isVisible=!0,ee()&&(W.style.visibility="visible"),re(),me(),V.state.isMounted||(W.style.transition="none"),ee()){var c=ie();b([c.box,c.content],0)}D=function(){var e;if(V.state.isVisible&&!z){if(z=!0,W.offsetHeight,W.style.transition=V.props.moveTransition,ee()&&V.props.animation){var t=ie(),n=t.box,i=t.content;b([n,i],o),w([n,i],"visible")}se(),ce(),u(H,V),null==(e=V.popperInstance)||e.forceUpdate(),oe("onMount",[V]),V.props.animation&&ee()&&function(e){he(e,(function(){V.state.isShown=!0,oe("onShown",[V])}))}(o)}},function(){var e,t=V.props.appendTo,n=te();(e=V.props.interactive&&t===a||"parent"===t?n.parentNode:s(t,[n])).contains(W)||e.appendChild(W),V.state.isMounted=!0,ke()}()}},hide:function(){var e=!V.state.isVisible,t=V.state.isDestroyed,n=!V.state.isEnabled,i=r(V.props.duration,1,M.duration);if(!(e||t||n)&&(oe("onHide",[V],!1),!1!==V.props.onHide(V))){if(V.state.isVisible=!1,V.state.isShown=!1,z=!1,I=!1,ee()&&(W.style.visibility="hidden"),le(),fe(),re(!0),ee()){var a=ie(),o=a.box,s=a.content;V.props.animation&&(b([o,s],i),w([o,s],"hidden"))}se(),ce(),V.props.animation?ee()&&function(e,t){he(e,(function(){!V.state.isVisible&&W.parentNode&&W.parentNode.contains(W)&&t()}))}(i,V.unmount):V.unmount()}},hideWithInteractivity:function(e){ne().addEventListener("mousemove",B),u(R,B),B(e)},enable:function(){V.state.isEnabled=!0},disable:function(){V.hide(),V.state.isEnabled=!1},unmount:function(){V.state.isVisible&&V.hide(),V.state.isMounted&&(Ce(),Se().forEach((function(e){e._tippy.unmount()})),W.parentNode&&W.parentNode.removeChild(W),H=H.filter((function(e){return e!==V})),V.state.isMounted=!1,oe("onHidden",[V]))},destroy:function(){V.state.isDestroyed||(V.clearDelayTimeouts(),V.unmount(),ye(),delete t._tippy,V.state.isDestroyed=!0,oe("onDestroy",[V]))}};if(!j.render)return V;var U=j.render(V),W=U.popper,G=U.onUpdate;W.setAttribute("data-tippy-root",""),W.id="tippy-"+V.id,V.popper=W,t._tippy=V,W._tippy=V;var K=Y.map((function(e){return e.fn(V)})),X=t.hasAttribute("aria-expanded");return ve(),ce(),re(),oe("onCreate",[V]),j.showOnCreate&&De(),W.addEventListener("mouseenter",(function(){V.props.interactive&&V.state.isVisible&&V.clearDelayTimeouts()})),W.addEventListener("mouseleave",(function(){V.props.interactive&&V.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",B)})),V;function J(){var e=V.props.touch;return Array.isArray(e)?e:[e,0]}function Z(){return"hold"===J()[0]}function ee(){var e;return!(null==(e=V.props.render)||!e.$$tippy)}function te(){return x||t}function ne(){var e=te().parentNode;return e?_(e):document}function ie(){return q(W)}function ae(e){return V.state.isMounted&&!V.state.isVisible||k.isTouch||C&&"focus"===C.type?0:r(V.props.delay,e?0:1,M.delay)}function re(e){void 0===e&&(e=!1),W.style.pointerEvents=V.props.interactive&&!e?"":"none",W.style.zIndex=""+V.props.zIndex}function oe(e,t,n){var i;void 0===n&&(n=!0),K.forEach((function(n){n[e]&&n[e].apply(n,t)})),n&&(i=V.props)[e].apply(i,t)}function se(){var e=V.props.aria;if(e.content){var n="aria-"+e.content,i=W.id;d(V.props.triggerTarget||t).forEach((function(e){var t=e.getAttribute(n);if(V.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var a=t&&t.replace(i,"").trim();a?e.setAttribute(n,a):e.removeAttribute(n)}}))}}function ce(){!X&&V.props.aria.expanded&&d(V.props.triggerTarget||t).forEach((function(e){V.props.interactive?e.setAttribute("aria-expanded",V.state.isVisible&&e===te()?"true":"false"):e.removeAttribute("aria-expanded")}))}function le(){ne().removeEventListener("mousemove",B),R=R.filter((function(e){return e!==B}))}function de(e){if(!k.isTouch||!N&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!V.props.interactive||!A(W,n)){if(d(V.props.triggerTarget||t).some((function(e){return A(e,n)}))){if(k.isTouch)return;if(V.state.isVisible&&V.props.trigger.indexOf("click")>=0)return}else oe("onClickOutside",[V,e]);!0===V.props.hideOnClick&&(V.clearDelayTimeouts(),V.hide(),P=!0,setTimeout((function(){P=!1})),V.state.isMounted||fe())}}}function ue(){N=!0}function pe(){N=!1}function me(){var e=ne();e.addEventListener("mousedown",de,!0),e.addEventListener("touchend",de,i),e.addEventListener("touchstart",pe,i),e.addEventListener("touchmove",ue,i)}function fe(){var e=ne();e.removeEventListener("mousedown",de,!0),e.removeEventListener("touchend",de,i),e.removeEventListener("touchstart",pe,i),e.removeEventListener("touchmove",ue,i)}function he(e,t){var n=ie().box;function i(e){e.target===n&&(E(n,"remove",i),t())}if(0===e)return t();E(n,"remove",S),E(n,"add",i),S=i}function ge(e,n,i){void 0===i&&(i=!1),d(V.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,i),$.push({node:t,eventType:e,handler:n,options:i})}))}function ve(){var e;Z()&&(ge("touchstart",be,{passive:!0}),ge("touchend",_e,{passive:!0})),(e=V.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(ge(e,be),e){case"mouseenter":ge("mouseleave",_e);break;case"focus":ge(n?"focusout":"blur",Ee);break;case"focusin":ge("focusout",Ee)}}))}function ye(){$.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,a=e.options;t.removeEventListener(n,i,a)})),$=[]}function be(e){var t,n=!1;if(V.state.isEnabled&&!Ae(e)&&!P){var i="focus"===(null==(t=C)?void 0:t.type);C=e,x=e.currentTarget,ce(),!V.state.isVisible&&v(e)&&R.forEach((function(t){return t(e)})),"click"===e.type&&(V.props.trigger.indexOf("mouseenter")<0||I)&&!1!==V.props.hideOnClick&&V.state.isVisible?n=!0:De(e),"click"===e.type&&(I=!n),n&&!i&&xe(e)}}function we(e){var t=e.target,n=te().contains(t)||W.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,a=e.popperState,r=e.props.interactiveBorder,o=p(a.placement),s=a.modifiersData.offset;if(!s)return!0;var c="bottom"===o?s.top.y:0,l="top"===o?s.bottom.y:0,d="right"===o?s.left.x:0,u="left"===o?s.right.x:0,m=t.top-i+c>r,f=i-t.bottom-l>r,h=t.left-n+d>r,g=n-t.right-u>r;return m||f||h||g}))}(Se().concat(W).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:j}:null})).filter(Boolean),e)&&(le(),xe(e))}function _e(e){Ae(e)||V.props.trigger.indexOf("click")>=0&&I||(V.props.interactive?V.hideWithInteractivity(e):xe(e))}function Ee(e){V.props.trigger.indexOf("focusin")<0&&e.target!==te()||V.props.interactive&&e.relatedTarget&&W.contains(e.relatedTarget)||xe(e)}function Ae(e){return!!k.isTouch&&Z()!==e.type.indexOf("touch")>=0}function ke(){Ce();var n=V.props,i=n.popperOptions,a=n.placement,r=n.offset,o=n.getReferenceClientRect,s=n.moveTransition,c=ee()?q(W).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||te()}:t,d=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(ee()){var n=ie().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];ee()&&c&&d.push({name:"arrow",options:{element:c,padding:3}}),d.push.apply(d,(null==i?void 0:i.modifiers)||[]),V.popperInstance=e.createPopper(l,W,Object.assign({},i,{placement:a,onFirstUpdate:D,modifiers:d}))}function Ce(){V.popperInstance&&(V.popperInstance.destroy(),V.popperInstance=null)}function Se(){return m(W.querySelectorAll("[data-tippy-root]"))}function De(e){V.clearDelayTimeouts(),e&&oe("onTrigger",[V,e]),me();var t=ae(!0),n=J(),i=n[0],a=n[1];k.isTouch&&"hold"===i&&a&&(t=a),t?l=setTimeout((function(){V.show()}),t):V.show()}function xe(e){if(V.clearDelayTimeouts(),oe("onUntrigger",[V,e]),V.state.isVisible){if(!(V.props.trigger.indexOf("mouseenter")>=0&&V.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&I)){var t=ae(!1);t?g=setTimeout((function(){V.state.isVisible&&V.hide()}),t):y=requestAnimationFrame((function(){V.hide()}))}}else fe()}}function $(e,t){void 0===t&&(t={});var n=M.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",S,i),window.addEventListener("blur",x);var a=Object.assign({},t,{plugins:n}),r=function(e){return g(e)?[e]:function(e){return o(e,"NodeList")}(e)?m(e):Array.isArray(e)?e:m(document.querySelectorAll(e))}(e).reduce((function(e,t){var n=t&&z(t,a);return n&&e.push(n),e}),[]);return g(e)?r[0]:r}$.defaultProps=M,$.setDefaultProps=function(e){Object.keys(e).forEach((function(t){M[t]=e[t]}))},$.currentInput=k;var B=Object.assign({},e.applyStyles,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),Q={mouseover:"mouseenter",focusin:"focus",click:"click"},Y={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return{};var n=q(e.popper),i=n.box,a=n.content,r=e.props.animateFill?function(){var e=h();return e.className="tippy-backdrop",w([e],"hidden"),e}():null;return{onCreate:function(){r&&(i.insertBefore(r,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(r){var e=i.style.transitionDuration,t=Number(e.replace("ms",""));a.style.transitionDelay=Math.round(t/10)+"ms",r.style.transitionDuration=e,w([r],"visible")}},onShow:function(){r&&(r.style.transitionDuration="0ms")},onHide:function(){r&&w([r],"hidden")}}}},V={clientX:0,clientY:0},U=[];function W(e){var t=e.clientX,n=e.clientY;V={clientX:t,clientY:n}}var G={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=_(e.props.triggerTarget||t),i=!1,a=!1,r=!0,o=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function c(){n.addEventListener("mousemove",u)}function l(){n.removeEventListener("mousemove",u)}function d(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function u(n){var i=!n.target||t.contains(n.target),a=e.props.followCursor,r=n.clientX,o=n.clientY,s=t.getBoundingClientRect(),c=r-s.left,l=o-s.top;!i&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=r,i=o;"initial"===a&&(n=e.left+c,i=e.top+l);var s="horizontal"===a?e.top:i,d="vertical"===a?e.right:n,u="horizontal"===a?e.bottom:i,p="vertical"===a?e.left:n;return{width:d-p,height:u-s,top:s,right:d,bottom:u,left:p}}})}function p(){e.props.followCursor&&(U.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",W)}(n))}function m(){0===(U=U.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",W)}(n)}return{onCreate:p,onDestroy:m,onBeforeUpdate:function(){o=e.props},onAfterUpdate:function(t,n){var r=n.followCursor;i||void 0!==r&&o.followCursor!==r&&(m(),r?(p(),!e.state.isMounted||a||s()||c()):(l(),d()))},onMount:function(){e.props.followCursor&&!a&&(r&&(u(V),r=!1),s()||c())},onTrigger:function(e,t){v(t)&&(V={clientX:t.clientX,clientY:t.clientY}),a="focus"===t.type},onHidden:function(){e.props.followCursor&&(d(),l(),r=!0)}}}},K={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,n=e.reference,i=-1,a=!1,r=[],o={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(a){var o=a.state;e.props.inlinePositioning&&(-1!==r.indexOf(o.placement)&&(r=[]),t!==o.placement&&-1===r.indexOf(o.placement)&&(r.push(o.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,n,i){if(n.length<2||null===e)return t;if(2===n.length&&i>=0&&n[0].left>n[1].right)return n[i]||t;switch(e){case"top":case"bottom":var a=n[0],r=n[n.length-1],o="top"===e,s=a.top,c=r.bottom,l=o?a.left:r.left,d=o?a.right:r.right;return{top:s,bottom:c,left:l,right:d,width:d-l,height:c-s};case"left":case"right":var u=Math.min.apply(Math,n.map((function(e){return e.left}))),p=Math.max.apply(Math,n.map((function(e){return e.right}))),m=n.filter((function(t){return"left"===e?t.left===u:t.right===p})),f=m[0].top,h=m[m.length-1].bottom;return{top:f,bottom:h,left:u,right:p,width:p-u,height:h-f};default:return t}}(p(e),n.getBoundingClientRect(),m(n.getClientRects()),i)}(o.placement)}})),t=o.placement)}};function s(){var t;a||(t=function(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,o),a=!0,e.setProps(t),a=!1)}return{onCreate:s,onAfterUpdate:s,onTrigger:function(t,n){if(v(n)){var a=m(e.reference.getClientRects()),r=a.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),o=a.indexOf(r);i=o>-1?o:i}},onHidden:function(){i=-1}}}},X={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function i(t){return!0===e.props.sticky||e.props.sticky===t}var a=null,r=null;function o(){var s=i("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,c=i("popper")?n.getBoundingClientRect():null;(s&&J(a,s)||c&&J(r,c))&&e.popperInstance&&e.popperInstance.update(),a=s,r=c,e.state.isMounted&&requestAnimationFrame(o)}return{onMount:function(){e.props.sticky&&o()}}}};function J(e,t){return!e||!t||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left}return t&&function(){var e=document.createElement("style");e.textContent='.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}',e.setAttribute("data-tippy-stylesheet","");var t=document.head,n=document.querySelector("head>style,head>link");n?t.insertBefore(e,n):t.appendChild(e)}(),$.setDefaultProps({plugins:[Y,G,K,X],render:N}),$.createSingleton=function(e,t){var n;void 0===t&&(t={});var i,a=e,r=[],o=[],s=t.overrides,c=[],u=!1;function p(){o=a.map((function(e){return d(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function m(){r=a.map((function(e){return e.reference}))}function f(e){a.forEach((function(t){e?t.enable():t.disable()}))}function g(e){return a.map((function(t){var n=t.setProps;return t.setProps=function(a){n(a),t.reference===i&&e.setProps(a)},function(){t.setProps=n}}))}function v(e,t){var n=o.indexOf(t);if(t!==i){i=t;var c=(s||[]).concat("content").reduce((function(e,t){return e[t]=a[n].props[t],e}),{});e.setProps(Object.assign({},c,{getReferenceClientRect:"function"==typeof c.getReferenceClientRect?c.getReferenceClientRect:function(){var e;return null==(e=r[n])?void 0:e.getBoundingClientRect()}}))}}f(!1),m(),p();var y={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){i=null},onClickOutside:function(e){e.props.showOnCreate&&!u&&(u=!0,i=null)},onShow:function(e){e.props.showOnCreate&&!u&&(u=!0,v(e,r[0]))},onTrigger:function(e,t){v(e,t.currentTarget)}}}},b=$(h(),Object.assign({},l(t,["overrides"]),{plugins:[y].concat(t.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[B])})})),w=b.show;b.show=function(e){if(w(),!i&&null==e)return v(b,r[0]);if(!i||null!=e){if("number"==typeof e)return r[e]&&v(b,r[e]);if(a.indexOf(e)>=0){var t=e.reference;return v(b,t)}return r.indexOf(e)>=0?v(b,e):void 0}},b.showNext=function(){var e=r[0];if(!i)return b.show(0);var t=r.indexOf(i);b.show(r[t+1]||e)},b.showPrevious=function(){var e=r[r.length-1];if(!i)return b.show(e);var t=r.indexOf(i),n=r[t-1]||e;b.show(n)};var _=b.setProps;return b.setProps=function(e){s=e.overrides||s,_(e)},b.setInstances=function(e){f(!0),c.forEach((function(e){return e()})),a=e,f(!1),m(),p(),c=g(b),b.setProps({triggerTarget:o})},c=g(b),b},$.delegate=function(e,t){var n=[],a=[],r=!1,o=t.target,s=l(t,["target"]),c=Object.assign({},s,{trigger:"manual",touch:!1}),u=Object.assign({touch:M.touch},s,{showOnCreate:!0}),p=$(e,c);function m(e){if(e.target&&!r){var n=e.target.closest(o);if(n){var i=n.getAttribute("data-tippy-trigger")||t.trigger||M.trigger;if(!n._tippy&&!("touchstart"===e.type&&"boolean"==typeof u.touch||"touchstart"!==e.type&&i.indexOf(Q[e.type])<0)){var s=$(n,u);s&&(a=a.concat(s))}}}}function f(e,t,i,a){void 0===a&&(a=!1),e.addEventListener(t,i,a),n.push({node:e,eventType:t,handler:i,options:a})}return d(p).forEach((function(e){var t=e.destroy,o=e.enable,s=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&a.forEach((function(e){e.destroy()})),a=[],n.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,a=e.options;t.removeEventListener(n,i,a)})),n=[],t()},e.enable=function(){o(),a.forEach((function(e){return e.enable()})),r=!1},e.disable=function(){s(),a.forEach((function(e){return e.disable()})),r=!0},function(e){var t=e.reference;f(t,"touchstart",m,i),f(t,"mouseover",m),f(t,"focusin",m),f(t,"click",m)}(e)})),p},$.hideAll=function(e){var t=void 0===e?{}:e,n=t.exclude,i=t.duration;H.forEach((function(e){var t=!1;if(n&&(t=y(n)?e.reference===n:e.popper===n.popper),!t){var a=e.props.duration;e.setProps({duration:i}),e.hide(),e.state.isDestroyed||e.setProps({duration:a})}}))},$.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',$})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):e.EM_Selectize=t(e.jQuery)}(this,(function(e){"use strict";var t=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var a=e.data.search(n);if(a>=0&&e.data.length>0){var r=e.data.match(n),o=document.createElement("span");o.className="highlight";var s=e.splitText(a),c=(s.splitText(r[0].length),s.cloneNode(!0));o.appendChild(c),s.parentNode.replaceChild(o,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=i(e.childNodes[l]);return t};return e.each((function(){i(this)}))}};e.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()})).end()};var n=function(){};n.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){const t=this._events=this._events||{};if(e in t!=!1)for(var n=0;n<t[e].length;n++)t[e][n].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=n.prototype[t[i]]};var i={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var t,n,i,r=this,o=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},a.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?o.push(e[t]):(r.plugins.settings[e[t].name]=e[t].options,o.push(e[t].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(r.plugins.settings[i]=e[i],o.push(i));for(;o.length;)r.require(o.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,a=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=a.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},a={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},r=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};r.prototype.tokenize=function(e,t){if(!(e=l(String(e||"").toLowerCase()))||!e.length)return[];var n,i,a,r,o=[],s=e.split(/ +/);for(n=0,i=s.length;n<i;n++){if(a=d(s[n]),this.settings.diacritics)for(r in p)p.hasOwnProperty(r)&&(a=a.replace(new RegExp(r,"g"),p[r]));t&&(a="\\b"+a),o.push({string:s[n],regex:new RegExp(a,"i")})}return o},r.prototype.iterator=function(e,t){var n;n=u(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},r.prototype.getScoreFunction=function(e,t){var n,i,a,r;e=this.prepareSearch(e,t),i=e.tokens,n=e.options.fields,a=i.length,r=e.options.nesting;var o,s=function(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0},l=(o=n.length)?1===o?function(e,t){return s(c(t,n[0],r),e)}:function(e,t){for(var i=0,a=0;i<o;i++)a+=s(c(t,n[i],r),e);return a/o}:function(){return 0};return a?1===a?function(e){return l(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;n<a;n++){if((t=l(i[n],e))<=0)return 0;r+=t}return r/a}:function(e){for(var t=0,n=0;t<a;t++)n+=l(i[t],e);return n/a}:function(){return 0}},r.prototype.getSortFunction=function(e,t){var n,i,a,r,s,l,d,u,p,m,f;if(f=!(e=(a=this).prepareSearch(e,t)).query&&t.sort_empty||t.sort,p=function(e,n){return"$score"===e?n.score:c(a.items[n.id],e,t.nesting)},s=[],f)for(n=0,i=f.length;n<i;n++)(e.query||"$score"!==f[n].field)&&s.push(f[n]);if(e.query){for(m=!0,n=0,i=s.length;n<i;n++)if("$score"===s[n].field){m=!1;break}m&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,i=s.length;n<i;n++)if("$score"===s[n].field){s.splice(n,1);break}for(u=[],n=0,i=s.length;n<i;n++)u.push("desc"===s[n].direction?-1:1);return(l=s.length)?1===l?(r=s[0].field,d=u[0],function(e,t){return d*o(p(r,e),p(r,t))}):function(e,t){var n,i,a;for(n=0;n<l;n++)if(a=s[n].field,i=u[n]*o(p(a,e),p(a,t)))return i;return 0}:null},r.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=s({},t)).fields,i=t.sort,a=t.sort_empty;return n&&!u(n)&&(t.fields=[n]),i&&!u(i)&&(t.sort=[i]),a&&!u(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e,t.respect_word_boundaries),total:0,items:[]}},r.prototype.search=function(e,t){var n,i,a,r,o=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||o.getScoreFunction(i),e.length?o.iterator(o.items,(function(e,a){n=r(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:a})})):o.iterator(o.items,(function(e,t){i.items.push({score:1,id:t})})),(a=o.getSortFunction(i,t))&&i.items.sort(a),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var o=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=m(String(e||"")))>(t=m(String(t||"")))?1:t>e?-1:0},s=function(e,t){var n,i,a,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(a in r)r.hasOwnProperty(a)&&(e[a]=r[a]);return e},c=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},l=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},d=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},u=Array.isArray||void 0!==e&&e.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},p={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},m=function(){var e,t,n,i,a="",r={};for(n in p)if(p.hasOwnProperty(n))for(a+=i=p[n].substring(2,p[n].length-1),e=0,t=i.length;e<t;e++)r[i.charAt(e)]=n;var o=new RegExp("["+a+"]","g");return function(e){return e.replace(o,(function(e){return r[e]})).toLowerCase()}}();function f(e,t){return navigator.userAgentData?e===navigator.userAgentData.platform:t.test(navigator.userAgent)}var h=f("macOS",/Mac/),g=h?91:17,v=h?18:17,y=!f("Android",/android/i)&&!!document.createElement("input").validity,b=function(e){return void 0!==e},w=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},_=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},E={before:function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},after:function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}}},A=function(e,t,n){var i,a=e.trigger,r={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return a.apply(e,arguments);r[n]=arguments},n.apply(e,[]),e.trigger=a,r)r.hasOwnProperty(i)&&a.apply(e,r[i])},k=function(e){var t={};if(void 0===e)return console.warn("WARN getInputSelection cannot locate input control"),t;if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},C=function(t,n){return t?(S.$testInput||(S.$testInput=e("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),e("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(S.$testInput).appendTo("body")),S.$testInput.text(t),function(e,t,n){var i,a,r={};if(n)for(i=0,a=n.length;i<a;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)}(n,S.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),S.$testInput.width()):0},S=function(t,n){var i,a,o,s,c=this;(s=t[0]).selectize=c;var l,d,u,p=window.getComputedStyle&&window.getComputedStyle(s,null);if(o=(o=p?p.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",e.extend(c,{order:0,settings:n,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++S.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",lastOpenTarget:!1,caretPos:0,loading:0,loadedSearches:{},isDropdownClosing:!1,$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?c.onSearchChange:(l=c.onSearchChange,d=n.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(u),u=window.setTimeout((function(){l.apply(e,t)}),d)})}),c.sifter=new r(this.options,{diacritics:n.diacritics}),c.settings.options){for(i=0,a=c.settings.options.length;i<a;i++)c.registerOption(c.settings.options[i]);delete c.settings.options}if(c.settings.optgroups){for(i=0,a=c.settings.optgroups.length;i<a;i++)c.registerOptionGroup(c.settings.optgroups[i]);delete c.settings.optgroups}c.settings.mode=c.settings.mode||(1===c.settings.maxItems?"single":"multi"),"boolean"!=typeof c.settings.hideSelected&&(c.settings.hideSelected="multi"===c.settings.mode),c.initializePlugins(c.settings.plugins),c.setupCallbacks(),c.setupTemplates(),c.setup()};return n.mixin(S),i.mixin(S),e.extend(S.prototype,{setup:function(){var t,n,i,a,r,o,s,c,l,d,u=this,p=u.settings,m=u.eventNS,f=e(window),b=e(document),w=u.$input;if(s=u.settings.mode,c=w.attr("class")||"",t=e("<div>").addClass(p.wrapperClass).addClass(c+" selectize-control").addClass(s),n=e("<div>").addClass(p.inputClass+" selectize-input items").appendTo(t),i=e('<input type="select-one" autocomplete="new-password" autofill="no" />').appendTo(n).attr("tabindex",w.is(":disabled")?"-1":u.tabIndex),o=e(p.dropdownParent||t),a=e("<div>").addClass(p.dropdownClass).addClass(s+" selectize-dropdown").hide().appendTo(o),r=e("<div>").addClass(p.dropdownContentClass+" selectize-dropdown-content").attr("tabindex","-1").appendTo(a),(d=w.attr("id"))&&(i.attr("id",d+"-selectized"),e("label[for='"+d+"']").attr("for",d+"-selectized")),u.settings.copyClassesToDropdown&&a.addClass(c),t.css({width:w[0].style.width}),u.plugins.names.length&&(l="plugin-"+u.plugins.names.join(" plugin-"),t.addClass(l),a.addClass(l)),(null===p.maxItems||p.maxItems>1)&&1===u.tagType&&w.attr("multiple","multiple"),u.settings.placeholder&&i.attr("placeholder",p.placeholder),u.settings.search||(i.attr("readonly",!0),i.attr("inputmode","none"),n.css("cursor","pointer")),!u.settings.splitOn&&u.settings.delimiter){var _=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}w.attr("autocorrect")&&i.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&i.attr("autocapitalize",w.attr("autocapitalize")),w.is("input")&&(i[0].type=w[0].type),u.$wrapper=t,u.$control=n,u.$control_input=i,u.$dropdown=a,u.$dropdown_content=r,a.on("mouseenter mousedown mouseup click","[data-disabled]>[data-selectable]",(function(e){e.stopImmediatePropagation()})),a.on("mouseenter","[data-selectable]",(function(){return u.onOptionHover.apply(u,arguments)})),a.on("mouseup click","[data-selectable]",(function(){return u.onOptionSelect.apply(u,arguments)})),function(e,t,n,i){e.on(t,n,(function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])}))}(n,"mouseup","*:not(input)",(function(){return u.onItemSelect.apply(u,arguments)})),function(e){var t=null,n=function(n,i){var a,r,o,s,c,l,d,u,p;i=i||{},(n=n||window.event||{}).metaKey||n.altKey||(i.force||!1!==e.data("grow"))&&(a=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=(r=n.keyCode)>=48&&r<=57||r>=65&&r<=90||r>=96&&r<=111||r>=186&&r<=222||32===r,46===r||8===r?(p=k(e[0])).length?a=a.substring(0,p.start)+a.substring(p.start+p.length):8===r&&p.start?a=a.substring(0,p.start-1)+a.substring(p.start+1):46===r&&void 0!==p.start&&(a=a.substring(0,p.start)+a.substring(p.start+1)):o&&(d=n.shiftKey,u=String.fromCharCode(n.keyCode),a+=u=d?u.toUpperCase():u.toLowerCase())),l=(c=e.attr("placeholder"))?C(c,e)+4:0,(s=Math.max(C(a,e),l)+4)!==t&&(t=s,e.width(s),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()}(i),n.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),i.on({mousedown:function(e){(""!==u.$control_input.val()||u.settings.openOnFocus)&&e.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},input:function(){return u.onInput.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),b.on("keydown"+m,(function(e){u.isCmdDown=e[h?"metaKey":"ctrlKey"],u.isCtrlDown=e[h?"altKey":"ctrlKey"],u.isShiftDown=e.shiftKey})),b.on("keyup"+m,(function(e){e.keyCode===v&&(u.isCtrlDown=!1),16===e.keyCode&&(u.isShiftDown=!1),e.keyCode===g&&(u.isCmdDown=!1)})),b.on("mousedown"+m,(function(e){if(u.isFocused){if(e.target===u.$dropdown[0]||e.target.parentNode===u.$dropdown[0])return!1;u.$dropdown.has(e.target).length||e.target===u.$control[0]||u.blur(e.target)}})),f.on(["scroll"+m,"resize"+m].join(" "),(function(){u.isOpen&&u.positionDropdown.apply(u,arguments)})),f.on("mousemove"+m,(function(){u.ignoreHover=u.settings.ignoreHover}));var E=e("<div></div>"),A=w.children().detach();w.replaceWith(E),E.replaceWith(w),this.revertSettings={$children:A,tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(u.$wrapper),Array.isArray(p.items)&&(u.lastValidValue=p.items,u.setValue(p.items),delete p.items),y&&w.on("invalid"+m,(function(e){e.preventDefault(),u.isInvalid=!0,u.refreshState()})),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,w.is(":disabled")&&u.disable(),u.on("change",this.onChange),w.data("selectize",u),w.addClass("selectized"),u.trigger("initialize"),!0===p.preload&&u.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.valueField,a=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,t){var a=e.classes?" "+e.classes:"";return a+=""===e[i]?" selectize-dropdown-emptyoptionlabel":"","<div"+(e.styles?' style="'+e.styles+'"':"")+' class="option'+a+'">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&#x2026;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isDropdownClosing||t.isFocused&&t.isOpen||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();e(t.target);if(n.isFocused||i||window.setTimeout((function(){n.focus()}),0),t.target!==n.$control_input[0]||""===n.$control_input.val())return"single"===n.settings.mode?n.isOpen?n.close():n.open():(i||n.setActiveItem(null),n.settings.openOnFocus||(n.isOpen&&t.target===n.lastOpenTarget?(n.close(),n.lastOpenTarget=!1):(n.isOpen||(n.refreshOptions(),n.open()),n.lastOpenTarget=t.target))),!1},onChange:function(){var e=this;""!==e.getValue()&&(e.lastValidValue=e.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout((function(){var e=t.$control_input.val();if(e.match(t.settings.splitOn))for(var n=e.trim().split(t.settings.splitOn),i=0,a=n.length;i<a;i++)t.createItem(n[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&t.settings.showAddOptionOnCreate&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(h?e.metaKey:e.ctrlKey)||e.preventDefault()}},onInput:function(e){var t=this,n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(i){n.apply(t,[e,i])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,a=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=e(t.currentTarget)).hasClass("create")?a.createItem(null,(function(){a.settings.closeAfterSelect&&a.close()})):void 0!==(n=i.attr("data-value"))&&(a.lastQuery=null,a.setTextboxValue(""),a.addItem(n),a.settings.closeAfterSelect?a.close():!a.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&a.setActiveOption(a.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){(Array.isArray(e)?e:[e]).join("")!==this.items.join("")&&A(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setMaxItems:function(e){0===e&&(e=null),this.settings.maxItems=e,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(t,n){var i,a,r,o,s,c,l,d,u=this;if("single"!==u.settings.mode){if(!(t=e(t)).length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),(o=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]))>(s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))&&(l=o,o=s,s=l),a=o;a<=s;a++)c=u.$control[0].childNodes[a],-1===u.$activeItems.indexOf(c)&&(e(c).addClass("active"),u.$activeItems.push(c));n.preventDefault()}else"mousedown"===i&&u.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(r,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,i){var a,r,o,s,c,l=this;l.$activeOption&&(l.$activeOption.removeClass("active"),l.trigger("dropdown_item_deactivate",l.$activeOption.attr("data-value"))),l.$activeOption=null,(t=e(t)).length&&(l.$activeOption=t.addClass("active"),l.isOpen&&l.trigger("dropdown_item_activate",l.$activeOption.attr("data-value")),!n&&b(n)||(a=l.$dropdown_content.height(),r=l.$activeOption.outerHeight(!0),n=l.$dropdown_content.scrollTop()||0,s=o=l.$activeOption.offset().top-l.$dropdown_content.offset().top+n,c=o-a+r,o+r>a+n?l.$dropdown_content.stop().animate({scrollTop:c},i?l.settings.scrollDuration:0):o<n&&l.$dropdown_content.stop().animate({scrollTop:s},i?l.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:0}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;return e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0)),e},blur:function(e){return this.$control_input[0].blur(),this.onBlur(null,e),this},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting,filter:e.filter,respect_word_boundaries:e.respect_word_boundaries}},search:function(t){var n,i,a,r=this,o=r.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(a=r.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(o.normalize&&(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),r.lastQuery=t,i=r.sifter.search(t,e.extend(s,{score:a})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),o.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(w(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(n){var i,a,r,o,s,c,l,d,u,p,m,f,h,g,v,y;void 0===n&&(n=!0);var b,_,E=this,A=E.$control_input.val().trim(),k=E.search(A),C=E.$dropdown_content,S=E.$activeOption&&w(E.$activeOption.attr("data-value"));for(o=k.items.length,"number"==typeof E.settings.maxOptions&&(o=Math.min(o,E.settings.maxOptions)),s={},c=[],i=0;i<o;i++)for(l=E.options[k.items[i].id],d=E.render("option",l),u=l[E.settings.optgroupField]||"",a=0,r=(p=Array.isArray(u)?u:[u])&&p.length;a<r;a++){var D;if(u=p[a],!E.optgroups.hasOwnProperty(u)&&"function"==typeof E.settings.optionGroupRegister)(D=E.settings.optionGroupRegister.apply(E,[u]))&&E.registerOptionGroup(D);E.optgroups.hasOwnProperty(u)||(u=""),s.hasOwnProperty(u)||(s[u]=document.createDocumentFragment(),c.push(u)),s[u].appendChild(d)}for(this.settings.lockOptgroupOrder&&c.sort((function(e,t){return(E.optgroups[e]&&E.optgroups[e].$order||0)-(E.optgroups[t]&&E.optgroups[t].$order||0)})),m=document.createDocumentFragment(),i=0,o=c.length;i<o;i++)u=c[i],E.optgroups.hasOwnProperty(u)&&s[u].childNodes.length?((f=document.createDocumentFragment()).appendChild(E.render("optgroup_header",E.optgroups[u])),f.appendChild(s[u]),m.appendChild(E.render("optgroup",e.extend({},E.optgroups[u],{html:(b=f,_=void 0,_=document.createElement("div"),_.appendChild(b.cloneNode(!0)),_.innerHTML),dom:f})))):m.appendChild(s[u]);if(C.html(m),E.settings.highlight&&(C.removeHighlight(),k.query.length&&k.tokens.length))for(i=0,o=k.tokens.length;i<o;i++)t(C,k.tokens[i].regex);if(!E.settings.hideSelected)for(E.$dropdown.find(".selected").removeClass("selected"),i=0,o=E.items.length;i<o;i++)E.getOption(E.items[i]).addClass("selected");"auto"!==E.settings.dropdownSize.sizeType&&E.isOpen&&E.setupDropdownHeight(),(h=E.canCreate(A))&&E.settings.showAddOptionOnCreate&&(C.prepend(E.render("option_create",{input:A})),y=e(C[0].childNodes[0])),E.hasOptions=k.items.length>0||h&&E.settings.showAddOptionOnCreate||E.settings.setFirstOptionActive,E.hasOptions?(k.items.length>0?(v=S&&E.getOption(S),""!==k.query&&E.settings.setFirstOptionActive?g=C.find("[data-selectable]:first"):""!==k.query&&v&&v.length?g=v:"single"===E.settings.mode&&E.items.length&&(g=E.getOption(E.items[0])),g&&g.length||(g=y&&!E.settings.addPrecedence?E.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):g=y,E.setActiveOption(g),n&&!E.isOpen&&E.open()):(E.setActiveOption(null),n&&E.isOpen&&E.close())},addOption:function(e){var t,n,i,a=this;if(Array.isArray(e))for(t=0,n=e.length;t<n;t++)a.addOption(e[t]);else(i=a.registerOption(e))&&(a.userOptions[i]=!0,a.lastQuery=null,a.trigger("option_add",i,e))},registerOption:function(e){var t=w(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=w(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,a,r,o,s,c,l,d=this;if(t=w(t),r=w(n[d.settings.valueField]),null!==t&&d.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");l=d.options[t].$order,r!==t&&(delete d.options[t],-1!==(o=d.items.indexOf(t))&&d.items.splice(o,1,r)),n.$order=n.$order||l,d.options[r]=n,s=d.renderCache.item,c=d.renderCache.option,s&&(delete s[t],delete s[r]),c&&(delete c[t],delete c[r]),-1!==d.items.indexOf(r)&&(i=d.getItem(t),a=e(d.render("item",n)),i.hasClass("active")&&a.addClass("active"),i.replaceWith(a)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=w(e);var i=n.renderCache.item,a=n.renderCache.option;i&&delete i[e],a&&delete a[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(t){var n=this;n.loadedSearches={},n.userOptions={},n.renderCache={};var i=n.options;e.each(n.options,(function(e,t){-1==n.items.indexOf(e)&&delete i[e]})),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear"),n.clear(t)},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var t=this.$dropdown.find("[data-selectable]");return t.length>0?t.eq(0):e()},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),a=i.index(t)+n;return a>=0&&a<i.length?i.eq(a):e()},getElementWithValue:function(t,n){if(null!=(t=w(t)))for(var i=0,a=n.length;i<a;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getElementWithTextContent:function(t,n,i){if(null!=(t=w(t)))for(var a=0,r=i.length;a<r;a++){var o=i[a].textContent;if(1==n&&(o=null!==o?o.toLowerCase():null,t=t.toLowerCase()),o===t)return e(i[a])}return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},getFirstItemMatchedByTextContent:function(e,t){return t=null!==t&&!0===t,this.getElementWithTextContent(e,t,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var a=Array.isArray(e)?e:[e],r=(i=0,a.length);i<r;i++)this.isPending=i<r-1,this.addItem(a[i],t);var o=this.$control[0];o.insertBefore(this.buffer,o.firstChild),this.buffer=null},addItem:function(t,n){A(this,n?[]:["change"],(function(){var i,a,r,o,s,c=this,l=c.settings.mode;t=w(t),-1===c.items.indexOf(t)?c.options.hasOwnProperty(t)&&("single"===l&&c.clear(n),"multi"===l&&c.isFull()||(i=e(c.render("item",c.options[t])),s=c.isFull(),c.items.splice(c.caretPos,0,t),c.insertAtCaret(i),(!c.isPending||!s&&c.isFull())&&c.refreshState(),c.isSetup&&(r=c.$dropdown_content.find("[data-selectable]"),c.isPending||(a=c.getOption(t),o=c.getAdjacentOption(a,1).attr("data-value"),c.refreshOptions(c.isFocused&&"single"!==l),o&&c.setActiveOption(c.getOption(o))),!r.length||c.isFull()?c.close():c.isPending||c.positionDropdown(),c.updatePlaceholder(),c.trigger("item_add",t,i),c.isPending||c.updateOriginalInput({silent:n})))):"single"===l&&c.close()}))},removeItem:function(t,n){var i,a,r,o=this;i=t instanceof e?t:o.getItem(t),t=w(i.attr("data-value")),-1!==(a=o.items.indexOf(t))&&(o.trigger("item_before_remove",t,i),i.remove(),i.hasClass("active")&&(i.removeClass("active"),r=o.$activeItems.indexOf(i[0]),o.$activeItems.splice(r,1),i.removeClass("active")),o.items.splice(a,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,n),a<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:n}),o.positionDropdown(),o.trigger("item_remove",t,i))},createItem:function(e,t){var n=this,i=n.caretPos;e=e||(n.$control_input.val()||"").trim();var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return a(),!1;n.lock();var r,o,s="function"==typeof n.settings.create?this.settings.create:function(e){var t={};t[n.settings.labelField]=e;var i=e;if(n.settings.formatValueToKey&&"function"==typeof n.settings.formatValueToKey&&(null==(i=n.settings.formatValueToKey.apply(this,[i]))||"object"==typeof i||"function"==typeof i))throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.');return t[n.settings.valueField]=i,t},c=(r=function(e){if(n.unlock(),!e||"object"!=typeof e)return a();var r=w(e[n.settings.valueField]);if("string"!=typeof r)return a();n.setTextboxValue(""),n.addOption(e),n.setCaret(i),n.addItem(r),n.refreshOptions(t&&"single"!==n.settings.mode),a(e)},o=!1,function(){o||(o=!0,r.apply(this,arguments))}),l=s.apply(this,[e,c]);return void 0!==l&&c(l),!0},refreshItems:function(e){this.lastQuery=null,this.isSetup&&this.addItem(this.items,e),this.refreshState(),this.updateOriginalInput({silent:e})},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,a,r,o,s=this;e=e||{},1===s.tagType?(a=s.$input.find("option"),t=[],n=[],i=[],o=[],a.get().forEach((function(e){t.push(e.value)})),s.items.forEach((function(e){r=s.options[e][s.settings.labelField]||"",o.push(e),-1==t.indexOf(e)&&n.push('<option value="'+_(e)+'" selected="selected">'+_(r)+"</option>")})),i=t.filter((function(e){return o.indexOf(e)<0})).map((function(e){return'option[value="'+e+'"]'})),t.length-i.length+n.length!==0||s.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),s.$input.find(i.join(", ")).remove(),s.$input.append(n.join(""))):(s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val())),s.isSetup&&(e.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.setupDropdownHeight(),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring&&e.$control_input[0].blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0);var n=e[0].getBoundingClientRect().width;this.settings.minWidth&&this.settings.minWidth>n&&(n=this.settings.minWidth),this.$dropdown.css({width:n,top:t.top,left:t.left})},setupDropdownHeight:function(){if("object"==typeof this.settings.dropdownSize&&"auto"!==this.settings.dropdownSize.sizeType){var t=this.settings.dropdownSize.sizeValue;if("numberItems"===this.settings.dropdownSize.sizeType){for(var n=this.$dropdown_content.find("*").not(".optgroup, .highlight").not(this.settings.ignoreOnDropwdownHeight),i=0,a=0,r=0,o=0,s=0;s<t;s++){var c=e(n[s]);if(0===c.length)break;if(i+=c.outerHeight(!0),void 0===c.data("selectable")){if(c.hasClass("optgroup-header")){var l=window.getComputedStyle(c.parent()[0],":before");l&&(a=l.marginTop?Number(l.marginTop.replace(/\W*(\w)\w*/g,"$1")):0,r=l.marginBottom?Number(l.marginBottom.replace(/\W*(\w)\w*/g,"$1")):0,o=l.borderTopWidth?Number(l.borderTopWidth.replace(/\W*(\w)\w*/g,"$1")):0)}t++}}t=i+(this.$dropdown_content.css("padding-top")?Number(this.$dropdown_content.css("padding-top").replace(/\W*(\w)\w*/g,"$1")):0)+(this.$dropdown_content.css("padding-bottom")?Number(this.$dropdown_content.css("padding-bottom").replace(/\W*(\w)\w*/g,"$1")):0)+a+r+o+"px"}else if("fixedHeight"!==this.settings.dropdownSize.sizeType)return void console.warn('Selectize.js - Value of "sizeType" must be "fixedHeight" or "numberItems');this.$dropdown_content.css({height:t,maxHeight:"none"})}},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=e[0],i=this.buffer||this.$control[0];0===t?i.insertBefore(n,i.firstChild):i.insertBefore(n,i.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(t){var n,i,a,r,o,s,c,l,d,u=this;if(a=t&&8===t.keyCode?-1:1,r=k(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(c="string"==typeof u.settings.deselectBehavior&&"top"===u.settings.deselectBehavior?u.getFirstOption().attr("data-value"):u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),o=[],u.$activeItems.length){for(d=u.$control.children(".active:"+(a>0?"last":"first")),s=u.$control.children(":not(input)").index(d),a>0&&s++,n=0,i=u.$activeItems.length;n<i;n++)o.push(e(u.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(a<0&&0===r.start&&0===r.length?o.push(u.items[u.caretPos-1]):a>0&&r.start===u.$control_input.val().length&&o.push(u.items[u.caretPos]));if(!o.length||"function"==typeof u.settings.onDelete&&!1===u.settings.onDelete.apply(u,[o]))return!1;for(void 0!==s&&u.setCaret(s);o.length;)u.removeItem(o.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),c&&(l=u.getOption(c)).length&&u.setActiveOption(l),!0},advanceSelection:function(e,t){var n,i,a,r,o,s=this;0!==e&&(s.rtl&&(e*=-1),n=e>0?"last":"first",i=k(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(r=s.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===r)&&!r&&s.advanceCaret(e,t)):(o=s.$control.children(".active:"+n)).length&&(a=s.$control.children(":not(input)").index(o),s.setActiveItem(null),s.setCaret(e>0?a+1:a)))},advanceCaret:function(e,t){var n,i,a=this;0!==e&&(n=e>0?"next":"prev",a.isShiftDown?(i=a.$control_input[n]()).length&&(a.hideInput(),a.setActiveItem(i),t&&t.preventDefault()):a.setCaret(a.caretPos+e))},setCaret:function(t){var n,i,a,r,o=this;if(t="single"===o.settings.mode?o.items.length:Math.max(0,Math.min(o.items.length,t)),!o.isPending)for(n=0,i=(a=o.$control.children(":not(input)")).length;n<i;n++)r=e(a[n]).detach(),n<t?o.$control_input.before(r):o.$control.append(r);o.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--S.count&&S.$testInput&&(S.$testInput.remove(),S.$testInput=void 0),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(t,n){var i,a,r="",o=!1,s=this;return"option"!==t&&"item"!==t||(o=!!(i=w(n[s.settings.valueField]))),o&&(b(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(i))?s.renderCache[t][i]:(r=e(s.settings.render[t].apply(this,[n,_])),"option"===t||"option_create"===t?n[s.settings.disabledField]||r.attr("data-selectable",""):"optgroup"===t&&(a=n[s.settings.optgroupValueField]||"",r.attr("data-group",a),n[s.settings.disabledField]&&r.attr("data-disabled","")),"option"!==t&&"item"!==t||r.attr("data-value",i||""),o&&(s.renderCache[t][i]=r[0]),r[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),S.count=0,S.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",setFirstOptionActive:!1,closeAfterSelect:!1,closeDropdownThreshold:250,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",respect_word_boundaries:!0,mode:null,wrapperClass:"",inputClass:"",dropdownClass:"",dropdownContentClass:"",dropdownParent:null,copyClassesToDropdown:!0,dropdownSize:{sizeType:"auto",sizeValue:"auto"},normalize:!1,ignoreOnDropwdownHeight:"img, i",search:!0,render:{}},e.fn.em_selectize=function(t){var n=e.fn.em_selectize.defaults,i=e.extend({},n,t),a=i.dataAttr,r=i.labelField,o=i.valueField,s=i.disabledField,c=i.optgroupField,l=i.optgroupLabelField,d=i.optgroupValueField,u=function(t,n){var u,p,m,f,h=n.options,g={},v=function(e){var t=a&&e.attr(a),n=e.data(),i={};return"string"==typeof t&&t.length&&(!function(){try{JSON.parse(str)}catch(e){return!1}return!0}()?i[t]=t:Object.assign(i,JSON.parse(t))),Object.assign(i,n),i||null},y=function(t,a){t=e(t);var l=w(t.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(a){var d=g[l][c];d?Array.isArray(d)?d.push(a):g[l][c]=[d,a]:g[l][c]=a}}else{var u=v(t)||{};u[r]=u[r]||t.text(),u[o]=u[o]||l,u[s]=u[s]||t.prop("disabled"),u[c]=u[c]||a,u.styles=t.attr("style")||"",u.classes=t.attr("class")||"",g[l]=u,h.push(u),t.is(":selected")&&n.items.push(l)}},b=function(t){var i,a,r,o,c;for((r=(t=e(t)).attr("label"))&&((o=v(t)||{})[l]=r,o[d]=r,o[s]=t.prop("disabled"),n.optgroups.push(o)),i=0,a=(c=e("option",t)).length;i<a;i++)y(c[i],r)};for(n.maxItems=t.attr("multiple")?null:1,u=0,p=(f=t.children()).length;u<p;u++)"optgroup"===(m=f[u].tagName.toLowerCase())?b(f[u]):"option"===m&&y(f[u])};return this.each((function(){if(!this.selectize){var s=e(this),c=this.tagName.toLowerCase(),l=s.attr("placeholder")||s.attr("data-placeholder");if(l||i.allowEmptyOption||(l=s.children('option[value=""]').text()),i.allowEmptyOption&&i.showEmptyOptionInDropdown&&!s.children('option[value=""]').length){var d=s.html(),p=_(i.emptyOptionLabel||"--");s.html('<option value="">'+p+"</option>"+d)}var m={placeholder:l,options:[],optgroups:[],items:[]};"select"===c?u(s,m):function(e,t){var n,s,c,l,d=e.attr(a);if(d)for(t.options=JSON.parse(d),n=0,s=t.options.length;n<s;n++)t.items.push(t.options[n][o]);else{var u=(e.val()||"").trim();if(!i.allowEmptyOption&&!u.length)return;for(n=0,s=(c=u.split(i.delimiter)).length;n<s;n++)(l={})[r]=c[n],l[o]=c[n],t.options.push(l);t.items=c}}(s,m),new S(s,e.extend(!0,{},n,m,t)).settings_user=t}}))},e.fn.em_selectize.defaults=S.defaults,e.fn.em_selectize.support={validity:y},S.define("auto_position",(function(){const e="top",t="bottom";this.positionDropdown=function(){const n=this.$control,i="body"===this.settings.dropdownParent?n.offset():n.position();i.top+=n.outerHeight(!0);const a=this.$dropdown.prop("scrollHeight")+5,r=this.$control.get(0).getBoundingClientRect().top+a+this.$wrapper.height()>window.innerHeight?e:t,o={width:n.outerWidth(),left:i.left};if(r===e){const e={bottom:i.top,top:"unset"};"body"===this.settings.dropdownParent&&(e.top=i.top-this.$dropdown.outerHeight(!0)-n.outerHeight(!0),e.bottom="unset"),Object.assign(o,e),this.$dropdown.addClass("selectize-position-top"),this.$control.addClass("selectize-position-top")}else Object.assign(o,{top:i.top,bottom:"unset"}),this.$dropdown.removeClass("selectize-position-top"),this.$control.removeClass("selectize-position-top");this.$dropdown.css(o)}})),S.define("auto_select_on_type",(function(e){var t,n=this;n.onBlur=(t=n.onBlur,function(e){var i=n.getFirstItemMatchedByTextContent(n.lastValue,!0);return void 0!==i.attr("data-value")&&n.getValue()!==i.attr("data-value")&&n.setValue(i.attr("data-value")),t.apply(this,arguments)})})),S.define("autofill_disable",(function(e){var t,n=this;n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),S.define("clear_button",(function(t){var n,i=this;t=e.extend({title:"Clear",className:"clear",label:"",html:function(e){return'<a class="'+e.className+'" title="'+e.title+'"> '+e.label+"</a>"}},t),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$button_clear=e(t.html(t)),"single"===i.settings.mode&&i.$wrapper.addClass("single"),i.$wrapper.append(i.$button_clear),""!==i.getValue()&&0!==i.getValue().length||i.$wrapper.find("."+t.className).css("display","none"),i.on("change",(function(){""===i.getValue()||0===i.getValue().length?i.$wrapper.find("."+t.className).css("display","none"):i.$wrapper.find("."+t.className).css("display","")})),i.$wrapper.on("click","."+t.className,(function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),i.isLocked||(i.clear(),i.$wrapper.find("."+t.className).css("display","none"))}))})})),S.define("drag_drop",(function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n,i=this;i.lock=(n=i.lock,function(){var e=i.$control.data("sortable");return e&&e.disable(),n.apply(i,arguments)}),i.unlock=function(){var e=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.addClass("dragging")},stop:function(){n.removeClass("dragging");var t=i.$activeItems?i.$activeItems.slice():null,a=[];n.children("[data-value]").each((function(){a.push(e(this).attr("data-value"))})),i.isFocused=!1,i.setValue(a),i.isFocused=!0,i.setActiveItem(t),i.positionDropdown()}})}}()}})),S.define("dropdown_header",(function(t){var n,i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&#xd7;</a></div></div>'}},t),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header),i.$dropdown_header.find("."+t.closeClass).on("click",(function(){i.close()}))})})),S.define("optgroup_columns",(function(t){var n,i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),a=i.index(t)+n;return a>=0&&a<i.length?i.eq(a):e()},this.onKeyDown=(n=i.onKeyDown,function(e){var t,a,r,o;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?n.apply(this,arguments):(i.ignoreHover=!0,t=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((a=(r=(o=37===e.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(r.length-1,t))).length&&this.setActiveOption(a)))});var a=function(){var e,t=a.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=a.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},r=function(){var n,r,o,s,c,l,d;if((r=(d=e("[data-group]",i.$dropdown_content)).length)&&i.$dropdown_content.width()){if(t.equalizeHeight){for(o=0,n=0;n<r;n++)o=Math.max(o,d.eq(n).height());d.css({height:o})}t.equalizeWidth&&(l=i.$dropdown_content.innerWidth()-a(),s=Math.round(l/r),d.css({width:s}),r>1&&(c=l-s*(r-1),d.eq(r-1).css({width:c})))}};(t.equalizeHeight||t.equalizeWidth)&&(E.after(this,"positionDropdown",r),E.after(this,"refreshOptions",r))})),S.define("remove_button",(function(t){if("single"!==this.settings.mode){!function(t,n){var i,a=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+_(n.title)+'">'+n.label+"</a>";t.setup=(i=a.setup,function(){if(n.append){var o=a.settings.render.item;a.settings.render.item=function(e){return n=o.apply(t,arguments),i=r,a=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,a)+i+n.substring(a);var n,i,a}}i.apply(t,arguments),t.$control.on("click","."+n.className,(function(t){if(t.preventDefault(),!a.isLocked){var n=e(t.currentTarget).parent();return a.setActiveItem(n),a.deleteSelection()&&a.setCaret(a.items.length),!1}}))})}(this,t=e.extend({label:"&#xd7;",title:"Remove",className:"remove",append:!0},t))}})),S.define("restore_on_backspace",(function(e){var t,n=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=n.onKeyDown,function(n){var i,a;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(a=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(e.text.apply(this,[a])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),S.define("select_on_focus",(function(e){var t,n,i=this;i.on("focus",(t=i.onFocus,function(e){var n=i.getItem(i.getValue()).text();return i.clear(),i.setTextboxValue(n),i.$control_input.select(),setTimeout((function(){i.settings.selectOnTab&&i.setActiveOption(i.getFirstItemMatchedByTextContent(n)),i.settings.score=null}),0),t.apply(this,arguments)})),i.onBlur=(n=i.onBlur,function(e){return""===i.getValue()&&i.lastValidValue!==i.getValue()&&i.setValue(i.lastValidValue),setTimeout((function(){i.settings.score=function(){return function(){return 1}}}),0),n.apply(this,arguments)}),i.settings.score=function(){return function(){return 1}}})),S.define("tag_limit",(function(t){const n=this;t.tagLimit=t.tagLimit,this.onBlur=function(){const i=n.onBlur;return function(n){if(i.apply(this,n),!n)return;const a=this.$control,r=a.find(".item"),o=t.tagLimit;void 0===o||r.length<=o||(r.toArray().forEach((function(t,n){n<o||e(t).hide()})),a.append("<span><b>"+(r.length-o)+"</b></span>"))}}(),this.onFocus=function(){const e=n.onFocus;return function(t){if(e.apply(this,t),!t)return;const n=this.$control;n.find(".item").show(),n.find("span").remove()}}()})),S})),
/*!
 * selectize click2deselect (custom)
 */
EM_Selectize.define("click2deselect",(function(e){var t=this,n=t.setup;this.setup=function(){let e;n.apply(t,arguments),t.$dropdown.each((function(){this.addEventListener("click",(function(n){let i=n.target.matches(".selected[data-selectable]")?n.target:n.target.closest(".selected[data-selectable]");if(null!==i){let n=i.getAttribute("data-value");n!==e&&(t.removeItem(n),t.refreshItems(),t.refreshOptions())}return e=!1,!1}))})),t.on("item_remove",(function(e){t.getOption(e).removeClass("selected")})),t.on("item_add",(function(t){e=t}))}})),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,a=i._mouseInit,r=i._mouseDestroy;i._touchStart=function(e){!n&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),a.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)}}}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Sortable=t()}(this,(function(){"use strict";function e(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){var n,a;n=t,e=i[a=e],a in n?Object.defineProperty(n,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[a]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var s=o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),c=o(/Edge/i),l=o(/firefox/i),d=o(/safari/i)&&!o(/chrome/i)&&!o(/android/i),u=o(/iP(ad|od|hone)/i),p=o(/chrome/i)&&o(/android/i),m={capture:!1,passive:!1};function f(e,t,n){e.addEventListener(t,n,!s&&m)}function h(e,t,n){e.removeEventListener(t,n,!s&&m)}function g(e,t){if(t&&(">"===t[0]&&(t=t.substring(1)),e))try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return}}function v(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"!==t[0]||e.parentNode===n)&&g(e,t)||i&&e===n)return e}while(e!==n&&(e=(a=e).host&&a!==document&&a.host.nodeType?a.host:a.parentNode))}var a;return null}var y,b=/\s+/g;function w(e,t,n){var i;e&&t&&(e.classList?e.classList[n?"add":"remove"](t):(i=(" "+e.className+" ").replace(b," ").replace(" "+t+" "," "),e.className=(i+(n?" "+t:"")).replace(b," ")))}function _(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];i[t=t in i||-1!==t.indexOf("webkit")?t:"-webkit-"+t]=n+("string"==typeof n?"":"px")}}function E(e,t){var n="";if("string"==typeof e)n=e;else do{var i=_(e,"transform")}while(i&&"none"!==i&&(n=i+" "+n),!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function A(e,t,n){if(e){var i=e.getElementsByTagName(t),a=0,r=i.length;if(n)for(;a<r;a++)n(i[a],a);return i}return[]}function k(){return document.scrollingElement||document.documentElement}function C(e,t,n,i,a){if(e.getBoundingClientRect||e===window){var r,o,c,l,d,u,p=e!==window&&e.parentNode&&e!==k()?(o=(r=e.getBoundingClientRect()).top,c=r.left,l=r.bottom,d=r.right,u=r.height,r.width):(c=o=0,l=window.innerHeight,d=window.innerWidth,u=window.innerHeight,window.innerWidth);if((t||n)&&e!==window&&(a=a||e.parentNode,!s))do{if(a&&a.getBoundingClientRect&&("none"!==_(a,"transform")||n&&"static"!==_(a,"position"))){var m=a.getBoundingClientRect();o-=m.top+parseInt(_(a,"border-top-width")),c-=m.left+parseInt(_(a,"border-left-width")),l=o+r.height,d=c+r.width;break}}while(a=a.parentNode);return i&&e!==window&&(i=(t=E(a||e))&&t.a,e=t&&t.d,t&&(l=(o/=e)+(u/=e),d=(c/=i)+(p/=i))),{top:o,left:c,bottom:l,right:d,width:p,height:u}}}function S(e,t,n){for(var i=O(e,!0),a=C(e)[t];i;){var r=C(i)[n];if(!("top"===n||"left"===n?r<=a:a<=r))return i;if(i===k())break;i=O(i,!1)}return!1}function D(e,t,n,i){for(var a=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==Ne.ghost&&(i||o[r]!==Ne.dragged)&&v(o[r],n.draggable,e,!1)){if(a===t)return o[r];a++}r++}return null}function x(e,t){for(var n=e.lastElementChild;n&&(n===Ne.ghost||"none"===_(n,"display")||t&&!g(n,t));)n=n.previousElementSibling;return n||null}function M(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ne.clone||t&&!g(e,t)||n++;return n}function T(e){var t=0,n=0,i=k();if(e)do{var a=(r=E(e)).a,r=r.d}while(t+=e.scrollLeft*a,n+=e.scrollTop*r,e!==i&&(e=e.parentNode));return[t,n]}function O(e,t){if(!e||!e.getBoundingClientRect)return k();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=_(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return k();if(i||t)return n;i=!0}}}while(n=n.parentNode);return k()}function L(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function j(e,t){return function(){var n;y||(1===(n=arguments).length?e.call(this,n[0]):e.apply(this,n),y=setTimeout((function(){y=void 0}),t))}}function I(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function P(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function q(e,t){_(e,"position","absolute"),_(e,"top",t.top),_(e,"left",t.left),_(e,"width",t.width),_(e,"height",t.height)}function N(e){_(e,"position",""),_(e,"top",""),_(e,"left",""),_(e,"width",""),_(e,"height","")}function F(e,t,n){var i={};return Array.from(e.children).forEach((function(a){var r;v(a,t.draggable,e,!1)&&!a.animated&&a!==n&&(r=C(a),i.left=Math.min(null!==(a=i.left)&&void 0!==a?a:1/0,r.left),i.top=Math.min(null!==(a=i.top)&&void 0!==a?a:1/0,r.top),i.right=Math.max(null!==(a=i.right)&&void 0!==a?a:-1/0,r.right),i.bottom=Math.max(null!==(a=i.bottom)&&void 0!==a?a:-1/0,r.bottom))})),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var R="Sortable"+(new Date).getTime();var H=[],z={initializeByDefault:!0},$={mount:function(e){for(var t in z)!z.hasOwnProperty(t)||t in e||(e[t]=z[t]);H.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),H.push(e)},pluginEvent:function(e,n,i){var a=this;this.eventCanceled=!1,i.cancel=function(){a.eventCanceled=!0};var r=e+"Global";H.forEach((function(a){n[a.pluginName]&&(n[a.pluginName][r]&&n[a.pluginName][r](t({sortable:n},i)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](t({sortable:n},i)))}))},initializePlugins:function(e,t,n,a){for(var r in H.forEach((function(a){var r=a.pluginName;(e.options[r]||a.initializeByDefault)&&((a=new a(e,t,e.options)).sortable=e,a.options=e.options,e[r]=a,i(n,a.defaults))})),e.options){var o;e.options.hasOwnProperty(r)&&void 0!==(o=this.modifyOption(e,r,e.options[r]))&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return H.forEach((function(a){"function"==typeof a.eventProperties&&i(n,a.eventProperties.call(t[a.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return H.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(i=a.optionListeners[t].call(e[a.pluginName],n))})),i}};function B(e){var n=e.sortable,i=e.rootEl,a=e.name,r=e.targetEl,o=e.cloneEl,l=e.toEl,d=e.fromEl,u=e.oldIndex,p=e.newIndex,m=e.oldDraggableIndex,f=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(n=n||i&&i[R]){var y,b=n.options;e="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||s||c?(y=document.createEvent("Event")).initEvent(a,!0,!0):y=new CustomEvent(a,{bubbles:!0,cancelable:!0}),y.to=l||i,y.from=d||i,y.item=r||i,y.clone=o,y.oldIndex=u,y.newIndex=p,y.oldDraggableIndex=m,y.newDraggableIndex=f,y.originalEvent=h,y.pullMode=g?g.lastPutMode:void 0;var w,_=t(t({},v),$.getEventProperties(a,n));for(w in _)y[w]=_[w];i&&i.dispatchEvent(y),b[e]&&b[e].call(n,y)}}function Q(e,n){var i=(a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,a=function(e,t){if(null==e)return{};var n,i=function(e,t){if(null==e)return{};for(var n,i={},a=Object.keys(e),r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}(a,Y);$.pluginEvent.bind(Ne)(e,n,t({dragEl:U,parentEl:W,ghostEl:G,rootEl:K,nextEl:X,lastDownEl:J,cloneEl:Z,cloneHidden:ee,dragStarted:me,putSortable:oe,activeSortable:Ne.active,originalEvent:i,oldIndex:te,oldDraggableIndex:ie,newIndex:ne,newDraggableIndex:ae,hideGhostForTarget:je,unhideGhostForTarget:Ie,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){V({sortable:n,name:e,originalEvent:i})}},a))}var Y=["evt"];function V(e){B(t({putSortable:oe,cloneEl:Z,targetEl:U,rootEl:K,oldIndex:te,oldDraggableIndex:ie,newIndex:ne,newDraggableIndex:ae},e))}var U,W,G,K,X,J,Z,ee,te,ne,ie,ae,re,oe,se,ce,le,de,ue,pe,me,fe,he,ge,ve,ye=!1,be=!1,we=[],_e=!1,Ee=!1,Ae=[],ke=!1,Ce=[],Se="undefined"!=typeof document,De=u,xe=c||s?"cssFloat":"float",Me=Se&&!p&&!u&&"draggable"in document.createElement("div"),Te=function(){if(Se){if(s)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Oe=function(e,t){var n=_(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=D(e,0,t),r=D(e,1,t),o=a&&_(a),s=r&&_(r),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+C(a).width;e=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(r).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":a&&o.float&&"none"!==o.float?(t="left"===o.float?"left":"right",!r||"both"!==s.clear&&s.clear!==t?"horizontal":"vertical"):a&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||i<=c&&"none"===n[xe]||r&&"none"===n[xe]&&i<c+e)?"vertical":"horizontal"},Le=function(e){function t(e,n){return function(i,a,r,o){var s=i.options.group.name&&a.options.group.name&&i.options.group.name===a.options.group.name;return!(null!=e||!n&&!s)||null!=e&&!1!==e&&(n&&"clone"===e?e:"function"==typeof e?t(e(i,a,r,o),n)(i,a,r,o):(a=(n?i:a).options.group.name,!0===e||"string"==typeof e&&e===a||e.join&&-1<e.indexOf(a)))}}var i={},a=e.group;a&&"object"==n(a)||(a={name:a}),i.name=a.name,i.checkPull=t(a.pull,!0),i.checkPut=t(a.put),i.revertClone=a.revertClone,e.group=i},je=function(){!Te&&G&&_(G,"display","none")},Ie=function(){!Te&&G&&_(G,"display","")};function Pe(e){if(U){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,r=e.clientY,we.some((function(e){if((i=e[R].options.emptyInsertThreshold)&&!x(e)){var t=C(e),n=a>=t.left-i&&a<=t.right+i,i=r>=t.top-i&&r<=t.bottom+i;return n&&i?o=e:void 0}})),o);if(t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[R]._onDragOver(i)}}var a,r,o}function qe(e){U&&U.parentNode[R]._isOutsideThisEl(e.target)}function Ne(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=i({},n),e[R]=this;var a,r,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Oe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ne.supportPointer&&"PointerEvent"in window&&!d,emptyInsertThreshold:5};for(a in $.initializePlugins(this,e,o),o)a in n||(n[a]=o[a]);for(r in Le(n),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!n.forceFallback&&Me,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?f(e,"pointerdown",this._onTapStart):(f(e,"mousedown",this._onTapStart),f(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(f(e,"dragover",this),f(e,"dragenter",this)),we.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),i(this,function(){var e,n=[];return{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){var i,a;"none"!==_(e,"display")&&e!==Ne.ghost&&(n.push({target:e,rect:C(e)}),i=t({},n[n.length-1].rect),!e.thisAnimationDuration||(a=E(e,!0))&&(i.top-=a.f,i.left-=a.e),e.fromRect=i)}))},addAnimationState:function(e){n.push(e)},removeAnimationState:function(e){n.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(n,{target:e}),1)},animateAll:function(t){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof t&&t());var a=!1,r=0;n.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=C(n),c=n.prevFromRect,l=n.prevToRect,d=e.rect,u=E(n,!0);u&&(s.top-=u.f,s.left-=u.e),n.toRect=s,n.thisAnimationDuration&&L(c,s)&&!L(o,s)&&(d.top-s.top)/(d.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(e=d,u=c,c=l,l=i.options,t=Math.sqrt(Math.pow(u.top-e.top,2)+Math.pow(u.left-e.left,2))/Math.sqrt(Math.pow(u.top-c.top,2)+Math.pow(u.left-c.left,2))*l.animation),L(s,o)||(n.prevFromRect=o,n.prevToRect=s,t=t||i.options.animation,i.animate(n,d,s,t)),t&&(a=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"==typeof t&&t()}),r):"function"==typeof t&&t(),n=[]},animate:function(e,t,n,i){var a,r;i&&(_(e,"transition",""),_(e,"transform",""),a=(r=E(this.el))&&r.a,r=r&&r.d,a=(t.left-n.left)/(a||1),r=(t.top-n.top)/(r||1),e.animatingX=!!a,e.animatingY=!!r,_(e,"transform","translate3d("+a+"px,"+r+"px,0)"),this.forRepaintDummy=e.offsetWidth,_(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),_(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){_(e,"transition",""),_(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i))}}}())}function Fe(e,t,n,i,a,r,o,l){var d,u,p=e[R],m=p.options.onMove;return!window.CustomEvent||s||c?(d=document.createEvent("Event")).initEvent("move",!0,!0):d=new CustomEvent("move",{bubbles:!0,cancelable:!0}),d.to=t,d.from=e,d.dragged=n,d.draggedRect=i,d.related=a||t,d.relatedRect=r||C(t),d.willInsertAfter=l,d.originalEvent=o,e.dispatchEvent(d),m?m.call(p,d,o):u}function Re(e){e.draggable=!1}function He(){ke=!1}function ze(e){return setTimeout(e,0)}function $e(e){return clearTimeout(e)}Se&&!p&&document.addEventListener("click",(function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1}),!0),Ne.prototype={constructor:Ne,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,a=i.preventOnFilter,r=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=i.filter;if(function(e){Ce.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Ce.push(i)}}(n),!U&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||i.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!d||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=v(s,i.draggable,n,!1))&&s.animated||J===s)){if(te=M(s),ie=M(s,i.draggable),"function"==typeof l){if(l.call(this,e,s,this))return V({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),Q("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(l=l&&l.split(",").some((function(i){if(i=v(c,i.trim(),n,!1))return V({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),Q("filter",t,{evt:e}),!0})))return void(a&&e.cancelable&&e.preventDefault());i.handle&&!v(c,i.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var i,a=this,r=a.el,o=a.options,d=r.ownerDocument;n&&!U&&n.parentNode===r&&(i=C(n),K=r,W=(U=n).parentNode,X=U.nextSibling,J=n,re=o.group,se={target:Ne.dragged=U,clientX:(t||e).clientX,clientY:(t||e).clientY},ue=se.clientX-i.left,pe=se.clientY-i.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style["will-change"]="all",i=function(){Q("delayEnded",a,{evt:e}),Ne.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!l&&a.nativeDraggable&&(U.draggable=!0),a._triggerDragStart(e,t),V({sortable:a,name:"choose",originalEvent:e}),w(U,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){A(U,e.trim(),Re)})),f(d,"dragover",Pe),f(d,"mousemove",Pe),f(d,"touchmove",Pe),f(d,"mouseup",a._onDrop),f(d,"touchend",a._onDrop),f(d,"touchcancel",a._onDrop),l&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),Q("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(c||s)?i():Ne.eventCanceled?this._onDrop():(f(d,"mouseup",a._disableDelayedDrag),f(d,"touchend",a._disableDelayedDrag),f(d,"touchcancel",a._disableDelayedDrag),f(d,"mousemove",a._delayedDragTouchMoveHandler),f(d,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&f(d,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,o.delay)))},_delayedDragTouchMoveHandler:function(e){e=e.touches?e.touches[0]:e,Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&Re(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;h(e,"mouseup",this._disableDelayedDrag),h(e,"touchend",this._disableDelayedDrag),h(e,"touchcancel",this._disableDelayedDrag),h(e,"mousemove",this._delayedDragTouchMoveHandler),h(e,"touchmove",this._delayedDragTouchMoveHandler),h(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?f(document,"pointermove",this._onTouchMove):f(document,t?"touchmove":"mousemove",this._onTouchMove):(f(U,"dragend",this),f(K,"dragstart",this._onDragStart));try{document.selection?ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){var n;ye=!1,K&&U?(Q("dragStarted",this,{evt:t}),this.nativeDraggable&&f(document,"dragover",qe),n=this.options,e||w(U,n.dragClass,!1),w(U,n.ghostClass,!0),Ne.active=this,e&&this._appendGhost(),V({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,je();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY))!==t;)t=e;if(U.parentNode[R]._isOutsideThisEl(e),t)do{if(t[R]&&t[R]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}while(t=(e=t).parentNode);Ie()}},_onTouchMove:function(e){if(se){var t=(s=this.options).fallbackTolerance,n=s.fallbackOffset,i=e.touches?e.touches[0]:e,a=G&&E(G,!0),r=G&&a&&a.a,o=G&&a&&a.d,s=De&&ve&&T(ve);r=(i.clientX-se.clientX+n.x)/(r||1)+(s?s[0]-Ae[0]:0)/(r||1),o=(i.clientY-se.clientY+n.y)/(o||1)+(s?s[1]-Ae[1]:0)/(o||1);if(!Ne.active&&!ye){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}G&&(a?(a.e+=r-(le||0),a.f+=o-(de||0)):a={a:1,b:0,c:0,d:1,e:r,f:o},a="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")"),_(G,"webkitTransform",a),_(G,"mozTransform",a),_(G,"msTransform",a),_(G,"transform",a),le=r,de=o,ce=i),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!G){var e=this.options.fallbackOnBody?document.body:K,t=C(U,!0,De,!0,e),n=this.options;if(De){for(ve=e;"static"===_(ve,"position")&&"none"===_(ve,"transform")&&ve!==document;)ve=ve.parentNode;ve!==document.body&&ve!==document.documentElement?(ve===document&&(ve=k()),t.top+=ve.scrollTop,t.left+=ve.scrollLeft):ve=k(),Ae=T(ve)}w(G=U.cloneNode(!0),n.ghostClass,!1),w(G,n.fallbackClass,!0),w(G,n.dragClass,!0),_(G,"transition",""),_(G,"transform",""),_(G,"box-sizing","border-box"),_(G,"margin",0),_(G,"top",t.top),_(G,"left",t.left),_(G,"width",t.width),_(G,"height",t.height),_(G,"opacity","0.8"),_(G,"position",De?"absolute":"fixed"),_(G,"zIndex","100000"),_(G,"pointerEvents","none"),Ne.ghost=G,e.appendChild(G),_(G,"transform-origin",ue/parseInt(G.style.width)*100+"% "+pe/parseInt(G.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,a=n.options;Q("dragStart",this,{evt:e}),Ne.eventCanceled?this._onDrop():(Q("setupClone",this),Ne.eventCanceled||((Z=P(U)).removeAttribute("id"),Z.draggable=!1,Z.style["will-change"]="",this._hideClone(),w(Z,this.options.chosenClass,!1),Ne.clone=Z),n.cloneId=ze((function(){Q("clone",n),Ne.eventCanceled||(n.options.removeCloneOnHide||K.insertBefore(Z,U),n._hideClone(),V({sortable:n,name:"clone"}))})),t||w(U,a.dragClass,!0),t?(be=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h(document,"mouseup",n._onDrop),h(document,"touchend",n._onDrop),h(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,U)),f(document,"drop",n),_(U,"transform","translateZ(0)")),ye=!0,n._dragStartId=ze(n._dragStarted.bind(n,t,e)),f(document,"selectstart",n),me=!0,d&&_(document.body,"user-select","none"))},_onDragOver:function(e){var n,i,a,r,o,s=this.el,c=e.target,l=this.options,d=l.group,u=Ne.active,p=re===d,m=l.sort,f=oe||u,h=this,g=!1;if(!ke){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),c=v(c,l.draggable,s,!0),H("dragOver"),Ne.eventCanceled)return g;if(U.contains(e.target)||c.animated&&c.animatingX&&c.animatingY||h._ignoreWhileAnimating===c)return $(!1);if(be=!1,u&&!l.disabled&&(p?m||(i=W!==K):oe===this||(this.lastPutMode=re.checkPull(this,u,U,e))&&d.checkPut(this,u,U,e))){if(a="vertical"===this._getDirection(e,c),n=C(U),H("dragOverValid"),Ne.eventCanceled)return g;if(i)return W=K,z(),this._hideClone(),H("revert"),Ne.eventCanceled||(X?K.insertBefore(U,X):K.appendChild(U)),$(!0);var y=x(s,l.draggable);if(y&&(O=e,d=a,N=C(x((T=this).el,T.options.draggable)),T=F(T.el,T.options,G),!(d?O.clientX>T.right+10||O.clientY>N.bottom&&O.clientX>N.left:O.clientY>T.bottom+10||O.clientX>N.right&&O.clientY>N.top)||y.animated)){if(y&&(r=e,o=a,j=C(D((L=this).el,0,L.options,!0)),L=F(L.el,L.options,G),o?r.clientX<L.left-10||r.clientY<j.top&&r.clientX<j.right:r.clientY<L.top-10||r.clientY<j.bottom&&r.clientX<j.left)){if((P=D(s,0,l,!0))===U)return $(!1);if(k=C(c=P),!1!==Fe(K,s,U,n,c,k,e,!1))return z(),s.insertBefore(U,P),W=s,B(),$(!0)}else if(c.parentNode===s){var b,E,A,k=C(c),T=U.parentNode!==s,O=(O=U.animated&&U.toRect||n,N=c.animated&&c.toRect||k,L=(o=a)?O.left:O.top,r=o?O.right:O.bottom,j=o?O.width:O.height,P=o?N.left:N.top,O=o?N.right:N.bottom,N=o?N.width:N.height,!(L===P||r===O||L+j/2===P+N/2)),L=a?"top":"left",j=S(c,"top","top")||S(U,"top","top"),P=j?j.scrollTop:void 0;if(fe!==c&&(E=k[L],_e=!1,Ee=!O&&l.invertSwap||T),0!==(b=function(e,t,n,i,a,r,o,s){var c=i?e.clientY:e.clientX,l=i?n.height:n.width;e=i?n.top:n.left,i=i?n.bottom:n.right,n=!1;if(!o)if(s&&ge<l*a){if(_e=!_e&&(1===he?e+l*r/2<c:c<i-l*r/2)||_e)n=!0;else if(1===he?c<e+ge:i-ge<c)return-he}else if(e+l*(1-a)/2<c&&c<i-l*(1-a)/2)return function(e){return M(U)<M(e)?1:-1}(t);return(n=n||o)&&(c<e+l*r/2||i-l*r/2<c)?e+l/2<c?1:-1:0}(e,c,k,a,O?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ee,fe===c)))for(var q=M(U);(A=W.children[q-=b])&&("none"===_(A,"display")||A===G););if(0===b||A===c)return $(!1);he=b;var N=(fe=c).nextElementSibling;T=!1;if(!1!==(O=Fe(K,s,U,n,c,k,e,T=1===b)))return 1!==O&&-1!==O||(T=1===O),ke=!0,setTimeout(He,30),z(),T&&!N?s.appendChild(U):c.parentNode.insertBefore(U,T?N:c),j&&I(j,0,P-j.scrollTop),W=U.parentNode,void 0===E||Ee||(ge=Math.abs(E-C(c)[L])),B(),$(!0)}}else{if(y===U)return $(!1);if((c=y&&s===e.target?y:c)&&(k=C(c)),!1!==Fe(K,s,U,n,c,k,e,!!c))return z(),y&&y.nextSibling?s.insertBefore(U,y.nextSibling):s.appendChild(U),W=s,B(),$(!0)}if(s.contains(U))return $(!1)}return!1}function H(r,o){Q(r,h,t({evt:e,isOwner:p,axis:a?"vertical":"horizontal",revert:i,dragRect:n,targetRect:k,canSort:m,fromSortable:f,target:c,completed:$,onMove:function(t,i){return Fe(K,s,U,n,t,C(t),e,i)},changed:B},o))}function z(){H("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function $(t){return H("dragOverCompleted",{insertion:t}),t&&(p?u._hideClone():u._showClone(h),h!==f&&(w(U,(oe||u).options.ghostClass,!1),w(U,l.ghostClass,!0)),oe!==h&&h!==Ne.active?oe=h:h===Ne.active&&oe&&(oe=null),f===h&&(h._ignoreWhileAnimating=c),h.animateAll((function(){H("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(c===U&&!U.animated||c===s&&!c.animated)&&(fe=null),l.dragoverBubble||e.rootEl||c===document||(U.parentNode[R]._isOutsideThisEl(e.target),t||Pe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function B(){ne=M(U),ae=M(U,l.draggable),V({sortable:h,name:"change",toEl:s,newIndex:ne,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove),h(document,"touchmove",this._onTouchMove),h(document,"pointermove",this._onTouchMove),h(document,"dragover",Pe),h(document,"mousemove",Pe),h(document,"touchmove",Pe)},_offUpEvents:function(){var e=this.el.ownerDocument;h(e,"mouseup",this._onDrop),h(e,"touchend",this._onDrop),h(e,"pointerup",this._onDrop),h(e,"touchcancel",this._onDrop),h(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=M(U),ae=M(U,n.draggable),Q("drop",this,{evt:e}),W=U&&U.parentNode,ne=M(U),ae=M(U,n.draggable),Ne.eventCanceled||(_e=Ee=ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$e(this.cloneId),$e(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),d&&_(document.body,"user-select",""),_(U,"transform",""),e&&(me&&(e.cancelable&&e.preventDefault(),n.dropBubble||e.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(K===W||oe&&"clone"!==oe.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),U&&(this.nativeDraggable&&h(U,"dragend",this),Re(U),U.style["will-change"]="",me&&!ye&&w(U,(oe||this).options.ghostClass,!1),w(U,this.options.chosenClass,!1),V({sortable:this,name:"unchoose",toEl:W,newIndex:null,newDraggableIndex:null,originalEvent:e}),K!==W?(0<=ne&&(V({rootEl:W,name:"add",toEl:W,fromEl:K,originalEvent:e}),V({sortable:this,name:"remove",toEl:W,originalEvent:e}),V({rootEl:W,name:"sort",toEl:W,fromEl:K,originalEvent:e}),V({sortable:this,name:"sort",toEl:W,originalEvent:e})),oe&&oe.save()):ne!==te&&0<=ne&&(V({sortable:this,name:"update",toEl:W,originalEvent:e}),V({sortable:this,name:"sort",toEl:W,originalEvent:e})),Ne.active&&(null!=ne&&-1!==ne||(ne=te,ae=ie),V({sortable:this,name:"end",toEl:W,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Q("nulling",this),K=U=W=G=X=Z=J=ee=se=ce=me=ne=ae=te=ie=fe=he=oe=re=Ne.dragged=Ne.ghost=Ne.clone=Ne.active=null,Ce.forEach((function(e){e.checked=!0})),Ce.length=le=de=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":U&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,a=n.length,r=this.options;i<a;i++)v(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||function(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){v(t=i.children[t],this.options.draggable,i,!1)&&(n[e]=t)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return v(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=$.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Le(n)},destroy:function(){Q("destroy",this);var e=this.el;e[R]=null,h(e,"mousedown",this._onTapStart),h(e,"touchstart",this._onTapStart),h(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(e,"dragover",this),h(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),we.splice(we.indexOf(this.el),1),this.el=e=null},_hideClone:function(){ee||(Q("hideClone",this),Ne.eventCanceled||(_(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0))},_showClone:function(e){"clone"===e.lastPutMode?ee&&(Q("showClone",this),Ne.eventCanceled||(U.parentNode!=K||this.options.group.revertClone?X?K.insertBefore(Z,X):K.appendChild(Z):K.insertBefore(Z,U),this.options.group.revertClone&&this.animate(U,Z),_(Z,"display",""),ee=!1)):this._hideClone()}},Se&&f(document,"touchmove",(function(e){(Ne.active||ye)&&e.cancelable&&e.preventDefault()})),Ne.utils={on:f,off:h,css:_,find:A,is:function(e,t){return!!v(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:j,closest:v,toggleClass:w,clone:P,index:M,nextTick:ze,cancelNextTick:$e,detectDirection:Oe,getChild:D},Ne.get=function(e){return e[R]},Ne.mount=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(n=n[0].constructor===Array?n[0]:n).forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ne.utils=t(t({},Ne.utils),e.utils)),$.mount(e)}))},Ne.create=function(e,t){return new Ne(e,t)};var Be,Qe,Ye,Ve,Ue,We,Ge=[],Ke=!(Ne.version="1.15.2");function Xe(){Ge.forEach((function(e){clearInterval(e.pid)})),Ge=[]}function Je(){clearInterval(We)}var Ze,et=j((function(e,t,n,i){if(t.scroll){var a,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,l=k(),d=!1;Qe!==n&&(Qe=n,Xe(),Be=t.scroll,a=t.scrollFn,!0===Be&&(Be=O(n,!0)));var u=0,p=Be;do{var m=p,f=(x=C(m)).top,h=x.bottom,g=x.left,v=x.right,y=x.width,b=x.height,w=void 0,E=m.scrollWidth,A=m.scrollHeight,S=_(m),D=m.scrollLeft,x=m.scrollTop,M=m===l?(w=y<E&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),b<A&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=y<E&&("auto"===S.overflowX||"scroll"===S.overflowX),b<A&&("auto"===S.overflowY||"scroll"===S.overflowY));D=w&&(Math.abs(v-r)<=s&&D+y<E)-(Math.abs(g-r)<=s&&!!D),x=M&&(Math.abs(h-o)<=s&&x+b<A)-(Math.abs(f-o)<=s&&!!x);if(!Ge[u])for(var T=0;T<=u;T++)Ge[T]||(Ge[T]={});Ge[u].vx==D&&Ge[u].vy==x&&Ge[u].el===m||(Ge[u].el=m,Ge[u].vx=D,Ge[u].vy=x,clearInterval(Ge[u].pid),0==D&&0==x||(d=!0,Ge[u].pid=setInterval(function(){i&&0===this.layer&&Ne.active._onTouchMove(Ue);var t=Ge[this.layer].vy?Ge[this.layer].vy*c:0,n=Ge[this.layer].vx?Ge[this.layer].vx*c:0;"function"==typeof a&&"continue"!==a.call(Ne.dragged.parentNode[R],n,t,e,Ue,Ge[this.layer].el)||I(Ge[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==l&&(p=O(p,!1)));Ke=d}}),30);p=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,a=e.activeSortable,r=e.dispatchSortableEvent,o=e.hideGhostForTarget;e=e.unhideGhostForTarget;t&&(a=n||a,o(),t=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t=document.elementFromPoint(t.clientX,t.clientY),e(),a&&!a.el.contains(t)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n})))};function tt(){}function nt(){}tt.prototype={startIndex:null,dragStart:function(e){e=e.oldDraggableIndex,this.startIndex=e},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState(),(e=D(this.sortable.el,this.startIndex,this.options))?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:p},i(tt,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl;(e=e.putSortable||this.sortable).captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),e.animateAll()},drop:p},i(nt,{pluginName:"removeOnSpill"});var it,at,rt,ot,st,ct=[],lt=[],dt=!1,ut=!1,pt=!1;function mt(e,t){lt.forEach((function(n,i){(i=t.children[n.sortableIndex+(e?Number(i):0)])?t.insertBefore(n,i):t.appendChild(n)}))}function ft(){ct.forEach((function(e){e!==rt&&e.parentNode&&e.parentNode.removeChild(e)}))}return Ne.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){e=e.originalEvent,this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):this.options.supportPointer?f(document,"pointermove",this._handleFallbackAutoScroll):e.touches?f(document,"touchmove",this._handleFallbackAutoScroll):f(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){e=e.originalEvent,this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll)),Je(),Xe(),clearTimeout(y),y=void 0},nulling:function(){Ue=Qe=Be=Ke=We=Ye=Ve=null,Ge.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n,i=this,a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(a,r);Ue=e,t||this.options.forceAutoScrollFallback||c||s||d?(et(e,this.options,o,t),n=O(o,!0),!Ke||We&&a===Ye&&r===Ve||(We&&Je(),We=setInterval((function(){var o=O(document.elementFromPoint(a,r),!0);o!==n&&(n=o,Xe()),et(e,i.options,o,t)}),10),Ye=a,Ve=r)):this.options.bubbleScroll&&O(o,!0)!==k()?et(e,this.options,O(o,!1),!1):Xe()}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),Ne.mount(nt,tt),Ne.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){e=e.dragEl,Ze=e},dragOverValid:function(e){var t=e.completed,n=e.target,i=e.onMove,a=e.activeSortable,r=e.changed,o=e.cancel;a.options.swap&&(e=this.sortable.el,a=this.options,n&&n!==e&&(e=Ze,Ze=!1!==i(n)?(w(n,a.swapClass,!0),n):null,e&&e!==Ze&&w(e,a.swapClass,!1)),r(),t(!0),o())},drop:function(e){var t,n,i=e.activeSortable,a=e.putSortable,r=e.dragEl,o=a||this.sortable,s=this.options;Ze&&w(Ze,s.swapClass,!1),Ze&&(s.swap||a&&a.options.swap)&&r!==Ze&&(o.captureAnimationState(),o!==i&&i.captureAnimationState(),n=Ze,e=(t=r).parentNode,s=n.parentNode,e&&s&&!e.isEqualNode(n)&&!s.isEqualNode(t)&&(a=M(t),r=M(n),e.isEqualNode(s)&&a<r&&r++,e.insertBefore(n,e.children[a]),s.insertBefore(t,s.children[r])),o.animateAll(),o!==i&&i.animateAll())},nulling:function(){Ze=null}},i(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Ze}}})}),Ne.mount(new function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?f(document,"pointerup",this._deselectMultiDrag):(f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag))),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,n){var i="";ct.length&&at===e?ct.forEach((function(e,t){i+=(t?", ":"")+e.textContent})):i=n.textContent,t.setData("Text",i)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){e=e.dragEl,rt=e},delayEnded:function(){this.isMultiDrag=~ct.indexOf(rt)},setupClone:function(e){var t=e.sortable;e=e.cancel;if(this.isMultiDrag){for(var n=0;n<ct.length;n++)lt.push(P(ct[n])),lt[n].sortableIndex=ct[n].sortableIndex,lt[n].draggable=!1,lt[n].style["will-change"]="",w(lt[n],this.options.selectedClass,!1),ct[n]===rt&&w(lt[n],this.options.chosenClass,!1);t._hideClone(),e()}},clone:function(e){var t=e.sortable,n=e.rootEl,i=e.dispatchSortableEvent;e=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ct.length&&at===t&&(mt(!0,n),i("clone"),e()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl;e=e.cancel;this.isMultiDrag&&(mt(!1,n),lt.forEach((function(e){_(e,"display","")})),t(),st=!1,e())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden);e=e.cancel;this.isMultiDrag&&(lt.forEach((function(e){_(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),st=!0,e())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&at&&at.multiDrag._deselectMultiDrag(),ct.forEach((function(e){e.sortableIndex=M(e)})),ct=ct.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),pt=!0},dragStarted:function(e){var t,n=this;e=e.sortable;this.isMultiDrag&&(this.options.sort&&(e.captureAnimationState(),this.options.animation&&(ct.forEach((function(e){e!==rt&&_(e,"position","absolute")})),t=C(rt,!1,!0,!0),ct.forEach((function(e){e!==rt&&q(e,t)})),dt=ut=!0)),e.animateAll((function(){dt=ut=!1,n.options.animation&&ct.forEach((function(e){N(e)})),n.options.sort&&ft()})))},dragOver:function(e){var t=e.target,n=e.completed;e=e.cancel;ut&&~ct.indexOf(t)&&(n(!1),e())},revert:function(e){var t,n,i=e.fromSortable,a=e.rootEl,r=e.sortable,o=e.dragRect;1<ct.length&&(ct.forEach((function(e){r.addAnimationState({target:e,rect:ut?C(e):o}),N(e),e.fromRect=o,i.removeAnimationState(e)})),ut=!1,t=!this.options.removeCloneOnHide,n=a,ct.forEach((function(e,i){(i=n.children[e.sortableIndex+(t?Number(i):0)])?n.insertBefore(e,i):n.appendChild(e)})))},dragOverCompleted:function(e){var t,n=e.sortable,i=e.isOwner,a=e.insertion,r=e.activeSortable,o=e.parentEl,s=e.putSortable;e=this.options;a&&(i&&r._hideClone(),dt=!1,e.animation&&1<ct.length&&(ut||!i&&!r.options.sort&&!s)&&(t=C(rt,!1,!0,!0),ct.forEach((function(e){e!==rt&&(q(e,t),o.appendChild(e))})),ut=!0),i||(ut||ft(),1<ct.length?(i=st,r._showClone(n),r.options.animation&&!st&&i&&lt.forEach((function(e){r.addAnimationState({target:e,rect:ot}),e.fromRect=ot,e.thisAnimationDuration=null}))):r._showClone(n)))},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner;e=e.activeSortable;ct.forEach((function(e){e.thisAnimationDuration=null})),e.options.animation&&!n&&e.multiDrag.isMultiDrag&&(ot=i({},t),t=E(rt,!0),ot.top-=t.f,ot.left-=t.e)},dragOverAnimationComplete:function(){ut&&(ut=!1,ft())},drop:function(e){var t=e.originalEvent,n=e.rootEl,i=e.parentEl,a=e.sortable,r=e.dispatchSortableEvent,o=e.oldIndex,s=e.putSortable,c=s||this.sortable;if(t){var l,d,u,p=this.options,m=i.children;if(!pt)if(p.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(rt,p.selectedClass,!~ct.indexOf(rt)),~ct.indexOf(rt))ct.splice(ct.indexOf(rt),1),it=null,B({sortable:a,rootEl:n,name:"deselect",targetEl:rt,originalEvent:t});else{if(ct.push(rt),B({sortable:a,rootEl:n,name:"select",targetEl:rt,originalEvent:t}),t.shiftKey&&it&&a.el.contains(it)){var f=M(it);e=M(rt);if(~f&&~e&&f!==e)for(var h,g=f<e?(h=f,e):(h=e,f+1);h<g;h++)~ct.indexOf(m[h])||(w(m[h],p.selectedClass,!0),ct.push(m[h]),B({sortable:a,rootEl:n,name:"select",targetEl:m[h],originalEvent:t}))}else it=rt;at=c}pt&&this.isMultiDrag&&(ut=!1,(i[R].options.sort||i!==n)&&1<ct.length&&(l=C(rt),d=M(rt,":not(."+this.options.selectedClass+")"),!dt&&p.animation&&(rt.thisAnimationDuration=null),c.captureAnimationState(),dt||(p.animation&&(rt.fromRect=l,ct.forEach((function(e){var t;e.thisAnimationDuration=null,e!==rt&&(t=ut?C(e):l,e.fromRect=t,c.addAnimationState({target:e,rect:t}))}))),ft(),ct.forEach((function(e){m[d]?i.insertBefore(e,m[d]):i.appendChild(e),d++})),o===M(rt)&&(u=!1,ct.forEach((function(e){e.sortableIndex!==M(e)&&(u=!0)})),u&&(r("update"),r("sort")))),ct.forEach((function(e){N(e)})),c.animateAll()),at=c),(n===i||s&&"clone"!==s.lastPutMode)&&lt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=pt=!1,lt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),h(document,"pointerup",this._deselectMultiDrag),h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==pt&&pt||at!==this.sortable||e&&v(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ct.length;){var t=ct[0];w(t,this.options.selectedClass,!1),ct.shift(),B({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[R];t&&t.options.multiDrag&&!~ct.indexOf(e)&&(at&&at!==t&&(at.multiDrag._deselectMultiDrag(),at=t),w(e,t.options.selectedClass,!0),ct.push(e))},deselect:function(e){var t=e.parentNode[R],n=ct.indexOf(e);t&&t.options.multiDrag&&~n&&(w(e,t.options.selectedClass,!1),ct.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return ct.forEach((function(i){var a;t.push({multiDragElement:i,index:i.sortableIndex}),a=ut&&i!==rt?-1:ut?M(i,":not(."+e.options.selectedClass+")"):M(i),n.push({multiDragElement:i,index:a})})),{items:a(ct),clones:[].concat(lt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":1<e.length&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}),Ne})),document.dispatchEvent(new CustomEvent("events_manager_js_loaded"));
//# sourceMappingURL=events-manager.min.js.map