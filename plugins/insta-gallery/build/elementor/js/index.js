(()=>{"use strict";const e=window.wp.i18n,l=window.qligg.store;!function({url:a,i18n:t}){if(!1!==window?.QLIGG_IS_PREMIUM)return;const o={account_id:"all",source:["tagged","stories"],layout_type:["masonry","highlight"],highlight_tag:"all",highlight_id:"all",highlight_position:"all",tablet_breakpoint:"all",mobile_breakpoint:"all",tablet_columns:"all",mobile_columns:"all",tablet_spacing:"all",mobile_spacing:"all",profile_display:"all",profile_nickname:"all",profile_link_text:"all",profile_website:"all",profile_website_text:"all",profile_avatar:"all",profile_biography:"all",box_display:"all",box_padding:"all",box_radius:"all",box_background:"all",box_text_color:"all",card_display:"all",card_radius:"all",card_font_size:"all",card_background:"all",card_background_hover:"all",card_text_color:"all",card_padding:"all",card_likes_count:"all",card_comments_count:"all",card_text_length:"all",card_text_align:"all",modal_comments_list:"all",modal_text_align:"all",modal_font_size:"all",button_load_display:"all",button_load_text:"all",button_load_text_color:"all",button_load_background:"all",button_load_background_hover:"all"};let n=!1;elementor.hooks.addAction("panel/open_editor/widget/instagram_feed",((e,l,i)=>{const r=l.get("settings"),s=e=>{if(n)return;const l=e.changedAttributes()||{},i=Object.entries(l).filter((([e,l])=>{if(!(e in o))return!1;const a=o[e];return"all"===a||a.includes(l)})).map((([e])=>e));i.length&&(n=!0,i.forEach((l=>{const a=e.previous(l);e.set(l,a)})),n=!1,elementorCommon.dialogsManager.createWidget("alert",{headerMessage:t.headerMessage,message:t.message,strings:{confirm:t.confirm,cancel:t.close},onConfirm:()=>window.open(a,"_blank")}).show())};r.on("change",s),i.once("destroy",(()=>r.off("change",s)))})),elementor.hooks.addAction("panel/open_editor/widget/instagram_feed",((a,t,o)=>{const n=a.$el.find('[data-event="qligg:clear_cache"]');n.off("click").on("click",(async a=>{if(a.preventDefault(),window.confirm((0,e.__)("You are about to reset the cache of this feed.","insta-gallery"))){n.addClass("elementor-button-state-loading");try{const a=t.get("settings").toJSON();await(0,l.clearFeedCache)({method:"POST",data:{feedSettings:a}}),elementor.notifications.showToast({message:(0,e.__)("Instagram feed cache cleared successfully!","insta-gallery"),type:"success"})}catch(l){elementor.notifications.showToast({message:(0,e.__)("Error clearing Instagram feed cache. Please try again.","insta-gallery"),type:"error"})}finally{n.removeClass("elementor-button-state-loading")}}}))}))}(qligg_elementor_widget)})();