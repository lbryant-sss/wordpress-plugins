!function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{ELEMENTS_BASE_STYLES_PROVIDER_KEY:function(){return P},ELEMENTS_STYLES_PROVIDER_KEY_PREFIX:function(){return g},ELEMENTS_STYLES_RESERVED_LABEL:function(){return E},createStylesProvider:function(){return y},init:function(){return R},isElementsStylesProvider:function(){return S},stylesRepository:function(){return a},useCreateActionsByProvider:function(){return c},useProviders:function(){return u},validateStyleLabel:function(){return w}});var r=window.React,n=window.elementorV2.schema,o=window.wp.i18n,i=window.elementorV2.editorElements,s=window.elementorV2.editorV1Adapters,l=window.elementorV2.utils,a=(()=>{const e=[],t=()=>e.slice(0).sort(((e,t)=>e.priority>t.priority?-1:1));return{all:(e={})=>t().flatMap((t=>t.actions.all(e))),register:t=>{e.push(t)},subscribe:t=>{const r=e.map((e=>e.subscribe(t)));return()=>{r.forEach((e=>e()))}},getProviders:t,getProviderByKey:t=>e.find((e=>e.getKey()===t))}})();function u(){const[,e]=(0,r.useReducer)((e=>!e),!1);return(0,r.useEffect)((()=>a.subscribe(e)),[]),a.getProviders()}function c(){return(0,r.useMemo)((()=>a.getProviders().map((e=>e.actions.create?[e,e.actions.create]:null)).filter((e=>!!e))),[])}var d=(0,l.createError)({code:"invalid_elements_style_provider_meta",message:"Invalid elements style provider meta."}),m=(0,l.createError)({code:"active_document_must_exist",message:"Active document must exist."}),f=1e4,p=10;function y({key:e,priority:t=p,limit:r=f,subscribe:n=()=>()=>{},labels:o,actions:i}){return{getKey:"string"==typeof e?()=>e:e,priority:t,limit:r,subscribe:n,labels:{singular:o?.singular??null,plural:o?.plural??null},actions:{all:i.all,get:i.get,create:i.create,delete:i.delete,update:i.update,updateProps:i.updateProps}}}var g="document-elements-",E="local",_=y({key:()=>{const e=(0,i.getCurrentDocumentId)();if(!e)throw new m;return`${g}${e}`},priority:50,subscribe:e=>(0,s.__privateListenTo)(i.styleRerenderEvents,e),actions:{all:(e={})=>{let t=(0,i.getElements)();return b(e)&&(t=t.filter((t=>t.id===e.elementId))),t.flatMap((e=>Object.values(e.model.get("styles")??{})))},get:(e,t={})=>{if(!b(t))throw new d({context:{meta:t}});return((0,i.getElementStyles)(t.elementId)??{})[e]??null},updateProps:(e,t={})=>{if(!b(t))throw new d({context:{meta:t}});(0,i.updateElementStyle)({elementId:t.elementId,styleId:e.id,meta:e.meta,props:e.props})}}});function b(e){return"elementId"in e&&"string"==typeof e.elementId&&!!e.elementId}var v=n.z.string().min(1,(0,o.__)("Cannot be empty","elementor")).max(50,(0,o.__)("Cannot be longer than 50 characters","elementor")).regex(/^[a-zA-Z0-9_-]+$/,(0,o.__)("Invalid format","elementor"));function w(e){const t=new Set([E,...a.all().map((e=>e.label.toLowerCase()))]),r=v.refine((e=>!t.has(e)),{message:(0,o.__)("Name exists","elementor")}).safeParse(e.toLowerCase());return r.success?{isValid:!0,error:null}:{isValid:!1,error:r.error.format()._errors[0]}}function S(e){return new RegExp(`^${g}\\d+$`).test(e)}var P="element-base-styles",I=y({key:P,actions:{all(){const e=(0,i.getWidgetsCache)();return Object.values(e??{}).flatMap((e=>Object.values(e.base_styles??{})))},get(e){return this.all().find((t=>t.id===e))??null}}});function R(){a.register(_),a.register(I)}(window.elementorV2=window.elementorV2||{}).editorStylesRepository=t}(),window.elementorV2.editorStylesRepository?.init?.();