(()=>{var e={485:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)){if(n.length){var r=a.apply(null,n);r&&e.push(r)}}else if("object"===l){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React,t=window.wp.domReady;var o=n.n(t);const a=window.wp.element;var l=n(485),r=n.n(l);const s=window.wp.i18n,i=window.wp.components,d=(0,a.forwardRef)((function({icon:e,size:t=24,...n},o){return(0,a.cloneElement)(e,{width:t,height:t,...n,ref:o})})),c=window.wp.primitives,u=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),f=({label:t,onDelete:n,initialOpen:o=!1,children:l})=>{const[r,d]=(0,a.useState)(o);return(0,e.createElement)("div",{className:"fz-panel-tab"},(0,e.createElement)("div",{className:"fz-panel-tab__header"},(0,e.createElement)("div",{className:"fz-panel-tab__header__label",onClick:()=>d(!r)},t),(0,e.createElement)(i.Button,{icon:r?"arrow-up-alt2":"arrow-down-alt2",label:r?(0,s.__)("Close Settings","feedzy-rss-feeds"):(0,s.__)("Open Settings","feedzy-rss-feeds"),showTooltip:!0,onClick:()=>d(!r)}),(0,e.createElement)(i.Button,{icon:"no-alt",label:(0,s.__)("Delete","feedzy-rss-feeds"),showTooltip:!0,onClick:n})),r&&(0,e.createElement)("div",{className:"fz-panel-tab__content"},l))},p=window.wp.date,m=({index:t,label:n,value:o,onChange:a})=>{const l=(0,p.__experimentalGetSettings)();return(0,e.createElement)(i.BaseControl,{label:n,id:`date-time-control-${t}`},(0,e.createElement)(i.Dropdown,{position:"bottom left",renderToggle:({onToggle:t,isOpen:n})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{onClick:t,variant:"secondary","aria-expanded":n},o?(0,p.format)(l.formats.datetime,o):(0,s.__)("Select Date","feedzy-rss-feeds"))),renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:o,onChange:a})}))},_=[{label:(0,s.__)("Title","feedzy-rss-feeds"),value:"title"},{label:(0,s.__)("Description","feedzy-rss-feeds"),value:"description"},{label:(0,s.__)("Full Content","feedzy-rss-feeds"),value:"fullcontent"},{label:(0,s.__)("Author","feedzy-rss-feeds"),value:"author",unsupportedOperators:["greater_than","gte","less_than","lte"]},{label:(0,s.__)("Date","feedzy-rss-feeds"),value:"date",unsupportedOperators:["has_value","equals","not_equals","empty","contains","not_contains"]},{label:(0,s.__)("Featured Image","feedzy-rss-feeds"),value:"featured_image",unsupportedOperators:["greater_than","gte","less_than","lte"]}],v=window.feedzyData.isPro,y=({conditions:t,setConditions:n})=>{const o=(e,o,a)=>{const l=[...t.conditions];if(l[e][a]=o,"field"===a){const t=_.find((e=>e.value===o));t.unsupportedOperators?.includes(l[e].operator)&&(l[e].operator=Object.keys(window?.feedzyConditionsData?.operators).filter((e=>!t.unsupportedOperators?.includes(e)))[0]),l[e].value=""}n({...t,conditions:l})};return(0,e.createElement)("div",{className:r()("fz-condition-control",{"is-upsell":!v})},(0,e.createElement)(i.SelectControl,{label:(0,s.__)("Include If","feedzy-rss-feeds"),value:t.match,options:[{label:(0,s.__)("All conditions are met","feedzy-rss-feeds"),value:"all"},{label:(0,s.__)("Any condition is met","feedzy-rss-feeds"),value:"any"}],onChange:e=>{n({...t,match:e})},disabled:!v}),t.conditions.map(((a,l)=>{const r=_.find((e=>e.value===a.field)),d=Object.keys(window?.feedzyConditionsData?.operators).filter((e=>!r.unsupportedOperators?.includes(e)));return(0,e.createElement)(f,{key:l,label:`${r?.label} ${window.feedzyConditionsData.operators[a.operator]} ${a?.value||""}`,onDelete:()=>(e=>{const o=[...t.conditions];o.splice(e,1),n({...t,conditions:o})})(l),initialOpen:0===l},(0,e.createElement)(i.SelectControl,{label:(0,s.__)("Field","feedzy-rss-feeds"),value:a?.field,options:_,onChange:e=>o(l,e,"field"),disabled:!v}),(0,e.createElement)(i.SelectControl,{label:(0,s.__)("Compare Operator","feedzy-rss-feeds"),options:d.map((e=>({label:window.feedzyConditionsData.operators[e],value:e}))),help:["contains","not_contains"].includes(a?.operator)?(0,s.__)("You can use comma(,) and plus(+) keyword.","feedzy-rss-feeds"):"",value:a?.operator,onChange:e=>o(l,e,"operator"),disabled:!v}),!["has_value","empty"].includes(a?.operator)&&(0,e.createElement)(e.Fragment,null,"date"===a?.field?(0,e.createElement)(m,{id:l,label:(0,s.__)("Value","feedzy-rss-feeds"),value:a?.value,onChange:e=>o(l,e,"value"),disabled:!v}):(0,e.createElement)(i.TextControl,{label:(0,s.__)("Value","feedzy-rss-feeds"),value:a?.value,onChange:e=>o(l,e,"value"),disabled:!v})))})),(0,e.createElement)("div",{className:"fz-action-btn mt-24"},(0,e.createElement)(i.Button,{variant:"secondary",onClick:()=>{const e=[...t.conditions];e.push({field:_[0].value,operator:"contains"}),n({...t,conditions:e})},className:"fz-new-action"},(0,s.__)("Add Condition","feedzy-rss-feeds")," ",(0,e.createElement)(d,{icon:u}))))},w={match:"all",conditions:[{field:"title",operator:"contains",value:"Sports"}]},b=()=>{const[t,n]=(0,a.useState)({conditions:[],match:"all"});return(0,a.useEffect)((()=>{if(!feedzyData.isPro)return void n(w);const e=document.getElementById("feed-post-filters-conditions");if(e&&e.value){const t=JSON.parse(e.value);n(t&&t.conditions?t:{conditions:[],match:"all"})}}),[]),(0,a.useEffect)((()=>{feedzyData.isPro&&(document.getElementById("feed-post-filters-conditions").value=JSON.stringify(t))}),[t]),(0,e.createElement)(y,{conditions:t,setConditions:n})};o()((()=>{(0,a.createRoot)(document.getElementById("fz-conditions")).render((0,e.createElement)(b,null))}))})()})();