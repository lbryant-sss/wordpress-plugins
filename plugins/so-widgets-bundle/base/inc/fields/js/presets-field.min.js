!function(e){const t=function(t){const i=e(this).find('select[class="siteorigin-widget-input"]');if(i.data("initialized"))return;const s=i.find("+ .sowb-presets-field-undo");s.hide();let n=!1,o=!1;const a=i.data("presets");i.on("change",function(){const e=i.val();if(e&&a.hasOwnProperty(e)){const t=a[e].values,r=i.closest(".siteorigin-widget-form-main");if(o||!n){let e=i.data("previousValues");if(o)o=!1;else{if(!e){const s=JSON.parse(JSON.stringify(t)),n=sowbForms.getWidgetFormValues(r);let o=0;const a=function(e,t){if(++o>10)return t;for(const i in t)if(e.hasOwnProperty(i)){const s=e[i],n=t[i];null!==s&&null!==n&&"object"==typeof s?a(s,n):t[i]=s}return t};e=a(n,s),i.data("previousValues",e)}s.not(":visible")&&(s.show(),s.on("click",function(t){t.preventDefault(),s.hide(),sowbForms.setWidgetFormValues(r,e,!1,"preset"),i.removeData("previousValues"),i.val("")}))}sowbForms.setWidgetFormValues(r,t,!1,"preset")}n=!1}}),null!=i.data("default-preset")&&("default"==i.val()&&(o=!0,i.val(i.data("default-preset"))),e(this).find('select[class="siteorigin-widget-input"] option[value="default"]').remove()),n=!0,i.trigger("change"),i.data("initialized",!0)};window.top===window.self&&"string"==typeof pagenow&&"site-editor"!==pagenow&&e(document).on("sowsetupformfield",".siteorigin-widget-field-type-presets",t),window.addEventListener("message",function(i){i.data&&"sowbBlockFormInit"===i.data.action&&e(".siteorigin-widget-field-type-presets").each(function(){t.call(this)})})}(jQuery);