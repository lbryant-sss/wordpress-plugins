!function(i){const e=function(e){const t=i(this);if(void 0!==t.attr("data-initialized"))return;const s=t.find(".siteorigin-widget-shape-search"),n=t.find(".siteorigin-widget-shapes"),a=t.find(".siteorigin-widget-input"),o=t.find(".siteorigin-widget-shape-current"),d=function(i){i.addClass("selected"),o.find(".siteorigin-widget-shape").html(i.find(".siteorigin-widget-shape-image").clone()),o.find(".siteorigin-widget-shape-image").data("shape",i.data("shape")),t.trigger("shape_change",{shape:i.data("shape"),field:t})};o.on("click",function(){n.hasClass("siteorigin-widget-shapes-open")?n.removeClass("siteorigin-widget-shapes-open"):n.addClass("siteorigin-widget-shapes-open")}),n.find(".siteorigin-widget-shape").on("click",function(){const e=i(this);t.find(".siteorigin-widget-shape").removeClass("selected"),d(e),a.val(e.data("shape")),o.trigger("click")}),s.on("keyup change",function(){const e=s.val().toLowerCase();""===e?n.find(".siteorigin-widget-shape").show():n.find(".siteorigin-widget-shape").each(function(){const t=i(this);-1===t.data("shape").indexOf(e)?t.hide():t.show()})}),d(n.find('.siteorigin-widget-shape[data-shape="'+(""!==a.val()?a.val():"circle")+'"]')),t.attr("data-initialized",!0)};window.top===window.self&&"string"==typeof pagenow&&"site-editor"!==pagenow&&i(document).on("sowsetupformfield",".siteorigin-widget-field-type-image_shape",e),window.addEventListener("message",function(t){t.data&&"sowbBlockFormInit"===t.data.action&&i(".siteorigin-widget-field-type-image_shape").each(function(){e.call(this)})})}(jQuery);