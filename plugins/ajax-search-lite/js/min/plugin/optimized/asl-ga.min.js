(function(){"use strict";var y={},r=Object(window.WPD).global;const e=window.ASL;r.AslPlugin.prototype.gaPageview=function(t){let c=this,n=c.gaGetTrackingID();if(typeof e.analytics>"u"||e.analytics.method!="pageview")return!1;if(e.analytics.string!=""){let i=typeof window.__gaTracker=="function"?window.__gaTracker:typeof window.ga=="function"?window.ga:!1,o=typeof window.gtag=="function"?window.gtag:!1,l=c.o.homeurl.replace(window.location.origin,"");if(o!==!1)n!==!1&&n.forEach(function(s){o("config",s,{page_path:l+e.analytics.string.replace("{asl_term}",t)})});else if(i!==!1){let s={page:l+e.analytics.string.replace("{asl_term}",t),title:"Ajax Search"};n!==!1?n.forEach(function(a){i("create",a,"auto"),i("send","pageview",s)}):i("send","pageview",s)}}},r.AslPlugin.prototype.gaEvent=function(t,c){let n=this,i=n.gaGetTrackingID();if(typeof e.analytics>"u"||e.analytics.method!="event")return!1;let o=typeof window.gtag=="function"?window.gtag:!1,l=typeof window.__gaTracker=="function"?window.__gaTracker:typeof window.ga=="function"?window.ga:!1;if(o===!1&&l===!1&&typeof window.dataLayer>"u")return!1;if(typeof e.analytics.event[t]<"u"&&e.analytics.event[t].active){let s={search_id:n.o.id,search_name:n.o.name,phrase:n.n("text").val(),option_name:"",option_value:"",result_title:"",result_url:"",results_count:""},a={event_category:e.analytics.event[t].category,event_label:e.analytics.event[t].label,value:e.analytics.event[t].value,send_to:""};const d={...s,...c};Object.keys(d).forEach(function(f){let g=d[f];g=String(g).replace(/[\s\n\r]+/g," ").trim(),Object.keys(a).forEach(function(u){let _=new RegExp("{"+f+"}","gmi");a[u]=a[u].replace(_,g)})}),l!==!1?i!==!1?i.forEach(function(f){l("create",f,"auto"),l("send","event",a.event_category,e.analytics.event[t].action,a.event_label,a.value)}):l("send","event",a.event_category,e.analytics.event[t].action,a.event_label,a.value):o!==!1?i!==!1?i.forEach(function(f){a.send_to=f,o("event",e.analytics.event[t].action,a)}):o("event",e.analytics.event[t].action,a):window?.dataLayer?.push!==void 0&&window.dataLayer.push({event:"gaEvent",eventCategory:a.event_category,eventAction:e.analytics.event[t].action,eventLabel:a.event_label})}},r.AslPlugin.prototype.gaGetTrackingID=function(){let t=!1;if(typeof e.analytics>"u")return t;if(typeof e.analytics.tracking_id<"u"&&e.analytics.tracking_id!="")return[e.analytics.tracking_id];if((typeof window.gtag=="function"?window.gtag:!1)===!1&&typeof window.ga<"u"&&typeof window.ga.getAll<"u"){let n=[];return window.ga.getAll().forEach(function(i){n.push(i.get("trackingId"))}),n.length>0?n:!1}return t};var v=null;Object(window.WPD).AjaxSearchLite=y.default})();
