(function(){"use strict";var p={};(function(){p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,{a:t}),t}})(),function(){p.d=function(e,t){for(var s in t)p.o(t,s)&&!p.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var m={},o=Object(window.WPD).global,a=Object(window.WPD).utils;o.AslPlugin.prototype.setFilterStateInput=function(e){let t=this;typeof e>"u"&&(e=65);let s=function(){JSON.stringify(t.originalFormData)!=JSON.stringify((0,a.formData)(t.n("searchsettings").find("form")))?t.n("searchsettings").find("input[name=filters_initial]").val(0):t.n("searchsettings").find("input[name=filters_initial]").val(1)};e==0?s():setTimeout(function(){s()},e)};var x=null;const u=window.ASL;o.AslPlugin.prototype.gaPageview=function(e){let t=this,s=t.gaGetTrackingID();if(typeof u.analytics>"u"||u.analytics.method!="pageview")return!1;if(u.analytics.string!=""){let i=typeof window.__gaTracker=="function"?window.__gaTracker:typeof window.ga=="function"?window.ga:!1,n=typeof window.gtag=="function"?window.gtag:!1,l=t.o.homeurl.replace(window.location.origin,"");if(n!==!1)s!==!1&&s.forEach(function(d){n("config",d,{page_path:l+u.analytics.string.replace("{asl_term}",e)})});else if(i!==!1){let d={page:l+u.analytics.string.replace("{asl_term}",e),title:"Ajax Search"};s!==!1?s.forEach(function(c){i("create",c,"auto"),i("send","pageview",d)}):i("send","pageview",d)}}},o.AslPlugin.prototype.gaEvent=function(e,t){let s=this,i=s.gaGetTrackingID();if(typeof u.analytics>"u"||u.analytics.method!="event")return!1;let n=typeof window.gtag=="function"?window.gtag:!1,l=typeof window.__gaTracker=="function"?window.__gaTracker:typeof window.ga=="function"?window.ga:!1;if(n===!1&&l===!1&&typeof window.dataLayer>"u")return!1;if(typeof u.analytics.event[e]<"u"&&u.analytics.event[e].active){let d={search_id:s.o.id,search_name:s.o.name,phrase:s.n("text").val(),option_name:"",option_value:"",result_title:"",result_url:"",results_count:""},c={event_category:u.analytics.event[e].category,event_label:u.analytics.event[e].label,value:u.analytics.event[e].value,send_to:""};const h={...d,...t};Object.keys(h).forEach(function(f){let v=h[f];v=String(v).replace(/[\s\n\r]+/g," ").trim(),Object.keys(c).forEach(function(_){let b=new RegExp("{"+f+"}","gmi");c[_]=c[_].replace(b,v)})}),l!==!1?i!==!1?i.forEach(function(f){l("create",f,"auto"),l("send","event",c.event_category,u.analytics.event[e].action,c.event_label,c.value)}):l("send","event",c.event_category,u.analytics.event[e].action,c.event_label,c.value):n!==!1?i!==!1?i.forEach(function(f){c.send_to=f,n("event",u.analytics.event[e].action,c)}):n("event",u.analytics.event[e].action,c):window?.dataLayer?.push!==void 0&&window.dataLayer.push({event:"gaEvent",eventCategory:c.event_category,eventAction:u.analytics.event[e].action,eventLabel:c.event_label})}},o.AslPlugin.prototype.gaGetTrackingID=function(){let e=!1;if(typeof u.analytics>"u")return e;if(typeof u.analytics.tracking_id<"u"&&u.analytics.tracking_id!="")return[u.analytics.tracking_id];if((typeof window.gtag=="function"?window.gtag:!1)===!1&&typeof window.ga<"u"&&typeof window.ga.getAll<"u"){let s=[];return window.ga.getAll().forEach(function(i){s.push(i.get("trackingId"))}),s.length>0?s:!1}return e};var P=null;o.AslPlugin.prototype.showLoader=function(){this.n("proloading").css({display:"block"})},o.AslPlugin.prototype.hideLoader=function(){let e=this;e.n("proloading").css({display:"none"}),e.n("results").css("display","")};var A=null,y=Object(window.WPD).DoMini,r=p.n(y);const g=window.ASL;o.AslPlugin.prototype.loadASLFonts=function(){g.font_url!==!1&&(new FontFace("aslsicons2","url("+g.font_url+")",{style:"normal",weight:"normal",display:"swap"}).load().then(function(t){document.fonts.add(t)}).catch(function(t){}),g.font_url=!1)},o.AslPlugin.prototype.updateHref=function(){if(this.o.trigger.update_href&&!this.usingLiveLoader){let e=this.getStateURL()+(this.resultsOpened?"&asl_s=":"&asl_ls=")+this.n("text").val();history.replaceState("","",e.replace(location.origin,""))}},o.AslPlugin.prototype.fixClonedSelf=function(){let e=this,t=e.o.iid,s=e.o.rid;for(;!g.instances.set(e)&&(++e.o.iid,!(e.o.iid>50)););if(t!=e.o.iid){e.o.rid=e.o.id+"_"+e.o.iid;const i=e.n("search").get(0);i!==void 0&&(i.id="ajaxsearchlite"+e.o.rid,e.n("search").removeClass("asl_m_"+s).addClass("asl_m_"+e.o.rid).data("instance",e.o.iid));const n=e.n("searchsettings").get(0);n!==void 0&&(n.id=n.id.replace("settings"+s,"settings"+e.o.rid)),e.n("searchsettings").hasClass("asl_s_"+s)?e.n("searchsettings").removeClass("asl_s_"+s).addClass("asl_s_"+e.o.rid).data("instance",e.o.iid):e.n("searchsettings").removeClass("asl_sb_"+s).addClass("asl_sb_"+e.o.rid).data("instance",e.o.iid);const l=e.n("resultsDiv").get(0);l!==void 0&&(l.id=l.id.replace("prores"+s,"prores"+e.o.rid),e.n("resultsDiv").removeClass("asl_r_"+s).addClass("asl_r_"+e.o.rid).data("instance",e.o.iid));const d=e.n("container").find(".asl_init_data").get(0);d!==void 0&&(e.n("container").find(".asl_init_data").data("instance",e.o.iid),d.id=d.id.replace("asl_init_id_"+s,"asl_init_id_"+e.o.rid)),e.n("prosettings").data("opened",0)}},o.AslPlugin.prototype.destroy=function(){let e=this;Object.keys(e.nodes).forEach(function(t){e.nodes[t].off?.()}),e.n("searchsettings").remove?.(),e.n("resultsDiv").remove?.(),e.n("search").remove?.(),e.n("container").remove?.(),e.documentEventHandlers.forEach(function(t){r()(t.node).off(t.event,t.handler)})};var k=null;o.AslPlugin.prototype.isRedirectToFirstResult=function(){return!!((this.n("resultsDiv").find(".asl_res_url").length>0||r()(".asl_es_"+this.o.id+" a").length>0||this.o.resPage.useAjax&&r()(this.o.resPage.selector+"a").length>0)&&(this.o.redirectOnClick&&this.ktype=="click"&&this.o.trigger.click=="first_result"||this.o.redirectOnEnter&&(this.ktype=="input"||this.ktype=="keyup")&&this.keycode==13&&this.o.trigger.return=="first_result"))},o.AslPlugin.prototype.doRedirectToFirstResult=function(){let e,t="";return this.ktype=="click"?e=this.o.trigger.click_location:e=this.o.trigger.return_location,this.n("resultsDiv").find(".asl_res_url").length>0?t=r()(this.n("resultsDiv").find(".asl_res_url").get(0)).attr("href"):r()(".asl_es_"+this.o.id+" a").length>0?t=r()(r()(".asl_es_"+this.o.id+" a").get(0)).attr("href"):this.o.resPage.useAjax&&r()(this.o.resPage.selector+"a").length>0&&(t=r()(r()(this.o.resPage.selector+"a").get(0)).attr("href")),t!==""&&(e=="same"?window.location.href=t:(0,a.openInNewTab)(t),this.hideLoader(),this.hideResults()),!1},o.AslPlugin.prototype.doRedirectToResults=function(e){let t;e=="click"?t=this.o.trigger.click_location:t=this.o.trigger.return_location;let s=this.getRedirectURL(e);if(this.o.overridewpdefault){if(this.o.resPage.useAjax==1)return this.hideResults(),this.liveLoad(this.o.resPage.selector,s),this.showLoader(),!1;this.o.override_method=="post"?(0,a.submitToUrl)(s,"post",{asl_active:1,p_asl_data:this.n("searchsettings").find("form").serialize()},t):t=="same"?location.href=s:(0,a.openInNewTab)(s)}else(0,a.submitToUrl)(s,"post",{np_asl_data:this.n("searchsettings").find("form").serialize()},t);this.n("proloading").css("display","none"),this.hideLoader(),this.hideResults(),this.searchAbort()},o.AslPlugin.prototype.getRedirectURL=function(e="enter"){let t,s,i,n;if(e=="click"?s=this.o.trigger.click:s=this.o.trigger.return,s=="results_page"||s=="ajax_search"?t="?s="+(0,a.nicePhrase)(this.n("text").val()):s=="woo_results_page"?t="?post_type=product&s="+(0,a.nicePhrase)(this.n("text").val()):(n=this.o.trigger.redirect_url,t=n.replace(/{phrase}/g,(0,a.nicePhrase)(this.n("text").val()))),this.o.homeurl.indexOf("?")>1&&t.indexOf("?")===0&&(t=t.replace("?","&")),this.o.overridewpdefault&&this.o.override_method!="post"){let l="&";this.o.homeurl.indexOf("?")===-1&&t.indexOf("?")===-1&&(l="?");let d=t+l+"asl_active=1&p_asl_data=1&"+this.n("searchsettings").find("form").serialize();i=this.o.homeurl+d}else i=this.o.homeurl+t;return i=i.replace("https://","https:///"),i=i.replace("http://","http:///"),i=i.replace(/\/\//g,"/"),i=a.Hooks.applyFilters("asl/redirect/url",i,this.o.id,this.o.iid),i};var D=null;o.AslPlugin.prototype.showResults=function(){let e=this;e.initResults(),e.showVerticalResults(),e.hideLoader(),e.n("proclose").css({display:"block"}),e.n("showmore")!=null&&(e.n("items").length>0?e.n("showmore").css({display:"block"}):e.n("showmore").css({display:"none"})),e.resultsOpened=!0},o.AslPlugin.prototype.hideResults=function(e=!0){let t=this;if(!t.resultsOpened)return!1;t.n("resultsDiv").removeClass(t.resAnim.showClass).addClass(t.resAnim.hideClass),setTimeout(function(){t.n("resultsDiv").css(t.resAnim.hideCSS)},t.resAnim.duration),t.n("proclose").css({display:"none"}),(0,a.isMobile)()&&e&&document.activeElement?.blur(),t.resultsOpened=!1,t.n("s").trigger("asl_results_hide",[t.o.id,t.o.iid],!0,!0)},o.AslPlugin.prototype.showResultsBox=function(){let e=this;e.n("s").trigger("asl_results_show",[e.o.id,e.o.iid],!0,!0),e.n("resultsDiv").css({display:"block",height:"auto"}),e.n("resultsDiv").css(e.resAnim.showCSS),e.n("resultsDiv").removeClass(e.resAnim.hideClass).addClass(e.resAnim.showClass),e.fixResultsPosition(!0)},o.AslPlugin.prototype.addHighlightString=function(e){let t=this,s=t.n("text").val().replace(/["']/g,"");e=typeof e>"u"?t.n("items").find("a.asl_res_url"):e,t.o.singleHighlight==1&&s!=""&&e.length>0&&e.forEach(function(i){try{const n=new URL(r()(i).attr("href"));n.searchParams.set("asl_highlight",s),n.searchParams.set("p_asid",String(t.o.id)),r()(i).attr("href",n.href)}catch{}})},o.AslPlugin.prototype.scrollToResults=function(){let e=this,t=Math.floor(window.innerHeight*.1),s;if(!e.resultsOpened||e.o.scrollToResults.enabled!=1||e.n("resultsDiv").inViewPort(t))return;e.o.resultsposition=="hover"?s=e.n("probox").offset().top-20:s=e.n("resultsDiv").offset().top-20,s=s+e.o.scrollToResults.offset;let i=r()("#wpadminbar");i.length>0&&(s-=i.height()),s=s<0?0:s,window.scrollTo({top:s,behavior:"smooth"})};var R=null;const w=window.ASL;o.AslPlugin.prototype.searchAbort=function(){let e=this;e.post!=null&&e.post.abort()},o.AslPlugin.prototype.searchWithCheck=function(e=50){let t=this;t.n("text").val().length<t.o.charcount||(t.searchAbort(),clearTimeout(t.timeouts.searchWithCheck),t.timeouts.searchWithCheck=setTimeout(function(){t.search()},e))},o.AslPlugin.prototype.search=function(){let e=this;if(e.searching,e.n("text").val().length<e.o.charcount)return;e.searching=!0,e.n("proloading").css({display:"block"}),e.n("proclose").css({display:"none"});let t={action:"ajaxsearchlite_search",aslp:e.n("text").val(),asid:e.o.id,options:e.n("searchsettings").find("form").serialize()};if(t=a.Hooks.applyFilters("asl/search/data",t),JSON.stringify(t)===JSON.stringify(e.lastSearchData))return e.resultsOpened||e.showResults(),e.hideLoader(),e.isRedirectToFirstResult()&&e.doRedirectToFirstResult(),!1;e.gaEvent?.("search_start"),r()(".asl_es_"+e.o.id).length>0?e.liveLoad(".asl_es_"+e.o.id,e.getCurrentLiveURL(),!1):e.o.resPage.useAjax?e.liveLoad(e.o.resPage.selector,e.getRedirectURL()):e.post=r().fn.ajax({url:w.ajaxurl,method:"POST",data:t,success:function(s){let i=s.replace(/^\s*[\r\n]/gm,"");const n=i.match(/___ASLSTART___(.*[\s\S]*)___ASLEND___/);if(n===null){e.hideLoader(),console.warn("The response inner data is missing!");return}if(i=n[1],i=a.Hooks.applyFilters("asl/search/html",i),e.n("resdrg").html(""),e.n("resdrg").html(i),e.n("resdrg").find(".asl_keyword").on("click",function(){e.n("text").val(r()(this).html()),e.n("container").find("input.orig").val(r()(this).html()).trigger("keydown"),e.n("container").find("form").trigger("submit",["ajax"]),e.search()}),e.nodes.items=e.n("resultsDiv").find(".item"),e.addHighlightString(),e.gaEvent?.("search_end",{results_count:e.n("items").length}),e.gaPageview?.(e.n("text").val()),e.isRedirectToFirstResult())return e.doRedirectToFirstResult(),!1;e.hideLoader(),e.showResults(),e.scrollToResults(),e.lastSuccesfulSearch=e.n("searchsettings").find("form").serialize()+e.n("text").val().trim(),e.lastSearchData=t,e.updateHref(),e.n("items").length==0?e.n("showmore")!=null&&e.n("showmore").css("display","none"):e.n("showmore")!=null&&(e.n("showmore").css("display","block"),e.n("showmore").find("span").off(),e.n("showmore").find("span").on("click",function(){let l=e.o.trigger.click,d;l=="results_page"?d="?s="+(0,a.nicePhrase)(e.n("text").val()):l=="woo_results_page"?d="?post_type=product&s="+(0,a.nicePhrase)(e.n("text").val()):d=e.o.trigger.redirect_url.replace("{phrase}",(0,a.nicePhrase)(e.n("text").val())),e.o.overridewpdefault?e.o.override_method=="post"?(0,a.submitToUrl)(e.o.homeurl+d,"post",{asl_active:1,p_asl_data:e.n("searchsettings").find("form").serialize()}):location.href=e.o.homeurl+d+"&asl_active=1&p_asid="+e.o.id+"&p_asl_data=1&"+e.n("searchsettings").find("form").serialize():(0,a.submitToUrl)(e.o.homeurl+d,"post",{np_asl_data:e.n("searchsettings").find("form").serialize()})})),a.Hooks.applyFilters("asl/search/end",e,t)},fail:function(s){e.n("resdrg").html(""),e.n("resdrg").html('<div class="asl_nores">The request failed. Please check your connection! Status: '+s.status+"</div>"),e.nodes.items=e.n("resultsDiv").find(".item"),e.hideLoader(),e.showResults(),e.scrollToResults()}})};var T=null;o.AslPlugin.prototype.searchFor=function(e){typeof e<"u"&&this.n("text").val(e),this.n("textAutocomplete").val(""),this.search()},o.AslPlugin.prototype.toggleSettings=function(e){typeof e<"u"?e=="show"?this.showSettings():this.hideSettings():parseInt(this.n("prosettings").data("opened"))===1?this.hideSettings():this.showSettings()},o.AslPlugin.prototype.closeResults=function(e){typeof e<"u"&&e&&(this.n("text").val(""),this.n("textAutocomplete").val("")),this.hideResults(),this.n("proloading").css("display","none"),this.hideLoader(),this.searchAbort()},o.AslPlugin.prototype.getStateURL=function(){let e,t;return e=location.href.split("p_asid")[0],e=e.replace("&asl_active=1",""),e=e.replace("?asl_active=1",""),e=e.slice(-1)=="?"?e.slice(0,-1):e,e=e.slice(-1)=="&"?e.slice(0,-1):e,t=e.indexOf("?")>1?"&":"?",e+t+"p_asid="+this.o.id+"&p_asl_data=1&"+this.n("searchsettings").find("form").serialize()},o.AslPlugin.prototype.filtersInitial=function(){return this.n("searchsettings").find("input[name=filters_initial]").val()==1},o.AslPlugin.prototype.filtersChanged=function(){return this.n("searchsettings").find("input[name=filters_changed]").val()==1};var S=null;o.AslPlugin.prototype.detectAndFixFixedPositioning=function(){let e=this,t=!1,s=e.n("search").get(0);for(;s;)if(s=s.parentElement,s!=null&&window.getComputedStyle(s).position==="fixed"){t=!0;break}t||e.n("search").css("position")=="fixed"?(e.n("resultsDiv").css("position")=="absolute"&&e.n("resultsDiv").css({position:"fixed","z-index":2147483647}),e.o.blocking||e.n("searchsettings").css({position:"fixed","z-index":2147483647})):(e.n("resultsDiv").css("position")=="fixed"&&e.n("resultsDiv").css("position","absolute"),e.o.blocking||e.n("searchsettings").css("position","absolute"))},o.AslPlugin.prototype.fixResultsPosition=function(e=!1){let t=this,s=r()("body"),i=0,n=t.n("resultsDiv").css("position");if((r()._fn.bodyTransformY()!=0||s.css("position")!="static")&&(i=s.offset().top),r()._fn.bodyTransformY()!=0&&n=="fixed"&&(n="absolute",t.n("resultsDiv").css("position","absolute")),n=="fixed"&&(i=0),!(n!="fixed"&&n!="absolute")&&(e||t.n("resultsDiv").css("visibility")=="visible")){let l=t.n("search").offset(),d=0;if((r()._fn.bodyTransformX()!=0||s.css("position")!="static")&&(d=s.offset().left),typeof l<"u"){let c,h=0;(0,a.deviceType)()==="phone"?c=t.o.results.width_phone:(0,a.deviceType)()=="tablet"?c=t.o.results.width_tablet:c=t.o.results.width,c=="auto"&&(c=t.n("search").outerWidth()<240?240:t.n("search").outerWidth()),t.n("resultsDiv").css("width",(0,a.isNumeric)(c)?c+"px":c),t.o.resultsSnapTo=="right"?h=t.n("resultsDiv").outerWidth()-t.n("search").outerWidth():t.o.resultsSnapTo=="center"&&(h=Math.floor((t.n("resultsDiv").outerWidth()-parseInt(String(t.n("search").outerWidth())))/2)),t.n("resultsDiv").css({top:l.top+t.n("search").outerHeight(!0)-i+"px",left:l.left-h-d+"px"})}}},o.AslPlugin.prototype.fixSettingsPosition=function(e=!1){let t=this,s=r()("body"),i=0,n=t.n("searchsettings").css("position");if((r()._fn.bodyTransformY()!=0||s.css("position")!="static")&&(i=s.offset().top),r()._fn.bodyTransformY()!=0&&n=="fixed"&&(n="absolute",t.n("searchsettings").css("position","absolute")),n=="fixed"&&(i=0),e||t.n("prosettings").data("opened")!=="0"){let l,d,c,h,f=0;(r()._fn.bodyTransformX()!=0||s.css("position")!="static")&&(f=s.offset().left),t.fixSettingsWidth(),t.n("prosettings").css("display")!="none"?l=t.n("prosettings"):l=t.n("promagnifier"),d=l.offset(),c=d.top+l.height()-2-i+"px",h=t.o.settingsimagepos=="left"?d.left:d.left+l.width()-t.n("searchsettings").width(),h=h-f+"px",t.n("searchsettings").css({display:"block",top:c,left:h})}},o.AslPlugin.prototype.fixSettingsWidth=function(){},o.AslPlugin.prototype.hideOnInvisibleBox=function(){let e=this;e.o.detectVisibility&&!e.n("search").hasClass("hiddend")&&(e.n("search").is(":hidden")||!e.n("search").is(":visible"))&&(e.hideSettings?.(),e.hideResults())};var L=null;o.AslPlugin.prototype.initMagnifierEvents=function(){let e=this,t;e.n("promagnifier").on("click",function(s){if(e.keycode=s.keyCode||s.which,e.ktype=s.type,e.gaEvent?.("magnifier"),e.n("text").val().length>=e.o.charcount&&e.o.redirectOnClick&&e.o.trigger.click!=="first_result")return e.doRedirectToResults("click"),clearTimeout(t),!1;if(!(e.o.trigger.click=="ajax_search"||e.o.trigger.click=="first_result"))return!1;e.searchAbort(),clearTimeout(e.timeouts.search),e.n("proloading").css("display","none"),e.timeouts.search=setTimeout(function(){e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader?e.search():e.isRedirectToFirstResult()?e.doRedirectToFirstResult():e.n("proclose").css("display","block")},e.o.trigger.delay)})};var C=null;o.AslPlugin.prototype.initInputEvents=function(){let e=this,t=!1,s=function(){e.n("text").off("mousedown touchstart keydown",s),t||(e._initFocusInput(),e.o.trigger.type&&e._initSearchInput(),e._initEnterEvent(),e._initFormEvent(),e.initAutocompleteEvent?.(),t=!0)};e.n("text").on("mousedown touchstart keydown",s,{passive:!0})},o.AslPlugin.prototype._initFocusInput=function(){let e=this;e.n("text").on("click",function(t){if(t.stopPropagation(),t.stopImmediatePropagation(),r()(this).trigger("focus",[]),e.gaEvent?.("focus"),e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()==e.lastSuccesfulSearch)return!e.resultsOpened&&!e.usingLiveLoader&&e.showResults(),!1}),e.n("text").on("focus input",function(t){e.searching||(r()(this).val()!=""?e.n("proclose").css("display","block"):e.n("proclose").css({display:"none"}))})},o.AslPlugin.prototype._initSearchInput=function(){let e=this;e.n("text").on("input",function(t){if(e.keycode=t.keyCode||t.which,e.ktype=t.type,e.updateHref(),e.n("text").val().length<e.o.charcount)return e.n("proloading").css("display","none"),e.hideResults(!1),e.searchAbort(),clearTimeout(e.timeouts.search),!1;e.searchAbort(),clearTimeout(e.timeouts.search),e.n("proloading").css("display","none"),e.timeouts.search=setTimeout(function(){e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader?e.search():e.isRedirectToFirstResult()?e.doRedirectToFirstResult():e.n("proclose").css("display","block")},e.o.trigger.delay)})},o.AslPlugin.prototype._initEnterEvent=function(){let e=this,t,s=!1;e.n("text").on("keyup",function(i){if(e.keycode=i.keyCode||i.which,e.ktype=i.type,e.keycode==13){if(clearTimeout(t),t=setTimeout(function(){s=!1},300),s)return!1;s=!0}let n=r()(this).hasClass("orig");e.n("text").val().length>=e.o.charcount&&n&&e.keycode==13&&(e.gaEvent?.("return"),e.o.redirectOnEnter?e.o.trigger.return!="first_result"?e.doRedirectToResults(e.ktype):e.search():e.o.trigger.return=="ajax_search"&&(e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader)&&e.search(),clearTimeout(e.timeouts.search))})},o.AslPlugin.prototype._initFormEvent=function(){let e=this;r()(e.n("text").closest("form").get(0)).on("submit",function(t,s){if(t.preventDefault(),(0,a.isMobile)())if(e.o.redirectOnEnter){let i=new Event("keyup");i.keyCode=i.which=13,e.n("text").get(0).dispatchEvent(i)}else e.search(),document?.activeElement?.blur();else typeof s<"u"&&s=="ajax"&&e.search()})},o.AslPlugin.prototype.initNavigationEvents=function(){let e=this,t=function(s){let i=s.keyCode||s.which;if(r()(".item",e.n("resultsDiv")).length>0&&e.n("resultsDiv").css("display")!="none"&&e.o.resultstype=="vertical"){if(i==40||i==38){let n=e.n("resultsDiv").find(".item.hovered");if(e.n("text").trigger("blur",[]),n.length==0?e.n("resultsDiv").find(".item").first().addClass("hovered"):(i==40&&(n.next(".item").length==0?e.n("resultsDiv").find(".item").removeClass("hovered").first().addClass("hovered"):n.removeClass("hovered").next(".item").addClass("hovered")),i==38&&(n.prev(".item").length==0?e.n("resultsDiv").find(".item").removeClass("hovered").last().addClass("hovered"):n.removeClass("hovered").prev(".item").addClass("hovered"))),s.stopPropagation(),s.preventDefault(),!e.n("resultsDiv").find(".resdrg .item.hovered").inViewPort(50,e.n("resultsDiv").get(0))){let l=e.n("resultsDiv").find(".resdrg .item.hovered").get(0);l!=null&&typeof l.scrollIntoView<"u"&&l.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}i==13&&e.n("resultsDiv").find(".item.hovered").length>0&&(s.stopPropagation(),s.preventDefault(),e.n("resultsDiv").find(".item.hovered a.asl_res_url").get(0).click())}};e.documentEventHandlers.push({node:document,event:"keydown",handler:t}),r()(document).on("keydown",t)},o.AslPlugin.prototype.initOtherEvents=function(){let e=this,t,s;(0,a.isMobile)()&&(0,a.detectIOS)()&&e.n("text").on("touchstart",function(){e.savedScrollTop=window.scrollY,e.savedContainerTop=e.n("search").offset().top}),e.n("proclose").on(e.clickTouchend,function(i){i.preventDefault(),i.stopImmediatePropagation(),e.n("text").val(""),e.n("textAutocomplete").val(""),e.hideResults(),e.n("text").trigger("focus",[]),e.n("proloading").css("display","none"),e.hideLoader(),e.searchAbort(),r()(".asl_es_"+e.o.id).length>0?(e.showLoader(),e.liveLoad(".asl_es_"+e.o.id,e.getCurrentLiveURL(),!1)):e.o.resPage.useAjax&&(e.showLoader(),e.liveLoad(e.o.resPage.selector,e.getRedirectURL())),e.n("text").get(0).focus()}),(0,a.isMobile)()?(t=function(){e.orientationChange(),setTimeout(function(){e.orientationChange()},600)},e.documentEventHandlers.push({node:window,event:"orientationchange",handler:t}),r()(window).on("orientationchange",t)):(t=function(){e.resize()},e.documentEventHandlers.push({node:window,event:"resize",handler:t}),r()(window).on("resize",t,{passive:!0})),s=function(){e.scrolling(!1)},e.documentEventHandlers.push({node:window,event:"scroll",handler:s}),r()(window).on("scroll",s,{passive:!0}),(0,a.isMobile)()&&e.o.mobile.menu_selector!=""&&r()(e.o.mobile.menu_selector).on("touchend",function(){let i=this;setTimeout(function(){let n=r()(i).find("input.orig");n=n.length==0?r()(i).next().find("input.orig"):n,n=n.length==0?r()(i).parent().find("input.orig"):n,n=n.length==0?e.n("text"):n,e.n("search").inViewPort()&&n.get(0).focus()},300)}),(0,a.detectIOS)()&&(0,a.isMobile)()&&(0,a.isTouchDevice)()&&parseInt(e.n("text").css("font-size"))<16&&(e.n("text").data("fontSize",e.n("text").css("font-size")).css("font-size","16px"),e.n("textAutocomplete").css("font-size","16px"),r()("body").append("<style>#ajaxsearchlite"+e.o.rid+" input.orig::-webkit-input-placeholder{font-size: 16px !important;}</style>"))},o.AslPlugin.prototype.orientationChange=function(){let e=this;e.detectAndFixFixedPositioning(),e.fixSettingsPosition(),e.fixResultsPosition()},o.AslPlugin.prototype.resize=function(){let e=this;e.detectAndFixFixedPositioning(),e.fixSettingsPosition(),e.fixResultsPosition()},o.AslPlugin.prototype.scrolling=function(e){let t=this;t.detectAndFixFixedPositioning(),t.hideOnInvisibleBox(),t.fixSettingsPosition(e),t.fixResultsPosition(e)},o.AslPlugin.prototype.initResultsEvents=function(){let e=this;e.n("resultsDiv").css({opacity:"0"});let t=function(s){let i=s.keyCode||s.which,n=s.type;if(r()(s.target).closest(".asl_w").length==0&&(e.hideOnInvisibleBox(),n!="click"||n!="touchend"||i!=3)){if(!e.resultsOpened||e.o.closeOnDocClick!=1)return;e.dragging||(e.hideLoader(),e.searchAbort(),e.hideResults())}};e.documentEventHandlers.push({node:document,event:e.clickTouchend,handler:t}),r()(document).on(e.clickTouchend,t),e.n("resultsDiv").on("click",".results .item",function(){e.gaEvent?.("result_click",{result_title:r()(this).find("a.asl_res_url").text(),result_url:r()(this).find("a.asl_res_url").attr("href")})})};var E=null;o.AslPlugin.prototype.monitorTouchMove=function(){let e=this;e.dragging=!1,r()("body").on("touchmove",function(){e.dragging=!0}).on("touchstart",function(){e.dragging=!1})};var O=null;o.AslPlugin.prototype.init=function(e,t){return this.o={...this.o,...e},this.nodes={},this.nodes.search=r()(t),this.initNodeVariables(),this.o.redirectOnClick=this.o.trigger.click!="ajax_search"&&this.o.trigger.click!="nothing",this.o.redirectOnEnter=this.o.trigger.return!="ajax_search"&&this.o.trigger.return!="nothing",this.usingLiveLoader=this.o.resPage.useAjax&&r()(this.o.resPage.selector).length>0||r()(".asl_es_"+this.o.id).length>0,this.usingLiveLoader&&(this.o.trigger.type=this.o.resPage.trigger_type,this.o.trigger.facet=this.o.resPage.trigger_facet,this.o.resPage.trigger_magnifier&&(this.o.redirectOnClick=!1,this.o.trigger.click="ajax_search"),this.o.resPage.trigger_return&&(this.o.redirectOnEnter=!1,this.o.trigger.return="ajax_search")),this.monitorTouchMove(),this.initEvents(),this.n("s").trigger("asl_init_search_bar",[this.o.id,this.o.iid],!0,!0),this},o.AslPlugin.prototype.n=function(e){if(typeof this.nodes[e]<"u")return this.nodes[e];switch(e){case"s":this.nodes[e]=this.nodes.search;break;case"container":this.nodes[e]=this.nodes.search.closest(".asl_w_container");break;case"searchsettings":this.nodes[e]=this.n("container").find(".asl_s");break;case"resultsDiv":this.nodes[e]=this.n("container").find(".asl_r");break;case"probox":this.nodes[e]=this.nodes.search.find(".probox");break;case"proinput":this.nodes[e]=this.nodes.search.find(".proinput");break;case"text":this.nodes[e]=this.nodes.search.find(".proinput input.orig");break;case"textAutocomplete":this.nodes[e]=this.nodes.search.find(".proinput input.autocomplete");break;case"proloading":this.nodes[e]=this.nodes.search.find(".proloading");break;case"proclose":this.nodes[e]=this.nodes.search.find(".proclose");break;case"promagnifier":this.nodes[e]=this.nodes.search.find(".promagnifier");break;case"prosettings":this.nodes[e]=this.nodes.search.find(".prosettings");break;case"settingsAppend":this.nodes[e]=r()("#wpdreams_asl_settings_"+this.o.id);break;case"resultsAppend":this.nodes[e]=r()("#wpdreams_asl_results_"+this.o.id);break;case"trythis":this.nodes[e]=r()("#asp-try-"+this.o.rid);break;case"hiddenContainer":this.nodes[e]=this.n("container").find(".asl_hidden_data");break;case"aspItemOverlay":this.nodes[e]=this.n("hiddenContainer").find(".asl_item_overlay");break;case"showmore":this.nodes[e]=this.n("resultsDiv").find(".showmore");break;case"items":this.nodes[e]=this.n("resultsDiv").find(".item").length>0?this.n("resultsDiv").find(".item"):this.n("resultsDiv").find(".photostack-flip");break;case"results":this.nodes[e]=this.n("resultsDiv").find(".results");break;case"resdrg":this.nodes[e]=this.n("resultsDiv").find(".resdrg");break}return this.nodes[e]},o.AslPlugin.prototype.initNodeVariables=function(){let e=this;e.o.id=parseInt(e.nodes.search.data("id")),e.o.iid=parseInt(e.nodes.search.data("instance")),e.o.rid=e.o.id+"_"+e.o.iid,e.fixClonedSelf()},o.AslPlugin.prototype.initEvents=function(){this.initSettingsSwitchEvents?.(),this.initOtherEvents(),this.initMagnifierEvents(),this.initInputEvents()};var F=null;o.AslPlugin.prototype.initResults=function(){this.resultsInitialized||(this.initResultsBox(),this.initResultsEvents(),this.initNavigationEvents?.())},o.AslPlugin.prototype.initResultsBox=function(){let e=this;e.initResultsAnimations(),(0,a.isMobile)()&&e.o.mobile.force_res_hover==1?(e.o.resultsposition="hover",e.nodes.resultsDiv=e.n("resultsDiv").clone(),r()("body").append(e.nodes.resultsDiv),e.nodes.resultsDiv.css({position:"absolute"}),e.detectAndFixFixedPositioning()):e.o.resultsposition=="hover"&&e.n("resultsAppend").length<=0?(e.nodes.resultsDiv=e.n("resultsDiv").clone(),r()("body").append(e.n("resultsDiv"))):(e.o.resultsposition="block",e.n("resultsDiv").css({position:"static"}),e.n("resultsAppend").length>0&&(e.n("resultsAppend").find(".asl_w").length>0?e.nodes.resultsDiv=e.n("resultsAppend").find(".asl_w"):(e.nodes.resultsDiv=e.n("resultsDiv").clone(),e.nodes.resultsAppend.append(e.n("resultsDiv"))))),e.nodes.showmore=e.n("resultsDiv").find(".showmore"),e.nodes.items=e.n("resultsDiv").find(".item").length>0?e.n("resultsDiv").find(".item"):e.n("resultsDiv").find(".photostack-flip"),e.nodes.results=e.n("resultsDiv").find(".results"),e.nodes.resdrg=e.n("resultsDiv").find(".resdrg"),e.n("resultsDiv").get(0).id=e.n("resultsDiv").get(0).id.replace("__original__",""),e.detectAndFixFixedPositioning(),e.resultsInitialized=!0},o.AslPlugin.prototype.initResultsAnimations=function(){this.n("resultsDiv").css({"-webkit-animation-duration":this.resAnim.duration+"ms","animation-duration":this.resAnim.duration+"ms"})};var j=null;Object(window.WPD).AjaxSearchLite=m.default})();
