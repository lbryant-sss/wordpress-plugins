(function(){"use strict";var n={};(function(){n.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(e,{a:e}),e}})(),function(){n.d=function(a,e){for(var t in e)n.o(e,t)&&!n.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})}}(),function(){n.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}();var c={},u=Object(window.WPD).DoMini,_=n.n(u),l=Object(window.WPD).global,d={plugin:new l.AslPlugin,addons:{addons:[],add(a){if(this.addons.indexOf(a)===-1){const e=this.addons.push(a);this.addons[e-1].init()}},remove(a){this.addons=this.addons.filter(e=>e.name===a?(typeof e.destroy<"u"&&e.destroy(),!1):!0)}}},f=Object(window.WPD).utils;class h{name="WooCommerce Add To Cart";requests=[];$liveRegion=void 0;init(){f.Hooks.addFilter("asl/search/end",this.finished.bind(this),10,this)}finished(e){typeof window.wc_add_to_cart_params>"u"||typeof jQuery>"u"||(this.addRequest=this.addRequest.bind(this),this.run=this.run.bind(this),this.$liveRegion=this.createLiveRegion(),jQuery(e.n("resdrg").get(0)).find(".add-to-cart-button:not(.wc-interactive)").off().on("click",{addToCartHandler:this},this.onAddToCart))}addRequest(e){this.requests.push(e),this.requests.length===1&&this.run()}run(){const e=this,t=e.requests[0].complete;e.requests[0].complete=function(){typeof t=="function"&&t(),e.requests.shift(),e.requests.length>0&&e.run()},jQuery.ajax(this.requests[0])}onAddToCart(e){if(typeof window.wc_add_to_cart_params>"u"||typeof jQuery>"u")return;const t=jQuery(this);if(t.is(".ajax-add-to-cart")){if(!t.attr("data-product_id"))return!0;if(e.data.addToCartHandler.$liveRegion.text("").removeAttr("aria-relevant"),e.preventDefault(),t.removeClass("added"),t.addClass("loading"),jQuery(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[t])===!1)return jQuery(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,t]),!0;const i={};jQuery.each(t.data(),function(r,o){i[r]=o}),jQuery.each(t[0].dataset,function(r,o){i[r]=o});const s=t.closest(".add-to-cart-container").find(".add-to-cart-quantity");s.length>0&&(i.quantity=s.get(0).value),jQuery(document.body).trigger("adding_to_cart",[t,i]),e.data.addToCartHandler.addRequest({type:"POST",url:window.wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:i,success:function(r){if(r){if(r.error&&r.product_url){window.location=r.product_url;return}if(!(typeof window.wc_add_to_cart_params>"u"||typeof jQuery>"u")){if(window.wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=window.wc_add_to_cart_params.cart_url;return}jQuery(document.body).trigger("added_to_cart",[r.fragments,r.cart_hash,t])}}},dataType:"json"})}}createLiveRegion(){const e=jQuery(".widget_shopping_cart_live_region");return e.length?e:jQuery('<div class="widget_shopping_cart_live_region screen-reader-text" role="status"></div>').appendTo("body")}}d.addons.add(new h);var p=null;class w{name="Divi Addon";init(){window.DiviArea!==void 0&&window.DiviArea.addAction("click_overlay",()=>window.ASL.api(0,"closeResults"))}}d.addons.add(new w);var j=null;window.WPD.AjaxSearchLite=d,_()._fn.plugin("ajaxsearchlite",d.plugin),Object(window.WPD).AjaxSearchLite=c.default})();
