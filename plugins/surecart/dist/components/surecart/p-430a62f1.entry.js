import{r as t,c as s,h as e,a as i}from"./p-e97fde0a.js";const a=":host{display:block;--sc-tabs-min-width:225px}.tab-group{display:flex;flex-wrap:wrap;position:relative;border:solid 1px transparent;border-radius:0;flex-direction:row}@media screen and (min-width: 750px){.tab-group{flex-wrap:nowrap}}.tab-group__tabs{display:flex;flex-wrap:wrap;flex:0 0 auto;flex-direction:column;margin-bottom:var(--sc-spacing-xx-large)}.tab-group__nav-container{order:1;flex:1 0 100%}@media screen and (min-width: 750px){.tab-group__nav-container{min-width:var(--sc-tabs-min-width);flex:0 1 auto}}.tab-group__body{flex:1 1 auto;order:2}@media screen and (min-width: 750px){.tab-group__body{padding:0 var(--sc-spacing-xx-large)}}::slotted(sc-tab){margin-bottom:var(--sc-spacing-xx-small)}";const o=a;const r=class{constructor(e){t(this,e);this.scTabHide=s(this,"scTabHide",7);this.scTabShow=s(this,"scTabShow",7);this.tabs=[];this.panels=[];this.activeTab=undefined}componentDidLoad(){this.syncTabsAndPanels();this.setAriaLabels();this.setActiveTab(this.getActiveTab()||this.tabs[0],{emitEvents:false});this.mutationObserver=new MutationObserver((()=>{this.syncTabsAndPanels()}));this.mutationObserver.observe(this.el,{attributes:true,childList:true,subtree:true})}disconnectedCallback(){this.mutationObserver.disconnect()}syncTabsAndPanels(){this.tabs=this.getAllTabs();this.panels=this.getAllPanels()}setAriaLabels(){this.tabs.map((t=>{const s=this.panels.find((s=>s.name===t.panel));if(s){t.setAttribute("aria-controls",s.getAttribute("id"));s.setAttribute("aria-labelledby",t.getAttribute("id"))}}))}handleClick(t){const s=t.target;const e=s.closest("sc-tab");const i=e===null||e===void 0?void 0:e.closest("sc-tab-group");if(i!==this.el){return}if(e){this.setActiveTab(e,{scrollBehavior:"smooth"})}}handleKeyDown(t){const s=t.target;const e=s.closest("sc-tab");const i=e===null||e===void 0?void 0:e.closest("sc-tab-group");if(i!==this.el){return true}if(["Enter"," "].includes(t.key)){if(e){this.setActiveTab(e,{scrollBehavior:"smooth"})}}if(["ArrowUp","ArrowDown","Home","End"].includes(t.key)){const s=document.activeElement;if(s&&s.tagName.toLowerCase()==="sc-tab"){let e=this.tabs.indexOf(s);if(t.key==="Home"){e=0}else if(t.key==="End"){e=this.tabs.length-1}else if(t.key==="ArrowUp"){e=Math.max(0,e-1)}else if(t.key==="ArrowDown"){e=Math.min(this.tabs.length-1,e+1)}this.tabs[e].triggerFocus({preventScroll:true});t.preventDefault()}}}setActiveTab(t,s){s=Object.assign({emitEvents:true,scrollBehavior:"auto"},s);if(t&&t!==this.activeTab&&!t.disabled){const e=this.activeTab;this.activeTab=t;this.tabs.map((t=>t.active=t===this.activeTab));this.panels.map((t=>t.active=t.name===this.activeTab.panel));if(s.emitEvents){if(e){this.scTabHide.emit(e.panel)}this.scTabShow.emit(this.activeTab.panel)}}}getActiveTab(){const t=this.getAllTabs();return t.find((t=>t.active))}getAllChildren(){const t=this.el.shadowRoot.querySelectorAll("slot");const s=["sc-tab","sc-tab-panel"];const e=Array.from(t).map((t=>{var s;return(s=t===null||t===void 0?void 0:t.assignedElements)===null||s===void 0?void 0:s.call(t,{flatten:true})})).flat();return e.reduce(((t,s)=>{var e;return t.concat(s,[...((e=s===null||s===void 0?void 0:s.querySelectorAll)===null||e===void 0?void 0:e.call(s,"*"))||[]])}),[]).filter((t=>{var e,i;return s.includes((i=(e=t===null||t===void 0?void 0:t.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||i===void 0?void 0:i.call(e))}))}getAllTabs(t=false){return this.getAllChildren().filter((s=>t?s.tagName.toLowerCase()==="sc-tab":s.tagName.toLowerCase()==="sc-tab"&&!s.disabled))}getAllPanels(){return this.getAllChildren().filter((t=>t.tagName.toLowerCase()==="sc-tab-panel"))}render(){return e("div",{key:"5eabd08a8e912710f548bed3d5c00c07df49bfa4",part:"base",class:{"tab-group":true},onClick:t=>this.handleClick(t),onKeyDown:t=>this.handleKeyDown(t)},e("div",{key:"b3679a99ba9e459add16971d031ec812e38fc5e4",class:"tab-group__nav-container",part:"nav"},e("div",{key:"9b13dc54b7b09638e81742ec204ffbce58e8247f",class:"tab-group__nav"},e("div",{key:"0ea9325e68cb94845c0e5790ff07f2ac26710ec2",part:"tabs",class:"tab-group__tabs",role:"tablist"},e("slot",{key:"9cd1d0ff82389ee5a4a21c96923ed42a74e74a5a",onSlotchange:()=>this.syncTabsAndPanels(),name:"nav"})))),e("div",{key:"7bcb6ead8463b0910531ecd3e1ca79fc3c0796c0",part:"body",class:"tab-group__body"},e("slot",{key:"b6f33d50e1050080a754c4f3287d87842fd293d0",onSlotchange:()=>this.syncTabsAndPanels()})))}get el(){return i(this)}};r.style=o;export{r as sc_tab_group};
//# sourceMappingURL=p-430a62f1.entry.js.map