import{Fragment,h}from"@stencil/core";import{state}from"../../../../store/upsell/index";import{__,sprintf}from"@wordpress/i18n";export class ScUpsellTotals{renderAmountDue(){var e,t;return state.amount_due>0?null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_display_amount:(null===(t=null==state?void 0:state.line_item)||void 0===t?void 0:t.trial_amount)?__("Trial","surecart"):__("Free","surecart")}renderConversion(){var e,t,l,i,s,a,n,o;const d=null==state?void 0:state.checkout;return(null==d?void 0:d.show_converted_total)?(null==d?void 0:d.currency)===(null==d?void 0:d.current_currency)?null:(null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_amount)?h(Fragment,null,h("sc-divider",null),h("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},h("span",{slot:"title"},h("slot",{name:"charge-amount-description"},sprintf(__("Payment Total","surecart"),null===(l=null===(t=null==state?void 0:state.line_item)||void 0===t?void 0:t.currency)||void 0===l?void 0:l.toUpperCase()))),h("span",{slot:"price"},h("span",{class:"currency-label"},null===(s=null===(i=null==state?void 0:state.line_item)||void 0===i?void 0:i.currency)||void 0===s?void 0:s.toUpperCase()),null===(a=null==state?void 0:state.line_item)||void 0===a?void 0:a.total_default_currency_display_amount)),h("sc-line-item",null,h("span",{slot:"description",class:"conversion-description"},sprintf(__("Your payment will be processed in %s.","surecart"),null===(o=null===(n=null==state?void 0:state.line_item)||void 0===n?void 0:n.currency)||void 0===o?void 0:o.toUpperCase())))):null:null}render(){var e,t,l,i,s,a,n;return h("sc-summary",{key:"cf5e97154cb804df64baab62407bf893f7e600df","open-text":"Total","closed-text":"Total",collapsible:!0,collapsed:!0},!!(null===(e=state.line_item)||void 0===e?void 0:e.id)&&h("span",{key:"674f5871e7314fa027c0d6a91ef0b413ee24e82a",slot:"price"},this.renderAmountDue()),h("sc-divider",{key:"94f9e988682bbffb040e888029b8311c7d02d476"}),h("sc-line-item",{key:"1556c85d44b81672b5ca7dbd5f497a2e976a4955"},h("span",{key:"00a955869c9372d0d91dd80e377cc66209b1ba7e",slot:"description"},__("Subtotal","surecart")),h("span",{key:"26198c2c805ccfc9cd14dce7aa24ca09391747f6",slot:"price"},null===(t=state.line_item)||void 0===t?void 0:t.subtotal_display_amount)),((null===(i=null===(l=null==state?void 0:state.line_item)||void 0===l?void 0:l.fees)||void 0===i?void 0:i.data)||[]).filter((e=>"upsell"===e.fee_type)).map((e=>h("sc-line-item",null,h("span",{slot:"description"},e.description," ",`(${__("one time","surecart")})`),h("span",{slot:"price"},null==e?void 0:e.display_amount)))),!!(null===(s=state.line_item)||void 0===s?void 0:s.tax_amount)&&h("sc-line-item",{key:"e16f6421ae2a47aa8a91ece9ff0f9b6922c64d29"},h("span",{key:"ce2b82fc9a4e189f7cc587c5358a0682e106172e",slot:"description"},__("Tax","surecart")),h("span",{key:"667f772a3d683d30c2fc85b5ce592453343f41ee",slot:"price"},null===(a=state.line_item)||void 0===a?void 0:a.tax_display_amount)),h("sc-divider",{key:"d4a567ed93ddbf2971f603f8b088eab6dadfd246"}),h("sc-line-item",{key:"8030e0e7343b08d28b9126ef3d3d810bd34daff3",style:{"--price-size":"var(--sc-font-size-x-large)"}},h("span",{key:"5ce49a6dfedc3d422753f0699c2ac304cd3a41d4",slot:"title"},__("Total","surecart")),h("span",{key:"4d860880bc32d1dd917f274696672957d694d440",slot:"price"},null===(n=state.line_item)||void 0===n?void 0:n.total_display_amount)),this.renderConversion())}static get is(){return"sc-upsell-totals"}static get encapsulation(){return"shadow"}static get originalStyleUrls(){return{$:["sc-upsell-totals.css"]}}static get styleUrls(){return{$:["sc-upsell-totals.css"]}}}