{"version":3,"file":"sc-order-confirmation-totals.js","sourceRoot":"","sources":["../../../../../src/components/controllers/confirmation/order-confirmation-totals/sc-order-confirmation-totals.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getHumanDiscount } from '../../../../functions/price';\nimport { Checkout, ShippingChoice, ShippingMethod } from '../../../../types';\nimport { Component, h, Prop, Fragment } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { openWormhole } from 'stencil-wormhole';\nimport { formatTaxDisplay } from '../../../../functions/tax';\n\n@Component({\n  tag: 'sc-order-confirmation-totals',\n  styleUrl: 'sc-order-confirmation-totals.css',\n  shadow: true,\n})\nexport class ScOrderConfirmationTotals {\n  @Prop() order: Checkout;\n\n  renderDiscountLine() {\n    if (!this.order?.discount?.promotion?.code) {\n      return null;\n    }\n\n    let humanDiscount = '';\n\n    if (this.order?.discount?.coupon) {\n      humanDiscount = getHumanDiscount(this.order?.discount?.coupon);\n    }\n\n    return (\n      <sc-line-item style={{ marginTop: 'var(--sc-spacing-small)' }}>\n        <span slot=\"description\">\n          {__('Discount', 'surecart')}\n          <br />\n          {this.order?.discount?.promotion?.code && (\n            <sc-tag type=\"success\" size=\"small\">\n              {this.order?.discount?.promotion?.code}\n            </sc-tag>\n          )}\n        </span>\n        {humanDiscount && (\n          <span class=\"coupon-human-discount\" slot=\"price-description\">\n            ({humanDiscount})\n          </span>\n        )}\n        <span slot=\"price\">\n          {this.order?.discounts_display_amount}\n        </span>\n      </sc-line-item>\n    );\n  }\n\n  render() {\n    const shippingMethod = (this.order?.selected_shipping_choice as ShippingChoice)?.shipping_method as ShippingMethod;\n    const shippingMethodName = shippingMethod?.name;\n    return (\n      <div class={{ 'line-item-totals': true }}>\n        {this.order?.subtotal_amount !== this.order?.total_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{__('Subtotal', 'surecart')}</span>\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.subtotal_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.trial_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{__('Trial', 'surecart')}</span>\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.trial_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.discounts && (\n          <sc-line-item>\n            <span slot=\"description\">{__('Discounts', 'surecart')}</span>\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.discounts_display}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.discount?.promotion?.code && (\n          <sc-line-item>\n            <span slot=\"description\">\n              {__('Discount', 'surecart')}\n              <br />\n              <sc-tag type=\"success\">\n                {__('Coupon:', 'surecart')} {this.order?.discount?.promotion?.code}\n              </sc-tag>\n            </span>\n\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.discounts_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.shipping_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{`${__('Shipping', 'surecart')} ${shippingMethodName ? `(${shippingMethodName})` : ''}`}</span>\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.shipping_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.tax_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{`${formatTaxDisplay(this.order?.tax_label, this.order?.tax_status === 'estimated')} (${this.order?.tax_percent}%)`}</span>\n            <span slot=\"price\">{this.order?.tax_display_amount}</span>\n            {!!this.order?.tax_inclusive_amount && <span slot=\"price-description\">{`(${__('included', 'surecart')})`}</span>}\n          </sc-line-item>\n        )}\n\n        <sc-divider style={{ '--spacing': 'var(--sc-spacing-x-small)' }}></sc-divider>\n\n        <sc-line-item\n          style={{\n            'width': '100%',\n            '--price-size': 'var(--sc-font-size-x-large)',\n          }}\n        >\n          <span slot=\"title\">{__('Total', 'surecart')}</span>\n          <span slot=\"price\">{this.order?.total_display_amount}</span>\n          <span slot=\"currency\">{this.order?.currency}</span>\n        </sc-line-item>\n\n        {!!this.order?.proration_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{__('Proration', 'surecart')}</span>\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.proration_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.applied_balance_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{__('Applied Balance', 'surecart')}</span>\n            <span\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n              slot=\"price\"\n            >\n              {this.order?.applied_balance_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.credited_balance_amount && (\n          <sc-line-item>\n            <span slot=\"description\">{__('Credited Balance', 'surecart')}</span>\n            <span\n              slot=\"price\"\n              style={{\n                'font-weight': 'var(--sc-font-weight-semibold)',\n                'color': 'var(--sc-color-gray-800)',\n              }}\n            >\n              {this.order?.credited_balance_display_amount}\n            </span>\n          </sc-line-item>\n        )}\n\n        {this.order?.amount_due !== this.order?.total_amount && (\n          <sc-line-item\n            style={{\n              'width': '100%',\n              '--price-size': 'var(--sc-font-size-x-large)',\n            }}\n          >\n            <span slot=\"title\">{__('Amount Due', 'surecart')}</span>\n            <span slot=\"price\">{this.order?.amount_due_display_amount}</span>\n            <span slot=\"currency\">{this.order?.currency}</span>\n          </sc-line-item>\n        )}\n        <sc-divider style={{ '--spacing': 'var(--sc-spacing-x-small)' }}></sc-divider>\n\n        {!!this.order?.paid_amount && (\n          <sc-line-item\n            style={{\n              'width': '100%',\n              '--price-size': 'var(--sc-font-size-x-large)',\n            }}\n          >\n            <span slot=\"title\">{__('Paid', 'surecart')}</span>\n            <span slot=\"price\">{this.order?.paid_display_amount}</span>\n            <span slot=\"currency\">{this.order?.currency}</span>\n          </sc-line-item>\n        )}\n        {!!this.order?.refunded_amount && (\n          <Fragment>\n            <sc-line-item\n              style={{\n                'width': '100%',\n                '--price-size': 'var(--sc-font-size-x-large)',\n              }}\n            >\n              <span slot=\"description\">{__('Refunded', 'surecart')}</span>\n              <span slot=\"price\">{this.order?.refunded_display_amount}</span>\n            </sc-line-item>\n            <sc-line-item\n              style={{\n                'width': '100%',\n                '--price-size': 'var(--sc-font-size-x-large)',\n              }}\n            >\n              <span slot=\"title\">{__('Net Payment', 'surecart')}</span>\n              <span slot=\"price\">{this.order?.net_paid_display_amount}</span>\n            </sc-line-item>\n          </Fragment>\n        )}\n        {this.order?.tax_reverse_charged_amount > 0 && (\n          <sc-line-item>\n            <span slot=\"description\">{__('*Tax to be paid on reverse charge basis', 'surecart')}</span>\n          </sc-line-item>\n        )}\n      </div>\n    );\n  }\n}\n\nopenWormhole(ScOrderConfirmationTotals, ['order', 'busy', 'loading', 'empty'], false);\n"]}