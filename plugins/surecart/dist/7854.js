"use strict";(self.webpackChunk_surecart_surecart=self.webpackChunk_surecart_surecart||[]).push([[7854],{7771:function(e,t,a){a.d(t,{a:function(){return s},b:function(){return r},c:function(){return c},g:function(){return f},s:function(){return u}});var o=a(4467);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,o.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return new Promise((function(o){if((null==a?void 0:a.duration)===1/0)throw new Error("Promise-based animations must be finite.");if(null==e?void 0:e.animate){var i,r=e.animate(t,n(n({},a),{},{duration:(i=window.matchMedia("(prefers-reduced-motion: reduce)"),i.matches?0:a.duration)}));r&&(r.addEventListener("cancel",o,{once:!0}),r.addEventListener("finish",o,{once:!0}))}}))}function s(e){var t;return Promise.all(((null===(t=null==e?void 0:e.getAnimations)||void 0===t?void 0:t.call(e))||[]).map((function(e){return new Promise((function(t){var a=requestAnimationFrame(t);e.addEventListener("cancel",(function(){return a}),{once:!0}),e.addEventListener("finish",(function(){return a}),{once:!0}),e.cancel()}))})))}function c(e,t){return e.map((function(e){return n(n({},e),{},{height:"auto"===e.height?"".concat(t,"px"):e.height})}))}var l=new Map,d=new WeakMap;function u(e,t){l.set(e,function(e){return null!=e?e:{keyframes:[],options:{duration:0}}}(t))}function f(e,t){var a=d.get(e);return(null==a?void 0:a[t])?a[t]:l.get(t)||{keyframes:[],options:{duration:0}}}},7854:function(e,t,a){a.r(t),a.d(t,{sc_dialog:function(){return h}});var o=a(467),i=a(3029),n=a(2901),r=a(9280),s=a.n(r),c=a(1346),l=a(7771),d=new Set;function u(e){d.add(e),document.body.classList.add("sc-scroll-lock")}function f(e){d.delete(e),0===d.size&&document.body.classList.remove("sc-scroll-lock")}var h=function(){return(0,n.A)((function e(t){(0,i.A)(this,e),(0,c.r)(this,t),this.scRequestClose=(0,c.c)(this,"scRequestClose",7),this.scShow=(0,c.c)(this,"scShow",7),this.scAfterShow=(0,c.c)(this,"scAfterShow",7),this.scHide=(0,c.c)(this,"scHide",7),this.scAfterHide=(0,c.c)(this,"scAfterHide",7),this.scInitialFocus=(0,c.c)(this,"scInitialFocus",7),this.open=!1,this.label="",this.noHeader=!1,this.hasFooter=!1}),[{key:"show",value:(a=(0,o.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.open){e.next=2;break}return e.abrupt("return",void 0);case 2:this.open=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"hide",value:(t=(0,o.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.open){e.next=2;break}return e.abrupt("return",void 0);case 2:this.open=!1;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"requestClose",value:function(e){if(this.scRequestClose.emit(e).defaultPrevented){var t=(0,l.g)(this.el,"dialog.denyClose");(0,l.b)(this.panel,t.keyframes,t.options)}else this.hide()}},{key:"handleKeyDown",value:function(e){"Escape"===e.key&&(e.stopPropagation(),this.requestClose("keyboard"))}},{key:"handleOpenChange",value:(e=(0,o.A)(s().mark((function e(){var t,a,o,i,n,r,c=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.open){e.next=16;break}return this.scShow.emit(),u(this.el),(t=this.el.querySelector("[autofocus]"))&&t.removeAttribute("autofocus"),e.next=7,Promise.all([(0,l.a)(this.dialog),(0,l.a)(this.overlay)]);case 7:return this.dialog.hidden=!1,requestAnimationFrame((function(){c.scInitialFocus.emit().defaultPrevented||(t?t.focus({preventScroll:!0}):c.panel.focus({preventScroll:!0})),t&&t.setAttribute("autofocus","")})),a=(0,l.g)(this.el,"dialog.show"),o=(0,l.g)(this.el,"dialog.overlay.show"),e.next=13,Promise.all([(0,l.b)(this.panel,a.keyframes,a.options),(0,l.b)(this.overlay,o.keyframes,o.options)]);case 13:this.scAfterShow.emit(),e.next=28;break;case 16:return this.scHide.emit(),e.next=19,Promise.all([(0,l.a)(this.dialog),(0,l.a)(this.overlay)]);case 19:return i=(0,l.g)(this.el,"dialog.hide"),n=(0,l.g)(this.el,"dialog.overlay.hide"),e.next=23,Promise.all([(0,l.b)(this.panel,i.keyframes,i.options),(0,l.b)(this.overlay,n.keyframes,n.options)]);case 23:this.dialog.hidden=!0,f(this.el),"function"==typeof(null==(r=this.originalTrigger)?void 0:r.focus)&&setTimeout((function(){return r.focus()})),this.scAfterHide.emit();case 28:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"componentDidLoad",value:function(){this.hasFooter=!!this.el.querySelector('[slot="footer"]'),this.dialog.hidden=!this.open,this.open&&u(this.el)}},{key:"disconnectedCallback",value:function(){f(this.el)}},{key:"render",value:function(){var e=this;return(0,c.h)("div",{key:"a97cccbb58294275635c1901fa94220e737c6e4e",part:"base",ref:function(t){return e.dialog=t},class:{dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasFooter},onKeyDown:function(t){return e.handleKeyDown(t)}},(0,c.h)("div",{key:"f04a9db772b132f8a3d249fe5f07027361f8e552",part:"overlay",class:"dialog__overlay",onClick:function(t){t.preventDefault(),t.stopImmediatePropagation(),e.requestClose("overlay")},ref:function(t){return e.overlay=t},tabindex:"-1"}),(0,c.h)("div",{key:"db28dad6216ac1cd078aab2c94e742e4356fbda6",part:"panel",class:"dialog__panel",role:"dialog","aria-modal":"true","aria-hidden":this.open?"false":"true","aria-label":this.noHeader||this.label,"aria-labelledby":!this.noHeader||"title",ref:function(t){return e.panel=t},tabindex:"0"},!this.noHeader&&(0,c.h)("header",{key:"7ea50ef887bdb8d83961cfc0fb997d07ebd15546",part:"header",class:"dialog__header"},(0,c.h)("h2",{key:"7a306284a5a1a84cf64eacd7a3a723e1cc85ebed",part:"title",class:"dialog__title",id:"title"},(0,c.h)("slot",{key:"43db41c648fb00333453adf3225a477e096e3ebd",name:"label"}," ",this.label.length>0?this.label:String.fromCharCode(65279)," ")),(0,c.h)("sc-button",{key:"836e73aa7e7ab7d219008324bb0babe2d1b612a6",class:"dialog__close",type:"text",circle:!0,part:"close-button",exportparts:"base:close-button__base",onClick:function(t){t.preventDefault(),t.stopImmediatePropagation(),e.requestClose("close-button")}},(0,c.h)("sc-icon",{key:"dc9e98171c260b6ca0a416ccfed7c0b26004cf55",name:"x",label:wp.i18n.__("Close","surecart")}))),(0,c.h)("div",{key:"9bb22395e0da1ffbdbc92689d2dde5ac839e0ede",part:"body",class:"dialog__body"},(0,c.h)("slot",{key:"ff7335588d3411fa0ff06d181d789fdd9a8c1253"})),(0,c.h)("footer",{key:"d359b463b41a3e2b96ed3d4b023ad92ae1b10d21",part:"footer",class:"dialog__footer"},(0,c.h)("slot",{key:"757fc88cfab5fe88ec36038c7f0142c74f6ce87e",name:"footer"}))))}},{key:"el",get:function(){return(0,c.a)(this)}}],[{key:"watchers",get:function(){return{open:["handleOpenChange"]}}}]);var e,t,a}();(0,l.s)("dialog.show",{keyframes:[{opacity:0,transform:"scale(0.8)"},{opacity:1,transform:"scale(1)"}],options:{duration:150,easing:"ease"}}),(0,l.s)("dialog.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.8)"}],options:{duration:150,easing:"ease"}}),(0,l.s)("dialog.denyClose",{keyframes:[{transform:"scale(1)"},{transform:"scale(1.02)"},{transform:"scale(1)"}],options:{duration:150}}),(0,l.s)("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:150}}),(0,l.s)("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:150}}),h.style=":host{--width:31rem;--header-spacing:var(--sc-spacing-large);--body-spacing:var(--sc-spacing-large);--footer-spacing:var(--sc-spacing-large);display:contents}[hidden]{display:none !important}.dialog{display:flex;align-items:center;justify-content:center;position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--sc-z-index-dialog);box-sizing:border-box;text-align:left}.dialog__panel{display:flex;flex-direction:column;z-index:2;width:var(--width);max-width:100vw;max-height:100vh;background-color:var(--sc-panel-background-color);border-radius:var(--sc-border-radius-medium);box-shadow:var(--sc-shadow-x-large);position:relative}.dialog__panel:focus{outline:none}@media screen and (max-width: 420px){.dialog__panel{max-height:80vh}}.dialog--open .dialog__panel{display:flex;opacity:1;transform:none}.dialog__header{flex:0 0 auto;display:flex;border-bottom:1px solid var(--sc-color-gray-300)}.dialog__title{flex:1 1 auto;font:inherit;font-size:var(--sc-font-size-large);line-height:var(--sc-line-height-dense);padding:var(--header-spacing);margin:0}.dialog__close{flex:0 0 auto;display:flex;align-items:center;font-size:var(--sc-font-size-x-large);padding:0 calc(var(--header-spacing) / 2);z-index:2}.dialog__body{flex:1 1 auto;padding:var(--body-spacing);overflow:var(--dialog-body-overflow, auto);-webkit-overflow-scrolling:touch}.dialog__footer{flex:0 0 auto;text-align:right;padding:var(--footer-spacing)}.dialog__footer ::slotted(sl-button:not(:first-of-type)){margin-left:var(--sc-spacing-x-small)}.dialog:not(.dialog--has-footer) .dialog__footer{display:none}.dialog__overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:var(--sc-overlay-background-color)}"}}]);