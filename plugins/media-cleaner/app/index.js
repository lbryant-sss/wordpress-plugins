(()=>{"use strict";var e,t={9371:(e,t,r)=>{var n,a,o,i,c,l=r(5072),s=r(7665),u=r(9904),f=r(2564),m=r(9270),p=r(7097),d=r(4977),h=r(7039),E=r(4536),y=r(5263),R=r(6913),g=r(5305),S=r(4547),v=r(3676),b=r(9296),T=r(4461),_=wpmc_media_cleaner.prefix,A=wpmc_media_cleaner.domain,I=wpmc_media_cleaner.rest_url.replace(/\/+$/,""),w=wpmc_media_cleaner.api_url.replace(/\/+$/,""),O=wpmc_media_cleaner.plugin_url.replace(/\/+$/,""),N="1"===wpmc_media_cleaner.is_pro,x=N&&"1"===wpmc_media_cleaner.is_registered,D=wpmc_media_cleaner.rest_nonce,k=wpmc_media_cleaner.options,C="files"===k.method?k.filesystem_content:k.content,L="files"===k.method&&(null==k?void 0:k.media_library),P="duplicates"===k.method,M=r(197),F=r(9616);function G(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=F.Ay.div(n||(n=G(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),U=(0,F.Ay)(T.z)(a||(a=G(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 15px;\n\n    h2 {\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 10px;\n      font-size: 13px;\n      line-height: 1.5;\n    }\n\n    .plugin-actual-desc {\n      font-size: 13px;\n      font-weight: 500;\n    }\n  }\n"]))),H=F.Ay.img(o||(o=G(["\n  height: 125px;\n  width: auto;\n  border-radius: 10px;\n  background: lightgray;\n"]))),j=F.Ay.div(i||(i=G(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),Y=F.Ay.ul(c||(c=G(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: white;\n\n  .log-date {\n    color: var(--neko-yellow);\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: var(--neko-yellow);\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: var(--neko-red);\n    color: white;\n  }\n"])));function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function V(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */V=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new x(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",d="executing",h="completed",E={};function y(){}function R(){}function g(){}var S={};s(S,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==r&&n.call(b,i)&&(S=b);var T=g.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==W(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=m;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=w(c,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===E)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function w(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(W(t)+" is not iterable")}return R.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:R,configurable:!0}),R.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===R||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},_(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new A(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),s(T,l,"Generator"),s(T,i,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function z(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){K(o,n,a,i,c,"next",e)}function c(e){K(o,n,a,i,c,"throw",e)}i(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Q=wp.element,Z=Q.useState,ee=Q.useEffect,te="".concat(I,"/meow-common/v1"),re=function(e){var t=e.request,r=e.title,n=e.max,a=X(Z(!1),2),o=a[0],i=a[1],c=X(Z([]),2),l=c[0],s=c[1],f=l.length>0?l.reduce((function(e,t){return e+t})):0,m=l.length>0?Math.ceil(f/l.length):0,p=!l.length&&o;ee((function(){o&&setTimeout(q(V().mark((function e(){var r,n,a;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),e.next=3,(0,u.IU)("".concat(te,"/").concat(t),{method:"POST",nonce:D});case 3:n=(new Date).getTime(),a=n-r,s((function(e){return[].concat(z(e),[a])}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[l]);return React.createElement(B,{style:{width:200,textAlign:"center"}},React.createElement(d.s,{h2:!0,style:{color:"white"}},r),React.createElement(M.X,{size:200,value:p?n:m,max:n},React.createElement("span",{style:{fontSize:20}},p?"START":m+" ms"),React.createElement("span",{style:{fontSize:12}},p?"YOUR ENGINE":l.length+" requests")),React.createElement(b.M,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||s([]),i(!o)}},o?"Stop":"Start"))};function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ie(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ie=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new x(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",d="executing",h="completed",E={};function y(){}function R(){}function g(){}var S={};s(S,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==r&&n.call(b,i)&&(S=b);var T=g.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ne(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=m;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=w(c,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===E)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function w(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ne(t)+" is not iterable")}return R.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:R,configurable:!0}),R.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===R||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},_(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new A(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),s(T,l,"Generator"),s(T,i,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function ce(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function le(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ce(o,n,a,i,c,"next",e)}function c(e){ce(o,n,a,i,c,"throw",e)}i(void 0)}))}}var se=wp.element,ue=se.useState,fe=se.useEffect;w&&I&&O||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var me="".concat(I,"/meow-common/v1"),pe=React.createElement(B,null,React.createElement(d.s,{p:!0,style:{lineHeight:"1.5",margin:"0 0 15px 0"}},"Hi! ☀️ Meow Apps isn't your typical plugin suite—it's a passion project led by me, ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://jordymeow.com"},"Jordy Meow"),", and a stellar team! 💕 Based in ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://offbeatjapan.org"},"Japan"),", we're all about making your WordPress experience smoother and speedier. Our plugins are all about boosting your site's performance and user-friendliness. Ready to level up your WordPress game? Check out ",React.createElement("a",{href:"http://meowapps.com",rel:"noreferrer",target:"_blank"},"Meow Apps")," and let's make magic happen! 🌴🙀")),de=React.createElement(B,null,React.createElement(d.s,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),he=React.createElement(B,null,React.createElement(d.s,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",rel:"noreferrer",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",rel:"noreferrer",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",rel:"noreferrer",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",rel:"noreferrer",target:"_blank"},"The Best Hosting Services for WordPress"))))),Ee=function(){var e=le(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.IU)("".concat(me,"/all_settings/"),{method:"POST",nonce:D});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=le(ie().mark((function e(t){var r,n,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,n=t.id,e.next=3,(0,u.IU)("".concat(me,"/update_option"),{method:"POST",nonce:D,json:{name:n,value:r}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=le(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.IU)("".concat(me,"/error_logs"),{method:"POST",nonce:D});case 2:return t=e.sent,e.abrupt("return",t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,s.jE)(),t=ae(ue(!1),2),r=t[0],n=t[1],a=ae(ue(""),2),o=a[0],i=a[1],c=(0,m.I)({queryKey:["all_settings"],queryFn:Ee}),l=c.data,u=c.error,f=(0,p.n)({mutationFn:ye,onSuccess:function(){e.invalidateQueries(["all_settings"])}}),_=(0,p.n)({mutationFn:Re}),A=null==l?void 0:l.meowapps_hide_meowapps,I=null==l?void 0:l.force_sslverify;fe((function(){u&&!r&&(n(!0),console.error("Error from useQuery",u.message))}),[u]),fe((function(){var e=document.getElementById("meow-common-phpinfo");e&&i(e.innerHTML)}),[]);var w=function(e,t){f.mutate({value:e,id:t})},O=React.createElement(h.d,{title:"Main Menu"},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(d.s,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:f.isPending,checked:A,onChange:w}))),N=React.createElement(h.d,{title:"SSL Verify"},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(d.s,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:f.isPending,checked:I,onChange:w})));return React.createElement(R.z,{showRestError:r},React.createElement(g.n,{title:"The Dashboard"}),React.createElement(S.N,null,React.createElement(S.Y,{full:!0},React.createElement(v._,{keepTabOnReload:!0},React.createElement(v.V,{title:"Meow Apps"},pe,React.createElement(S.N,null,React.createElement(S.Y,{minimal:!0},React.createElement(U,{title:"AI Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/",rel:"noreferrer"},"AI Engine")),React.createElement("p",{className:"plugin-actual-desc"},"This is the ultimate AI plugin for WordPress. From a chatbot adapted to your needs to an AI that can write your content for you, API, REST, and more."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/",rel:"noreferrer"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/ai-engine/",rel:"noreferrer"},"Meow Apps"))))),React.createElement(U,{title:"Media Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/",rel:"noreferrer"},"Media Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Is your Media Library bloated, your database heavy, and your website running slow? Media Cleaner will clean your Media Library from the media entries (and files) which aren't used in your website, as well as broken entries."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/",rel:"noreferrer"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-cleaner/",rel:"noreferrer"},"Meow Apps"))))),React.createElement(U,{title:"Database Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/",rel:"noreferrer"},"Database Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins. It's a must-have for any WordPress site."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/",rel:"noreferrer"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/database-cleaner/",rel:"noreferrer"},"Meow Apps"))))),React.createElement(U,{title:"Media File Renamer",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/",rel:"noreferrer"},"Media File Renamer")),React.createElement("p",{className:"plugin-actual-desc"},"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk. It's the best way to rename your files."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/",rel:"noreferrer"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-file-renamer/",rel:"noreferrer"},"Meow Apps"))))),React.createElement(U,{title:"Social Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/",rel:"noreferrer"},"Social Engine")),React.createElement("p",{className:"plugin-actual-desc"},'Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite className="plugin-actual-desc" extensibility, for free!'),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/",rel:"noreferrer"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/social-engine/",rel:"noreferrer"},"Meow Apps"))))),React.createElement(U,{title:"Meow Analytics",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",{className:"plugin-actual-desc"},"Google Analytics for your website. Simple and fast."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/meow-analytics/"},"Meow Apps")))))),React.createElement(S.Y,{minimal:!0},React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/seo-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/",rel:"noreferrer"},"SEO Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Optimize your content for SEO and for the AI world, with AI assistants... while keeping everything simple and fast, as it should be! ✌️"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/seo-engine/"},"Meow Apps"))))),React.createElement(U,{title:"Meow Gallery",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",{className:"plugin-actual-desc"},"Fast and beautiful galleries with many layouts. Forget the heavy and slow plugins, use the Meow Gallery for a better experience! 💕"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/meow-gallery/"},"Meow Apps"))))),React.createElement(U,{title:"Meow Lightbox",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.gif"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",{className:"plugin-actual-desc"},"Sleek and performant lightbox with EXIF support."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/meow-lightbox/"},"Meow Apps"))))),React.createElement(U,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",{className:"plugin-actual-desc"},"Manage, Optimize, Replace your images with Perfect Images."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/wp-retina-2x/"},"Meow Apps"))))),React.createElement(U,{title:"Photo Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Organize your photos in folders and collections. Synchronize with Lightroom. Simplify and speed up your workflow."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/wplr-sync/"},"Meow Apps"))))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",{className:"plugin-actual-desc"},"Need a very simple but straightforward contact form? This is the one you need. It's fast, simple, and efficient."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/contact-form-block/"},"Meow Apps")))))))),React.createElement(v.V,{title:"Performance"},de,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(re,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(re,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(re,{title:"SQL Request Time",request:"sql_request",max:2800})),he),React.createElement(v.V,{title:"PHP Info"},React.createElement(j,{dangerouslySetInnerHTML:{__html:o}})),React.createElement(v.V,{title:"PHP Error Logs"},React.createElement(B,null,React.createElement(b.M,{style:{marginBottom:10},color:"#ccb027",onClick:function(){_.mutate()},disabled:_.isPending,isBusy:_.isPending},"Load PHP Error Logs"),React.createElement(Y,null,(_.data||[]).map((function(e){return React.createElement("li",{className:"log-".concat(e.type),key:e.id},React.createElement("span",{className:"log-type"},e.type),React.createElement("span",{className:"log-date"},e.date),React.createElement("span",{className:"log-content"},e.content))}))),React.createElement(d.s,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(v.V,{title:"Settings"},React.createElement(T.z,{title:"Settings",className:"primary"},O,N))))))},Se=r(8696),ve=r(2109),be=r(3860),Te=r(9794),_e=r(1543),Ae=r(6734),Ie=r(7213);function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Oe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Oe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new x(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",d="executing",h="completed",E={};function y(){}function R(){}function g(){}var S={};s(S,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==r&&n.call(b,i)&&(S=b);var T=g.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==we(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=m;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=w(c,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===E)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function w(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(we(t)+" is not iterable")}return R.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:R,configurable:!0}),R.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===R||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},_(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new A(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),s(T,l,"Generator"),s(T,i,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function Ne(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ne(o,n,a,i,c,"next",e)}function c(e){Ne(o,n,a,i,c,"throw",e)}i(void 0)}))}}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ke(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ce,Le=wp.element,Pe=Le.useState,Me=Le.useEffect,Fe="".concat(I,"/meow-licenser/").concat(_,"/v1"),Ge=function(){var e=De(Pe(!1),2),t=e[0],r=e[1],n=De(Pe(!1),2),a=n[0],o=n[1],i=De(Pe(null),2),c=i[0],l=i[1],s=De(Pe(null),2),f=s[0],m=s[1],p=De(Pe(""),2),h=p[0],E=p[1],y=x&&(!f||"valid"!==f.license),R=function(){var e=xe(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return r(!0),e.prev=3,e.next=6,(0,u.IU)("".concat(Fe,"/get_license"),{method:"POST",nonce:D});case 6:t=e.sent,m(t.data),t.data.key&&E(t.data.key),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),alert("Error while checking the license. Check your console for more information."),console.error(e.t0);case 15:r(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=xe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,(0,u.IU)("".concat(Fe,"/set_license"),{method:"POST",nonce:D,json:{serialKey:null}});case 4:e.sent.success&&(E(""),m(null),l("licenseRemoved")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error while removing the license. Check your console for more information."),console.error(e.t0);case 12:r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=xe(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,(0,u.IU)("".concat(Fe,"/set_license"),{method:"POST",nonce:D,json:{serialKey:h,override:!0}});case 4:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error while forcing the license. Check your console for more information."),console.error(e.t0);case 12:r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=xe(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==h){e.next=5;break}return o(!0),m(null),E(""),e.abrupt("return");case 5:return r(!0),e.prev=6,e.next=9,(0,u.IU)("".concat(Fe,"/set_license"),{method:"POST",nonce:D,json:{serialKey:h}});case 9:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),alert("Error while validating the license. Check your console for more information."),console.error(e.t0);case 17:r(!1);case 18:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();Me((function(){R()}),[]);var _=y?"Forced License":x?"Enabled":"Disabled",A=y||f&&"valid"===f.license,I="Your license is active. Thanks a lot for your support :)";y&&(I="This license has been force-enabled for you.",f&&f.check_url&&(I=React.createElement(React.Fragment,null,React.createElement("span",null,I),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:f.check_url+"&cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),A||(f?"no_activations_left"===f.issue?I=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===f.issue?I=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===f.issue?I="This license does not exist.":"disabled"===f.issue?I="This license has been disabled.":"item_name_mismatch"===f.issue?I="This license seems to be for a different plugin... isn't it? :)":"forced"===f.issue?I="ABC":(I=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:f})):I="Unknown error :(");var w=React.createElement(T.z,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),O=React.createElement(T.z,{title:"Pro Version (".concat(_,")"),busy:t,className:"primary"},!y&&!(f&&f.key===h)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(Se.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:h,onChange:function(e){return E(e)},placeholder:"Type your license key..."}),React.createElement(d.s,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),f&&!A&&React.createElement(Ie.X,{variant:"danger"},I),(y||f)&&A&&React.createElement(Ie.X,{variant:"success"},I),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},f&&!A&&React.createElement(b.M,{className:"secondary",disabled:t||!h,onClick:v},"Retry to validate"),React.createElement(b.M,{className:"secondary",disabled:!1,onClick:g},"Remove License"),React.createElement(b.M,{disabled:t||!h||f&&f.key===h,onClick:v},"Validate License"),a&&!A&&React.createElement(b.M,{disabled:t||!h||f&&f.key===h,onClick:S,className:"danger"},"Force License")),React.createElement(Te.n,{isOpen:"licenseAdded"===c,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(Te.n,{isOpen:"licenseRemoved"===c,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return N?O:w};function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var He=wp.i18n.__,je={};je.COMMON={PLUGIN_NAME:He("Media Cleaner","media-cleaner"),TUTORIAL:He("Tutorial","media-cleaner"),SETTINGS:He("Settings","media-cleaner"),DASHBOARD:He("Dashboard","media-cleaner"),MEDIA_LIBRARY:He("Media Library","media-cleaner"),FILESYSTEM:He("Filesystem","media-cleaner"),DUPLICATES:He("Duplicates (BETA)","media-cleaner"),BY_JORDY_MEOW:He("By Jordy Meow","media-cleaner"),MODAL_DOES_NOT_EXIST:He("The modal {0} doesn't exist.","media-cleaner")},je.ISSUE_CODES={NO_CONTENT:He("Not found in content","media-cleaner"),ORPHAN_MEDIA:He("Not attached file","media-cleaner"),ORPHAN_FILE:He("Not in library","media-cleaner"),ORPHAN_RETINA:He("Orphan @2x","media-cleaner"),ORPHAN_WEBP:He("Orphan WebP","media-cleaner")},je.DASHBOARD=(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce={STEP:He("STEP","media-cleaner"),SCAN:He("Scan","media-cleaner"),RESUME:He("Resume","media-cleaner"),PICK:He("Pick"),RESET:He("Reset","media-cleaner"),RESET_REFERENCES:He("Reset References","media-cleaner"),RESET_ISSUES:He("Reset Issues","media-cleaner"),EXTRACT_REFERENCES:He("Extract References","media-cleaner"),EXTRACT_REFERENCES_FOR_POST_ID:He("Extract References for Post ID","media-cleaner"),MATCH_WITH_REFERENCES:He("Match with References","media-cleaner"),FROM_FOLDER:He("From <strong>{0}</strong>","media-cleaner"),PICK_FOLDER:He("Pick Folder","media-cleaner"),RESET_FOLDER:He("Reset Folder","media-cleaner"),RESET_FOLDERS:He("Reset Folders","media-cleaner"),RE_ATTACH_MEDIA:He("Re-Attach Media","media-cleaner"),DELETE_ALL:He("Delete All","media-cleaner"),DELETE_STRONG_ALL:He("Delete <strong>All</strong>","media-cleaner"),RECOVER_ALL:He("Recover <strong>All</strong>","media-cleaner"),EMPTY_TRASH:He("Empty Trash","media-cleaner"),INFO_MESSAGE:He("There are <b>{0} issue{1}</b> with your files, accounting for <b>{2} MB</b>. Your trash contains <b>{3} MB</b>.","media-cleaner"),ISSUES:He("Issues","media-cleaner"),IGNORED:He("Ignored","media-cleaner"),TRASH:He("Trash","media-cleaner"),REFERENCES:He("Found In Use Medias","media-cleaner"),ACTION:He("Action","media-cleaner"),REPAIR:He("Repair","media-cleaner"),EMPTY_MESSAGE:He("It's all clean & nice here! 👍<br />Why not trying to give a boost to your database with <a target='_blank' href='https://wordpress.org/plugins/database-cleaner/'>Database Cleaner</a>? 😌","media-cleaner"),ITEMS_PAGE:He("items / page","media-cleaner"),DELETE_ALL_CONTENT:He("<span>If you continue, <b>{0} issue{1} will be deleted</b>. Make absolutely sure you have a backup of your site.</span>","media-cleaner"),TRASH_ALL_CONTENT:He("<span>If you continue, <b>the trash will be entirely emptied</b>. Make absolutely sure you have a backup of your site.</span>","media-cleaner"),FORCE_TRASH_ALL_CONTENT:He("It seems like the trash could not be emptied. Do you want to force clean the trash? This will permanently delete all the trashed files and their database entries with no security check. Make absolutely sure you have a backup of your site, or that you are sure about this action.","media-cleaner")},"RECOVER_ALL",He("Recover All","media-cleaner")),"RECOVER_ALL_CONTENT",He("Are you sure you really want to recover all the files from the trash?","media-cleaner")),"ERROR",He("Error","media-cleaner")),"RETRY",He("Retry","media-cleaner")),"AUTO_RETRY",He("AUTO RETRY","media-cleaner")),"AUTO_RETRY_DESCRIPTION",He("AUTO RETRY will retry the actions up to 10 times. At every retry, it will increase the delay (in order to avoid timeouts). Skipping errors is not recommended at all as it will result in a lot of false-positives. Check your browser console for more information.","media-cleaner")),"SKIP",He("Skip","media-cleaner")),"ALWAYS_SKIP",He("ALWAYS SKIP","media-cleaner")),"STOP",He("Stop","media-cleaner")),"FINISHED",He("Finished","media-cleaner")),Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce,"CLOSE",He("Close","media-cleaner")),"OPEN_IMAGE",He("Open Image","media-cleaner")),"ORIGIN",He("Origin","media-cleaner")),"TITLE_PATH",He("Title & Path","media-cleaner")),"ISSUE",He("Issue","media-cleaner")),"SIZE",He("Size","media-cleaner")),"ID",He("ID","media-cleaner")),"THUMBNAIL",He("Thumbnail","media-cleaner")),"POST",He("Post","media-cleaner")),"MEDIA_ID",He("Media ID","media-cleaner")),Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce,"MEDIA_URL",He("Media URL","media-cleaner")),"DELETED_AT",He("Deleted At","media-cleaner")),"ORIGIN_TYPE",He("Origin Type","media-cleaner")),"FINAL_MESSAGE",He("The process has finished, but {0} error(s) occurred.","media-cleaner")),"STATUS_GETTING_IDS",He("Getting IDs...","media-cleaner")),"STATUS_EMPTYING",He("Emptying...","media-cleaner")),"STATUS_EMPTYING_SUCCESS",He("🟢 Emptying success!","media-cleaner")),"STATUS_DELETING",He("Deleting...","media-cleaner")),"STATUS_RECOVERING",He("Recovering...","media-cleaner")),"STATUS_IGNORING",He("Ignoring...","media-cleaner")),Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce,"STATUS_UNDOING",He("Undoing...","media-cleaner")),"STATUS_RESUMING",He("Resuming...","media-cleaner")),"STATUS_RESETTING_ISSUES_AND_REFERENCES",He("Resetting issues and references...","media-cleaner")),"STATUS_RESETTING_ISSUES",He("Resetting issues...","media-cleaner")),"STATUS_RESETTING_REFERENCES",He("Resetting references...","media-cleaner")),"STATUS_EXTRACT_FROM_CONTENT",He("Extract from content...","media-cleaner")),"STATUS_EXTRACT_FROM_LIBRARY",He("Extract from library...","media-cleaner")),"STATUS_EXTRACT_FROM_DUPLICATES",He("Extract from duplicates...","media-cleaner")),"STATUS_LISTING_MEDIA",He("Listing media...","media-cleaner")),"STATUS_LISTING_FILES",He("Listing files...","media-cleaner")),Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce,"STATUS_LISTING_DUPLICATES",He("Listing duplicates...","media-cleaner")),"STATUS_ERROR_UNKNOWN_METHOD",He("This method is not known!","media-cleaner")),"STATUS_MATCHING_WITH_CONTENT",He("Matching with content...","media-cleaner")),"STATUS_RETREIVE_FILES",He("Retrieving files...","media-cleaner")),"STATUS_RETREIVE_MEDIA",He("Retrieving media entries...","media-cleaner")),"STATUS_UNKNOWN_STEP",He("Unknown step!","media-cleaner")),"STATUS_SCANNING_WITH_REPAIR_MODE",He("Scanning with repair mode...","media-cleaner")),"AUTO_ATTACH_FEATURE_MESSAGE",He("Currently, the Auto-Attach feature is handled by Media File Renamer: <a target='_blank' href='https://wordpress.org/plugins/media-file-renamer/'>https://wordpress.org/plugins/media-file-renamer/</a>. It will use the references data.","media-cleaner")),"REFERENCE_COLUMN_FILTERS",{SHOW_ALL:He("Show All","media-cleaner"),ONLY_MEDIA_IDS:He("Only Media IDs","media-cleaner"),ONLY_MEDIA_URLS:He("Only Media URLs","media-cleaner")}),"REPAIR_MODE_DESCRIPTION",He("⚡In short, the 'Repair' button sends the file back to the Media Library.\n\n🗒️When you use the 'Repair' button, Media Cleaner will take action to resolve issues with your media files.\n\nFirst, it identifies any related items (child issues) that might be causing problems and removes them to prevent future complications.\n\nThen, it re-adds the main media file (the parent) back into your Media Library.\n\nBy doing this, the file is no longer seen as an isolated thumbnail or a 'lost' file; it becomes a fully recognized media item again, just like all the other content in your Media Library.","media-cleaner")),Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce,"IGNORE_SELECTED",He("Ignore&nbsp;<strong>{0}</strong>&nbsp;entries","media-cleaner")),"DELETE_SELECTED",He("Delete&nbsp;<strong>{0}</strong>&nbsp;entries","media-cleaner")),"REPAIR_SELECTED",He("Repair&nbsp;<strong>{0}</strong>&nbsp;entries","media-cleaner")),"UNDO_SELECTED",He("Undo&nbsp;<strong>{0}</strong>&nbsp;entries","media-cleaner")),"RECOVER_SELECTED",He("Recover&nbsp;<strong>{0}</strong>&nbsp;entries","media-cleaner")),"DELETE_PERMANENTLY_SELECTED",He("Delete Permanently&nbsp;<strong>{0}</strong>&nbsp;entries","media-cleaner")),"WARNING_TITLE",He("⚠️ Safety Checklist","media-cleaner")),"WARNING_MESSAGE_1",He("<b>Be ready before you start.</b> Always have a backup of your site (you can use <a href='http://meow.click/blogvault' target='_blank'>BlogVault</a> or another backup plugin). Read the <a href='https://clean.thehiddendocs.com/' target='_blank'>tutorial</a> to understand how the plugin works. Remember: deleted files go to the trash first, but if you empty the trash, they are <b style='color:red;'>permanently deleted</b> and cannot be recovered.","media-cleaner")),"WARNING_CHECKBOX_1",He("I have a backup, read the tutorial, and understand the trash system.","media-cleaner")),"WARNING_MESSAGE_2",He("<b>Plugin and theme support.</b> Media Cleaner may not fully handle every Builder or Plugin. Only the ones listed in the <a href='/wp-admin/admin.php?page=wpmc_settings&nekoTab=parsers' target='_blank'>Parsers</a> section are supported (with some available only in the <b>Pro version</b>). If you're unsure, please check the Parsers settings for details.","media-cleaner")),Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ce,"WARNING_CHECKBOX_2",He("I agree, and I checked the Parsers section.","media-cleaner")),"WARNING_MESSAGE_3",He("<b>Accuracy and false positives.</b> No parser can be 100% perfect. WordPress is dynamic, and sometimes files may be flagged even though they are still in use. If you notice this, you can restore them, and we'd appreciate it if you report the case here: <a href='https://clean.thehiddendocs.com/common-issues/false-positive-issues/' target='_blank'>Common Issue: False Positives</a>.","media-cleaner")),"WARNING_CHECKBOX_3",He("I understand and will report any issues.","media-cleaner")),"WARNING_MESSAGE_4",He("<b>You are in control.</b> Media Cleaner only scans and suggests. Nothing is removed unless you choose to delete it. With a proper backup, there is no risk — you can always restore. Please don't leave a bad review if something is missing after you decided to delete it.","media-cleaner")),"WARNING_CHECKBOX_4",He("I agree, I am responsible for deletions.","media-cleaner")),"WARNING_MESSAGE_5",He("If you have already read the above warnings, you can disable this pop-up in the settings.","media-cleaner")),"CONFIRM_RESTART_INSTEAD_OF_RESUME",He("A scan was not finished. Please use the 'Resume' button to continue it. If you click 'OK', the scan will restart from the beginning.","media-cleaner"))),je.NOTIFICATIONS={GET_PRO_VERSION:He("Get the Pro Version","media-cleaner"),READ_TUTORIAL:He("Read the tutorial","media-cleaner"),SCAN_MEDIA_LIBRARY_FOR_BROKEN_ENTRIES:He("Media Cleaner will scan your Media Library for broken entries.","media-cleaner"),SCAN_MEDIA_LIBRARY_FOR_UNUSED_ENTRIES:He("Media Cleaner will scan your Media Library for entries which aren't used in your content.","media-cleaner"),SCAN_PHYSICAL_DIRS_FOR_UNREGISTERED_OR_UNUSED:He("Media Cleaner will scan your physical directories for files which are not registered in the Media Library or not used directly in your content.","media-cleaner"),SCAN_PHYSICAL_DIRS_FOR_UNREGISTERED:He("Media Cleaner will scan your physical directories for files which are not registered in the Media Library.","media-cleaner"),SCAN_PHYSICAL_DIRS_FOR_UNUSED:He("Media Cleaner will scan your physical directories for files which are not used in your content.","media-cleaner"),RETURN_ALL_FILES_FROM_PHYSICAL_DIRS:He("Media Cleaner will return all the files from your physical directories, without checking if the files are used or not.","media-cleaner"),WARNING_IMPORTANCE:He("<b><span style='color:red;'>This is important.</span> Backup your DB and your /uploads directory before using Media Cleaner.</b> The deleted files will be temporarily moved to the <i>uploads/wpmc-trash</i> directory. After testing your site, you can check the <i>Trash</i> in order to empty it or to recover your files. That said, you still must have a backup! If you don't know how, give a try to this: <a href='http://meow.click/blogvault' target='_blank'>BlogVault</a>.","media-cleaner"),WARNING_CONSIDERATION:He("<b><span style='color:red;'>Please be considerate.</span> Don't blame Media Cleaner if it deleted too many (or not enough) of your files.</b> WordPress being a very dynamic and pluggable system, it is impossible to predict all the situations in which your files are used. Please do not post a bad review because it broke your install; if you have a proper backup, there is no risk! You can disable this big warning in the options if you have the Pro Version. Read this warning twice. Media Cleaner is awesome and constantly gets better so I sincerely hope you will enjoy it. Thank you :)","media-cleaner"),FREE_VERSION_INSTRUNTION:He("You must <b>backup the uploads folder and DB</b> before using the Cleaner. If you don't know how, give a try to <a target='_blank' href='https://meow.click/blogvault'>BlogVault</a>. It is also highly recommanded to read the tutorial. Last but not least, check the <b>Pro Version</b>, as it adds many features and also supports the development. This message is only displayed in the free version. Thank you!","media-cleaner"),IMCOMPATIBLE_PLUGINS_NOTE:He("Important note about the following plugin(s) which you are using:","media-cleaner"),IMCOMPATIBLE_PLUGINS_MESSAGE:He("They require additional checks which are only implemented in <a target='_blank' href='//meowapps.com/plugin/media-cleaner'>Media Cleaner Pro</a>.","media-cleaner")},je.SETTINGS={CONTENT:He("Content","media-cleaner"),CHECK:He("Check","media-cleaner"),ENABLE:He("Enable","media-cleaner"),CONTENT_DESCRIPTION:He("Checks if the media entries are used by the content (Posts, Pages and other Post Types, Metadata, Widgets, etc). Pagebuilders are only supported in the Pro Version.","media-cleaner"),FILESYSTEM_CONTENT_DESCRIPTION:He("Checks if the files are used by the content (Posts, Pages and other Post Types, Metadata, Widgets, etc).","media-cleaner"),MEDIA_LIBRARY_DESCRIPTION:He("Checks if the files are properly registered in the Media Library.","media-cleaner"),LIVE_CONTENT:He("Live Content","media-cleaner"),LIVE_CONTENT_DESCRIPTION:He("The live version of the site will be also analyzed (as if a visitor was loading it). It increases the accuracy of the results but slows down the speed dramatically.","media-cleaner"),IMAGES_ONLY:He("Images Only","media-cleaner"),IMAGES_ONLY_DESCRIPTION:He("Restricts the scan to images. Nothing else will be scanned.","media-cleaner"),ATTACHED_IMAGES:He("Attached Images","media-cleaner"),ATTACHED_IMAGES_DESCRIPTION:He("If a media entry is attached (in the Media Library, it is the <b>Uploaded To</b> field), it will be considered as being used.","media-cleaner"),CONSIDER_AS_IN_USE:He("Consider as In Use","media-cleaner"),THUMBNAILS_ONLY:He("Thumbnails Only","media-cleaner"),THUMBNAILS_ONLY_DESCRIPTION:He("Restricts Media Cleaner to scan thumbnails. With WordPress, those filenames contain the resolution.","media-cleaner"),DIRECTORIES_FILTER:He("Directories Filter","media-cleaner"),FILES_FILTER:He("Files Filter","media-cleaner"),HIDE:He("Hide","media-cleaner"),YES:He("Yes","media-cleaner"),HIDE_THUMBNAILS:He("Thumbnails","media-cleaner"),HIDE_THUMBNAILS_DESCRIPTION:He("If you prefer not to see the thumbnails.","media-cleaner"),SKIP_TRASH:He("Skip Trash","media-cleaner"),SKIP_TRASH_DESCRIPTION:He("This will disable the trash and the restore related features.","media-cleaner"),WARNING_MESSAGE:He("Warning Message","media-cleaner"),WARNING_MESSAGE_DESCRIPTION:He("Have you read it twice? If yes, hide it :)","media-cleaner"),PLUGIN_DATA:He("Plugin Data","media-cleaner"),PLUGIN_DATA_DESCRIPTION:He("The database and all the options of the plugin will be removed on uninstall. This also includes the information about the plugin's trash.","media-cleaner"),DELETE_ALL:He("Delete all","media-cleaner"),MEDIAS_BUFFER:He("Medias Buffer","media-cleaner"),MEDIAS_BUFFER_DESCRIPTION:He("The number of media entries to read at a time. This is fast, so the value should be between 50 and 1000.","media-cleaner"),POSTS_BUFFER:He("Posts Buffer","media-cleaner"),POSTS_BUFFER_DESCRIPTION:He("The number of posts (and any other post types) to analyze at a time. This is the most intense part of the process. Recommended value is between 1 (slow server) and 20 (excellent server).","media-cleaner"),ANALYSIS_BUFFER:He("Analysis Buffer","media-cleaner"),ANALYSIS_BUFFER_DESCRIPTION:He("The number of media entries or files to analyze at a time. This is the main part of the process, but is is much faster than analyzing each post. Recommended value is between 20 (slow server) and 1000 (excellent server).","media-cleaner"),FILE_OPERATION_BUFFER:He("File Operation Buffer","media-cleaner"),FILE_OPERATION_BUFFER_DESCRIPTION:He("The number of media entries or files to delete at a time. This highly depends on your server, it is normally quite fast. Recommended value is between 5 (slow server) and 100 (excellent server).","media-cleaner"),DELAY:He("Delay (in ms)","media-cleaner"),DELAY_DESCRIPTION:He("Time to wait between each request (in milliseconds). The overall process is intensive so this gives the chance to your server to chill out a bit. A very good server doesn't need it, but a slow/shared hosting might even reject requests if they are too fast and frequent. Recommended value is actually 0, 100 for safety, 2000 or 5000 if your hosting is kind of cheap.","media-cleaner"),DISABLE_ANALYSIS:He("Disable Analysis","media-cleaner"),DISABLE_CLEANING:He("Disable Cleaning","media-cleaner"),OUTPUT_BUFFER_CLEANING:He("Output Buffer Cleaning","media-cleaner"),PHP_ERROR_LOGS:He("PHP Error Logs","media-cleaner"),PHP_ERROR_LOGS_DESCRIPTION:He("The logs will also be written in the PHP error logs.","media-cleaner"),OUTPUT_BUFFER_CLEANING_DESCRIPTION:He("Sometimes other plugins or themes might use the output buffer to display content thinking you are looking at the pages being scanned. By default the plugin will clean the output buffer to sanitize the server responses.","media-cleaner"),SHORTCODES:He("Shortcodes","media-cleaner"),CACHED_REFERENCES:He("Cached References","media-cleaner"),CACHED_REFERENCES_DESCRIPTION:He("References are media files that have been detected as being used. When caching is enabled, each media file is only added to the references list once, even if it’s used in multiple places. This improves performance and reduces database usage. If you disable cached references, you’ll be able to see all locations where a media file is used, even if it’s the same file used multiple times.","media-cleaner"),SHORTCODES_DESCRIPTION:He("Resolving shortcodes increase accuracy, but makes the process slower and takes more memory.","media-cleaner"),LOGS:He("Logs","media-cleaner"),LOGS_DESCRIPTION:He("Simple logging that explains which actions has been run.","media-cleaner"),REFRESH_LOGS:He("Refresh Logs","media-cleaner"),CLEAR_LOGS:He("Clear Logs","media-cleaner"),RESET_OPTIONS:He("Reset Options","media-cleaner"),EXPORT_OPTIONS:He("Export Options","media-file-renamer"),IMPORT_OPTIONS:He("Import Options","media-file-renamer"),DONE:He("Done!","media-cleaner"),RESET_DB_CONTENT:He("The Media Cleaner's database has been deleted. It will be re-created automatically next time you visit the Media Cleaner Dashboard.","media-cleaner"),ACCESS_DASHBOARD:He("Access Media Cleaner Dashboard","media-cleaner"),DELETE_CLEANER_DB:He("Delete Cleaner DB","media-cleaner"),SCAN_DESCRIPTION:He("There are two kinds of scan. Usually, the <b>Media Library</b> should be scanned first for images which are not used (Content = Check). Then, the <b>Filesystem</b> should be scanned for images which aren't registered in the Media Library (Media Library = Check). Check the <a target='_blank' href='https://meowapps.com/media-cleaner/tutorial/'>tutorial</a> tutorial for more information. If you wish to clean your <b>Database</b>, try <a target='_blank' href='https://wordpress.org/plugins/database-cleaner/'>Database Cleaner</a>, you will love it! 💕","media-cleaner"),MEDIA_LIBRARY_SCAN:He("Media Library Scan","media-cleaner"),SCANNING:He("Scanning","media-cleaner"),EITHER_SCANNING_DESCRIPTION:He("If you would like Media Cleaner to analyze your Media Library for broken entries, uncheck everything above.","media-cleaner"),NEITHER_SCANNING_DESCRIPTION:He("<b>Since Content is not checked, Media Cleaner will analyze your Media Library for <u>broken entries</u>.</b>","media-cleaner"),FILTERS:He("Filters","media-cleaner"),PARSERS:He("Parsers","media-cleaner"),AVAILABLE_PARSERS:He("Available Parsers","media-cleaner"),PARSERS_DESCRIPTION:He('Parsers are blocks of code that help Media Cleaner to analyze your content that is used by third-party plugins, themes or page builders. If you are using a plugin or a theme that it is not listed here, you <b>might</b> get some false-positives scan results. If this is the case, please read this <a target="_blank" href="https://clean.thehiddendocs.com/common-issues/false-positive-issues/">documentation</a> to learn what to do.',"media-cleaner"),PARSERS_DESCRIPTION_INFO:He("Not all plugins and themes need parsers. All media files that are used and referenced using WordPress core functionalities will be scanned naturally. Parsers are only needed for third-party plugins and themes that use custom methods to store media references.","media-cleaner"),EXTRA_RULES:He("Extra Rules","media-cleaner"),FILESYSTEM_SCAN:He("Filesystem Scan","media-cleaner"),FILESYSTEM_SCANNING_DESCRIPTION:He("If none of the checks above are selected, you will get the list of all your files.","media-cleaner"),ADVANCED:He("Advanced","media-cleaner"),UI_LOGS:He("UI & Logs","media-cleaner"),ON_UNINSTALL:He("On Uninstall","media-cleaner"),FOR_ADVANCED_USERS_DEVELOPERS:He("For Advanced Users & Developers","media-cleaner"),ADVANCED_SETTINGS:He("Advanced Settings","media-cleaner"),LICENSE:He("License","media-cleaner"),LOGS_DEBUG:He("Logs & Debug","media-cleaner"),EXPERT_MODE:He("Expert Mode","media-cleaner"),ERROR_EXPORT_SETTINGS:He("Error while exporting settings. Please check your console.","media-cleaner"),SUCCESS_IMPORT_SETTINGS:He("Settings imported. The page will now reload to reflect the changes.","media-cleaner"),ERROR_IMPORT_SETTINGS:He("Error while importing settings. Please check your console.","media-cleaner")};const Ye=je;function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ve(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ve=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new x(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",d="executing",h="completed",E={};function y(){}function R(){}function g(){}var S={};s(S,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==r&&n.call(b,i)&&(S=b);var T=g.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==We(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=m;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=w(c,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===E)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function w(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(We(t)+" is not iterable")}return R.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:R,configurable:!0}),R.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===R||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},_(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new A(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),s(T,l,"Generator"),s(T,i,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Je(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Xe(o,n,a,i,c,"next",e)}function c(e){Xe(o,n,a,i,c,"throw",e)}i(void 0)}))}}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ze=wp.element.useState,et={marginTop:10,background:"rgb(0, 72, 88)",padding:10,color:"rgb(58, 212, 58)",maxHeight:600,minHeight:200,display:"block",fontFamily:"monospace",fontSize:12,whiteSpace:"pre",overflowX:"auto",width:"calc(100vw - 276px)"};const tt=function(){var e=$e(Ze(k),2),t=e[0],r=e[1],n=$e(Ze(!1),2),a=n[0],o=n[1],i=$e(Ze(""),2),c=i[0],l=i[1],s=$e(Ze(),2),f=s[0],m=s[1],p=a,I=t.content,O=t.filesystem_content,C=t.media_library,L=t.live_content,P=t.debuglogs,M=t.images_only,F=t.attach_is_use,G=t.thumbnails_only,B=t.dirs_filter,U=t.files_filter,H=t.hide_thumbnails,j=t.hide_warning,Y=t.skip_trash,W=t.medias_buffer,V=t.posts_buffer,z=t.analysis_buffer,K=(t.scan_progress,t.file_op_buffer),q=t.delay,X=t.shortcodes_disabled,J=t.output_buffer_cleaning_disabled,$=t.php_error_logs,Q=t.clean_uninstall,Z=t.expert_mode,ee=t.incompatible_plugins,te=t.native_plugins,re=function(){var e=Je(Ve().mark((function e(n,a){var i,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(Ke({},t),{},qe({},a,n)),o(!0),e.prev=2,e.next=5,(0,u.IU)("".concat(w,"/update_options"),{method:"POST",json:{options:i},nonce:D});case 5:(c=e.sent).success&&r(c.options),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,r){return e.apply(this,arguments)}}(),ne=function(){var e=Je(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,(0,u.IU)("".concat(w,"/update_options"),{method:"POST",nonce:D,json:{options:t}});case 4:(n=e.sent).success||alert(n.message),r(n.options),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.message);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Je(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,(0,u.IU)("".concat(w,"/reset_options"),{nonce:D,method:"POST"});case 4:(t=e.sent).success&&r(t.options),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Je(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,u.IU)("".concat(w,"/reset_db"),{nonce:D,method:"POST"});case 3:m("resetDb"),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Je(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,u.IU)("".concat(w,"/refresh_logs"),{nonce:D,method:"POST"});case 3:(t=e.sent).success&&l(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Je(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,u.IU)("".concat(w,"/clear_logs"),{nonce:D,method:"POST"});case 3:(t=e.sent).success&&l(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Je(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.IU)("".concat(w,"/all_settings"),{method:"GET",nonce:D});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Je(Ve().mark((function e(){var t,r,n,a,i,c,l;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,t=new Date,e.next=5,le();case 5:r=e.sent,n={options:r},a="media-cleaner-".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate(),".json"),i=new Blob([JSON.stringify(n)],{type:"application/json"}),c=URL.createObjectURL(i),(l=document.createElement("a")).href=c,l.setAttribute("download",a),l.click(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),alert(Ye.SETTINGS.ERROR_EXPORT_SETTINGS),console.log(e.t0);case 20:return e.prev=20,o(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Je(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0);try{(t=document.createElement("input")).type="file",t.accept="application/json",t.onchange=function(){var e=Je(Ve().mark((function e(t){var r,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:(n=new FileReader).onload=function(){var e=Je(Ve().mark((function e(t){var r,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(t.target.result),n=r.options,e.next=4,ne(n);case 4:alert(Ye.SETTINGS.SUCCESS_IMPORT_SETTINGS),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.click()}catch(e){alert(Ye.SETTINGS.ERROR_IMPORT_SETTINGS),console.log(e)}finally{o(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=React.createElement(h.d,{title:Ye.SETTINGS.CONTENT},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"content",label:Ye.SETTINGS.CHECK,description:Ye.SETTINGS.CONTENT_DESCRIPTION,value:"1",checked:I,onChange:re}))),me=React.createElement(h.d,{title:Ye.SETTINGS.CONTENT},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"filesystem_content",label:Ye.SETTINGS.CHECK,description:Ye.SETTINGS.FILESYSTEM_CONTENT_DESCRIPTION,value:"1",checked:O,onChange:re}))),pe=React.createElement(h.d,{title:Ye.COMMON.MEDIA_LIBRARY},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"media_library",label:Ye.SETTINGS.CHECK,description:Ye.SETTINGS.MEDIA_LIBRARY_DESCRIPTION,value:"1",checked:C,onChange:re}))),de=(h.d,Ye.SETTINGS.LIVE_CONTENT,E.E,y.R,Ye.SETTINGS.CHECK,Ye.SETTINGS.LIVE_CONTENT_DESCRIPTION,React.createElement(h.d,{title:Ye.SETTINGS.IMAGES_ONLY},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"images_only",label:Ye.SETTINGS.ENABLE,description:Ye.SETTINGS.IMAGES_ONLY_DESCRIPTION,value:"1",checked:M,onChange:re})))),he=React.createElement(h.d,{title:Ye.SETTINGS.ATTACHED_IMAGES},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"attach_is_use",label:Ye.SETTINGS.CONSIDER_AS_IN_USE,description:(0,u.FE)(Ye.SETTINGS.ATTACHED_IMAGES_DESCRIPTION),value:"1",checked:F,onChange:re}))),Ee=React.createElement(h.d,{title:Ye.SETTINGS.THUMBNAILS_ONLY},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"thumbnails_only",label:Ye.SETTINGS.ENABLE,description:Ye.SETTINGS.THUMBNAILS_ONLY_DESCRIPTION,value:"1",checked:G,onChange:re}))),ye=React.createElement(h.d,{title:Ye.SETTINGS.DIRECTORIES_FILTER},React.createElement(Se.A,{name:"dirs_filter",onReset:function(){re("","dirs_filter")},value:B,placeholder:"/regex/",onEnter:re,onBlur:re})),Re=React.createElement(h.d,{title:Ye.SETTINGS.FILES_FILTER},React.createElement(Se.A,{name:"files_filter",onReset:function(){re("","files_filter")},value:U,placeholder:"/regex/",onEnter:re,onBlur:re})),ge=React.createElement(h.d,{title:Ye.SETTINGS.HIDE_THUMBNAILS},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"hide_thumbnails",label:Ye.SETTINGS.HIDE,description:Ye.SETTINGS.HIDE_THUMBNAILS_DESCRIPTION,value:"1",checked:H,onChange:re}))),we=React.createElement(h.d,{title:Ye.SETTINGS.SKIP_TRASH},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"skip_trash",label:Ye.SETTINGS.YES,description:Ye.SETTINGS.SKIP_TRASH_DESCRIPTION,value:"1",checked:Y,onChange:re}))),Oe=React.createElement(h.d,{title:Ye.SETTINGS.WARNING_MESSAGE},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"hide_warning",label:Ye.SETTINGS.HIDE,description:Ye.SETTINGS.WARNING_MESSAGE_DESCRIPTION,requirePro:!x,value:"1",checked:j,onChange:re}))),Ne=React.createElement(h.d,{title:Ye.SETTINGS.EXPERT_MODE},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"expert_mode",label:Ye.SETTINGS.ENABLE,value:"1",checked:Z,onChange:re}))),xe=React.createElement(h.d,{title:Ye.SETTINGS.PLUGIN_DATA},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"clean_uninstall",label:Ye.SETTINGS.DELETE_ALL,description:Ye.SETTINGS.PLUGIN_DATA_DESCRIPTION,value:"1",checked:Q,onChange:re}))),De=React.createElement(h.d,{title:Ye.SETTINGS.MEDIAS_BUFFER},React.createElement(Se.A,{name:"medias_buffer",type:"number",value:W,min:"1",max:"1000",onEnter:re,onBlur:re,description:Ye.SETTINGS.MEDIAS_BUFFER_DESCRIPTION})),ke=React.createElement(h.d,{title:Ye.SETTINGS.POSTS_BUFFER},React.createElement(Se.A,{name:"posts_buffer",type:"number",value:V,min:"1",max:"100",onEnter:re,onBlur:re,description:Ye.SETTINGS.POSTS_BUFFER_DESCRIPTION})),Ce=React.createElement(h.d,{title:Ye.SETTINGS.ANALYSIS_BUFFER},React.createElement(Se.A,{name:"analysis_buffer",type:"number",value:z,min:"1",max:"1000",onEnter:re,onBlur:re,description:Ye.SETTINGS.ANALYSIS_BUFFER_DESCRIPTION})),Le=React.createElement(h.d,{title:Ye.SETTINGS.FILE_OPERATION_BUFFER},React.createElement(Se.A,{name:"file_op_buffer",type:"number",value:K,min:"1",max:"100",onEnter:re,onBlur:re,description:Ye.SETTINGS.FILE_OPERATION_BUFFER_DESCRIPTION})),Pe=React.createElement(h.d,{title:Ye.SETTINGS.DELAY},React.createElement(Se.A,{name:"delay",type:"number",value:q,min:"0",max:"20000",onEnter:re,onBlur:re,description:Ye.SETTINGS.DELAY_DESCRIPTION})),Me=React.createElement(h.d,{title:Ye.SETTINGS.SHORTCODES},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"shortcodes_disabled",label:Ye.SETTINGS.DISABLE_ANALYSIS,description:Ye.SETTINGS.SHORTCODES_DESCRIPTION,value:"1",checked:X,onChange:re}))),Fe=React.createElement(h.d,{title:Ye.SETTINGS.CACHED_REFERENCES},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"use_cached_references",label:Ye.SETTINGS.ENABLE,description:Ye.SETTINGS.CACHED_REFERENCES_DESCRIPTION,value:"1",checked:t.use_cached_references,onChange:re}))),Be=React.createElement(h.d,{title:Ye.SETTINGS.OUTPUT_BUFFER_CLEANING},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"output_buffer_cleaning_disabled",label:Ye.SETTINGS.DISABLE_CLEANING,description:Ye.SETTINGS.OUTPUT_BUFFER_CLEANING_DESCRIPTION,value:"1",checked:J,onChange:re}))),Ue=React.createElement(h.d,{title:Ye.SETTINGS.PHP_ERROR_LOGS},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"php_error_logs",label:Ye.SETTINGS.ENABLE,description:Ye.SETTINGS.PHP_ERROR_LOGS_DESCRIPTION,value:"1",checked:$,onChange:re}))),He=React.createElement(h.d,{title:Ye.SETTINGS.LOGS},React.createElement(E.E,{max:"1"},React.createElement(y.R,{name:"debuglogs",label:Ye.SETTINGS.ENABLE,description:React.createElement(d.s,{p:!0},Ye.SETTINGS.LOGS_DESCRIPTION),value:"1",checked:P,onChange:re}),React.createElement("div",{style:{marginTop:20}},React.createElement(b.M,{onClick:ie},Ye.SETTINGS.REFRESH_LOGS),React.createElement(b.M,{className:"danger",onClick:ce},Ye.SETTINGS.CLEAR_LOGS)))),je=React.createElement(b.M,{className:"danger",disabled:p,onClick:ae},Ye.SETTINGS.RESET_OPTIONS),We=React.createElement(b.M,{className:"blue",disabled:p,onClick:se},Ye.SETTINGS.EXPORT_OPTIONS),ze=React.createElement(b.M,{className:"blue",disabled:p,onClick:ue},Ye.SETTINGS.IMPORT_OPTIONS),Xe=function(e,t){var r=t?"check":"close",n=t?"green":"red",a=t?"rgba(0, 128, 0, 0.1)":"rgba(150, 0, 0, 0.1)";return React.createElement("div",{style:{display:"flex",alignItems:"center",margin:"5px 0"}},React.createElement(ve.z,{icon:r,color:n,width:16,height:16,style:{padding:"3px 5px",borderRadius:"5px",backgroundColor:a}}),React.createElement(d.s,{style:{margin:"0 5px"}},e),React.createElement(be.G,{position:"right",iconWidth:16,iconHeight:16,tooltipMaxWidth:300,content:React.createElement(React.Fragment,null,t&&React.createElement(React.Fragment,null,React.createElement(d.s,null,"The ".concat(e," plugin has been detected as active. Media Cleaner will now consider the content of this plugin and scan the media files accordingly."))," ",React.createElement("br",null),React.createElement("br",null)),!t&&React.createElement(React.Fragment,null,React.createElement(d.s,null,"The ".concat(e," plugin has been detected as active but the parser requieres the PRO version. Media Cleaner might not be able to scan the media references accordingly across your posts."))," ",React.createElement("br",null),React.createElement("br",null)))}))};return React.createElement(R.z,null,React.createElement(Te.n,{isOpen:"resetDb"===f,onRequestClose:function(){m(null)},title:Ye.SETTINGS.DONE,content:Ye.SETTINGS.RESET_DB_CONTENT,onOkClick:function(){m(null)}}),React.createElement(g.n,{isPro:N,title:Ye.COMMON.PLUGIN_NAME,section:Ye.COMMON.SETTINGS,subtitle:Ye.COMMON.BY_JORDY_MEOW},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(b.M,{className:"header",onClick:function(){return window.open("https://clean.thehiddendocs.com/introduction/","_blank")}},Ye.COMMON.TUTORIAL),React.createElement(b.M,{className:"header",icon:"dashboard",onClick:function(){return location.href="upload.php?page=wpmc_dashboard"}},Ye.COMMON.DASHBOARD))),React.createElement(S.N,null,React.createElement(S.Y,{fullWidth:!0},React.createElement(_e.L,{footer:React.createElement(React.Fragment,null,React.createElement(b.M,{className:"primary",onClick:function(){return location.href="upload.php?page=wpmc_dashboard"}},Ye.SETTINGS.ACCESS_DASHBOARD),React.createElement(b.M,{className:"danger",onClick:oe},Ye.SETTINGS.DELETE_CLEANER_DB))},React.createElement(d.s,{p:!0},(0,u.FE)(Ye.SETTINGS.SCAN_DESCRIPTION))),React.createElement(v._,{keepTabOnReload:!0},React.createElement(v.V,{title:Ye.SETTINGS.MEDIA_LIBRARY_SCAN},React.createElement(S.N,null,React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.SCANNING,className:"primary"},fe,(I||L)&&React.createElement(d.s,{p:!0},Ye.SETTINGS.EITHER_SCANNING_DESCRIPTION),!I&&!L&&React.createElement(d.s,{p:!0},(0,u.FE)(Ye.SETTINGS.NEITHER_SCANNING_DESCRIPTION)))),React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.FILTERS,className:"primary"},de),React.createElement(T.z,{busy:p,title:Ye.SETTINGS.EXTRA_RULES,className:"primary"},he)))),React.createElement(v.V,{title:Ye.SETTINGS.FILESYSTEM_SCAN,requirePro:!x},React.createElement(S.N,null,React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.SCANNING,className:"primary"},pe,me,React.createElement(d.s,{p:!0},Ye.SETTINGS.FILESYSTEM_SCANNING_DESCRIPTION))),React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.FILTERS,className:"primary"},Ee,ye,Re)))),React.createElement(v.V,{title:Ye.SETTINGS.PARSERS},React.createElement(S.N,null,React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.AVAILABLE_PARSERS,className:"primary"},te.map((function(e){return Xe(e,!0)})),ee.map((function(e){return Xe(e,x)})))),React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:"‎ ",className:"primary"},(0,u.FE)(Ye.SETTINGS.PARSERS_DESCRIPTION),React.createElement(Ae.g,null),React.createElement(Ie.X,{type:"info"},Ye.SETTINGS.PARSERS_DESCRIPTION_INFO))))),React.createElement(v.V,{title:Ye.SETTINGS.ADVANCED},React.createElement(S.N,null,React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.UI_LOGS,className:"primary"},ge,we,Oe,Ne),React.createElement(T.z,{busy:p,title:Ye.SETTINGS.ON_UNINSTALL,className:"primary"},xe),React.createElement(T.z,{busy:p,title:Ye.SETTINGS.FOR_ADVANCED_USERS_DEVELOPERS,className:"primary"},We,ze,je)),React.createElement(S.Y,{minimal:!0},React.createElement(T.z,{busy:p,title:Ye.SETTINGS.ADVANCED_SETTINGS,className:"primary"},De,ke,Ce,Le,Pe,Me,Fe,Be)))),React.createElement(v.V,{title:Ye.SETTINGS.LICENSE},React.createElement(Ge,{domain:A,prefix:_,isPro:N,isRegistered:x})),React.createElement(v.V,{title:Ye.SETTINGS.LOGS_DEBUG},React.createElement(T.z,{busy:p,className:"primary"},P&&Ue,He),React.createElement("div",{style:et},c))))))};var rt,nt,at,ot=r(1997),it=r(8482),ct=r(7494),lt=r(5967),st=r(851),ut=r(1843),ft=r(520),mt=r(1894),pt=r(365),dt=r(7070);function ht(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Et=F.Ay.img(rt||(rt=ht(["\n  width: 50px;\n  height: 50px;\n  border-radius: 4px;\n  object-fit: cover;\n  cursor: pointer;\n"]))),yt=F.Ay.div(nt||(nt=ht(["\n  width: 50px;\n  height: 50px;\n  border-radius: 4px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #f5f5f5;\n  color: #999;\n  font-size: 12px;\n  font-weight: 600;\n"]))),Rt=F.Ay.span(at||(at=ht(["\n  color: ",";\n\n  border-radius: 4px;\n  padding: 2px 4px;\n\n  background-color: ",";\n"])),(function(e){return e.kb<1e3?"#00b100":e.kb<3e3?"#db8800":"#d90000"}),(function(e){return e.kb<1e3?"rgba(0, 255, 0, 0.11)":e.kb<3e3?"rgba(227, 186, 15, 0.18)":"rgba(255, 0, 0, 0.13)"})),gt=r(1594),St=r(5592);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */At=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new x(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",d="executing",h="completed",E={};function y(){}function R(){}function g(){}var S={};s(S,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==r&&n.call(b,i)&&(S=b);var T=g.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==vt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=m;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=w(c,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===E)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function w(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(vt(t)+" is not iterable")}return R.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:R,configurable:!0}),R.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===R||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},_(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new A(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),s(T,l,"Generator"),s(T,i,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function It(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function wt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){It(o,n,a,i,c,"next",e)}function c(e){It(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var xt,Dt,kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Ot((0,gt.useState)(t),2),a=n[0],o=n[1],i=Ot((0,gt.useState)(null),2),c=i[0],l=i[1],s=Ot((0,gt.useState)(r),2),u=s[0],f=s[1],m=Ot((0,gt.useState)(0),2),p=m[0],d=m[1];return(0,gt.useEffect)((function(){void 0!==e&&(e.success?(l(null),o(e.data),d(e.total?e.total:0)):l(e.error)),f(void 0===e)}),[e]),{busy:u,data:a,total:p,error:c}},Ct={issues:"-",ignored:"-",trash:"-",references:"-"},Lt={accessor:"size",by:"desc"},Pt=0,Mt={filterBy:"issues",sort:Lt,page:1,limit:parseInt(k.posts_per_page),search:"",busy:!1,stats:Ct,apiErrors:null,status:"",options:k,referenceFilter:"showAll",entries:[],selectedItems:[],total:0,method:k.method,content:C,mediaLibrary:L,duplicates:P,hideThumbnails:k.hide_thumbnails,hideWarning:k.hide_warning,skipTrash:k.skip_trash,postsBuffer:parseInt(k.posts_buffer),mediasBuffer:parseInt(k.medias_buffer),analysisBuffer:parseInt(k.analysis_buffer),scanProgress:k.scan_progress||null,fileOpBuffer:parseInt(k.file_op_buffer),delay:parseInt(k.delay),repairMode:k.repair_mode,expertMode:k.expert_mode,modals:{deleteAll:!1,trashAll:!1,forceTrashAll:!1,recoverAll:!1,showOriginalMedia:!1,pickFolder:!1,pickFolders:!1,warningModal:!1,extractReferencesForPostId:!1},mutateEntries:(Dt=wt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Dt.apply(this,arguments)}),mutateStats:(xt=wt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return xt.apply(this,arguments)})},Ft="PAGE_UPDATED",Gt="LIMIT_UPDATED",Bt="FILTER_UPDATED",Ut="REFERENCE_FILTER_UPDATED",Ht="SORT_UPDATED",jt="SEARCH_UPDATED",Yt="TOTAL_UPDATED",Wt="STATUS_UPDATED",Vt="SETTINGS_UPDATED",zt="TOGGLE_MODAL",Kt="PUSH_BUSY",qt="POP_BUSY",Xt="ENTRIES_UPDATED",Jt="ITEMS_SELECTED",$t="STATS_UPDATED",Qt="ERROR_UPDATED",Zt="SET_ENTRIES_MUTATE",er="SET_STATS_MUTATE",tr=function(e,t){switch(t.type){case Xt:var r=t.entries;return Tt(Tt({},e),{},{entries:r});case $t:var n=t.stats;return Tt(Tt({},e),{},{stats:n});case Qt:var a=t.apiErrors;return Tt(Tt({},e),{},{apiErrors:a});case Ft:var o=t.page;return Tt(Tt({},e),{},{page:o});case Zt:var i=t.mutateEntries;return Tt(Tt({},e),{},{mutateEntries:i});case er:var c=t.mutateStats;return Tt(Tt({},e),{},{mutateStats:c});case Gt:var l=t.limit;return Tt(Tt({},e),{},{limit:l});case Bt:var s=t.filter;return Tt(Tt({},e),{},{filterBy:s});case Ht:var f=t.sort,m=void 0===f?Lt:f;return Tt(Tt({},e),{},{sort:m});case jt:var p=t.search;return Tt(Tt({},e),{},{search:p});case Yt:var d=t.total;return Tt(Tt({},e),{},{total:d});case zt:var h=t.modal,E=t.enable;if(void 0===e.modals[h])return alert((0,u.g7)(Ye.COMMON.MODAL_DOES_NOT_EXIST,h)),console.error((0,u.g7)(Ye.COMMON.MODAL_DOES_NOT_EXIST,h)),e;void 0===E&&(E=!e.modals[h]);var y=Tt({},e);return y.modals=Tt({},y.modals),y.modals[h]=E,y;case Kt:var R=t.status,g=void 0===R?"":R;return Tt(Tt({},e),{},{busy:++Pt>0,status:g});case qt:var S=t.status,v=void 0===S?"":S;return Tt(Tt({},e),{},{busy:--Pt>0,status:v});case Wt:var b=t.status,T=void 0===b?"":b;return Tt(Tt({},e),{},{status:T});case Vt:var _=t.options,A=_.method,I="files"===_.method?_.filesystem_content:_.content,w="files"===_.method&&(null==_?void 0:_.media_library),O="duplicates"===_.method,N=_.hide_thumbnails,x=_.hide_warning,D=_.skip_trash,k=_.posts_buffer?parseInt(_.posts_buffer):5,C=_.medias_buffer?parseInt(_.medias_buffer):100,L=_.analysis_buffer?parseInt(_.analysis_buffer):100,P=_.file_op_buffer?parseInt(_.file_op_buffer):20,M=_.delay?parseInt(_.delay):0,F=_.posts_per_page?parseInt(_.posts_per_page):10,G=_.repair_mode,B=_.expert_mode;return Tt(Tt({},e),{},{options:_,method:A,content:I,mediaLibrary:w,duplicates:O,hideThumbnails:N,hideWarning:x,skipTrash:D,postsBuffer:k,mediasBuffer:C,analysisBuffer:L,fileOpBuffer:P,delay:M,limit:F,repairMode:G,expertMode:B});case Jt:var U=t.selectedItems;return Tt(Tt({},e),{},{selectedItems:U});case Ut:var H=t.referenceFilter;return Tt(Tt({},e),{},{referenceFilter:H});default:return e}},rr=(0,gt.createContext)(),nr=function(e){var t=e.children,r=Ot((0,gt.useReducer)(tr,Mt),2),n=r[0],a=r[1],o=n.filterBy,i=n.sort,c=n.search,l=n.page,s=n.limit,f=n.referenceFilter,m=n.repairMode,p=(0,gt.useMemo)((function(){return[(0,u.mR)("".concat(w,"/entries"),{limit:s,skip:(l-1)*s,filterBy:o,orderBy:i.accessor,order:i.by,search:c,referenceFilter:f,repairMode:m}),{headers:{"X-WP-Nonce":D}}]}),[o,i,c,l,s,w,D,u.mR,f,m]),d=(0,gt.useMemo)((function(){return[(0,u.mR)("".concat(w,"/stats"),{search:c,referenceFilter:f,repairMode:m}),{headers:{"X-WP-Nonce":D}}]}),[c,f,w,D,u.mR,m]),h=(0,St.Ay)(p,u.m9),E=h.data,y=h.mutate,R=kt(E,[],!0),g=R.busy,S=R.data,v=R.total,b=R.error;(0,gt.useEffect)((function(){a({type:Zt,mutateEntries:y})}),[y]),(0,gt.useEffect)((function(){a({type:g?Kt:qt})}),[g]),(0,gt.useEffect)((function(){a({type:Xt,entries:S})}),[S]),(0,gt.useEffect)((function(){a({type:Yt,total:v})}),[v]),(0,gt.useEffect)((function(){a({type:Qt,apiError:b})}),[b]);var T=(0,St.Ay)(d,u.m9),_=T.data,A=T.mutate,I=kt(_,Ct,!0),O=I.busy,N=I.data,x=I.error;return(0,gt.useEffect)((function(){a({type:er,mutateStats:A})}),[A]),(0,gt.useEffect)((function(){a({type:O?Kt:qt})}),[O]),(0,gt.useEffect)((function(){a({type:$t,stats:N})}),[N]),(0,gt.useEffect)((function(){a({type:Qt,apiError:x})}),[x]),React.createElement(rr.Provider,{value:[n,a]},t)};const ar=function(){var e={},t=Ot((0,gt.useContext)(rr),2),r=t[0],n=t[1];return e.setSelectedItems=function(e){n({type:Jt,selectedItems:e})},e.setStatus=function(e){n({type:Wt,status:e})},e.updateOption=function(){var e=wt(At().mark((function e(t,a){var o,i,c,l=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>2&&void 0!==l[2]&&l[2],n({type:Kt}),i=Tt(Tt({},r.options),{},_t({},a,t)),o&&(i=_t({},a,t)),e.prev=4,e.next=7,(0,u.Tb)("".concat(w,"/update_options"),{json:{options:i},nonce:D});case 7:(c=e.sent).success&&n({type:Vt,options:c.options}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.message&&alert(e.t0.message);case 14:return e.prev=14,n({type:qt}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(t,r){return e.apply(this,arguments)}}(),e.setPage=function(e){n({type:Ft,page:e})},e.setLimit=function(e){n({type:Gt,limit:e})},e.setFilter=function(e){n({type:Bt,filter:e})},e.setSort=function(e){n({type:Ht,sort:e})},e.setSearch=function(e){n({type:jt,search:e})},e.setReferenceFilter=function(e){n({type:Ut,referenceFilter:e})},e.setRepairMode=function(t){e.updateOption(t,"repair_mode")},e.toggleModal=function(e){n({type:zt,modal:e,enable:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0})},e.pushBusy=function(){n({type:Kt})},e.popBusy=function(){n({type:qt})},Tt(Tt({},r),e)};var or=r(6691),ir={fontSize:15},cr=function(){var e=ar(),t=(e.hideWarning,e.method),r=e.content,n=e.mediaLibrary,a=k.incompatible_plugins,o=React.createElement(React.Fragment,null,React.createElement(b.M,{className:"secondary",onClick:function(){return window.open("https://meowapps.com/plugin/media-cleaner/","_blank")}},Ye.NOTIFICATIONS.GET_PRO_VERSION),React.createElement(b.M,{className:"primary",onClick:function(){return window.open("https://meowapps.com/media-cleaner/tutorial/","_blank")}},Ye.NOTIFICATIONS.READ_TUTORIAL));return React.createElement(React.Fragment,null,"media"===t&&!r&&React.createElement(or.n,{variant:"info"},React.createElement(d.s,{p:!0,style:ir},Ye.NOTIFICATIONS.SCAN_MEDIA_LIBRARY_FOR_BROKEN_ENTRIES)),"media"===t&&r&&React.createElement(or.n,{variant:"info"},React.createElement(d.s,{p:!0,style:ir},Ye.NOTIFICATIONS.SCAN_MEDIA_LIBRARY_FOR_UNUSED_ENTRIES)),"files"===t&&r&&n&&React.createElement(or.n,{variant:"info"},React.createElement(d.s,{p:!0,style:ir},Ye.NOTIFICATIONS.SCAN_PHYSICAL_DIRS_FOR_UNREGISTERED_OR_UNUSED)),"files"===t&&!r&&n&&React.createElement(or.n,{variant:"info"},React.createElement(d.s,{p:!0,style:ir},Ye.NOTIFICATIONS.SCAN_PHYSICAL_DIRS_FOR_UNREGISTERED)),"files"===t&&!r&&!n&&React.createElement(or.n,{variant:"info"},React.createElement(d.s,{p:!0,style:ir},Ye.NOTIFICATIONS.RETURN_ALL_FILES_FROM_PHYSICAL_DIRS)),"files"===t&&r&&!n&&React.createElement(or.n,{variant:"info"},React.createElement(d.s,{p:!0,style:ir},Ye.NOTIFICATIONS.SCAN_PHYSICAL_DIRS_FOR_UNUSED)),!x&&React.createElement(_e.L,{footer:o},React.createElement(d.s,{p:!0},(0,u.FE)(Ye.NOTIFICATIONS.FREE_VERSION_INSTRUNTION))),!x&&a&&a.length>0&&React.createElement(or.n,{variant:"error"},React.createElement(d.s,{p:!0,style:ir},React.createElement("p",null,Ye.NOTIFICATIONS.IMCOMPATIBLE_PLUGINS_NOTE),React.createElement("ul",null,a.map((function(e){return React.createElement("li",null,"- ",e)}))),React.createElement("p",null,(0,u.FE)(Ye.NOTIFICATIONS.IMCOMPATIBLE_PLUGINS_MESSAGE)))))},lr=function(e){return new Promise((function(t){return setTimeout(t,e)}))},sr=function(e){for(var t=[],r=function(){var r=e[n].split("/").filter((function(e){return!!e})),a=r[0];if(t.some((function(e){return e.name===a}))||t.push({name:a,children:[]}),1===r.length)return 1;for(var o=t.find((function(e){return e.name===a})),i=function(){var e=r[c];o.children.some((function(t){return t.name===e}))||o.children.push({name:e,children:[]}),o=o.children.find((function(t){return t.name===e}))},c=1;c<r.length;c++)i()},n=0;n<e.length;n++)r();return t};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function fr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Rr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function mr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ur(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ur(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pr(e){return function(e){if(Array.isArray(e))return gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new x(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",d="executing",h="completed",E={};function y(){}function R(){}function g(){}var S={};s(S,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==r&&n.call(b,i)&&(S=b);var T=g.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ur(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=m;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=w(c,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===E)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function w(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ur(t)+" is not iterable")}return R.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:R,configurable:!0}),R.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===R||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},_(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new A(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),s(T,l,"Generator"),s(T,i,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function hr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Er(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){hr(o,n,a,i,c,"next",e)}function c(e){hr(o,n,a,i,c,"throw",e)}i(void 0)}))}}function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Rr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){if(e){if("string"==typeof e)return gr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gr(e,t):void 0}}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Sr=wp.element,vr=Sr.useState,br=Sr.useEffect,Tr=Sr.useMemo,_r=Sr.useCallback,Ar=[{id:"media",value:"media",label:Ye.COMMON.MEDIA_LIBRARY,requirePro:!1},{id:"files",value:"files",label:Ye.COMMON.FILESYSTEM,requirePro:!x},{id:"duplicates",value:"duplicates",label:Ye.COMMON.DUPLICATES,requirePro:!x}],Ir=[{value:"showAll",label:Ye.DASHBOARD.REFERENCE_COLUMN_FILTERS.SHOW_ALL},{value:"mediaIds",label:Ye.DASHBOARD.REFERENCE_COLUMN_FILTERS.ONLY_MEDIA_IDS},{value:"mediaUrls",label:Ye.DASHBOARD.REFERENCE_COLUMN_FILTERS.ONLY_MEDIA_URLS}],wr={NO_CONTENT:Ye.ISSUE_CODES.NO_CONTENT,ORPHAN_MEDIA:Ye.ISSUE_CODES.ORPHAN_MEDIA,ORPHAN_FILE:Ye.ISSUE_CODES.ORPHAN_FILE,ORPHAN_RETINA:Ye.ISSUE_CODES.ORPHAN_RETINA,ORPHAN_WEBP:Ye.ISSUE_CODES.ORPHAN_WEBP};const Or=function(){var e=ar(),t=e.apiErrors,r=e.busy,n=e.selectedItems,a=e.entries,o=e.stats,i=e.total,c=e.filterBy,l=e.search,s=e.status,f=e.sort,m=e.page,p=e.limit,h=e.method,E=e.content,v=e.mediaLibrary,T=e.duplicates,_=e.hideThumbnails,A=e.postsBuffer,I=e.mediasBuffer,O=e.analysisBuffer,k=e.scanProgress,C=e.fileOpBuffer,L=e.delay,P=e.modals,M=e.referenceFilter,F=e.repairMode,G=e.expertMode,B=ar(),U=B.setSelectedItems,H=B.setSearch,j=B.setStatus,Y=B.setSort,W=B.setPage,V=B.setLimit,z=B.setFilter,K=B.setReferenceFilter,q=B.hideWarning,X=B.mutateEntries,J=B.mutateStats,$=B.pushBusy,Q=B.popBusy,Z=B.toggleModal,ee=B.updateOption,te=B.setRepairMode,re=yr(vr(!1),2),ne=re[0],ae=re[1],oe=yr(vr([!1,!1,!1,!1]),2),ie=oe[0],ce=oe[1];br((function(){ne&&setTimeout((function(){Dr(!0)}),100)}),[ne]);var le=yr(vr(1),2),se=le[0],ue=le[1],fe=yr(vr(1),2),me=fe[0],pe=fe[1],de=yr(vr(""),2),he=de[0],Ee=de[1],ye=yr(vr(!1),2),Re=ye[0],ge=ye[1],_e=yr(vr(!1),2),Ae=(_e[0],_e[1]),we=D,Oe=!1,Ne=yr(vr(!1),2),xe=Ne[0],De=Ne[1],ke=yr(vr(0),2),Ce=ke[0],Le=ke[1],Pe=yr(vr(0),2),Me=Pe[0],Fe=Pe[1],Ge=yr(vr(null),2),Be=Ge[0],Ue=Ge[1],He=yr(vr(0),2),je=He[0],We=He[1],Ve=yr(vr(!1),2),ze=Ve[0],Ke=Ve[1],qe=yr(vr(!1),2),Xe=qe[0],Je=qe[1],$e=yr(vr(null),2),Qe=$e[0],Ze=$e[1],et=yr(vr(),2),tt=et[0],rt=et[1],nt=yr(vr(!1),2),at=nt[0],ht=nt[1],gt=yr(vr(F),2),St=gt[0],vt=gt[1],bt=yr(vr(null),2),Tt=bt[0],_t=bt[1],At=yr(vr({root:null,hierarchy:[]}),2),It=At[0],wt=At[1],Ot=yr(vr(""),2),Nt=Ot[0],xt=Ot[1],Dt=yr(vr(null),2),kt=Dt[0],Ct=Dt[1],Lt=yr(vr(null),2),Pt=Lt[0],Mt=Lt[1],Ft=_r(Er(dr().mark((function e(){var t,r,n,a,o,i,c=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],e.prev=1,r=(0,u.mR)("".concat(w,"/uploads_directory_hierarchy"),{force:t}),e.next=5,(0,u.IU)(r,{nonce:we});case 5:return n=e.sent,a=JSON.parse(n.data.hierarchy),o=sr(a),i={root:n.data.root,hierarchy:o},wt(i),xt(n.data.root),e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(1),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),[]),Gt=Tr((function(){var e="trash"===c,t="references"===c;return a.map((function(r){var n,a,o=null!==(n=r.originType)&&void 0!==n?n:"",i=null!==(a=null==r?void 0:r.post_title)&&void 0!==a?a:"...",c=o.match(/\[(\d+)\]/);if(c){var l=c[1],s="/wp-admin/post.php?post=".concat(l,"&action=edit");o=(o=o.replace(c[0],"")).trim(),i=React.createElement(React.Fragment,null,React.createElement("span",null,i)," ",React.createElement("small",null,React.createElement("a",{href:s,target:"_blank",rel:"noreferrer"},"(ID #",l,")")))}o.includes("{SAFE}")?(o=(o=o.replace("{SAFE}","")).trim(),o=React.createElement("span",null,o," ",React.createElement(ot.f,{text:"Even if this was not directly detected as in use, just to be sure it will not be deleted."},React.createElement("small",{style:{color:"rgb(59, 142, 79)",backgroundColor:"#d7ffdc",borderRadius:"5px",padding:"2px 4px",cursor:"help"}},"SAFE")))):o=React.createElement("span",null,o);var f=null!=r&&r.thumbnail?React.createElement(Et,{src:r.thumbnail,onClick:function(){return _t(r.thumbnail)}}):React.createElement(yt,null,"⚠️");if(t)return{thumbnail:f,post:i,mediaId:r.mediaId,mediaUrl:r.mediaUrl,originType:o};var m="_blank",p="/wp-admin/",d=window.location.href.split("/")[3];"wp-admin"!==d&&(p="/"+d+p);var h=e?r.image_url:"".concat(p,"post.php?post=").concat(r.postId,"&action=edit"),E=r.child_paths?r.child_paths.split(",").join("\n"):null,y=r.thumbnail_url?React.createElement(Et,{src:r.thumbnail_url,onClick:function(){return _t(r.image_url)}}):React.createElement(yt,null,"⚠️");return{id:r.id,thumbnail_url:React.createElement(React.Fragment,null,"ORPHAN_MEDIA"!==r.issue&&y),type:React.createElement("span",null,0==r.type&&"Filesystem",1==r.type&&React.createElement("a",{href:h,target:m},"ID ",r.postId)),path:React.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.title&&React.createElement("a",{href:h,target:m},React.createElement("span",null,r.title)),React.createElement("span",null,r.path),F&&E&&React.createElement("span",{style:{fontSize:12,color:"#999",whiteSpace:"pre"}},E)),issue:React.createElement("span",null,wr[r.issue]?wr[r.issue]:r.issue),size:React.createElement(Rt,{kb:(r.size/1e3).toFixed(2)},(r.size/1e3).toFixed(2)," ",React.createElement("b",null,"KB")," "),time:e?(0,u.LE)(r.time,{tableStyling:!0}):null,action:React.createElement(b.M,{onClick:function(){return Xt(r.id)}},Ye.DASHBOARD.REPAIR)}}))}),[a,c,M,F]),Bt=Tr((function(){if("references"===c)return[{accessor:"thumbnail",title:Ye.DASHBOARD.THUMBNAIL,sortable:!1,width:"75px"},{accessor:"post",title:Ye.DASHBOARD.POST,sortable:!0,width:"230px"},{accessor:"originType",title:Ye.DASHBOARD.ORIGIN_TYPE,sortable:!0},{accessor:"mediaId",title:Ye.DASHBOARD.MEDIA_ID,sortable:!0,width:"150px"},{accessor:"mediaUrl",title:Ye.DASHBOARD.MEDIA_URL,sortable:!0}];var e=[{accessor:"type",title:Ye.DASHBOARD.ORIGIN,sortable:!0,width:"150px"},{accessor:"path",title:Ye.DASHBOARD.TITLE_PATH,sortable:!0},{accessor:"issue",title:Ye.DASHBOARD.ISSUE,sortable:!0,width:"150px"},{accessor:"size",title:Ye.DASHBOARD.SIZE,sortable:!0,width:"150px"}];return _||e.unshift({accessor:"thumbnail_url",title:"",width:"70px"}),"trash"===c&&e.push({accessor:"time",title:Ye.DASHBOARD.DELETED_AT,sortable:!0,width:"250px"}),F&&e.push({accessor:"action",title:Ye.DASHBOARD.ACTION}),e}),[_,c,F]);br((function(){x&&Ft()}),[]),br((function(){Tt&&Z("showOriginalMedia",!0)}),[Tt]),br((function(){U([]),Y(),W(1)}),[c]);var Ut=function(){var e=Er(dr().mark((function e(t,r){var n,a,o,i,c,l;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>1?(Fe(t.length),Le(0)):(Fe(100),Le(0)),We(0),Ke(!1),n=0;case 4:if(!(n<t.length)){e.next=50;break}if(!ze){e.next=8;break}return console.log("🛑 Operation stopped by user"),e.abrupt("break",50);case 8:a=!1;case 9:if(a){e.next=47;break}return e.prev=10,o=t[n],t.length>1?Le(n+1):Le(Math.min(25+50*n,95)),i=new Promise((function(e,t){setTimeout((function(){t(new Error("The server response was too long, please retry or refresh the page and resume the scan."))}),3e5)})),e.next=16,Promise.race([r(o),i]);case 16:null!=(c=e.sent)&&c.new_token&&(we=c.new_token,console.log("🟢 Updated nonce:",we)),a=!0,e.next=45;break;case 21:if(e.prev=21,e.t0=e.catch(10),console.error("🔴 Batch processing error:",e.t0),Xe){e.next=42;break}return Ue(e.t0),e.next=28,new Promise((function(e){Ze((function(){return function(){return e("retry")}}));window.tempErrorHandlers={skip:function(){Ue(null),Ze(null),We((function(e){return e+1})),e("skip")},stop:function(){window.location.reload()}}}));case 28:if("retry"!==(l=e.sent)){e.next=34;break}Ue(null),Ze(null),e.next=40;break;case 34:if("skip"!==l){e.next=38;break}a=!0,e.next=40;break;case 38:if("stop"!==l){e.next=40;break}return e.abrupt("return",je);case 40:e.next=45;break;case 42:We((function(e){return e+1})),console.log('⏭️ Skipping error due to "always skip" setting'),a=!0;case 45:e.next=9;break;case 47:n++,e.next=4;break;case 50:return 1===t.length&&Le(100),e.abrupt("return",je);case 52:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t,r){return e.apply(this,arguments)}}(),Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null!==e?e:je;return console.log("🏁 onActionFinished called with errorCount:",t),t>0?(console.log("🛑 Setting final message due to errors"),!1):(console.log("🟢 No errors detected in onActionFinished"),Le(0),Fe(0),U([]),X(),J(),!0)},jt=function(){var e=Er(dr().mark((function e(t){var r,n,a,o=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:null,n=o.length>2&&void 0!==o[2]&&o[2],e.next=4,(0,u.IU)("".concat(w,"/all_ids"),{json:{source:t,search:r,repairMode:n},nonce:we,method:"POST"});case 4:if((a=e.sent).success){e.next=8;break}return alert(a.message),e.abrupt("return",[]);case 8:return e.abrupt("return",a.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Er(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L>0)){e.next=3;break}return e.next=3,lr(L);case 3:return e.next=5,(0,u.IU)("".concat(w,"/count"),{json:{source:t},nonce:we,method:"POST"});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=Er(dr().mark((function e(){var t,r,n,a,o,i,c=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,r=c.length>1&&void 0!==c[1]&&c[1],n=c.length>2&&void 0!==c[2]?c[2]:null,j(Ye.DASHBOARD.STATUS_GETTING_IDS),$(),!t){e.next=9;break}e.t0=t,e.next=12;break;case 9:return e.next=11,jt(r?"trash":"issues",n);case 11:e.t0=e.sent;case 12:if(!(a=e.t0)){e.next=19;break}return j(r?Ye.DASHBOARD.STATUS_EMPTYING:Ye.DASHBOARD.STATUS_DELETING),o=(0,u.a4)(a,C),e.next=18,Ut(o,function(){var e=Er(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L>0)){e.next=3;break}return e.next=3,lr(L);case 3:return e.next=5,(0,u.IU)("".concat(w,"/delete"),{json:{entryIds:t},nonce:we,method:"POST"});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:Ht();case 19:if(null!=t||!r){e.next=30;break}return e.prev=20,e.next=23,(0,u.IU)("".concat(w,"/stats"),{nonce:we});case 23:(i=e.sent).success&&i.data&&i.data.trash>0&&Z("forceTrashAll",!0),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(20),console.error("Failed to get latest stats:",e.t1);case 30:Q(),j();case 32:case"end":return e.stop()}}),e,null,[[20,27]])})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_EMPTYING),$(),e.prev=2,e.next=5,(0,u.IU)("".concat(w,"/force_trash_all"),{nonce:we,method:"POST"});case 5:e.sent.success&&(alert(Ye.DASHBOARD.STATUS_EMPTYING_SUCCESS),window.location.reload()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:Q(),j();case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=Er(dr().mark((function e(){var t,r,n,a=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,j(Ye.DASHBOARD.STATUS_GETTING_IDS),$(),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,jt("trash");case 9:e.t0=e.sent;case 10:if(!(r=e.t0)){e.next=16;break}return n=(0,u.a4)(r,C),e.next=15,Ut(n,function(){var e=Er(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(Ye.DASHBOARD.STATUS_RECOVERING),!(L>0)){e.next=4;break}return e.next=4,lr(L);case 4:return e.next=6,(0,u.IU)("".concat(w,"/recover"),{json:{entryIds:t},nonce:we,method:"POST"});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:Ht();case 16:Q(),j();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Er(dr().mark((function e(){var t,r,n,a,o=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(o.length>0&&void 0!==o[0])||o[0],r=o.length>1&&void 0!==o[1]?o[1]:null,j(Ye.DASHBOARD.STATUS_GETTING_IDS),$(),!r){e.next=8;break}e.t0=r,e.next=11;break;case 8:return e.next=10,jt("issues");case 10:e.t0=e.sent;case 11:if(!(n=e.t0)){e.next=18;break}return j("".concat(t?Ye.DASHBOARD.STATUS_IGNORING:Ye.DASHBOARD.STATUS_UNDOING)),a=(0,u.a4)(n,O),e.next=17,Ut(a,function(){var e=Er(dr().mark((function e(r){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L>0)){e.next=3;break}return e.next=3,lr(L);case 3:return e.next=5,(0,u.IU)("".concat(w,"/set_ignore"),{json:{entryIds:r,ignore:t},nonce:we,method:"POST"});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:Ht();case 18:Q(),j();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=Er(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(t,"posts_per_page");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=function(){var e=Er(dr().mark((function e(){var t,r,n,a=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,j(Ye.DASHBOARD.STATUS_GETTING_IDS),$(),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,jt("issues",null,!0);case 9:e.t0=e.sent;case 10:if(!(r=e.t0)){e.next=16;break}return n=(0,u.a4)(r,C),e.next=15,Ut(n,function(){var e=Er(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(Ye.DASHBOARD.STATUS_RECOVERING),!(L>0)){e.next=4;break}return e.next=4,lr(L);case 4:return e.next=6,(0,u.IU)("".concat(w,"/repair"),{json:{entryIds:t},nonce:we,method:"POST"});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:Ht();case 16:Q(),j();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=function(){window.tempErrorHandlers?(window.tempErrorHandlers.stop(),window.tempErrorHandlers=null):(Jt(),Ht(),Q(),j())},Qt=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_RESETTING_ISSUES_AND_REFERENCES),Fe(100),Le(0),e.next=5,(0,u.IU)("".concat(w,"/reset_issues_and_references"),{nonce:we,method:"POST"});case 5:Le(100),ue((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zt=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_RESETTING_ISSUES),Fe(100),Le(0),e.next=5,(0,u.IU)("".concat(w,"/reset_issues"),{nonce:we,method:"POST"});case 5:Le(100),ue((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),er=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_RESETTING_REFERENCES),Fe(100),Le(0),e.next=5,(0,u.IU)("".concat(w,"/reset_references"),{nonce:we,method:"POST"});case 5:Le(100),ue((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tr=function(){var e=Er(dr().mark((function e(){var t,r,n,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_EXTRACT_FROM_DUPLICATES),e.next=3,Yt("medias");case 3:for(t=e.sent,r=[],n=0;n<t;n+=A)r.push(n);return e.next=8,Ut(r,function(){var e=Er(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Oe&&k&&k.data&&"duplicates"===k.data.type)){e.next=4;break}if(!(t<=k.data.limit)){e.next=4;break}return console.log("⏭️ Skipping limit",t,"due to resume logic"),e.abrupt("return",{success:!0,skipped:!0});case 4:if(!(L>0)){e.next=7;break}return e.next=7,lr(L);case 7:return e.next=9,(0,u.IU)("".concat(w,"/extract_references"),{json:{source:"duplicates",limit:t},nonce:we,method:"POST"});case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return a=e.sent,ue((function(e){return e+1})),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rr=function(){var e=Er(dr().mark((function e(t){var r,n,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_EXTRACT_FROM_CONTENT),e.next=3,Yt("posts");case 3:for(r=e.sent,n=[],a=0;a<r;a+=A)n.push(a);return console.log("🟢 Extracting references from content, total posts:",r,"limits:",n),e.next=9,Ut(n,function(){var e=Er(dr().mark((function e(r){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Oe&&k&&k.data&&"content"===k.data.type)){e.next=4;break}if(!(r<=k.data.limit)){e.next=4;break}return console.log("⏭️ Skipping limit",r,"due to resume logic"),e.abrupt("return",{success:!0,skipped:!0});case 4:if(!(L>0)){e.next=7;break}return e.next=7,lr(L);case 7:return e.next=9,(0,u.IU)("".concat(w,"/extract_references"),{json:{source:"content",limit:r,postId:t},nonce:we,method:"POST"});case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return o=e.sent,ue((function(e){return e+1})),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nr=function(){var e=Er(dr().mark((function e(t){var r,n,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_EXTRACT_FROM_LIBRARY),e.next=3,Yt("medias");case 3:for(r=e.sent,n=[],a=0;a<r;a+=A)n.push(a);return e.next=8,Ut(n,function(){var e=Er(dr().mark((function e(r){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Oe&&k&&k.data&&"library"===k.data.type)){e.next=4;break}if(!(r<=k.data.limit)){e.next=4;break}return console.log("⏭️ Skipping limit",r,"due to resume logic"),e.abrupt("return",{success:!0,skipped:!0});case 4:if(!(L>0)){e.next=7;break}return e.next=7,lr(L);case 7:return e.next=9,(0,u.IU)("".concat(w,"/extract_references"),{json:{source:"media",limit:r,postId:t},nonce:we,method:"POST"});case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return o=e.sent,ue((function(e){return e+1})),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Er(dr().mark((function e(t){var r,n,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],j(Ye.DASHBOARD.STATUS_LISTING_MEDIA),e.next=4,Yt("medias");case 4:for(n=e.sent,a=[],o=0;o<n;o+=I)a.push(o);return e.next=9,Ut(a,function(){var e=Er(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Oe&&k&&k.data&&"retrieveMedia"===k.step)){e.next=4;break}if(!(t<=k.data.limit)){e.next=4;break}return console.log("⏭️ Skipping limit",t,"due to resume logic"),e.abrupt("return",{success:!0,skipped:!0});case 4:if(!(L>0)){e.next=7;break}return e.next=7,lr(L);case 7:return e.next=9,(0,u.IU)("".concat(w,"/retrieve_medias"),{json:{limit:t},nonce:we,method:"POST"});case 9:return(n=e.sent).data&&r.push.apply(r,pr(n.data.results)),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return je,ue((function(e){return e+1})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Er(dr().mark((function e(){var t,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],j(Ye.DASHBOARD.STATUS_LISTING_DUPLICATES),!(L>0)){e.next=5;break}return e.next=5,lr(L);case 5:return e.next=7,(0,u.IU)("".concat(w,"/retrieve_hash_duplicates"),{nonce:we,method:"POST"});case 7:return(r=e.sent).data&&t.push.apply(t,pr(r.data.results)),ue((function(e){return e+1})),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ur=function(){var e=Er(dr().mark((function e(t){var r,n,a,o,i,c,l,s,f,m,p,d,h,E,y,R,g,S,v,b=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=b.length>1&&void 0!==b[1]?b[1]:null,n=[],j(Ye.DASHBOARD.STATUS_LISTING_FILES),a=kt||r,o=new Set,i=[a],c=0,l=1,Oe&&k&&k.data&&"retrieveFiles"===k.step&&(n.push.apply(n,pr(k.data.targets||[])),o=new Set(k.data.processedDirs||[]),c=k.data.processedCount||0,l=k.data.totalDirs||1,i=k.data.directoriesToProcess||[a]),Fe(100),Le(0),s=function(){var e=Math.min(Math.round(c/Math.max(l,1)*100),95);Le(e)};case 12:if(!(i.length>0)){e.next=81;break}if(!ze){e.next=16;break}return console.log("🛑 Operation stopped by user"),e.abrupt("break",81);case 16:if(f=i.shift(),!o.has(f)){e.next=19;break}return e.abrupt("continue",12);case 19:m=!1;case 20:if(m){e.next=77;break}return e.prev=21,console.log("🟢 Processing directory:",f),d=mr(mr({processedDirs:Array.from(o),targets:n,totalDirs:l,processedCount:c},"totalDirs",l),"directoriesToProcess",i),e.next=26,(0,u.IU)("".concat(w,"/retrieve_files"),{json:{path:f,save:d},nonce:we,method:"POST"});case 26:h=e.sent,E=h.data,null!=h&&h.new_token&&(we=h.new_token,console.log("🟢 Updated nonce:",we)),y=[],R=fr(E.results);try{for(R.s();!(g=R.n()).done;)"dir"===(S=g.value).type?o.has(S.path)||y.push(S.path):n.push(S.path)}catch(e){R.e(e)}finally{R.f()}(p=i).push.apply(p,y),l+=y.length,o.add(f),console.log("🟢 Directory processed:",o),c++,s(),m=!0,e.next=75;break;case 41:if(e.prev=41,e.t0=e.catch(21),console.error("🔴 Error processing directory:",f,e.t0),Xe){e.next=69;break}return Ue(e.t0),e.next=48,new Promise((function(e){Ze((function(){return function(){return e("retry")}}));window.tempErrorHandlers={skip:function(){Ue(null),Ze(null),We((function(e){return e+1})),e("skip")},stop:function(){Ke(!0),Ue(null),Ze(null),e("stop")}}}));case 48:if("retry"!==(v=e.sent)){e.next=55;break}Ue(null),Ze(null),console.log("� Retrying directory:",f),e.next=67;break;case 55:if("skip"!==v){e.next=64;break}console.log("⏭️ Skipping directory:",f),o.add(f),c++,s(),We((function(e){return e+1})),m=!0,e.next=67;break;case 64:if("stop"!==v){e.next=67;break}return console.log("🛑 Stopping directory processing"),e.abrupt("break",77);case 67:e.next=75;break;case 69:console.log('⏭️ Auto-skipping directory due to "always skip" setting:',f),o.add(f),c++,s(),We((function(e){return e+1})),m=!0;case 75:e.next=20;break;case 77:if(!ze){e.next=79;break}return e.abrupt("break",81);case 79:e.next=12;break;case 81:return Le(100),console.log("🏁 File retrieval completed. Processed",c,"directories, found",n.length,"files"),t+=je,ue((function(e){return e+1})),e.abrupt("return",n);case 86:case"end":return e.stop()}}),e,null,[[21,41]])})));return function(t){return e.apply(this,arguments)}}(),hr=function(){var e=Er(dr().mark((function e(t){var r,n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Ye.DASHBOARD.STATUS_MATCHING_WITH_CONTENT),r=(0,u.a4)(t,O),e.next=4,Ut(r,function(){var e=Er(dr().mark((function e(t){var r,n,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Oe&&k&&k.data&&"checkTargets"===k.step)){e.next=7;break}if(r=k.data.doneTargets||[],0!==(n=t.filter((function(e){return!r.includes(e)}))).length){e.next=6;break}return console.log("⏭️ Skipping targets due to resume logic, all already processed"),e.abrupt("return",{success:!0,skipped:!0});case 6:t=n;case 7:if(!(L>0)){e.next=10;break}return e.next=10,lr(L);case 10:return e.next=12,(0,u.IU)("".concat(w,"/check_targets"),{json:{method:h,targets:t},nonce:we,method:"POST"});case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rr=function(){j(Ye.DASHBOARD.STATUS_SETTING_REPAIR_MODE),Fe(100),Le(0),te(!0),Le(100)},gr=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(),rt(Date.now()),Ae(!0),U([]),ue(1),pe(2),Le(0),Fe(1),e.next=10,Zt();case 10:Ht(),rt(),Ae(),Q(),j();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sr=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(),rt(Date.now()),Ae(!0),U([]),ue(1),pe(2),Le(0),Fe(1),e.next=10,er();case 10:Ht(),rt(),Ae(),Q(),j();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Or=function(){var e=Er(dr().mark((function e(){var t,r,n=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,r=0,$(),rt(Date.now()),Ae(!0),U([]),ue(1),pe(2+("files"===h&&v?1:0)),Le(0),Fe(1),e.next=12,Qt();case 12:if(!E){e.next=16;break}return e.next=15,rr(t);case 15:r=e.sent;case 16:if("files"!==h||!v){e.next=20;break}return e.next=19,nr(t);case 19:r=e.sent;case 20:Ht(r),rt(),Ae(),Q(),j();case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nr=function(){var e=Er(dr().mark((function e(){var t,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,$(),rt(Date.now()),Ae(!0),U([]),ue(1),pe(2),Le(0),Fe(1),r=[],"media"!==h){e.next=16;break}return e.next=13,or(t);case 13:r=e.sent,e.next=23;break;case 16:if("files"!==h){e.next=22;break}return e.next=19,ur(t,Nt.replace(It.root,""));case 19:r=e.sent,e.next=23;break;case 22:"duplicates"===h||alert(Ye.DASHBOARD.STATUS_ERROR_UNKNOWN_METHOD);case 23:if(!r){e.next=27;break}return e.next=26,hr(r);case 26:t=e.sent;case 27:St&&Rr(),Ht(t),rt(),Ae(),Q(),j(),"files"===h&&xt(It.root);case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xr=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("🟢 Resuming scan with clean model...",k),Oe=!0,Dr();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dr=function(){var e=Er(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k||!t){e.next=4;break}if(window.confirm(Ye.DASHBOARD.CONFIRM_RESTART_INSTEAD_OF_RESUME)){e.next=4;break}return e.abrupt("return");case 4:if(ne||q||Oe){e.next=7;break}return Z("warningModal",!0),e.abrupt("return");case 7:return t&&(Oe=!1),e.next=10,ee(h,"method",!0);case 10:return e.next=12,Pr(St);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kr=function(e){var t=pr(ie);t[e]=!t[e],ce(t)},Cr=function(){return ie.every((function(e){return e}))},Lr=function(){var e=Er(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(!0);case 2:e.sent,Z("pickFolders",!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pr=function(){var e=Er(dr().mark((function e(t){var r,n,a,o,i,c,l,s,f,m,p,d,y,R;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,n=[],$(),rt(Date.now()),ge(!0),U([]),Ue(null),Ze(null),We(0),Ke(!1),Je(!1),Le(0),Fe(1),console.log("🟢 Starting scan with settings - method:",h,"content:",E,"mediaLibrary:",v,"duplicates:",T,"useRepairMode:",t),a=["resetIssuesAndReferences"].concat(pr(E?["extractReferencesFromContent"]:[]),pr("files"===h&&v?["extractReferencesFromMedia"]:[]),pr(T?["extractReferencesFromDuplicates"]:[]),["retrieveTargets","checkTargets"],pr(t?["setRepairMode"]:[])),pe(a.length),o=0,!Oe){e.next=22;break}return j(Ye.DASHBOARD.STATUS_RESUMING),e.next=21,lr(1e3);case 21:k&&k.step&&(i=k.step,o="extractReferencesFromContent"===i?a.indexOf("extractReferencesFromContent"):"extractReferencesFromContent_finished"===i?a.indexOf("extractReferencesFromContent")+1:"extractReferencesFromLibrary"===i?a.indexOf("extractReferencesFromMedia"):"extractReferencesFromLibrary_finished"===i?a.indexOf("extractReferencesFromMedia")+1:"retrieveMedia"===i||"retrieveFiles"===i?a.indexOf("retrieveTargets"):"retrieveMedia_finished"===i||"retrieveFiles_finished"===i||"checkTargets"===i?a.indexOf("checkTargets"):0,console.log("🟢 Resuming from step:",o,"Progress step:",i,"All steps:",a));case 22:ue(o+1),c=o;case 24:if(!(c<a.length)){e.next=128;break}if(!ze){e.next=28;break}return console.log("🛑 Scanning stopped by user"),e.abrupt("break",128);case 28:l=a[c],ue(c+1),Le(0),Fe(1),e.prev=32,e.t0=l,e.next="resetIssuesAndReferences"===e.t0?36:"extractReferencesFromContent"===e.t0?40:"extractReferencesFromMedia"===e.t0?45:"extractReferencesFromDuplicates"===e.t0?50:"retrieveTargets"===e.t0?55:"checkTargets"===e.t0?78:"setRepairMode"===e.t0?117:119;break;case 36:if(Oe&&c!==o){e.next=39;break}return e.next=39,Qt();case 39:return e.abrupt("break",119);case 40:return e.next=42,rr();case 42:return s=e.sent,r+=s,e.abrupt("break",119);case 45:return e.next=47,nr();case 47:return f=e.sent,r+=f,e.abrupt("break",119);case 50:return e.next=52,tr();case 52:return m=e.sent,r+=m,e.abrupt("break",119);case 55:if(p=[],"media"!==h){e.next=62;break}return e.next=59,or(r);case 59:p=e.sent,e.next=76;break;case 62:if("files"!==h){e.next=68;break}return e.next=65,ur(r);case 65:p=e.sent,e.next=76;break;case 68:if("duplicates"!==h){e.next=74;break}return e.next=71,ir();case 71:p=e.sent,e.next=76;break;case 74:return alert(Ye.DASHBOARD.STATUS_ERROR_UNKNOWN_METHOD),e.abrupt("return");case 76:return n=p,e.abrupt("break",119);case 78:if(0!==(d=n).length||!Oe){e.next=98;break}if(!(k&&k.data.targets&&k.data.targets.length>0)){e.next=85;break}d=k.data.targets,console.log("🟢 Using targets from progress:",d.length),e.next=98;break;case 85:if(ue(c-1),console.log("🟡 Re-retrieving targets for checkTargets step during resume"),"media"!==h){e.next=93;break}return e.next=90,or(r);case 90:d=e.sent,e.next=97;break;case 93:if("files"!==h){e.next=97;break}return e.next=96,ur(r);case 96:d=e.sent;case 97:ue(c+1);case 98:if(!(d.length>0)){e.next=105;break}return e.next=101,hr(d);case 101:y=e.sent,r+=y,e.next=116;break;case 105:return console.log("🟡 Calling checkTargets with empty array to check for targets in progress"),e.prev=106,e.next=109,hr([]);case 109:R=e.sent,r+=R,e.next=116;break;case 113:e.prev=113,e.t1=e.catch(106),console.warn("🟡 No targets available for checkTargets step:",e.t1.message);case 116:return e.abrupt("break",119);case 117:return Rr(),e.abrupt("break",119);case 119:e.next=125;break;case 121:e.prev=121,e.t2=e.catch(32),console.error("🔴 Error in step ".concat(l,":"),e.t2),r++;case 125:c++,e.next=24;break;case 128:return console.log("🏁 Scanning completed, clearing progress..."),e.prev=129,e.next=132,(0,u.IU)("".concat(w,"/clear_progress"),{nonce:we,method:"POST"});case 132:De(!0),e.next=138;break;case 135:e.prev=135,e.t3=e.catch(129),console.error("Failed to clear progress:",e.t3);case 138:rt(),ge(),Q(),j(),Ht(r);case 143:case"end":return e.stop()}}),e,null,[[32,121],[106,113],[129,135]])})));return function(t){return e.apply(this,arguments)}}(),Mr=React.createElement("div",{style:{display:"flex",alignItems:"center"}},"| ",React.createElement("span",{style:{fontWeight:"bold",margin:"0 2px 0 5px"}},"Base Folder:"),!kt&&React.createElement(React.Fragment,null,React.createElement("span",null," (default)"),React.createElement(b.M,{style:{marginLeft:3},className:"secondary",disabled:r||Re,onClick:function(){return Lr()}},Ye.DASHBOARD.PICK)),kt&&React.createElement(React.Fragment,null,React.createElement("span",null," /",kt),React.createElement(b.M,{small:!0,style:{marginLeft:3},className:"secondary",disabled:r||Re,onClick:function(){return Ct(null)}},Ye.DASHBOARD.RESET))),Fr="files"===h&&React.createElement(React.Fragment,null,React.createElement(it.S,{small:!0,onLabel:"Repair Mode",offLabel:"Repair Mode",onValue:"1",offValue:"0",width:"100px",checked:St,onChange:function(){te(!St),vt(!St)}}),React.createElement(be.G,{position:"right",content:Ye.DASHBOARD.REPAIR_MODE_DESCRIPTION,tooltipMaxWidth:300,color:F?"blue":null}));return React.createElement(R.z,{nekoErrors:[t]},React.createElement(g.n,{isPro:N,title:Ye.COMMON.PLUGIN_NAME,section:Ye.COMMON.DASHBOARD,subtitle:Ye.COMMON.BY_JORDY_MEOW},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(b.M,{className:"header",onClick:function(){return window.open("https://clean.thehiddendocs.com/introduction/","_blank")}},Ye.COMMON.TUTORIAL),React.createElement(b.M,{icon:"cog",className:"header",onClick:function(){return location.href="admin.php?page=wpmc_settings"}},Ye.COMMON.SETTINGS))),React.createElement(S.N,null,React.createElement(S.Y,{fullWidth:!0},React.createElement(cr,null),React.createElement(ct.V,null,!n.length&&"references"!==c&&React.createElement(React.Fragment,null,React.createElement(b.M,{icon:"play",disabled:r,isBusy:Re,startTime:tt,onClick:function(){return Dr(!0)}},Ye.DASHBOARD.SCAN),k&&!Re&&!xe&&React.createElement(ot.f,{text:function(){var e,t,r,n,a;if(!k||!k.step)return"N/A";var o='Resume scan from "'.concat(function(e){switch(e){case"extractReferencesFromContent":return Ye.DASHBOARD.STATUS_EXTRACT_FROM_CONTENT;case"extractReferencesFromMedia":return Ye.DASHBOARD.STATUS_EXTRACT_FROM_LIBRARY;case"retrieveTargets":return"media"===h?Ye.DASHBOARD.STATUS_LISTING_MEDIA:"files"===h?Ye.DASHBOARD.STATUS_LISTING_FILES:Ye.DASHBOARD.STATUS_ERROR_UNKNOWN_METHOD;case"retrieveMedia_finished":case"checkTargets":return Ye.DASHBOARD.STATUS_MATCHING_WITH_CONTENT;case"retrieveFiles":return Ye.DASHBOARD.STATUS_RETREIVE_FILES;case"retrieveFiles_finished":case"retrieveMedia":return Ye.DASHBOARD.STATUS_RETREIVE_MEDIA;default:return console.warn("Unknown step:",e),Ye.DASHBOARD.STATUS_UNKNOWN_STEP}}(null==k?void 0:k.step),'"');switch(null==k?void 0:k.step){case"extractReferencesFromMedia":case"extractReferencesFromContent":o+=" (iteration n°".concat(null!=k&&null!==(e=k.data)&&void 0!==e&&e.limit&&null!=k&&null!==(t=k.data)&&void 0!==t&&t.limitSize?k.data.limit/k.data.limitSize:"N/A",")");break;case"retrieveMedia":case"retrieveFiles":var i=(null==k||null===(r=k.data)||void 0===r?void 0:r.targets)&&k.data.targets.length>0,c=k.data.targets.length;o+=' (starts from index "'.concat(i?c:"0",'")');break;case"checkTargets":var l=((null==k||null===(n=k.data)||void 0===n?void 0:n.doneTargets)||[]).length,s=null!=k&&null!==(a=k.data)&&void 0!==a&&a.targets?k.data.targets.length:0;o+=' (processed "'.concat(l,'" of "').concat(s,'")');break;case"retrieveMedia_finished":case"retrieveFiles_finished":case"checkTargets_finished":o+=" (start next step)";break;default:o+=" (unknown step)"}return o}()},React.createElement(b.M,{icon:"replay",disabled:r,isBusy:Re,startTime:tt,className:"secondary",onClick:function(){return xr()}},Ye.DASHBOARD.RESUME)),!s&&React.createElement(lt.u,{scrolldown:!0,disabled:r,name:"method",style:{width:200,marginLeft:".25rem"},onChange:function(e,t){"media"===e&&(vt(!1),te(!1)),ee(e,t,!0)},value:h},Ar.map((function(e){return React.createElement(lt.j,{key:e.id,id:e.id,value:e.value,label:e.label,requirePro:e.requirePro})})))),!n.length&&"references"===c&&React.createElement(React.Fragment,null,React.createElement(b.M,{icon:"replay",disabled:!0,onClick:function(){return ht(!0)}},Ye.DASHBOARD.RE_ATTACH_MEDIA),React.createElement(lt.u,{scrolldown:!0,value:M,onChange:function(e){return K(e)},style:{width:200}},Ir.map((function(e){return React.createElement(lt.j,{key:e.value,value:e.value,label:e.label})})))),n.length>0&&React.createElement(b.M,{disabled:r,onClick:function(){return U([])}},"Unselect All"),s&&React.createElement("div",{style:mr(mr(mr(mr(mr({display:"flex",fontFamily:"Lato",padding:"0 10px",flexDirection:"column",fontWeight:600,width:200},"flexDirection","column"),"height",30),"lineHeight","16px"),"justifyContent","center"),"textTransform","uppercase")},React.createElement("div",{style:{color:"#144675",fontSize:17}},"".concat(Ye.DASHBOARD.STEP," ").concat(se,"/").concat(me)),React.createElement("div",{style:{color:"#007bba"}},s)),!r&&"issues"===c&&n.length>0&&React.createElement(React.Fragment,null,React.createElement(b.M,{className:"secondary",onClick:function(){return Kt(!0,n)}},(0,u.FE)((0,u.g7)(Ye.DASHBOARD.IGNORE_SELECTED,n.length))),React.createElement(b.M,{className:"danger",onClick:function(){return Wt(n)}},(0,u.FE)((0,u.g7)(Ye.DASHBOARD.DELETE_SELECTED,n.length))),React.createElement(b.M,{className:"secondary",onClick:function(){return Xt(n)}},(0,u.FE)((0,u.g7)(Ye.DASHBOARD.REPAIR_SELECTED,n.length)))),!r&&"ignored"===c&&n.length>0&&React.createElement(React.Fragment,null,React.createElement(b.M,{className:"secondary",onClick:function(){return Kt(!1,n)}},(0,u.FE)((0,u.g7)(Ye.DASHBOARD.UNDO_SELECTED,n.length)))),!r&&"trash"===c&&n.length>0&&React.createElement(React.Fragment,null,React.createElement(b.M,{className:"secondary",onClick:function(){return zt(n)}},(0,u.FE)((0,u.g7)(Ye.DASHBOARD.RECOVER_SELECTED,n.length))),React.createElement(b.M,{icon:"delete",className:"danger",onClick:function(){return Wt(n)}},(0,u.FE)((0,u.g7)(Ye.DASHBOARD.DELETE_PERMANENTLY_SELECTED,n.length)))),React.createElement("div",{style:{flex:1}},s&&React.createElement(st.j,{status:function(e){return"".concat(Me>1?"".concat(Math.round(Ce/Me*100),"%"):"0%")},busy:r,value:Ce,max:Me,onStopClick:Jt})),!r&&React.createElement(React.Fragment,null,React.createElement(Se.A,{name:"search",onBlur:function(e){H(e)},onEnter:function(e){H(e)},value:l,onReset:function(){H("")}}),!l&&React.createElement(ve.z,{icon:"search",width:24,style:{position:"relative",left:-34,marginRight:-22},color:"#5a5a5a82"})),!r&&"issues"===c&&o.issues>0&&React.createElement(React.Fragment,null,React.createElement(b.M,{icon:"delete",className:"danger",onClick:function(){return Z("deleteAll")}},(0,u.FE)(Ye.DASHBOARD.DELETE_STRONG_ALL))),!r&&"trash"===c&&o.trash>0&&React.createElement(React.Fragment,null,React.createElement(b.M,{className:"primary",onClick:function(){return Z("recoverAll")}},(0,u.FE)(Ye.DASHBOARD.RECOVER_ALL)),React.createElement(b.M,{icon:"delete",className:"danger",onClick:function(){return Z("trashAll")}},Ye.DASHBOARD.EMPTY_TRASH))),React.createElement("p",null,(0,u.FE)((0,u.g7)(Ye.DASHBOARD.INFO_MESSAGE,o.issues,o.issues>1?"s":"",(o.issues_size/1e6).toFixed(2),(o.trash_size/1e6).toFixed(2)))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:10}},F&&React.createElement(ut.o,{value:"issues"},React.createElement(ut.K,{title:Ye.DASHBOARD.ISSUES,value:"issues",count:o.issues})),!F&&React.createElement(React.Fragment,null,React.createElement(ut.o,{name:"wpmc-filter",value:c,busy:r,onChange:function(e){z(e),W(1)}},React.createElement(ut.K,{title:Ye.DASHBOARD.ISSUES,value:"issues",count:o.issues}),React.createElement(ut.K,{title:Ye.DASHBOARD.IGNORED,value:"ignored",count:o.ignored}),React.createElement(ut.K,{title:Ye.DASHBOARD.TRASH,value:"trash",count:o.trash}),React.createElement(ut.K,{title:Ye.DASHBOARD.REFERENCES,value:"references",count:o.references}))),React.createElement(ft.Q,{currentPage:m,limit:p,total:i,onClick:function(e){return W(e)}})),React.createElement(mt.o,{busy:r,data:Gt,columns:Bt,sort:f,onSortChange:function(e,t){Y({accessor:e,by:t})},onSelect:function(e){U([].concat(pr(n),pr(e)))},onUnselect:function(e){U(pr(n.filter((function(t){return!e.includes(t)}))))},selectedItems:n,emptyMessage:React.createElement(React.Fragment,null,(0,u.FE)(Ye.DASHBOARD.EMPTY_MESSAGE))}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"4px"}},React.createElement(lt.u,{name:"limit",scrolldown:!0,value:p,onChange:function(e){V(e),W(1),qt(e)}},React.createElement(lt.j,{value:5,label:"5 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:10,label:"10 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:25,label:"25 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:50,label:"50 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:100,label:"100 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:250,label:"250 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:500,label:"500 ".concat(Ye.DASHBOARD.ITEMS_PAGE)}),React.createElement(lt.j,{value:1e3,label:"1000 ".concat(Ye.DASHBOARD.ITEMS_PAGE)})),Fr,"files"===h&&Mr),React.createElement(ft.Q,{currentPage:m,limit:p,total:i,onClick:function(e){return W(e)}})),G&&React.createElement(ct.V,{style:{marginTop:35}},React.createElement("b",{style:{marginLeft:5,marginRight:15}},Ye.SETTINGS.EXPERT_MODE),React.createElement(b.M,{disabled:r,onClick:function(){return Or()}},Ye.DASHBOARD.EXTRACT_REFERENCES),React.createElement(b.M,{className:"secondary",disabled:r,onClick:function(){return Z("extractReferencesForPostId",!0)}},Ye.DASHBOARD.EXTRACT_REFERENCES_FOR_POST_ID),React.createElement(b.M,{className:"danger",disabled:r,onClick:function(){return Sr()}},Ye.DASHBOARD.RESET_REFERENCES),React.createElement("span",null,"|"),React.createElement(b.M,{disabled:r,onClick:function(){return Nr()}},Ye.DASHBOARD.MATCH_WITH_REFERENCES),"files"===h&&React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"4px"}},React.createElement(d.s,null,(0,u.FE)((0,u.g7)(Ye.DASHBOARD.FROM_FOLDER,Nt))),React.createElement(b.M,{disabled:r,onClick:function(){return Z("pickFolder",!0)}},Ye.DASHBOARD.PICK_FOLDER)),React.createElement(b.M,{className:"danger",disabled:r,onClick:function(){return gr()}},Ye.DASHBOARD.RESET_ISSUES))),React.createElement(Te.n,{isOpen:P.deleteAll,onRequestClose:function(){return Z("deleteAll",!1)},title:Ye.DASHBOARD.DELETE_ALL,content:(0,u.FE)((0,u.g7)(Ye.DASHBOARD.DELETE_ALL_CONTENT,i,i<2?"":"s")),okButton:{onClick:function(){Z("deleteAll",!1),Wt(null,!1,l)}},onCancel:{onClick:function(){Z("deleteAll",!1)}}}),React.createElement(Te.n,{isOpen:P.showOriginalMedia,onRequestClose:function(){return Z("showOriginalMedia",!1),void setTimeout((function(){return _t(null)}),500)},title:"",content:React.createElement("div",{style:{display:"flex",justifyContent:"center"}},React.createElement("img",{src:Tt,style:{maxWidth:"100%"}}))}),React.createElement(Te.n,{isOpen:P.trashAll,onRequestClose:function(){return Z("trashAll",!1)},title:Ye.DASHBOARD.DELETE_ALL,content:(0,u.FE)(Ye.DASHBOARD.TRASH_ALL_CONTENT),okButton:{onClick:function(){Z("trashAll",!1),Wt(null,!0)}},cancelButton:{onClick:function(){Z("trashAll",!1)}}}),React.createElement(Te.n,{isOpen:P.forceTrashAll,onRequestClose:function(){return Z("forceTrashAll",!1)},title:Ye.DASHBOARD.DELETE_ALL,content:(0,u.FE)(Ye.DASHBOARD.FORCE_TRASH_ALL_CONTENT),okButton:{onClick:function(){Z("forceTrashAll",!1),Vt()}},cancelButton:{onClick:function(){Z("forceTrashAll",!1)}}}),React.createElement(Te.n,{isOpen:P.recoverAll,onRequestClose:function(){return Z("recoverAll",!1)},title:Ye.DASHBOARD.RECOVER_ALL,content:Ye.DASHBOARD.RECOVER_ALL_CONTENT,okButton:{onClick:function(){Z("recoverAll",!1),zt()}},cancelButton:{onClick:function(){Z("recoverAll",!1)}}}),React.createElement(Te.n,{isOpen:null!==Be,onRequestClose:$t,title:React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("span",null,Ye.DASHBOARD.ERROR),React.createElement("span",{style:{fontSize:12,color:"#007bba",alignContent:"center",display:"flex",alignItems:"center",gap:15}},"Auto Retry In : ",React.createElement(pt.H,{initialTime:20,onEndCountdown:function(){console.log("🔄 Auto-retry triggered by countdown!"),Qe&&Qe()}}))),content:React.createElement(React.Fragment,null,React.createElement("b",null,Be?Be.message:"N/A"),React.createElement("p",null)),customButtons:React.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column"}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(b.M,{className:"primary",onClick:function(){Qe&&Qe()}},Ye.DASHBOARD.RETRY),React.createElement("small",{style:{marginLeft:5}},React.createElement("a",{href:"#",onClick:function(){console.log("🔄 Manual auto-retry triggered!"),Qe&&Qe()}},Ye.DASHBOARD.AUTO_RETRY)),React.createElement("div",{style:{flex:"auto"}}),React.createElement(b.M,{className:"secondary",onClick:function(){window.tempErrorHandlers&&(window.tempErrorHandlers.skip(),window.tempErrorHandlers=null)}},Ye.DASHBOARD.SKIP),React.createElement("small",{style:{marginLeft:5,marginRight:10}},React.createElement("a",{href:"#",onClick:function(){Je(!0),window.tempErrorHandlers&&(window.tempErrorHandlers.skip(),window.tempErrorHandlers=null)}},Ye.DASHBOARD.ALWAYS_SKIP)),React.createElement(b.M,{className:"danger",onClick:$t},Ye.DASHBOARD.STOP)),React.createElement("small",{style:{marginTop:10,lineHeight:"13px"}},Ye.DASHBOARD.AUTO_RETRY_DESCRIPTION))}),React.createElement(Te.n,{isOpen:he,title:Ye.DASHBOARD.FINISHED,content:he,okButton:{label:Ye.DASHBOARD.CLOSE,onClick:function(){Ee(""),Le(0),Fe(0)}}}),React.createElement(Te.n,{isOpen:at,title:Ye.DASHBOARD.RE_ATTACH_MEDIA,content:(0,u.FE)(Ye.DASHBOARD.AUTO_ATTACH_FEATURE_MESSAGE),okButton:{label:Ye.DASHBOARD.CLOSE,onClick:function(){ht(!1)}}}),React.createElement(Te.n,{isOpen:P.warningModal,onRequestClose:function(){return Z("warningModal",!1)},title:Ye.DASHBOARD.WARNING_TITLE,content:React.createElement("div",{style:{lineHeight:"1.6"}},React.createElement("div",{style:{marginBottom:"20px"}},React.createElement(d.s,{p:!0,style:{marginBottom:"15px"}},(0,u.FE)(Ye.DASHBOARD.WARNING_MESSAGE_1)),React.createElement(y.R,{checked:ie[0],onChange:function(){return kr(0)},label:Ye.DASHBOARD.WARNING_CHECKBOX_1})),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement(d.s,{p:!0,style:{marginBottom:"15px"}},(0,u.FE)(Ye.DASHBOARD.WARNING_MESSAGE_2)),React.createElement(y.R,{checked:ie[1],onChange:function(){return kr(1)},label:Ye.DASHBOARD.WARNING_CHECKBOX_2})),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement(d.s,{p:!0,style:{marginBottom:"15px"}},(0,u.FE)(Ye.DASHBOARD.WARNING_MESSAGE_3)),React.createElement(y.R,{checked:ie[2],onChange:function(){return kr(2)},label:Ye.DASHBOARD.WARNING_CHECKBOX_3})),React.createElement("div",{style:{marginBottom:"20px"}},React.createElement(d.s,{p:!0,style:{marginBottom:"15px"}},(0,u.FE)(Ye.DASHBOARD.WARNING_MESSAGE_4)),React.createElement(y.R,{checked:ie[3],onChange:function(){return kr(3)},label:Ye.DASHBOARD.WARNING_CHECKBOX_4})),React.createElement(Ie.X,{variant:"warning",style:{marginBottom:"20px"}},(0,u.FE)(Ye.DASHBOARD.WARNING_MESSAGE_5))),okButton:{label:"I Understand",onClick:function(){Cr()&&(ce([!1,!1,!1,!1]),ae(!0),Z("warningModal",!1))},disabled:!Cr()},cancelButton:{label:"Cancel",onClick:function(){return Z("warningModal",!1)}}}),P.pickFolders&&React.createElement(React.Fragment,null,React.createElement(Te.n,{isOpen:P.pickFolders,onRequestClose:function(){return Z("pickFolders",!1)},title:Ye.DASHBOARD.PICK,okOnEnter:!0,content:React.createElement("div",{style:{maxHeight:400,overflowY:"auto"}},React.createElement(dt.M,null,It.hierarchy.map((function(e){return function e(t,r,n){var a="/".concat(r.join("/")),o=It.root.replace(/\\/g,"/");console.log("🟢 normalizedRoot:",o),a=(a=a.replace(new RegExp("^".concat(o,"/"),"g"),"")).replace(/\\/g,"/");var i=function(){Ct(a)},c=t.name===n[0],l=c?n.slice(1):n,s=kt===a;return t.children.length?React.createElement(dt.R,{title:t.name,onClick:i,isExpanded:c,selected:s},t.children.map((function(t){return e(t,[].concat(pr(r),[t.name]),l)}))):React.createElement(dt.R,{title:t.name,onClick:i,selected:s})}(e,[e.name],Nt.split("/").filter((function(e){return!!e})))})))),okButton:{onClick:function(){Z("pickFolders",!1)}},cancelButton:{label:Ye.DASHBOARD.RESET_FOLDERS,onClick:function(){Ct(null),Z("pickFolders",!1)}}}),React.createElement(Te.n,{isOpen:P.pickFolder,onRequestClose:function(){return Z("pickFolder",!1)},title:Ye.DASHBOARD.PICK_FOLDER,okOnEnter:!0,content:React.createElement(dt.M,null,It.hierarchy.map((function(e){return function e(t,r,n){var a=t.name===n[0],o=a?n.slice(1):n,i="/".concat(r.join("/")),c=Nt===i,l=function(){return xt(i)};return t.children.length?React.createElement(dt.R,{title:t.name,onClick:l,isExpanded:a,selected:c},t.children.map((function(t){return e(t,[].concat(pr(r),[t.name]),o)}))):React.createElement(dt.R,{title:t.name,onClick:l,selected:c})}(e,[e.name],Nt.split("/").filter((function(e){return!!e})))}))),okButton:{onClick:function(){Z("pickFolder",!1)}},cancelButton:{label:Ye.DASHBOARD.RESET_FOLDER,onClick:function(){xt(It.root),Z("pickFolder",!1)}}})),React.createElement(Te.n,{isOpen:P.extractReferencesForPostId,onRequestClose:function(){return Z("extractReferencesForPostId",!1)},title:Ye.DASHBOARD.EXTRACT_REFERENCES_FOR_POST_ID,okOnEnter:!0,content:React.createElement(Se.A,{name:"extract-references-for-post-id",value:Pt,onChange:function(e){return Mt(e)}}),okButton:{onClick:function(){Or(Pt),Z("extractReferencesForPostId",!1),Mt(null)}},cancelButton:{onClick:function(){Z("extractReferencesForPostId",!1)}}})))};var Nr=wp.element.render,xr=new l.E({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1,placeholderData:function(e){return e}}}}),Dr={fetcher:u.m9,revalidateOnFocus:!1};document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("wpmc-admin-settings");t&&Nr(React.createElement(St.BE,{value:Dr},React.createElement(f.A,null,React.createElement(tt,null))),t),(t=document.getElementById("wpmc-dashboard"))&&Nr(React.createElement(St.BE,{value:Dr},React.createElement(nr,null,React.createElement(f.A,null,React.createElement(Or,null)))),t);var r=document.getElementById("meow-common-dashboard");r&&Nr(React.createElement(s.Ht,{client:xr},React.createElement(f.A,null,React.createElement(ge,null))),r)}))},1594:e=>{e.exports=React},5206:e=>{e.exports=ReactDOM}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,n.amdO={},e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],c=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,c,l]=r,s=0;if(i.some((t=>0!==e[t]))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(l)var u=l(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.wpJsonWpmc=self.wpJsonWpmc||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var a=n.O(void 0,[121],(()=>n(9371)));a=n.O(a)})();
//# sourceMappingURL=index.js.map