(()=>{var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var a=function(a){var n="#hcaptcha-message",c=a(n),o=a("form.hcaptcha-general"),r=a('[name="hcaptcha_settings[site_key]"]'),i=a('[name="hcaptcha_settings[secret_key]"]'),s=a("#hcaptcha-options .h-captcha"),l=a("#check_config"),h=a("#reset_notifications"),p=a('[name="hcaptcha_settings[theme]"]'),d=a('[name="hcaptcha_settings[size]"]'),u=a('[name="hcaptcha_settings[language]"]'),f=a('[name="hcaptcha_settings[mode]"]'),v=a('[name="hcaptcha_settings[custom_themes][]"]'),m=a(".hcaptcha-general-custom-prop select"),g=a(".hcaptcha-general-custom-value input"),b=a('[name="hcaptcha_settings[config_params]"]'),y=a(".hcaptcha-section-enterprise + table input"),C=a('[name="hcaptcha_settings[recaptcha_compat_off][]"]'),j=a("#blacklisted_ips"),O=a("#whitelisted_ips"),k=o.find("#submit"),H={},G="#ffabaf",_="hcaptcha-loading",w=r.val(),S=i.val(),T=P();H[HCaptchaGeneralObject.modeLive]=HCaptchaGeneralObject.siteKey,H[HCaptchaGeneralObject.modeTestPublisher]=HCaptchaGeneralObject.modeTestPublisherSiteKey,H[HCaptchaGeneralObject.modeTestEnterpriseSafeEndUser]=HCaptchaGeneralObject.modeTestEnterpriseSafeEndUserSiteKey,H[HCaptchaGeneralObject.modeTestEnterpriseBotDetected]=HCaptchaGeneralObject.modeTestEnterpriseBotDetectedSiteKey;var x=!1,A=!1,E=[];function N(t){var e={};return t.each((function(){var t=a(this),n=t.attr("name").replace(/hcaptcha_settings\[(.+)]/,"$1");e[n]=t.val()})),e}function P(){return N(y)}function U(){c.remove(),a('<div id="hcaptcha-message"></div>').insertAfter(".hcaptcha-header-bar"),c=a(n)}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t=void 0===t?"":String(t),t=(t+="\n"+function(){for(var t=["recaptchacompat disabled","Missing sitekey - https://docs.hcaptcha.com/configuration#javascript-api"],e=[],a=0;a<E.length;a++){for(var n=E[a],c=n[0],o=n[1],r=Object.keys(o),i=[],s=0;s<r.length;s++){var l=o[s];"string"==typeof l&&-1===t.indexOf(l)&&i.push([c,l].join(" "))}e.push(i.join("\n"))}return E=[],e.join("\n")}()).trim()){c.removeClass(),c.addClass(e+" notice is-dismissible");var n=t.split("\n").map((function(t){return"<p>".concat(t,"</p>")}));c.html(n.join("")),a(document).trigger("wp-updates-notice-added"),a("html, body").animate({scrollTop:c.offset().top-hCaptchaSettingsBase.getStickyHeight()},1e3)}}function K(){B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","notice-success")}function L(){B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","notice-error")}function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},hCaptcha.getParams(),t),n=v.prop("checked"),c="live"===f.val();for(var o in n&&c?s.attr("data-theme","custom"):s.attr("data-theme",p.val()),n&&"object"===e(t.theme)||!n&&"object"!==e(t.theme)?a.theme=t.theme:a.theme=hCaptcha.getParams().theme,hCaptcha.setParams(a),s.html(""),t)"object"!==e(t[o])&&s.attr("data-".concat(o),"".concat(t[o]));hCaptcha.bindEvents()}function D(t,a){var n=function(t){return t&&"object"===e(t)};return n(t)&&n(a)?(Object.keys(a).forEach((function(e){var c=t[e],o=a[e];Array.isArray(c)&&Array.isArray(o)?t[e]=c.concat(o):n(c)&&n(o)?t[e]=D(Object.assign({},c),o):t[e]=o})),t):a}function I(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var n in t){var c=a?"".concat(a,"--").concat(n):n;if("object"===e(t[n])&&null!==t[n])I(t[n],c);else{var o=t[n],r=c.replace(/theme--/g,""),i="".concat(r,"=").concat(o),s=m.find('option[value*="'.concat(r,'="]'));1===s.length&&(s.attr("value",i),s.is(":selected")&&g.val(o))}}}function z(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=b.val().trim();a=a||null;try{t=JSON.parse(a)}catch(t){return b.css("background-color",G),k.attr("disabled",!0),void L(HCaptchaGeneralObject.badJSONError)}k.attr("disabled",!1),t=D(t,e),b.val(JSON.stringify(t,null,2)),I(t),v.prop("checked")||(t={sitekey:r.val(),theme:p.val(),size:d.val(),hl:u.val()}),J(t)}function R(){r.val()===w&&i.val()===S?(x=!1,U(),k.attr("disabled",!1)):x||(x=!0,L(HCaptchaGeneralObject.checkConfigNotice),k.attr("disabled",!0))}function M(t){return t=t.replace(/(http|https):\/\//,""),"https://"+new URL("https://"+t).host}!function(){E=[];var t=console.log,e=console.warn,a=console.info,n=console.error,c=console.clear;console.log=function(e){E.push(["Console log:",arguments]),t.apply(console,arguments)},console.warn=function(t){E.push(["Console warn:",arguments]),e.apply(console,arguments)},console.info=function(t){E.push(["Console info:",arguments]),a.apply(console,arguments)},console.error=function(t){E.push(["Console error:",arguments]),n.apply(console,arguments)},console.clear=function(){E=[],c()}}(),document.addEventListener("hCaptchaLoaded",(function(){L()})),l.on("click",(function(t){t.preventDefault(),""!==a('.hcaptcha-general-sample-hcaptcha textarea[name="h-captcha-response"]').val()?function(){U(),k.attr("disabled",!0);var t={action:HCaptchaGeneralObject.checkConfigAction,nonce:HCaptchaGeneralObject.checkConfigNonce,mode:f.val(),siteKey:r.val(),secretKey:i.val(),"h-captcha-response":a('textarea[name="h-captcha-response"]').val(),"hcaptcha-widget-id":a('input[name="hcaptcha-widget-id"]').val()};a.post({url:HCaptchaGeneralObject.ajaxUrl,data:t,beforeSend:function(){return K(HCaptchaGeneralObject.checkingConfigMsg)}}).done((function(t){t.success?(w=r.val(),S=i.val(),T=N(y),A=!1,K(t.data),k.attr("disabled",!1)):L(t.data)})).fail((function(t){L(t.statusText)})).always((function(){J()}))}():kaggDialog.confirm({title:HCaptchaGeneralObject.completeHCaptchaTitle,content:HCaptchaGeneralObject.completeHCaptchaContent,type:"info",buttons:{ok:{text:HCaptchaGeneralObject.OKBtnText}},onAction:function(){return window.hCaptchaBindEvents()}})})),r.on("change",(function(t){J({sitekey:a(t.target).val()}),R()})),i.on("change",(function(){R()})),p.on("change",(function(t){J({theme:a(t.target).val()})})),d.on("change",(function(t){var e=a("#hcaptcha-invisible-notice"),n=a(t.target).val();"invisible"===n?e.show():e.hide(),J({size:n})})),u.on("change",(function(t){J({hl:a(t.target).val()})})),f.on("change",(function(t){var e=a(t.target).val();H.hasOwnProperty(e)&&(e===HCaptchaGeneralObject.modeLive?(r.attr("disabled",!1),i.attr("disabled",!1)):(r.attr("disabled",!0),i.attr("disabled",!0)),J({sitekey:H[e]}))})),v.on("change",(function(){z()})),b.on("blur",(function(){z()})),b.on("focus",(function(){b.css("background-color","unset")})),y.on("change",(function(){!function(){var e={onload:"hCaptchaOnLoad",render:"explicit"};C.prop("checked")&&(e.recaptchacompat="off"),v.prop("checked")&&(e.custom="true");var a={asset_host:"assethost",endpoint:"endpoint",host:"host",image_host:"imghost",report_api:"reportapi",sentry:"sentry"},n=P();for(var c in a){var o=n[c].trim();o&&(e[a[c]]=encodeURIComponent(M(o)))}var r=n.api_host.trim();r=M(r=r||"js.hcaptcha.com")+"/1/api.js";var i=new URL(r);for(var l in e)i.searchParams.append(l,e[l]);document.getElementById("hcaptcha-api").remove(),delete t.g.hcaptcha,s.html("");var h=document.getElementsByTagName("head")[0],p=document.createElement("script");p.type="text/javascript",p.id="hcaptcha-api",p.src=i.href,h.appendChild(p)}(),JSON.stringify(P())===JSON.stringify(T)?(A=!1,U(),k.attr("disabled",!1)):A||(A=!0,L(HCaptchaGeneralObject.checkConfigNotice),k.attr("disabled",!0))})),a(".hcaptcha-general h3").on("click",(function(t){var e=a(t.currentTarget);e.toggleClass("closed");var n={action:HCaptchaGeneralObject.toggleSectionAction,nonce:HCaptchaGeneralObject.toggleSectionNonce,section:e.attr("class").replaceAll(/(hcaptcha-section-|closed)/g,"").trim(),status:!e.hasClass("closed")};a.post({url:HCaptchaGeneralObject.ajaxUrl,data:n}).done((function(t){t.success||L(t.data)})).fail((function(t){L(t.statusText)}))})),l.removeAttr("name"),h.removeAttr("name"),m.removeAttr("name"),g.removeAttr("name"),m.find("option").each((function(){var t=a(this);t.val().split("=")[1]||t.attr("disabled",!0)})),g.val(""),m.on("change",(function(){var t=a(this).find("option:selected").val().split("="),e=t[0],n=t[1];"palette--mode"===e?(g.attr("type","text"),g.val(n)):(g.val(n),g.attr("type","color"))})),g.on("change",(function(t){var e=a(t.target).val(),n=m.find("option:selected"),c=n.val().split("="),o=c[0],r=e;n.val(o+"="+e),z(r=(o="theme--"+c[0]).split("--").reverse().reduce((function(t,e){var a={};return a[e]=t,a}),r))})),j.add(O).on("blur",(function(){!function(t){var e=t.val();if(""!==e.trim()){U(),k.attr("disabled",!0);var n={action:HCaptchaGeneralObject.checkIPsAction,nonce:HCaptchaGeneralObject.checkIPsNonce,ips:e};a.post({url:HCaptchaGeneralObject.ajaxUrl,data:n,beforeSend:function(){return t.parent().addClass(_)}}).done((function(e){if(!e.success)return t.css("background-color",G),void L(e.data);t.css("background-color",""),k.attr("disabled",!1)})).fail((function(t){L(t.statusText)})).always((function(){t.parent().removeClass(_)}))}}(a(this))}))};window.hCaptchaGeneral=a,jQuery(document).ready(a)})();