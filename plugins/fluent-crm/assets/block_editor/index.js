(()=>{var e,t={192:(e,t,r)=>{var n=r(580).Symbol;e.exports=n},154:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},384:(e,t,r)=>{var n=r(731),o=r(245),i=r(224),a=r(107),c=r(958),l=r(736),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),s=!r&&o(e),f=!r&&!s&&a(e),p=!r&&!s&&!f&&l(e),d=r||s||f||p,y=d?n(e.length,String):[],h=y.length;for(var m in e)!t&&!u.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||c(m,h))||y.push(m);return y}},288:(e,t,r)=>{var n=r(140),o=r(768)(n);e.exports=o},86:(e,t,r)=>{var n=r(406)();e.exports=n},140:(e,t,r)=>{var n=r(86),o=r(165);e.exports=function(e,t){return e&&n(e,t,o)}},389:(e,t,r)=>{var n=r(192),o=r(468),i=r(859),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},701:(e,t,r)=>{var n=r(389),o=r(13);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},456:(e,t,r)=>{var n=r(389),o=r(577),i=r(13),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},77:(e,t,r)=>{var n=r(75),o=r(275),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},731:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},770:e=>{e.exports=function(e){return function(t){return e(t)}}},747:(e,t,r)=>{var n=r(251);e.exports=function(e){return"function"==typeof e?e:n}},768:(e,t,r)=>{var n=r(935);e.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var i=r.length,a=t?i:-1,c=Object(r);(t?a--:++a<i)&&!1!==o(c[a],a,c););return r}}},406:e=>{e.exports=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),c=a.length;c--;){var l=a[e?c:++o];if(!1===r(i[l],l,i))break}return t}}},877:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},468:(e,t,r)=>{var n=r(192),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[c]=r:delete e[c]),o}},958:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},75:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},275:(e,t,r)=>{var n=r(80)(Object.keys,Object);e.exports=n},420:(e,t,r)=>{e=r.nmd(e);var n=r(877),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,c=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=c},859:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},80:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},580:(e,t,r)=>{var n=r(877),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},976:(e,t,r)=>{e.exports=r(183)},183:(e,t,r)=>{var n=r(154),o=r(288),i=r(747),a=r(224);e.exports=function(e,t){return(a(e)?n:o)(e,i(t))}},251:e=>{e.exports=function(e){return e}},245:(e,t,r)=>{var n=r(701),o=r(13),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!c.call(e,"callee")};e.exports=l},224:e=>{var t=Array.isArray;e.exports=t},935:(e,t,r)=>{var n=r(929),o=r(577);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},107:(e,t,r)=>{e=r.nmd(e);var n=r(580),o=r(290),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,c=a&&a.exports===i?n.Buffer:void 0,l=(c?c.isBuffer:void 0)||o;e.exports=l},929:(e,t,r)=>{var n=r(389),o=r(866);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},577:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},866:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},13:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},736:(e,t,r)=>{var n=r(456),o=r(770),i=r(420),a=i&&i.isTypedArray,c=a?o(a):n;e.exports=c},165:(e,t,r)=>{var n=r(384),o=r(77),i=r(935);e.exports=function(e){return i(e)?n(e):o(e)}},290:e=>{e.exports=function(){return!1}},850:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{closeModal:()=>I,disableComplementaryArea:()=>L,enableComplementaryArea:()=>R,openModal:()=>F,pinItem:()=>P,setDefaultComplementaryArea:()=>x,setFeatureDefaults:()=>N,setFeatureValue:()=>C,toggleFeature:()=>A,unpinItem:()=>T});var o={};r.r(o),r.d(o,{getActiveComplementaryArea:()=>B,isComplementaryAreaLoading:()=>M,isFeatureActive:()=>U,isItemPinned:()=>D,isModalActive:()=>H});var i={};r.r(i),r.d(i,{getBlocks:()=>yn,hasRedo:()=>mn,hasUndo:()=>hn});var a={};r.r(a),r.d(a,{clearHistory:()=>Sn,fetchBlocksFromStorage:()=>kn,persistBlocksToStorage:()=>En,redo:()=>wn,undo:()=>bn,updateBlocks:()=>On});var c={};r.r(c),r.d(c,{getBlocks:()=>Ln});const l=window.wp.components,u=window.wp.blockEditor,s=window.wp.element,f=({isActive:e})=>((0,s.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,s.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null);function p(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=p(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const d=function(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=p(e))&&(n&&(n+=" "),n+=t);return n},y=window.wp.i18n,h=window.wp.compose,m=window.ReactJSXRuntime;function v({children:e,className:t,ariaLabel:r,as:n="div",...o}){return(0,m.jsx)(n,{className:d("interface-navigable-region",t),"aria-label":r,role:"region",tabIndex:"-1",...o,children:e})}const g={type:"tween",duration:.25,ease:[.6,0,.4,1]},b={hidden:{opacity:1,marginTop:-60},visible:{opacity:1,marginTop:0},distractionFreeHover:{opacity:1,marginTop:0,transition:{...g,delay:.2,delayChildren:.2}},distractionFreeHidden:{opacity:0,marginTop:-60},distractionFreeDisabled:{opacity:0,marginTop:0,transition:{...g,delay:.8,delayChildren:.8}}},w=(0,s.forwardRef)((function({isDistractionFree:e,footer:t,header:r,editorNotices:n,sidebar:o,secondarySidebar:i,content:a,actions:c,labels:u,className:f,enableRegionNavigation:p=!0,shortcuts:g},w){const[S,O]=(0,h.useResizeObserver)(),_=(0,h.useViewportMatch)("medium","<"),k={type:"tween",duration:(0,h.useReducedMotion)()?0:.25,ease:[.6,0,.4,1]},E=(0,l.__unstableUseNavigateRegions)(g);!function(e){(0,s.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const j={
/* translators: accessibility text for the top bar landmark region. */
header:(0,y._x)("Header","header landmark area"),
/* translators: accessibility text for the content landmark region. */
body:(0,y.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,y.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,y.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,y.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,y.__)("Footer"),...u};return(0,m.jsxs)("div",{...p?E:{},ref:(0,h.useMergeRefs)([w,p?E.ref:void 0]),className:d(f,"interface-interface-skeleton",E.className,!!t&&"has-footer"),children:[(0,m.jsxs)("div",{className:"interface-interface-skeleton__editor",children:[(0,m.jsx)(l.__unstableAnimatePresence,{initial:!1,children:!!r&&(0,m.jsx)(v,{as:l.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":j.header,initial:e&&!_?"distractionFreeHidden":"hidden",whileHover:e&&!_?"distractionFreeHover":"visible",animate:e&&!_?"distractionFreeDisabled":"visible",exit:e&&!_?"distractionFreeHidden":"hidden",variants:b,transition:k,children:r})}),e&&(0,m.jsx)("div",{className:"interface-interface-skeleton__header",children:n}),(0,m.jsxs)("div",{className:"interface-interface-skeleton__body",children:[(0,m.jsx)(l.__unstableAnimatePresence,{initial:!1,children:!!i&&(0,m.jsx)(v,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:j.secondarySidebar,as:l.__unstableMotion.div,initial:"closed",animate:"open",exit:"closed",variants:{open:{width:O.width},closed:{width:0}},transition:k,children:(0,m.jsxs)(l.__unstableMotion.div,{style:{position:"absolute",width:_?"100vw":"fit-content",height:"100%",left:0},variants:{open:{x:0},closed:{x:"-100%"}},transition:k,children:[S,i]})})}),(0,m.jsx)(v,{className:"interface-interface-skeleton__content",ariaLabel:j.body,children:a}),!!o&&(0,m.jsx)(v,{className:"interface-interface-skeleton__sidebar",ariaLabel:j.sidebar,children:o}),!!c&&(0,m.jsx)(v,{className:"interface-interface-skeleton__actions",ariaLabel:j.actions,children:c})]})]}),!!t&&(0,m.jsx)(v,{className:"interface-interface-skeleton__footer",ariaLabel:j.footer,children:t})]})})),S=window.wp.data,O=window.wp.deprecated;var _=r.n(O);const k=window.wp.preferences;function E(e){return["core/edit-post","core/edit-site"].includes(e)?(_()(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function j(e,t){return"core"===e&&"edit-site/template"===t?(_()("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):"core"===e&&"edit-site/block-inspector"===t?(_()("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}const x=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e=E(e),area:t=j(e,t)}),R=(e,t)=>({registry:r,dispatch:n})=>{t&&(e=E(e),t=j(e,t),r.select(k.store).get(e,"isComplementaryAreaVisible")||r.dispatch(k.store).set(e,"isComplementaryAreaVisible",!0),n({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},L=e=>({registry:t})=>{e=E(e),t.select(k.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(k.store).set(e,"isComplementaryAreaVisible",!1)},P=(e,t)=>({registry:r})=>{if(!t)return;e=E(e),t=j(e,t);const n=r.select(k.store).get(e,"pinnedItems");!0!==n?.[t]&&r.dispatch(k.store).set(e,"pinnedItems",{...n,[t]:!0})},T=(e,t)=>({registry:r})=>{if(!t)return;e=E(e),t=j(e,t);const n=r.select(k.store).get(e,"pinnedItems");r.dispatch(k.store).set(e,"pinnedItems",{...n,[t]:!1})};function A(e,t){return function({registry:r}){_()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),r.dispatch(k.store).toggle(e,t)}}function C(e,t,r){return function({registry:n}){_()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),n.dispatch(k.store).set(e,t,!!r)}}function N(e,t){return function({registry:r}){_()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),r.dispatch(k.store).setDefaults(e,t)}}function F(e){return{type:"OPEN_MODAL",name:e}}function I(){return{type:"CLOSE_MODAL"}}const B=(0,S.createRegistrySelector)((e=>(t,r)=>{r=E(r);const n=e(k.store).get(r,"isComplementaryAreaVisible");if(void 0!==n)return!1===n?null:t?.complementaryAreas?.[r]})),M=(0,S.createRegistrySelector)((e=>(t,r)=>{r=E(r);const n=e(k.store).get(r,"isComplementaryAreaVisible"),o=t?.complementaryAreas?.[r];return n&&void 0===o})),D=(0,S.createRegistrySelector)((e=>(t,r,n)=>{var o;n=j(r=E(r),n);const i=e(k.store).get(r,"pinnedItems");return null===(o=i?.[n])||void 0===o||o})),U=(0,S.createRegistrySelector)((e=>(t,r,n)=>(_()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(k.store).get(r,n))));function H(e,t){return e.activeModal===t}const G=(0,S.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:r,area:n}=t;return e[r]?e:{...e,[r]:n}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:r,area:n}=t;return{...e,[r]:n}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),W=(0,S.createReduxStore)("core/interface",{reducer:G,actions:n,selectors:o});(0,S.register)(W);const V=window.wp.keycodes,z=window.wp.primitives,K=(0,m.jsx)(z.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(z.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})});var $=["hasUndo","undo"];function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y.apply(null,arguments)}var q=(0,h.compose)([(0,S.withSelect)((function(e){return{hasUndo:e("historyUndoRedoStore").hasUndo()}})),(0,S.withDispatch)((function(e){return{undo:e("historyUndoRedoStore").undo}}))])((function(e){var t=e.hasUndo,r=e.undo,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,$);return React.createElement(l.Button,Y({},n,{icon:K,label:(0,y.__)("Undo"),shortcut:V.displayShortcut.primary("z"),"aria-disabled":!t,onClick:t?r:void 0,className:"editor-history__undo"}))}));const J=q,Q=(0,m.jsx)(z.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(z.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})});var X=["hasRedo","redo"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(null,arguments)}var ee=(0,h.compose)([(0,S.withSelect)((function(e){return{hasRedo:e("historyUndoRedoStore").hasRedo()}})),(0,S.withDispatch)((function(e){return{redo:e("historyUndoRedoStore").redo}}))])((function(e){var t=e.hasRedo,r=e.redo,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,X);return React.createElement(l.Button,Z({},n,{icon:Q,label:(0,y.__)("Redo"),shortcut:V.displayShortcut.primaryShift("z"),"aria-disabled":!t,onClick:t?r:void 0,className:"editor-history__redo"}))}));const te=ee;function re(){return React.createElement("div",{className:"history-undo-redo-header",role:"region","aria-label":(0,y.__)("History undo redo top bar."),tabIndex:"-1"},React.createElement(J,null),React.createElement(te,null))}var ne=(0,l.createSlotFill)("StandAloneBlockEditorSidebarInspector"),oe=ne.Slot,ie=ne.Fill;function ae(){return React.createElement("div",{className:"fce-sidebar",role:"region","aria-label":(0,y.__)("advanced settings."),tabIndex:"-1"},React.createElement(l.Panel,null,React.createElement("div",{className:"components-panel__header"},React.createElement("h2",null,(0,y.__)("Block Settings")),React.createElement(re,null)),React.createElement(oe,{bubblesVirtually:!0})))}ae.InspectorFill=ie;const ce=ae,le=(window.wp.formatLibrary,window.wp.blocks),ue=window.wp.mediaUtils,se=window.wp.keyboardShortcuts,fe=function(){var e=(0,S.useDispatch)("core/keyboard-shortcuts").registerShortcut,t=(0,S.useDispatch)("historyUndoRedoStore"),r=t.undo,n=t.redo;return(0,s.useEffect)((function(){e({name:"custom/editor/undo",category:"global",description:(0,y.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"custom/editor/redo",category:"global",description:(0,y.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}})}),[e]),(0,se.useShortcut)("custom/editor/undo",(function(){r()})),(0,se.useShortcut)("custom/editor/redo",(function(){n()})),null};var pe=["onError"];function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return(t=function(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ve=function(e){var t=e.settings,r=e.onChangeContent,n=(0,S.useSelect)((function(e){return e("historyUndoRedoStore").getBlocks()})),o=(0,S.useDispatch)("historyUndoRedoStore"),i=o.updateBlocks,a=o.clearHistory;t.__experimentalSetIsInserterOpened=function(e){e&&jQuery(".fce_inserter button.block-editor-inserter__toggle").trigger("click")};var c=(0,S.useSelect)((function(e){return!0}),[]),l=(0,s.useMemo)((function(){return c?he(he({},t),{},{mediaUpload:function(e){var r=e.onError,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,pe);(0,ue.uploadMedia)(he({wpAllowedMimeTypes:t.allowedMimeTypes,onError:function(e){var t=e.message;return r(t)}},n))}}):t}),[c,t]);function f(e){i(e),null!=e&&e.length&&r((0,le.serialize)(e))}(0,s.useEffect)((function(){var e=n;null!=e&&e.length&&(a(),f(e))}),[]);var p,d=void 0!==se.ShortcutProvider;return React.createElement("div",{className:"fce-block-editor"},(p=React.createElement(u.BlockEditorProvider,{value:n,onInput:f,onChange:function(e){i(e,!0),r((0,le.serialize)(e))},settings:l},React.createElement(u.BlockEditorKeyboardShortcuts.Register,null),React.createElement(u.BlockEditorKeyboardShortcuts,null),React.createElement(fe,null),React.createElement(ce.InspectorFill,null,React.createElement(u.BlockInspector,null)),React.createElement("div",{className:"editor-styles-wrapper"},React.createElement(u.BlockTools,null,React.createElement(u.WritingFlow,null,React.createElement(u.ObserveTyping,null,React.createElement("span",{className:"fce_inserter"},React.createElement(u.Inserter,null)),React.createElement(u.BlockList,{className:"fce-block-editor__block-list fc_editor_body"})))))),d?React.createElement(se.ShortcutProvider,null,p):p))},ge=function(e){var t=e.settings,r=e.onChangeHandle;return React.createElement(React.Fragment,null,React.createElement(f,{isActive:!1}),React.createElement(l.SlotFillProvider,null,React.createElement(w,{className:"fluent-crm-editor",sidebar:React.createElement(ce,null),content:React.createElement(React.Fragment,null,React.createElement(ve,{onChangeContent:r,settings:t}))}),React.createElement(u.BlockTools,null),React.createElement(l.Popover.Slot,null)))},be=window.wp.domReady;var we=r.n(be),Se=r(976),Oe=r.n(Se);function _e(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ke(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ee={name:"crm_prefixes",className:"editor-autocompleters__crm",triggerPrefix:"@",options:function(e){console.log(e);var t=[],r=window.fcAdmin.globalSmartCodes;return window.fcrm_funnel_context_codes&&(r=[].concat(_e(r),_e(window.fcrm_funnel_context_codes))),window.fcAdmin.extendedSmartCodes&&(r=[].concat(_e(r),_e(window.fcAdmin.extendedSmartCodes))),Oe()(r,(function(e){Oe()(e.shortcodes,(function(r,n){t.push({code:n,title:r,prefix:e.key})}))})),t},isDebounced:!0,getOptionKeywords:function(e){return[e.title,e.code]},getOptionLabel:function(e){return[React.createElement("span",{key:"name",className:"editor-autocompleters__user-name"},e.title)]},getOptionCompletion:function(e){return e.code}},je=window.wp.hooks,xe=window.wp.richText,Re=window.lodash;function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function Te(e){var t=function(e){if("object"!=Le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Le(t)?t:t+""}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}var Fe=window.wp,Ie=function(e){return(0,Re.pick)(e,["sizes","mime","type","subtype","id","url","alt","link","caption"])},Be=function(e){return Fe.media.query({order:"ASC",orderby:"post__in",post__in:e,posts_per_page:-1,query:!0,type:"image"})},Me=function(e){function t(e){var r,n,o,i,a=e.allowedTypes,c=e.gallery,l=void 0!==c&&c,u=e.unstableFeaturedImageFlow,s=void 0!==u&&u,f=e.modalClass,p=e.multiple,d=void 0!==p&&p,h=e.title,m=void 0===h?(0,y.__)("Select or Upload Media"):h;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=this,o=t,i=arguments,o=Ce(o),r=function(e,t){if(t&&("object"==Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,Ae()?Reflect.construct(o,i||[],Ce(n).constructor):o.apply(n,i))).openModal=r.openModal.bind(r),r.onOpen=r.onOpen.bind(r),r.onSelect=r.onSelect.bind(r),r.onUpdate=r.onUpdate.bind(r),r.onClose=r.onClose.bind(r),l)r.buildAndSetGalleryFrame();else{var v={title:m,multiple:d};a&&(v.library={type:a}),r.frame=Fe.media(v)}return f&&r.frame.$el.addClass(f),s&&r.buildAndSetFeatureImageFrame(),r.initializeListeners(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(t,e),function(e,t){return t&&Pe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"initializeListeners",value:function(){this.frame.on("select",this.onSelect),this.frame.on("update",this.onUpdate),this.frame.on("open",this.onOpen),this.frame.on("close",this.onClose)}},{key:"buildAndSetGalleryFrame",value:function(){var e=this.props,t=e.addToGallery,r=void 0!==t&&t,n=e.allowedTypes,o=e.multiple,i=void 0!==o&&o,a=e.value,c=void 0===a?null:a;if(c!==this.lastGalleryValue){var l;this.lastGalleryValue=c,this.frame&&this.frame.remove(),l=r?"gallery-library":c?"gallery-edit":"gallery",this.GalleryDetailsMediaFrame||(this.GalleryDetailsMediaFrame=Fe.media.view.MediaFrame.Post.extend({createStates:function(){this.states.add([new Fe.media.controller.Library({id:"gallery",title:Fe.media.view.l10n.createGalleryTitle,priority:40,toolbar:"main-gallery",filterable:"uploaded",multiple:"add",editable:!1,library:Fe.media.query((0,Re.defaults)({type:"image"},this.options.library))}),new Fe.media.controller.GalleryEdit({library:this.options.selection,editing:this.options.editing,menu:"gallery",displaySettings:!1,multiple:!0}),new Fe.media.controller.GalleryAdd])}}));var u=Be(c),s=new Fe.media.model.Selection(u.models,{props:u.props.toJSON(),multiple:i});this.frame=new this.GalleryDetailsMediaFrame({mimeType:n,state:l,multiple:i,selection:s,editing:!!c}),Fe.media.frame=this.frame,this.initializeListeners()}}},{key:"buildAndSetFeatureImageFrame",value:function(){var e=Fe.media.view.MediaFrame.Select.extend({featuredImageToolbar:function(e){this.createSelectToolbar(e,{text:Fe.media.view.l10n.setFeaturedImage,state:this.options.state})},createStates:function(){this.on("toolbar:create:featured-image",this.featuredImageToolbar,this),this.states.add([new Fe.media.controller.FeaturedImage])}}),t=Be(this.props.value),r=new Fe.media.model.Selection(t.models,{props:t.props.toJSON()});this.frame=new e({mimeType:this.props.allowedTypes,state:"featured-image",multiple:this.props.multiple,selection:r,editing:!!this.props.value}),Fe.media.frame=this.frame}},{key:"componentWillUnmount",value:function(){this.frame.remove()}},{key:"onUpdate",value:function(e){var t=this.props,r=t.onSelect,n=t.multiple,o=void 0!==n&&n,i=this.frame.state(),a=e||i.get("selection");a&&a.models.length&&r(o?a.models.map((function(e){return Ie(e.toJSON())})):Ie(a.models[0].toJSON()))}},{key:"onSelect",value:function(){var e=this.props,t=e.onSelect,r=e.multiple,n=void 0!==r&&r,o=this.frame.state().get("selection").toJSON();t(n?o:o[0])}},{key:"onOpen",value:function(){if(this.updateCollection(),this.props.value){if(!this.props.gallery){var e=this.frame.state().get("selection");(0,Re.castArray)(this.props.value).forEach((function(t){e.add(Fe.media.attachment(t))}))}Be((0,Re.castArray)(this.props.value)).more()}}},{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"updateCollection",value:function(){var e=this.frame.content.get();if(e&&e.collection){var t=e.collection;t.toArray().forEach((function(e){return e.trigger("destroy",e)})),t.mirroring._hasMore=!0,t.more()}}},{key:"openModal",value:function(){this.props.gallery&&this.props.value&&this.props.value.length>0&&this.buildAndSetGalleryFrame(),this.frame.open()}},{key:"render",value:function(){return this.props.render({open:this.openModal})}}])}(s.Component);const De=Me,Ue=window.wp.blockLibrary;var He=["colorScheme","contentMaxWidth","children"];function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge.apply(null,arguments)}const We=function(e){e.colorScheme,e.contentMaxWidth;var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,He);return React.createElement("div",Ge({className:"fc-cond-section"},r),React.createElement("div",{className:"fc-cond-blocks"},t))};var Ve=r(73),ze=r.n(Ve),Ke=wp.i18n,__=Ke.__,_x=Ke._x,$e={title:__("Conditional Section"),description:__("Add a section that separates content, and put any other block into it."),category:"layout",icon:"welcome-widgets-menus",keywords:[_x("conditional"),_x("section")],supports:{align:["wide","full"],anchor:!0},attributes:{condition_type:{type:"string",default:"show_if_tag_exist"},tag_ids:{type:"array",default:[]}},edit:function(e){var t=e.attributes,r=e.setAttributes,n=t.condition_type,o=t.tag_ids,i=window.fcAdmin.available_tags,a=window.fcAdmin.addons&&window.fcAdmin.addons.fluentcampaign,c=function(e){if(a){var n=e.target,o=n.checked,i=n.value,c=jQuery.extend(!0,[],t.tag_ids);n.checked=o,o?-1==c.indexOf(i)&&(c.push(i),r({tag_ids:c})):(c.splice(c.indexOf(i),1),r({tag_ids:c}))}else alert("This is a pro version feature")};return React.createElement(s.Fragment,null,React.createElement(u.InspectorControls,null,React.createElement(l.PanelBody,{title:__("Conditional Settings")},React.createElement(l.SelectControl,{label:__("Condition Type"),value:n,onChange:function(e){return r({condition_type:e||"show_if_tag_exist"})},options:[{value:"show_if_tag_exist",label:"Show IF in selected tag"},{value:"show_if_tag_not_exist",label:"Show IF not in selected tag"}]}),React.createElement("div",{className:"fcrm-gb-multi-checkbox"},React.createElement("h4",null,"Select Targeted Tags"),React.createElement("ul",null,i.map((function(e){return React.createElement("label",{key:e.id,className:"checkbox"},e.title,React.createElement("input",{checked:-1!=o.indexOf(e.id),onChange:c,type:"checkbox",value:e.id}),React.createElement("span",{className:"checkmark"}))})))),a?React.createElement("div",{className:"fc_cd_info"},React.createElement("hr",null),React.createElement("b",null,"Tips:"),React.createElement("ul",null,React.createElement("li",null,"This will show/hide only if any tag is matched."),React.createElement("li",{style:{backgroundColor:"#ffffd7"}},"The yellow background in the content is only for editor and to identify the conditional contents"))):React.createElement("div",{style:{color:"red"}},React.createElement("b",null,"Pro Feature:"),React.createElement("p",null,"Conditional Feature will only work if you have FluentCRM pro activated. Please Install FluentCRM Pro First")))),React.createElement(We,{colorScheme:n,contentMaxWidth:o},React.createElement(u.InnerBlocks,null)))},save:function(e){var t=e.attributes,r=t.colorScheme,n=t.contentMaxWidth,o=t.attachmentId;return React.createElement(We,{colorScheme:r,contentMaxWidth:n,className:ze()(o&&"has-background-image-".concat(o))},React.createElement(u.InnerBlocks.Content,null))}};function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function qe(e,t,r){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function Qe(e){var t=function(e){if("object"!=Ye(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ye(t)?t:t+""}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}var tt=wp.i18n.__,rt=wp.element.Component,nt=wp.components,ot=nt.TextControl,it=nt.Button,at=nt.Tooltip,ct=function(e){function t(e){var r,n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=this,o=t,i=[e],o=Ze(o),r=function(e,t){if(t&&("object"==Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,Xe()?Reflect.construct(o,i||[],Ze(n).constructor):o.apply(n,i))).state={active:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(t,e),function(e,t){return t&&Je(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.attributes,n=t.top,o=t.right,i=t.bottom,a=t.left,c=t.label,l=t.setAttributes;return React.createElement("div",{className:"fce-dimension-box-wrapper"},React.createElement("label",null," ",c," "),React.createElement("div",{className:"fce-dimension-box"},React.createElement(ot,{type:"number",className:"fce-dimension-box-top",value:r[n],Placeholder:"Top",onChange:function(t){e.state.active?l(qe(qe(qe(qe({},n,parseInt(t)),o,parseInt(t)),i,parseInt(t)),a,parseInt(t))):l(qe({},n,parseInt(t)))}}),React.createElement(ot,{type:"number",className:"fce-dimension-box-right",value:r[o],Placeholder:"Right",onChange:function(t){e.state.active?l(qe(qe(qe(qe({},n,parseInt(t)),o,parseInt(t)),i,parseInt(t)),a,parseInt(t))):l(qe({},o,parseInt(t)))}}),React.createElement(ot,{type:"number",className:"fce-dimension-box-bottom",value:r[i],Placeholder:"Bottom",onChange:function(t){e.state.active?l(qe(qe(qe(qe({},n,parseInt(t)),o,parseInt(t)),i,parseInt(t)),a,parseInt(t))):l(qe({},i,parseInt(t)))}}),React.createElement(ot,{type:"number",className:"fce-dimension-box-left",value:r[a],Placeholder:"Left",onChange:function(t){e.state.active?l(qe(qe(qe(qe({},n,parseInt(t)),o,parseInt(t)),i,parseInt(t)),a,parseInt(t))):l(qe({},a,parseInt(t)))}}),React.createElement(at,{text:tt("Link values together","fluentcrm"),position:"top"},React.createElement(it,{className:this.state.active?"fce-dimension-link-values-together active":"fce-dimension-link-values-together",isDefault:!0,onClick:function(){e.setState({active:!e.state.active},(function(){e.state.active&&l(qe(qe(qe(qe({},n,r[n]),o,r[n]),i,r[n]),a,r[n]))}))}},React.createElement("i",{className:"dashicons dashicons-admin-links"})))))}}])}(rt);function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ut=["fontFamily","lineHeight","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"];const st=function(e,t){var r=(0,Re.pickBy)(e,(function(e,t){return!!e&&ut.includes(t)})),n=Object.entries(r).reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],o=r[1];return e[n]="number"==typeof o?"".concat(o,"px"):o,e}),{});return void 0!==e.lineHeight&&e.lineHeight&&(n.lineHeight=e.lineHeight+"px"),n};function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}var pt=["select"];function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ht(e,t,r){return(t=function(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mt.apply(null,arguments)}var vt=wp.i18n.__,gt=wp.blockEditor.InspectorControls,bt=wp.compose,wt=bt.createHigherOrderComponent,St=bt.compose,Ot=wp.components,_t=Ot.PanelBody,kt=Ot.SelectControl,Et=Ot.TextControl,jt=wp.element.Fragment,xt=wp.hooks.addFilter,Rt=wp.data.withSelect,Lt=["core/paragraph","core/heading","core/image"];xt("blocks.registerBlockType","fluentcrm/typography/attributes",(function(e,t){return Lt.includes(t)?(void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{fontFamily:{type:"string",default:""},lineHeight:{type:"number",default:""},paddingTop:{type:"number",default:""},paddingRight:{type:"number",default:""},paddingBottom:{type:"number",default:""},paddingLeft:{type:"number",default:""},marginTop:{type:"number",default:""},marginRight:{type:"number",default:""},marginBottom:{type:"number",default:""},marginLeft:{type:"number",default:""}})),e):e}),99999),xt("editor.BlockEdit","fluentcrm/typography",wt((function(e){return function(t){if(!Lt.includes(t.name))return React.createElement(e,t);var r=t.attributes,n=t.name,o=t.setAttributes;return React.createElement(jt,null,React.createElement(e,t),React.createElement(gt,{key:"zzz-fluent-crm-typography"},React.createElement(_t,{initialOpen:!0,title:vt("core/image"===n?"Advanced Spacing":"Advanced Typography")},("core/heading"===n||"core/paragraph"===n)&&React.createElement(jt,null,React.createElement(kt,{label:vt("Font Family"),value:r.fontFamily,options:[{label:"Select a font family",value:""},{label:"Arial",value:"Arial, 'Helvetica Neue', Helvetica, sans-serif"},{label:"Comic Sans",value:"'Comic Sans MS', 'Marker Felt-Thin', Arial, sans-serif"},{label:"Courier New",value:"'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace"},{label:"Georgia",value:"Georgia, Times, 'Times New Roman', serif"},{label:"Helvetica",value:"Helvetica , Arial, Verdana, sans-serif"},{label:"Lucida",value:"Lucida Sans Unicode', 'Lucida Grande', sans-serif"},{label:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{label:"Times New Roman",value:"'Times New Roman', Times, Baskerville, Georgia, serif"},{label:"Trebuchet MS",value:"'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Lato",value:"'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Lora",value:"'Lora', Georgia, 'Times New Roman', serif"},{label:"Merriweather",value:"'Merriweather', Georgia, 'Times New Roman', serif"},{label:"Merriweather Sans",value:"'Merriweather Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Noticia Text",value:"'Noticia Text', Georgia, 'Times New Roman', serif"},{label:"Open Sans",value:"'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Roboto",value:"'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Source Sans Pro",value:"'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif"}],onChange:function(e){return o({fontFamily:e})}}),React.createElement(Et,{label:vt("Line Height"),type:"number",value:r.lineHeight,onChange:function(e){return o({lineHeight:parseInt(e)})}})),React.createElement(ct,mt({},t,{label:vt("Padding"),top:"paddingTop",right:"paddingRight",bottom:"paddingBottom",left:"paddingLeft"})),React.createElement(ct,mt({},t,{label:vt("Margin"),top:"marginTop",right:"marginRight",bottom:"marginBottom",left:"marginLeft"})))))}}),"withControls"),99999);var Pt=St(Rt((function(e){return{selected:e("core/block-editor").getSelectedBlock(),select:e}}))),Tt=wt((function(e){return Pt((function(t){var r=t.select,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,pt),o=n.wrapperProps||{},i=r("core/block-editor").getBlock(n.clientId);return i?(Lt.includes(i.name)&&i.attributes&&(o=yt(yt({},o),{},{style:yt(yt({},o.style||{}),st(i.attributes,i.name))})),React.createElement(e,mt({},n,{wrapperProps:o}))):React.createElement(e,mt({},n,{wrapperProps:o}))}))}),"withTypographySettings");xt("editor.BlockListBlock","fluentcrm/withTypographySettings",Tt,999999),xt("blocks.getSaveContent.extraProps","fluentcrm/applyTypographySettings",(function(e,t,r){return Lt.includes(t.name)?(void 0!==e.style?e.style=Object.assign(e.style,st(r,t.name)):e.style=st(r,t.name),e):e}),99999);const At=window.wp.url,Ct=window.wp.dom;function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof r){var o=e.document;"number"!=typeof(r=o.documentElement[n])&&(r=o.body[n])}return r}function Mt(e){return Bt(e)}function Dt(e){return Bt(e,!0)}function Ut(e){var t=function(e){var t,r,n,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return r=(t=e.getBoundingClientRect()).left,n=t.top,{left:r-=a.clientLeft||i.clientLeft||0,top:n-=a.clientTop||i.clientTop||0}}(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=Mt(n),t.top+=Dt(n),t}window.wp.apiFetch;var Ht,Gt=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Wt=/^(top|right|bottom|left)$/,Vt="currentStyle",zt="runtimeStyle",Kt="left";function $t(e,t){for(var r=0;r<e.length;r++)t(e[r])}function Yt(e){return"border-box"===Ht(e,"boxSizing")}"undefined"!=typeof window&&(Ht=window.getComputedStyle?function(e,t,r){var n="",o=e.ownerDocument,i=r||o.defaultView.getComputedStyle(e,null);return i&&(n=i.getPropertyValue(t)||i[t]),n}:function(e,t){var r=e[Vt]&&e[Vt][t];if(Gt.test(r)&&!Wt.test(t)){var n=e.style,o=n[Kt],i=e[zt][Kt];e[zt][Kt]=e[Vt][Kt],n[Kt]="fontSize"===t?"1em":r||0,r=n.pixelLeft+"px",n[Kt]=o,e[zt][Kt]=i}return""===r?"auto":r});var qt=["margin","border","padding"];function Jt(e,t,r){var n,o,i,a=0;for(o=0;o<t.length;o++)if(n=t[o])for(i=0;i<r.length;i++){var c;c="border"===n?"".concat(n+r[i],"Width"):n+r[i],a+=parseFloat(Ht(e,c))||0}return a}function Qt(e){return null!=e&&e==e.window}var Xt={};function Zt(e,t,r){if(Qt(e))return"width"===t?Xt.viewportWidth(e):Xt.viewportHeight(e);if(9===e.nodeType)return"width"===t?Xt.docWidth(e):Xt.docHeight(e);var n="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.offsetWidth:e.offsetHeight,i=(Ht(e),Yt(e)),a=0;(null==o||o<=0)&&(o=void 0,(null==(a=Ht(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===r&&(r=i?1:-1);var c=void 0!==o||i,l=o||a;if(-1===r)return c?l-Jt(e,["border","padding"],n):a;if(c){var u=2===r?-Jt(e,["border"],n):Jt(e,["margin"],n);return l+(1===r?0:u)}return a+Jt(e,qt.slice(r),n)}$t(["Width","Height"],(function(e){Xt["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Xt["viewport".concat(e)](r))},Xt["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,o=n.body,i=n.documentElement[r];return"CSS1Compat"===n.compatMode&&i||o&&o[r]||i}}));var er={position:"absolute",visibility:"hidden",display:"block"};function tr(e){var t,r=arguments;return 0!==e.offsetWidth?t=Zt.apply(void 0,r):function(e,n){var o,i={},a=e.style;for(o in n)n.hasOwnProperty(o)&&(i[o]=a[o],a[o]=n[o]);for(o in function(){t=Zt.apply(void 0,r)}.call(e),n)n.hasOwnProperty(o)&&(a[o]=i[o])}(e,er),t}function rr(e,t,r){var n=r;if("object"!==Nt(t))return void 0!==n?("number"==typeof n&&(n+="px"),void(e.style[t]=n)):Ht(e,t);for(var o in t)t.hasOwnProperty(o)&&rr(e,o,t[o])}$t(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Xt["outer".concat(t)]=function(t,r){return t&&tr(t,e,r?0:1)};var r="width"===e?["Left","Right"]:["Top","Bottom"];Xt[e]=function(t,n){return void 0===n?t&&tr(t,e,-1):t?(Ht(t),Yt(t)&&(n+=Jt(t,["padding","border"],r)),rr(t,e,n)):void 0}}));var nr=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(r,!0).forEach((function(t){Ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return Ut(e);!function(e,t){"static"===rr(e,"position")&&(e.style.position="relative");var r,n,o=Ut(e),i={};for(n in t)t.hasOwnProperty(n)&&(r=parseFloat(rr(e,n))||0,i[n]=r+t[n]-o[n]);rr(e,i)}(e,t)},isWindow:Qt,each:$t,css:rr,clone:function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(Qt(e)){if(void 0===t)return Mt(e);window.scrollTo(t,Dt(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(Qt(e)){if(void 0===t)return Dt(e);window.scrollTo(Mt(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},Xt);const or=window.wp.htmlEntities;function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cr(n.key),n)}}function cr(e){var t=function(e){if("object"!=ir(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ir(t)?t:t+""}function lr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lr=function(){return!!e})()}function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ur(e)}function sr(e,t){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sr(e,t)}function fr(){fr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(T([])));O&&O!==r&&n.call(O,a)&&(w=O);var _=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,a,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ir(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,r,n){var o=p;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=x(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function x(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ir(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),u(_,l,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function pr(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var dr=function(e){return e.stopPropagation()},yr=function(){var e,t=(e=fr().mark((function e(t){var r;return fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.FLUENTCRM.$get("smart-links",{search:t});case 2:return r=e.sent,e.abrupt("return",(0,Re.map)(r.action_links.data,(function(e){return{url:e.short_url,title:(0,or.decodeEntities)(e.title),target_url:e.target_url}})));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){pr(i,n,o,a,c,"next",e)}function c(e){pr(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(_x){return t.apply(this,arguments)}}(),hr=function(e){function t(e){var r,n,o,i,a=e.autocompleteRef;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=this,o=t,i=arguments,o=ur(o),r=function(e,t){if(t&&("object"==ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,lr()?Reflect.construct(o,i||[],ur(n).constructor):o.apply(n,i))).onChange=r.onChange.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.autocompleteRef=a||(0,s.createRef)(),r.inputRef=(0,s.createRef)(),r.updateSuggestions=(0,Re.throttle)(r.updateSuggestions.bind(r),200),r.suggestionNodes=[],r.state={suggestions:[],showSuggestions:!1,selectedSuggestion:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(t,e),function(e,t){return t&&ar(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state,r=t.showSuggestions,n=t.selectedSuggestion;r&&null!==n&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,function(e,t,r){r=r||{},9===t.nodeType&&(t=nr.getWindow(t));var n=r.allowHorizontalScroll,o=r.onlyScrollIfNeeded,i=r.alignWithTop,a=r.alignWithLeft,c=r.offsetTop||0,l=r.offsetLeft||0,u=r.offsetBottom||0,s=r.offsetRight||0;n=void 0===n||n;var f,p,d,y,h,m,v,g,b,w,S=nr.isWindow(t),O=nr.offset(e),_=nr.outerHeight(e),k=nr.outerWidth(e);S?(v=t,w=nr.height(v),b=nr.width(v),g={left:nr.scrollLeft(v),top:nr.scrollTop(v)},h={left:O.left-g.left-l,top:O.top-g.top-c},m={left:O.left+k-(g.left+b)+s,top:O.top+_-(g.top+w)+u},y=g):(f=nr.offset(t),p=t.clientHeight,d=t.clientWidth,y={left:t.scrollLeft,top:t.scrollTop},h={left:O.left-(f.left+(parseFloat(nr.css(t,"borderLeftWidth"))||0))-l,top:O.top-(f.top+(parseFloat(nr.css(t,"borderTopWidth"))||0))-c},m={left:O.left+k-(f.left+d+(parseFloat(nr.css(t,"borderRightWidth"))||0))+s,top:O.top+_-(f.top+p+(parseFloat(nr.css(t,"borderBottomWidth"))||0))+u}),h.top<0||m.top>0?!0===i?nr.scrollTop(t,y.top+h.top):!1===i?nr.scrollTop(t,y.top+m.top):h.top<0?nr.scrollTop(t,y.top+h.top):nr.scrollTop(t,y.top+m.top):o||((i=void 0===i||!!i)?nr.scrollTop(t,y.top+h.top):nr.scrollTop(t,y.top+m.top)),n&&(h.left<0||m.left>0?!0===a?nr.scrollLeft(t,y.left+h.left):!1===a?nr.scrollLeft(t,y.left+m.left):h.left<0?nr.scrollLeft(t,y.left+h.left):nr.scrollLeft(t,y.left+m.left):o||((a=void 0===a||!!a)?nr.scrollLeft(t,y.left+h.left):nr.scrollLeft(t,y.left+m.left)))}(this.suggestionNodes[n],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),this.props.setTimeout((function(){e.scrollingIntoView=!1}),100))}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(r){t.suggestionNodes[e]=r}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});else{this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var r=yr(e);r.then((function(e){t.suggestionsRequest===r&&(t.setState({suggestions:e,loading:!1}),e.length?t.props.debouncedSpeak((0,y.sprintf)((0,y._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length),e.length),"assertive"):t.props.debouncedSpeak((0,y.__)("No results."),"assertive"))})).catch((function(){t.suggestionsRequest===r&&t.setState({loading:!1})})),this.suggestionsRequest=r}}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange(t),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,r=t.showSuggestions,n=t.selectedSuggestion,o=t.suggestions,i=t.loading;if(r&&o.length&&!i){var a=this.state.suggestions[this.state.selectedSuggestion];switch(e.keyCode){case V.UP:e.stopPropagation(),e.preventDefault();var c=n?n-1:o.length-1;this.setState({selectedSuggestion:c});break;case V.DOWN:e.stopPropagation(),e.preventDefault();var l=null===n||n===o.length-1?0:n+1;this.setState({selectedSuggestion:l});break;case V.TAB:null!==this.state.selectedSuggestion&&(this.selectLink(a),this.props.speak((0,y.__)("Link selected.")));break;case V.ENTER:null!==this.state.selectedSuggestion&&(e.stopPropagation(),this.selectLink(a))}}else switch(e.keyCode){case V.UP:0!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(0,0));break;case V.DOWN:this.props.value.length!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length))}}},{key:"selectLink",value:function(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}},{key:"handleOnClick",value:function(e){this.selectLink(e),this.inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.value,n=void 0===r?"":r,o=t.autoFocus,i=void 0===o||o,a=t.instanceId,c=t.className,u=this.state,s=u.showSuggestions,f=u.suggestions,p=u.selectedSuggestion,d=u.loading,h="block-editor-url-input-suggestions-".concat(a),m="block-editor-url-input-suggestion-".concat(a);return React.createElement("div",{className:ze()("editor-url-input block-editor-url-input",c)},React.createElement("input",{autoFocus:i,type:"text","aria-label":(0,y.__)("URL"),required:!0,value:n,onChange:this.onChange,onInput:dr,placeholder:(0,y.__)("Paste or type to search for your Smart Link"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":s,"aria-autocomplete":"list","aria-owns":h,"aria-activedescendant":null!==p?"".concat(m,"-").concat(p):void 0,ref:this.inputRef}),d&&React.createElement(l.Spinner,null),s&&!!f.length&&React.createElement(l.Popover,{position:"bottom",noArrow:!0,focusOnMount:!1},React.createElement("div",{className:"editor-url-input__suggestions block-editor-url-input__suggestions",id:h,ref:this.autocompleteRef,role:"listbox"},f.map((function(t,r){return React.createElement("button",{key:t.id,role:"option",tabIndex:"-1",title:t.target_url,id:"".concat(m,"-").concat(r),ref:e.bindSuggestionNode(r),className:ze()("editor-url-input__suggestion block-editor-url-input__suggestion",{"is-selected":r===p}),onClick:function(){return e.handleOnClick(t)},"aria-selected":r===p},t.title)})))))}}])}(s.Component);const mr=(0,h.compose)(h.withSafeTimeout,l.withSpokenMessages,h.withInstanceId,(0,S.withSelect)((function(e){var t=e("core/block-editor").getSettings,r=t().fetchLinkSuggestions;return r||(r=t().__experimentalFetchLinkSuggestions),{fetchLinkSuggestions:r}})))(hr);function vr(e){if(!e)return!1;var t=e.trim();if(!t)return!1;if(/^\S+:/.test(t)){var r=(0,At.getProtocol)(t);if(!(0,At.isValidProtocol)(r))return!1;if((0,Re.startsWith)(r,"http")&&!/^https?:\/\/[^\/\s]/i.test(t))return!1;var n=(0,At.getAuthority)(t);if(!(0,At.isValidAuthority)(n))return!1;var o=(0,At.getPath)(t);if(o&&!(0,At.isValidPath)(o))return!1;var i=(0,At.getQueryString)(t);if(i&&!(0,At.isValidQueryString)(i))return!1;var a=(0,At.getFragment)(t);if(a&&!(0,At.isValidFragment)(a))return!1}return!((0,Re.startsWith)(t,"#")&&!(0,At.isValidFragment)(t))}function gr(e){var t=e.url,r=e.opensInNewWindow,n=e.text,o=e.noFollow,i=e.isSponsored,a={type:"core/link",attributes:{url:t}};if(a.attributes.rel="",o&&(a.attributes.rel+="nofollow noindex "),i&&(a.attributes.rel+="sponsored "),r){
// translators: accessibility label for external links, where the argument is the link text
var c=(0,y.sprintf)((0,y.__)("%s (opens in a new tab)"),n);a.attributes.target="_blank",a.attributes.rel+="noreferrer noopener",a.attributes["aria-label"]=c}return""===a.attributes.rel&&delete a.attributes.rel,a}function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}var wr=["isActive","addingLink","value"];function Sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Or(n.key),n)}}function Or(e){var t=function(e){if("object"!=br(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==br(t)?t:t+""}function _r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_r=function(){return!!e})()}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}function Er(e,t){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Er(e,t)}function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jr.apply(null,arguments)}var xr=function(e){return e.stopPropagation()};function Rr(e,t){return e.addingLink||t.editLink}var Lr=function(e){var t=e.value,r=e.onChangeInputValue,n=e.onKeyDown,o=e.submitLink,i=e.autocompleteRef;return React.createElement("form",{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:xr,onKeyDown:n,onSubmit:o},React.createElement(mr,{value:t,onChange:r,autocompleteRef:i}),React.createElement(l.IconButton,{icon:"editor-break",label:(0,y.__)("Insert Smart Link"),type:"submit"}))},Pr=function(e){var t=e.url,r=(0,At.prependHTTP)(t),n=ze()("editor-format-toolbar__link-container-value block-editor-format-toolbar__link-container-value",{"has-invalid-link":!vr(r)});return t?React.createElement(l.ExternalLink,{className:n,href:t},(0,At.filterURLForDisplay)((0,At.safeDecodeURI)(t))):React.createElement("span",{className:n})},Tr=function(e){var t=e.isActive,r=e.addingLink,n=e.value,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,wr),i=(0,s.useMemo)((function(){var e=window.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):null;if(t){if(r)return(0,Ct.getRectangleFromRange)(t);var n=t.startContainer;for(n=n.nextElementSibling||n;n.nodeType!==window.Node.ELEMENT_NODE;)n=n.parentNode;var o=n.closest("a");return o?o.getBoundingClientRect():void 0}}),[t,r,n.start,n.end]);return i?React.createElement(u.URLPopover,jr({anchorRect:i},o)):null},Ar=function(e){var t=e.url,r=e.editLink;return React.createElement("div",{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:xr},React.createElement(Pr,{url:t}),React.createElement(l.IconButton,{icon:"edit",label:(0,y.__)("Edit"),onClick:r}))},Cr=function(e){function t(){var e,r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=this,n=t,o=arguments,n=kr(n),e=function(e,t){if(t&&("object"==br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(r,_r()?Reflect.construct(n,o||[],kr(r).constructor):n.apply(r,o))).editLink=e.editLink.bind(e),e.submitLink=e.submitLink.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.onChangeInputValue=e.onChangeInputValue.bind(e),e.setNoFollow=e.setNoFollow.bind(e),e.setIsSponsored=e.setIsSponsored.bind(e),e.setLinkTarget=e.setLinkTarget.bind(e),e.onClickOutside=e.onClickOutside.bind(e),e.resetState=e.resetState.bind(e),e.autocompleteRef=(0,s.createRef)(),e.state={noFollow:!1,opensInNewWindow:!1,isSponsored:!1,inputValue:"",newLinkUrl:"",newLinkSlug:"",creatingLink:!1,createdLink:!1,createdLinkError:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Er(e,t)}(t,e),function(e,t,r){return t&&Sr(e.prototype,t),r&&Sr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"onKeyDown",value:function(e){[V.LEFT,V.DOWN,V.RIGHT,V.UP,V.BACKSPACE,V.ENTER].indexOf(e.keyCode)>-1&&e.stopPropagation()}},{key:"onChangeInputValue",value:function(e){this.setState({inputValue:e})}},{key:"setLinkTarget",value:function(e){var t=this.props,r=t.activeAttributes.url,n=void 0===r?"":r,o=t.value,i=t.onChange;if(this.setState({opensInNewWindow:e}),!Rr(this.props,this.state)){var a=(0,xe.getTextContent)((0,xe.slice)(o));i((0,xe.applyFormat)(o,gr({url:n,opensInNewWindow:e,text:a})))}}},{key:"setNoFollow",value:function(e){var t=this.props,r=t.activeAttributes.url,n=void 0===r?"":r,o=t.value,i=t.onChange;if(this.setState({noFollow:e}),!Rr(this.props,this.state)){var a=(0,xe.getTextContent)((0,xe.slice)(o));i((0,xe.applyFormat)(o,gr({url:n,opensInNewWindow,text:a,noFollow:e,isSponsored})))}}},{key:"setIsSponsored",value:function(e){var t=this.props,r=t.activeAttributes.url,n=void 0===r?"":r,o=t.value,i=t.onChange;if(this.setState({isSponsored:e}),!Rr(this.props,this.state)){var a=(0,xe.getTextContent)((0,xe.slice)(o));i((0,xe.applyFormat)(o,gr({url:n,opensInNewWindow,text:a,noFollow,isSponsored:e})))}}},{key:"editLink",value:function(e){this.setState({editLink:!0}),e.preventDefault()}},{key:"submitLink",value:function(e){var t=this.props,r=t.isActive,n=t.value,o=t.onChange,i=t.speak,a=this.state,c=a.inputValue,l=a.opensInNewWindow,u=a.noFollow,s=a.isSponsored,f=(0,At.prependHTTP)(c),p=gr({url:f,opensInNewWindow:l,text:(0,xe.getTextContent)((0,xe.slice)(n)),noFollow:u,isSponsored:s});if(e.preventDefault(),(0,xe.isCollapsed)(n)&&!r){var d=(0,xe.applyFormat)((0,xe.create)({text:f}),p,0,f.length);o((0,xe.insert)(n,d))}else o((0,xe.applyFormat)(n,p));this.resetState(),vr(f)?i(r?(0,y.__)("Link edited."):(0,y.__)("Link inserted."),"assertive"):i((0,y.__)("Warning: the link has been inserted but may have errors. Please test it."),"assertive")}},{key:"onClickOutside",value:function(e){var t=this.autocompleteRef.current;t&&t.contains(e.target)||this.resetState()}},{key:"resetState",value:function(){this.props.stopAddingLink(),this.setState({editLink:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.isActive,n=t.activeAttributes.url,o=t.addingLink,i=t.value;if(!r&&!o)return null;var a=this.state,c=a.inputValue,u=a.noFollow,f=a.opensInNewWindow,p=a.isSponsored,d=(a.newLinkUrl,a.newLinkSlug,a.creatingLink,a.createdLink,a.createdLinkError,Rr(this.props,this.state));return React.createElement(Tr,{className:"pretty-link-inserter",value:i,isActive:r,addingLink:o,onClickOutside:this.onClickOutside,onClose:this.resetState,focusOnMount:!!d&&"firstElement",renderSettings:function(){return React.createElement(s.Fragment,null,React.createElement("div",null,React.createElement(l.ToggleControl,{label:(0,y.__)("Open in New Tab"),checked:f,onChange:e.setLinkTarget}),React.createElement(l.ToggleControl,{label:(0,y.__)("Nofollow"),checked:u,onChange:e.setNoFollow}),React.createElement(l.ToggleControl,{label:(0,y.__)("Sponsored Link"),checked:p,onChange:e.setIsSponsored})))}},d?React.createElement(Lr,{value:c,onChangeInputValue:this.onChangeInputValue,onKeyDown:this.onKeyDown,submitLink:this.submitLink,autocompleteRef:this.autocompleteRef}):React.createElement(Ar,{url:n,editLink:this.editLink}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.activeAttributes,n=r.url,o=r.target,i=(r.isSponsored,"_blank"===o);if(!Rr(e,t)){if(n!==t.inputValue)return{inputValue:n};if(i!==t.opensInNewWindow)return{opensInNewWindow:i}}return null}}])}(s.Component);const Nr=(0,l.withSpokenMessages)(Cr);function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Br(n.key),n)}}function Br(e){var t=function(e){if("object"!=Fr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fr(t)?t:t+""}function Mr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mr=function(){return!!e})()}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dr(e)}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ur(e,t)}var Hr="fluentcrm/smart-links",Gr=(0,y.__)("SmartLinks"),Wr={name:Hr,title:Gr,tagName:"a",className:"smart-link",attributes:{url:"href",target:"target"},edit:(0,l.withSpokenMessages)(function(e){function t(){var e,r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=this,n=t,o=arguments,n=Dr(n),e=function(e,t){if(t&&("object"==Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(r,Mr()?Reflect.construct(n,o||[],Dr(r).constructor):n.apply(r,o))).addLink=e.addLink.bind(e),e.stopAddingLink=e.stopAddingLink.bind(e),e.onRemoveFormat=e.onRemoveFormat.bind(e),e.state={addingLink:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(t,e),function(e,t){return t&&Ir(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"addLink",value:function(){var e=this.props,t=e.value,r=e.onChange,n=(0,xe.getTextContent)((0,xe.slice)(t));n&&(0,At.isURL)(n)?r((0,xe.applyFormat)(t,{type:Hr,attributes:{url:n}})):this.setState({addingLink:!0})}},{key:"stopAddingLink",value:function(){this.setState({addingLink:!1})}},{key:"onRemoveFormat",value:function(){var e=this.props,t=e.value,r=e.onChange,n=e.speak;r((0,xe.removeFormat)(t,Hr)),n((0,y.__)("Link removed."),"assertive")}},{key:"render",value:function(){var e=this.props,t=e.isActive,r=e.activeAttributes,n=e.value,o=e.onChange;return React.createElement(React.Fragment,null,React.createElement(u.RichTextShortcut,{type:"primary",character:"p",onUse:this.addLink}),React.createElement(u.RichTextShortcut,{type:"primaryShift",character:"p",onUse:this.onRemoveFormat}),t&&React.createElement(u.RichTextToolbarButton,{icon:"star-filled",title:(0,y.__)("Unlink"),onClick:this.onRemoveFormat,isActive:t,shortcutType:"primaryShift",shortcutCharacter:"p"}),!t&&React.createElement(u.RichTextToolbarButton,{icon:"star-filled",title:Gr,onClick:this.addLink,isActive:t,shortcutType:"primary",shortcutCharacter:"p"}),React.createElement(Nr,{addingLink:this.state.addingLink,stopAddingLink:this.stopAddingLink,isActive:t,activeAttributes:r,value:n,onChange:o}))}}])}(s.Component))};const Vr="@@redux-undo/UNDO",zr="@@redux-undo/REDO",Kr="@@redux-undo/JUMP_TO_FUTURE",$r="@@redux-undo/JUMP_TO_PAST",Yr="@@redux-undo/JUMP",qr="@@redux-undo/CLEAR_HISTORY",Jr={undo:()=>({type:Vr}),redo:()=>({type:zr}),jumpToFuture:e=>({type:Kr,index:e}),jumpToPast:e=>({type:$r,index:e}),jump:e=>({type:Yr,index:e}),clearHistory:()=>({type:qr})};function Qr(e,t=[]){return Array.isArray(e)?e:"string"==typeof e?[e]:t}function Xr(e,t,r,n=null){return{past:e,present:t,future:r,group:n,_latestUnfiltered:t,index:e.length,limit:e.length+r.length+1}}let Zr,en;function tn(e,t,r){return[`%c${e}`,`color: ${t}; font-weight: bold`,r]}function rn(e){Zr&&(console.group?en.next=tn("next history","#4CAF50",e):en.next=["next history",e],function(){const{header:e,prev:t,next:r,action:n,msgs:o}=en;console.group?(console.groupCollapsed(...e),console.log(...t),console.log(...n),console.log(...r),console.log(...o),console.groupEnd()):(console.log(...e),console.log(...t),console.log(...n),console.log(...r),console.log(...o))}())}function nn(...e){Zr&&(en.msgs=en.msgs.concat([...e,"\n"]))}function on(e,t){const r=Xr([],e,[]);return t&&(r._latestUnfiltered=null),r}function an(e,t){if(t<0||t>=e.future.length)return e;const{past:r,future:n,_latestUnfiltered:o}=e;return Xr([...r,o,...n.slice(0,t)],n[t],n.slice(t+1))}function cn(e,t){if(t<0||t>=e.past.length)return e;const{past:r,future:n,_latestUnfiltered:o}=e,i=r.slice(0,t),a=[...r.slice(t+1),o,...n];return Xr(i,r[t],a)}function ln(e,t){return t>0?an(e,t-1):t<0?cn(e,e.past.length+t):e}var un="UPDATE_BLOCKS",sn="PERSIST_BLOCKS",fn="FETCH_BLOCKS_FROM_STORAGE",pn="PERSIST_BLOCKS_TO_STORAGE";const dn=function(e,t={}){!function(e){Zr=e}(t.debug);const r={limit:void 0,filter:()=>!0,groupBy:()=>null,undoType:Vr,redoType:zr,jumpToPastType:$r,jumpToFutureType:Kr,jumpType:Yr,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1,...t,initTypes:Qr(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:Qr(t.clearHistoryType,[qr])},n=r.neverSkipReducer?(t,r,...n)=>({...t,present:e(t.present,r,...n)}):e=>e;let o;return(t=o,i={},...a)=>{!function(e,t){en={header:[],prev:[],action:[],next:[],msgs:[]},Zr&&(console.group?(en.header=["%credux-undo","font-style: italic","action",e.type],en.action=tn("action","#03A9F4",e),en.prev=tn("prev history","#9E9E9E",t)):(en.header=["redux-undo action",e.type],en.action=["action",e],en.prev=["prev history",t]))}(i,t);let c,l=t;if(!o){if(nn("history is uninitialized"),void 0===t)return l=on(e(t,{type:"@@redux-undo/CREATE_HISTORY"},...a),r.ignoreInitialState),nn("do not set initialState on probe actions"),rn(l),l;!function(e){return typeof e.present<"u"&&typeof e.future<"u"&&typeof e.past<"u"&&Array.isArray(e.future)&&Array.isArray(e.past)}(t)?(l=o=on(t,r.ignoreInitialState),nn("initialHistory initialized: initialState is not a history",o)):(l=o=r.ignoreInitialState?t:Xr(t.past,t.present,t.future),nn("initialHistory initialized: initialState is a history",o))}switch(i.type){case void 0:return l;case r.undoType:return c=ln(l,-1),nn("perform undo"),rn(c),n(c,i,...a);case r.redoType:return c=ln(l,1),nn("perform redo"),rn(c),n(c,i,...a);case r.jumpToPastType:return c=cn(l,i.index),nn(`perform jumpToPast to ${i.index}`),rn(c),n(c,i,...a);case r.jumpToFutureType:return c=an(l,i.index),nn(`perform jumpToFuture to ${i.index}`),rn(c),n(c,i,...a);case r.jumpType:return c=ln(l,i.index),nn(`perform jump to ${i.index}`),rn(c),n(c,i,...a);case function(e,t){return t.indexOf(e)>-1?e:!e}(i.type,r.clearHistoryType):return c=on(l.present,r.ignoreInitialState),nn("perform clearHistory"),rn(c),n(c,i,...a);default:if(c=e(l.present,i,...a),r.initTypes.some((e=>e===i.type)))return nn("reset history due to init action"),rn(o),o;if(l._latestUnfiltered===c)return l;if("function"==typeof r.filter&&!r.filter(i,c,l)){const e=Xr(l.past,c,l.future,l.group);return r.syncFilter||(e._latestUnfiltered=l._latestUnfiltered),nn("filter ignored action, not storing it in past"),rn(e),e}const t=r.groupBy(i,c,l);if(null!=t&&t===l.group){const e=Xr(l.past,c,l.future,l.group);return nn("groupBy grouped the action with the previous action"),rn(e),e}return l=function(e,t,r,n){const o=e.past.length+1;nn("inserting",t),nn("new free: ",r-o);const{past:i,_latestUnfiltered:a}=e,c=r&&r<=o,l=i.slice(c?1:0);return Xr(null!=a?[...l,a]:l,t,[],n)}(l,c,r.limit,t),nn("inserted new state into history"),rn(l),l}}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case un:case sn:return{blocks:t.blocks}}return e}),{filter:function(e){const t=Qr(e);return e=>t.indexOf(e.type)>=0}(sn)});var yn=function(e){return e.present.blocks||[]},hn=function(e){var t;return null===(t=e.past)||void 0===t?void 0:t.length},mn=function(e){var t;return null===(t=e.future)||void 0===t?void 0:t.length};function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function gn(){gn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(T([])));O&&O!==r&&n.call(O,a)&&(w=O);var _=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,a,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==vn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,r,n){var o=p;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=x(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function x(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(vn(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),u(_,l,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function bn(){return Jr.undo()}function wn(){return Jr.redo()}function Sn(){return Jr.clearHistory()}function On(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gn().mark((function r(){return gn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=3;break}return r.next=3,En(e);case 3:return r.abrupt("return",{type:t?sn:un,blocks:e});case 4:case"end":return r.stop()}}),r)}))()}function kn(){return{type:fn}}function En(e){return{type:pn,blocks:e}}function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function xn(){xn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(T([])));O&&O!==r&&n.call(O,a)&&(w=O);var _=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,a,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==jn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,r,n){var o=p;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=x(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function x(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(jn(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),u(_,l,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var Rn=xn().mark(Ln);function Ln(){var e,t;return xn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,kn();case 2:return e=r.sent,t=(0,le.parse)(e),r.next=7,On(t,!1);case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),Rn)}function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function Tn(e,t,r){return(t=function(e){var t=function(e){if("object"!=Pn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const An=Tn(Tn({},pn,(function(e){return new Promise((function(t,r){window.fceSettings.content=(0,le.serialize)(e.blocks),t(e.blocks)}))})),fn,(function(){return new Promise((function(e,t){e(window.fceSettings.content||[])}))}));var Cn=(0,S.createReduxStore)("historyUndoRedoStore",{reducer:dn,selectors:i,actions:a,controls:An,resolvers:c});(0,S.register)(Cn);var Nn=["name"];function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var In=function(){return De};we()((function(){(0,je.addFilter)("editor.Autocomplete.completers","fluentcrm/add_autocmplete",(function(e,t){return e=e.filter((function(e){return"users"!==e.name})),[].concat(function(e){return function(e){if(Array.isArray(e))return Fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e),[Ee])})),(0,je.addFilter)("editor.MediaUpload","crm/media_uploader",In),(0,Ue.registerCoreBlocks)(),(0,le.registerBlockType)("fluentcrm/conditional-group",$e),(0,le.unregisterBlockVariation)("core/group","group-row"),(0,le.unregisterBlockVariation)("core/group","group-stack"),window.fcAdmin.has_smart_link&&[Wr].forEach((function(e){var t=e.name,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Nn);return(0,xe.registerFormatType)(t,r)}))})),window.fluentCrmBootEmailEditor=function(e,t){var r=window.fceSettings||{};r.content=e,(0,S.dispatch)("historyUndoRedoStore").updateBlocks((0,le.parse)(e)),(0,s.render)(React.createElement(ge,{settings:r,onChangeHandle:t}),document.getElementById("fluentcrm_block_editor_x"))}},73:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(s=0;s<e.length;s++){r=e[s][0],o=e[s][1],i=e[s][2];for(var c=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(c=!1,i<a&&(a=i));if(c){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,a=r[0],c=r[1],l=r[2],u=0;if(a.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(l)var s=l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(s)},r=self.webpackChunkgetdave_sbe=self.webpackChunkgetdave_sbe||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[350],(()=>n(850)));o=n.O(o)})();