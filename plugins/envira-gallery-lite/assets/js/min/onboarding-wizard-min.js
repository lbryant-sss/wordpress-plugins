(()=>{function d(){var y,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",t=e.toStringTag||"@@toStringTag";function r(e,n,t,r){var o,a,i,c,d,l,s,u,v,n=n&&n.prototype instanceof m?n:m,n=Object.create(n.prototype);return h(n,"_invoke",(o=e,a=t,s=r||[],u=!1,v={p:l=0,n:0,v:y,a:f,f:f.bind(y,4),d:function(e,n){return i=e,c=0,d=y,v.n=n,p}},function(e,n,t){if(1<l)throw TypeError("Generator is already running");for(u&&1===n&&f(n,t),c=n,d=t;(g=c<2?y:d)||!u;){i||(c?c<3?(1<c&&(v.n=-1),f(c,d)):v.n=d:v.v=d);try{if(l=2,i){if(g=i[e=c?e:"next"]){if(!(g=g.call(i,d)))throw TypeError("iterator result is not an object");if(!g.done)return g;d=g.value,c<2&&(c=0)}else 1===c&&(g=i.return)&&g.call(i),c<2&&(d=TypeError("The iterator does not provide a '"+e+"' method"),c=1);i=y}else if((g=(u=v.n<0)?d:o.call(a,v))!==p)break}catch(e){i=y,c=1,d=e}finally{l=1}}return{value:g,done:u}}),!0),n;function f(e,n){for(c=e,d=n,g=0;!u&&l&&!t&&g<s.length;g++){var t,r=s[g],o=v.p,a=r[2];3<e?(t=a===n)&&(d=r[(c=r[4])?5:c=3],r[4]=r[5]=y):r[0]<=o&&((t=e<2&&o<r[1])?(c=0,v.v=n,v.n=r[1]):o<a&&(t=e<3||r[0]>n||a<n)&&(r[4]=e,r[5]=n,v.n=a,c=0))}if(t||1<e)return p;throw u=!0,n}}var p={};function m(){}function o(){}function a(){}var g=Object.getPrototypeOf,e=[][n]?g(g([][n]())):(h(g={},n,function(){return this}),g),i=a.prototype=m.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,h(e,t,"GeneratorFunction")),e.prototype=Object.create(i),e}return h(i,"constructor",o.prototype=a),h(a,"constructor",o),h(a,t,o.displayName="GeneratorFunction"),h(i),h(i,t,"Generator"),h(i,n,function(){return this}),h(i,"toString",function(){return"[object Generator]"}),(d=function(){return{w:r,m:c}})()}function h(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(h=function(e,n,t,r){function o(n,t){h(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))})(e,n,t,r)}function l(e,n,t,r,o,a,i){try{var c=e[a](i),d=c.value}catch(e){return t(e)}c.done?n(d):Promise.resolve(d).then(r,o)}var e=document.querySelectorAll(".envira-onboarding-btn-prev"),n=document.querySelectorAll(".envira-onboarding-btn-next"),t=document.querySelector(".envira-onboarding-progress"),r=document.querySelectorAll(".envira-onboarding-form-step"),o=document.querySelectorAll(".envira-onboarding-progress-step"),a=0;function i(){r.forEach(function(e){e.classList.contains("envira-onboarding-form-step-active")&&e.classList.remove("envira-onboarding-form-step-active")}),r[a].classList.add("envira-onboarding-form-step-active"),q.style.display="2"===a?"block":"none"}function s(){o.forEach(function(e,n){var t=e.previousElementSibling;n<=a?(e.classList.add("envira-onboarding-progress-step-active"),t.style.borderColor="#37993B"):(e.classList.remove("envira-onboarding-progress-step-active"),t.style.borderColor="#DCDDE1")}),t.style.width=a/(o.length-1)*100+"%"}n.forEach(function(n){n.addEventListener("click",function(){var e,o;0===a?(o=document.querySelector("#envira-general")).addEventListener("submit",(()=>{c=d().m(function e(n){var t,r;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.preventDefault(),n.stopPropagation(),(t=new FormData(o)).append("action","save_onboarding_data"),t.append("nonce",enviraOnboardingWizard.nonce),e.p=1,e.n=2,fetch(enviraOnboardingWizard.ajaxUrl,{method:"POST",body:t});case 2:return t=e.v,e.n=3,t.json();case 3:e.v.success?(a=1,i(),s()):(a=0,console.log("Error saving the data")),e.n=5;break;case 4:e.p=4,r=e.v,a=0,console.error("Error:",r);case 5:return e.a(2)}},e,null,[[1,4]])});var c,n=function(){var e=this,i=arguments;return new Promise(function(n,t){var r=c.apply(e,i);function o(e){l(r,n,t,o,a,"next",e)}function a(e){l(r,n,t,o,a,"throw",e)}o(void 0)})};return function(e){return n.apply(this,arguments)}})()):(e=n.getAttribute("data-next"))&&(a=e,i(),s())})}),e.forEach(function(n){n.addEventListener("click",function(){var e=n.getAttribute("data-prev");e&&(a=e,i(),s())})});n=document.querySelector("#envira-onboarding-back-to-welcome"),e=document.querySelector("#envira-get-started-btn");function c(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}n.addEventListener("click",function(){document.querySelector(".envira-onboarding-wizard-intro").style={display:"flex"},document.querySelector(".envira-onboarding-wizard-wrapper").style="height: 85vh",document.querySelector(".envira-onboarding-wizard-pages").style.display="none"}),e.addEventListener("click",function(){document.querySelector(".envira-onboarding-wizard-intro").style.display="none",document.querySelector(".envira-onboarding-wizard-wrapper").style="height: auto",document.querySelector(".envira-onboarding-wizard-pages").style={display:"flex"}}),document.querySelectorAll(".no-clicks").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()})}),document.querySelector(".envira-onboarding-wizard-wrapper").style="height: 85vh";function u(){y.innerHTML="Please enter a valid email address.",f.disabled=!0,f.classList.add("envira-disabled")}var v=document.querySelector("#email_address"),f=document.querySelector("#save-opt-in"),y=document.querySelector(".envira-email-error"),p=(y.innerHTML="",document.querySelector("#email_opt_in")),m=(p.addEventListener("change",function(){m()}),function(){""!==v.value&&c(v.value)||!p.checked||u(),""===v.value||c(v.value)||p.checked||u(),(""!==v.value&&c(v.value)||""===v.value&&!p.checked)&&(y.innerHTML="",f.disabled=!1,f.classList.remove("envira-disabled"))}),g=(v.addEventListener("input",function(){m()}),document.querySelectorAll("input[name='eow[_user_type]']"));g.forEach(function(e){e.addEventListener("change",function(e){"other"===e.target.value?(document.querySelector("#others_div").style.display="block",document.querySelector("#others").required=!0):(document.querySelector("#others_div").style.display="none",document.querySelector("#others").required=!1),Array.from(g).some(function(e){return e.checked})?(f.disabled=!1,f.classList.remove("envira-disabled")):(f.disabled=!0,f.classList.add("envira-disabled"))})});var n=document.querySelectorAll(".feature"),b=[];n.forEach(function(e){e.addEventListener("click",function(n){n.target.checked?b.includes(n.target.value)||(b.push(n.target.value),document.querySelector("#".concat(n.target.value,"-desc")).style.display="block"):(b=b.filter(function(e){return e!==n.target.value}),document.querySelector("#".concat(n.target.value,"-desc")).style.display="none")})});document.querySelector("#envira-save-features").addEventListener("click",function(){var e;0!==b.length&&(e={action:"save_selected_addons",addons:b,nonce:enviraOnboardingWizard.nonce},fetch(enviraOnboardingWizard.ajaxUrl,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()}).then(function(e){return e.json()}).then(function(e){e.success}).catch(function(e){console.error("Error:",e)}),document.querySelectorAll(".selected-addon-item").forEach(function(e){e.remove()}),b.forEach(function(e){var n=document.createElement("div"),t=(n.classList.add("envira-col","col-sm-6","col-xs-12","envira-col","text-xs-left","selected-addon-item"),document.querySelector('input[name="'.concat(e,'"]')).getAttribute("data-name"));n.innerHTML="".concat(k).concat(t,"</div>"),_.appendChild(n),document.querySelector("#".concat(e,"-desc")).style.display="block"}))});var S=document.querySelectorAll(".recommended"),L=[],q=document.querySelector(".selected-plugins-names"),w=[],E=(S.forEach(function(e){e.addEventListener("click",function(n){n.target.checked?(L.push(n.target.value),w.push(n.target.getAttribute("data-name")),document.querySelector("#".concat(n.target.value,"-desc")).style.display="block"):(L=L.filter(function(e){return e!==n.target.value}),w=w.filter(function(e){return e!==n.target.getAttribute("data-name")}),document.querySelector("#".concat(n.target.value,"-desc")).style.display="none"),E()})}),function(){q.innerHTML="",0===w.length&&S.forEach(function(e){!e.checked||L.includes(e.value)||enviraOnboardingWizard.plugins_list.includes(e.value)||(w.push(e.getAttribute("data-name")),document.querySelector("#".concat(e.value,"-desc")).style.display="block")}),0<w.length&&(q.innerHTML="The following plugins will be installed: "),w.forEach(function(e){var n=document.createElement("span");n.innerHTML="".concat(e),q.appendChild(n),w.indexOf(e)!==w.length-1&&((n=document.createElement("span")).innerHTML=", ",q.appendChild(n))})});E();document.querySelector("#envira-install-recommended").addEventListener("click",function(){0===L.length&&S.forEach(function(e){e.checked&&!L.includes(e.value)&&L.push(e.value)});var e={action:"install_recommended_plugins",plugins:L,nonce:enviraOnboardingWizard.nonce};fetch(enviraOnboardingWizard.ajaxUrl,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()}).then(function(e){return e.json()}).then(function(e){e.success}).catch(function(e){console.error("Error:",e)})});var k='<svg class=envira-checkmark fill=none viewBox="0 0 14 11" xmlns=http://www.w3.org/2000/svg>\n<path clip-rule=evenodd d="M10.8542 1.37147C11.44 0.785682 12.3897 0.785682 12.9755 1.37147C13.5613 1.95726 13.5613 2.907 12.9755 3.49279L6.04448 10.4238C5.74864 10.7196 5.35996 10.8661 4.97222 10.8631C4.58548 10.8653 4.19805 10.7189 3.90298 10.4238L1.0243 7.5451C0.438514 6.95931 0.438514 6.00956 1.0243 5.42378C1.61009 4.83799 2.55983 4.83799 3.14562 5.42378L4.97374 7.2519L10.8542 1.37147Z" fill=currentColor fill-rule=evenodd></path>\n</svg>',_=document.querySelector("#selected-add-ons");var O=document.querySelector(".envira-gallery-verify-submit"),T=document.querySelector("#license-key-message"),x=document.querySelector(".envira-onboarding-spinner");O.addEventListener("click",function(e){e.preventDefault();var n,e=document.getElementById("envira-settings-key").value;""===e?(T.classList.add("envira-error"),T.innerHTML="Please enter your license key."):(x.style.visibility="visible",O.classList.add("envira-disabled"),T.classList.remove("envira-success","envira-error"),e={action:"envira_connect",key:e,onboarding:"install_addons",_wpnonce:enviraOnboardingWizard.connect_nonce},n=function(){x.style.visibility="hidden",O.disabled=!1,O.classList.remove("envira-disabled")},fetch(enviraOnboardingWizard.ajaxUrl,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()}).then(function(e){return e.json()}).then(function(e){e.success?T.classList.add("envira-success"):T.classList.add("envira-error"),T.innerHTML=e.data.message,n()}).catch(function(e){T.classList.add("envira-error"),T.innerHTML="Error verifying the license key.",console.log("Error:",e),n()}))});e=function(){document.body.style.visibility="visible"},"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)})();