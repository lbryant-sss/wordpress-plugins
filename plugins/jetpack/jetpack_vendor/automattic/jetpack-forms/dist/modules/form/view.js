import*as e from"@wordpress/interactivity";var t={990:(e,t,r)=>{r.d(t,{j:()=>i});const i=(e,t,r,i=null)=>{if(""===t&&r)return"is_required";if(!r&&""===t)return"yes";if("checkbox-multiple"===e)return 0!==t.length?"yes":"is_required";if("date"===e)return((e,t)=>{let r,i,o;if(!e)return!1;switch(t){case"mm/dd/yy":[i,o,r]=e.split("/").map(Number);break;case"dd/mm/yy":[o,i,r]=e.split("/").map(Number);break;case"yy-mm-dd":[r,i,o]=e.split("-").map(Number);break;default:return!1}if(isNaN(r)||isNaN(i)||isNaN(o))return!1;const s=new Date(r,i-1,o);return s.getFullYear()===r&&s.getMonth()===i-1&&s.getDate()===o})(t,i)?"yes":"invalid_date";if("number"===e)return function(e,t){if(!/^-?\d+(\.\d+)?$/.test(e))return"invalid_number";const r=parseFloat(e);return t&&void 0!==t.min&&r<parseFloat(t.min)?"invalid_min_number":t&&void 0!==t.max&&r>parseFloat(t.max)?"invalid_max_number":"yes"}(t,i);if("file"===e)return t.some((e=>e.error))?"invalid_file_has_errors":t.some((e=>!e.isUploaded))?"invalid_file_uploading":"yes";let o=null;switch(e){case"url":o=/(?:(?:[Hh][Tt][Tt][Pp][Ss]?|[Ff][Tt][Pp]):\/\/)?(?:\S+(?::\S*)?@|\d{1,3}(?:\.\d{1,3}){3}|(?:[a-zA-Z\d\u00a1-\uffff](?:[a-zA-Z\d\u00a1-\uffff-]*[a-zA-Z\d\u00a1-\uffff])?)(?:\.[a-zA-Z\d\u00a1-\uffff](?:[a-zA-Z\d\u00a1-\uffff-]*[a-zA-Z\d\u00a1-\uffff])?)*(?:\.[a-zA-Z\u00a1-\uffff]{2,6}))(?::\d+)?(?:[^\s]*)?/;break;case"email":o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;break;case"telephone":o=/^\+?[0-9\s\-()]+$/;break;case"number":o=/^[0-9]+$/}return o&&!o.test(t)?"invalid_"+e:"yes"}},841:(e,t,r)=>{r.d(t,{K:()=>o,r:()=>s});const i=e=>document.getElementById("jp-form-"+e),o=e=>{const t=i(e);if(!t)return;const r=t.querySelector(".is-current-step").querySelectorAll("input, select, textarea, .jetpack-form-file-field__dropzone-inner, [tabindex]:not([disabled])");r[0]?.focus()},s=e=>{const t=i(e);t&&t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},833:(t,r,i)=>{t.exports=(e=>{var t={};return i.d(t,e),t})({getConfig:()=>e.getConfig,getContext:()=>e.getContext,store:()=>e.store,withSyncEvent:()=>e.withSyncEvent})}},r={};function i(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=i(833),s=i(990),n=i(841);const l=o.withSyncEvent||(e=>(...t)=>e(...t)),a="jetpack/form",u=(0,o.getConfig)(a),d=(e,t,r=!1)=>{const i=(0,o.getContext)();let n=i.fields[e];if(!n){const{fieldType:t,fieldLabel:r,fieldValue:o,fieldIsRequired:s,fieldExtra:l}=i;f(e,t,r,o,s,l),n=i.fields[e]}if(n){const{type:e,isRequired:i,extra:o}=n;n.value=t,n.error=(0,s.j)(e,t,i,o),n.showFieldError=r}},f=(e,t,r="",i="",n=!1,l=null)=>{const a=(0,o.getContext)();a.fields[e]||(a.fields[e]={id:e,type:t,label:r,value:i,isRequired:n,extra:l,error:(0,s.j)(t,i,n,l),step:a?.step?a.step:1})},c=e=>{if("number"===e.type){if("invalid_min_number"===e.error)return u.error_types.invalid_min_number.replace("%d",e.extra.min);if("invalid_max_number"===e.error)return u.error_types.invalid_max_number.replace("%d",e.extra.max)}return u.error_types&&u.error_types[e.error]},{state:p}=(0,o.store)(a,{state:{get fieldHasErrors(){const e=(0,o.getContext)(),t=e.fieldId,r=e.fields[t]||{};return!(!e.showErrors&&r.error&&"is_required"===r.error)&&((e.showErrors||r.showFieldError)&&r.error&&"yes"!==r.error)},get isFormEmpty(){const e=(0,o.getContext)();return!(e?.maxSteps&&e.maxSteps>0)&&!Object.values(e.fields).some((e=>""!==e.value))},get isFieldEmpty(){const e=(0,o.getContext)(),t=e.fieldId,r=e.fields[t]||{};return!!(""===r.value||Array.isArray(r.value)&&0===r.value.length)},get hasFieldValue(){return!p.isFieldEmpty},get isSubmitting(){return(0,o.getContext)().isSubmitting},get isAriaDisabled(){return p.isSubmitting},get errorMessage(){const e=(0,o.getContext)(),t=e.fieldId,r=e.fields[t]||{};return(e.showErrors||r.showFieldError)&&r.error?c(r):""},get isFormValid(){if(p.isFormEmpty)return!1;const e=(0,o.getContext)();return e.isMultiStep?!Object.values(e.fields).some((t=>"yes"!==t.error&&t.step===e.currentStep)):!Object.values(e.fields).some((e=>"yes"!==e.error))},get showFromErrors(){const e=(0,o.getContext)();return!p.isFormValid&&e.showErrors},get getFormErrorMessage(){if(p.isFormEmpty){if((0,o.getContext)().isMultiStep)return u.error_types.invalid_form_empty}return u.error_types.invalid_form},get getErrorList(){const e=[];if(p.isFormEmpty)return e;const t=(0,o.getContext)();return t.showErrors&&Object.values(t.fields).forEach((r=>{t.isMultiStep&&r.step!==t.currentStep||r.error&&"yes"!==r.error&&e.push({anchor:"#"+r.id,label:r.label+" : "+c(r),id:r.id})})),e},get getFieldValue(){const e=(0,o.getContext)(),t=e.fieldId;return e.fields[t].value}},actions:{updateFieldValue:(e,t)=>{d(e,t)},handleNumberKeyPress:l((e=>{/^[0-9.]*$/.test(e.key)||e.preventDefault(),"."===e.key&&e.target.value.includes(".")&&e.preventDefault()})),onFieldChange:e=>{let t=e.target.value;const r=(0,o.getContext)(),i=r.fieldId;"checkbox"===r.fieldType&&(t=e.target.checked?"1":""),d(i,t)},onMultipleFieldChange:e=>{const t=(0,o.getContext)(),r=t.fieldId,i=t.fields[r],s=e.target.value;let n=[...i.value||[]];e.target.checked?n.push(s):n=n.filter((e=>e!==s)),d(r,n)},onFieldBlur:e=>{const t=(0,o.getContext)();d(t.fieldId,e.target.value,!0)},onFormSubmit:l((e=>{const t=(0,o.getContext)();if(!p.isFormValid)return t.showErrors=!0,e.preventDefault(),void e.stopPropagation();if(t.isMultiStep&&t.currentStep<t.maxSteps){t.currentStep+=1,t.showErrors=!1,e.preventDefault(),e.stopPropagation();const r=t.formHash;setTimeout((()=>{(0,n.K)(r)}),100)}else t.isSubmitting=!0})),onKeyDownTextarea:l((e=>{if("Enter"!==e.key||!e.shiftKey)return;e.preventDefault(),e.stopPropagation();const t=(0,o.getContext)();(0,n.r)(t.formHash)})),scrollIntoView:l((e=>{const t=(0,o.getContext)(),r=document.querySelector(t.item.anchor);if(r)return r.focus({preventScroll:!0}),r.scrollIntoView({behavior:"smooth"}),void e.preventDefault();const i=t.item.anchor.substring(1),s=document.querySelector('[name="'+i+'"]');if(s)return s.focus({preventScroll:!0}),s.scrollIntoView({behavior:"smooth"}),void e.preventDefault();const n=document.getElementById(i+"-label");n&&(n.querySelector("input").focus({preventScroll:!0}),n.scrollIntoView({behavior:"smooth"}),e.preventDefault())}))},callbacks:{initializeField(){const e=(0,o.getContext)(),{fieldId:t,fieldType:r,fieldLabel:i,fieldValue:s,fieldIsRequired:n,fieldExtra:l}=e;f(t,r,i,s,n,l)}}});