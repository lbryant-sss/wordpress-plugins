import*as e from"@wordpress/interactivity";var t={990:(e,t,r)=>{r.d(t,{j:()=>o});const o=(e,t,r,o=null)=>{if(""===t&&r)return"is_required";if(!r&&""===t)return"yes";if("checkbox-multiple"===e)return 0!==t.length?"yes":"is_required";if("date"===e)return((e,t)=>{let r,o,s;if(!e)return!1;switch(t){case"mm/dd/yy":[o,s,r]=e.split("/").map(Number);break;case"dd/mm/yy":[s,o,r]=e.split("/").map(Number);break;case"yy-mm-dd":[r,o,s]=e.split("-").map(Number);break;default:return!1}if(isNaN(r)||isNaN(o)||isNaN(s))return!1;const n=new Date(r,o-1,s);return n.getFullYear()===r&&n.getMonth()===o-1&&n.getDate()===s})(t,o)?"yes":"invalid_date";if("number"===e)return function(e,t){if(!/^-?\d+(\.\d+)?$/.test(e))return"invalid_number";const r=parseFloat(e);return t&&void 0!==t.min&&r<parseFloat(t.min)?"invalid_min_number":t&&void 0!==t.max&&r>parseFloat(t.max)?"invalid_max_number":"yes"}(t,o);if("file"===e)return t.some((e=>e.error))?"invalid_file_has_errors":t.some((e=>!e.isUploaded))?"invalid_file_uploading":"yes";let s=null;switch(e){case"url":s=/(?:(?:[Hh][Tt][Tt][Pp][Ss]?|[Ff][Tt][Pp]):\/\/)?(?:\S+(?::\S*)?@|\d{1,3}(?:\.\d{1,3}){3}|(?:[a-zA-Z\d\u00a1-\uffff](?:[a-zA-Z\d\u00a1-\uffff-]*[a-zA-Z\d\u00a1-\uffff])?)(?:\.[a-zA-Z\d\u00a1-\uffff](?:[a-zA-Z\d\u00a1-\uffff-]*[a-zA-Z\d\u00a1-\uffff])?)*(?:\.[a-zA-Z\u00a1-\uffff]{2,6}))(?::\d+)?(?:[^\s]*)?/;break;case"email":s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;break;case"telephone":s=/^\+?[0-9\s\-()]+$/;break;case"number":s=/^[0-9]+$/}return s&&!s.test(t)?"invalid_"+e:"yes"}},841:(e,t,r)=>{r.d(t,{Kz:()=>n,No:()=>i,rM:()=>a});const o=(0,r(833).getConfig)("jetpack/form"),s=e=>document.getElementById("jp-form-"+e),n=e=>{const t=s(e);if(!t)return;const r=t.querySelector(".is-current-step").querySelectorAll("input, select, textarea, .jetpack-form-file-field__dropzone-inner, [tabindex]:not([disabled])");r[0]?.focus()},i=e=>{const t=s(e);t&&t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},a=async e=>{const t=s(e);if(!t)return{success:!1,error:"Form not found"};try{const e=new FormData(t),r=`${o?.admin_ajax_url||"/wp-admin/admin-ajax.php"}?action=grunion-contact-form`,s=await fetch(r,{method:"POST",body:e,headers:{Accept:"application/json"}});if(!s.ok)return{success:!1,error:s.status};return await s.json()}catch(e){return{success:!1,error:e.message}}}},833:(t,r,o)=>{t.exports=(e=>{var t={};return o.d(t,e),t})({getConfig:()=>e.getConfig,getContext:()=>e.getContext,store:()=>e.store,withSyncEvent:()=>e.withSyncEvent})}},r={};function o(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s=o(833),n=o(990),i=o(841);const a=s.withSyncEvent||(e=>(...t)=>e(...t)),l="jetpack/form",u=(0,s.getConfig)(l),c=(e,t,r=!1)=>{const o=(0,s.getContext)();let i=o.fields[e];if(!i){const{fieldType:t,fieldLabel:r,fieldValue:s,fieldIsRequired:n,fieldExtra:a}=o;f(e,t,r,s,n,a),i=o.fields[e]}if(i){const{type:e,isRequired:o,extra:s}=i;i.value=t,i.error=(0,n.j)(e,t,o,s),i.showFieldError=r}},d=(e=[])=>{const t=(0,s.getContext)();t.submissionData=e,t.formattedSubmissionData=e.map((e=>({label:p(e.label),value:g(e.value)})))},f=(e,t,r="",o="",i=!1,a=null)=>{const l=(0,s.getContext)();l.fields[e]||(l.fields[e]={id:e,type:t,label:r,value:o,isRequired:i,extra:a,error:(0,n.j)(t,o,i,a),step:l?.step?l.step:1})},m=e=>{if("number"===e.type){if("invalid_min_number"===e.error)return u.error_types.invalid_min_number.replace("%d",e.extra.min);if("invalid_max_number"===e.error)return u.error_types.invalid_max_number.replace("%d",e.extra.max)}return u.error_types&&u.error_types[e.error]},p=e=>{const t=e||null;return t?t.endsWith("?")?t:t.replace(/:$/,"")+":":null},g=e=>e?.name&&e?.size?e.name+" ("+e.size+")":e,{state:h}=(0,s.store)(l,{state:{get fieldHasErrors(){const e=(0,s.getContext)(),t=e.fieldId,r=e.fields[t]||{};return!(!e.showErrors&&r.error&&"is_required"===r.error)&&((e.showErrors||r.showFieldError)&&r.error&&"yes"!==r.error)},get isFormEmpty(){const e=(0,s.getContext)();return!(e?.maxSteps&&e.maxSteps>0)&&!Object.values(e.fields).some((e=>""!==e.value))},get isFieldEmpty(){const e=(0,s.getContext)(),t=e.fieldId,r=e.fields[t]||{};return!!(""===r.value||Array.isArray(r.value)&&0===r.value.length)},get hasFieldValue(){return!h.isFieldEmpty},get isSubmitting(){return(0,s.getContext)().isSubmitting},get isAriaDisabled(){return h.isSubmitting},get errorMessage(){const e=(0,s.getContext)(),t=e.fieldId,r=e.fields[t]||{};return(e.showErrors||r.showFieldError)&&r.error?m(r):""},get isFormValid(){if(h.isFormEmpty)return!1;const e=(0,s.getContext)();return e.isMultiStep?!Object.values(e.fields).some((t=>"yes"!==t.error&&t.step===e.currentStep)):!Object.values(e.fields).some((e=>"yes"!==e.error))},get showFromErrors(){const e=(0,s.getContext)();return!h.isFormValid&&e.showErrors},get getFormErrorMessage(){if(h.isFormEmpty){if((0,s.getContext)().isMultiStep)return u.error_types.invalid_form_empty}return u.error_types.invalid_form},get getErrorList(){const e=[];if(h.isFormEmpty)return e;const t=(0,s.getContext)();return t.showErrors&&Object.values(t.fields).forEach((r=>{t.isMultiStep&&r.step!==t.currentStep||r.error&&"yes"!==r.error&&e.push({anchor:"#"+r.id,label:r.label+" : "+m(r),id:r.id})})),e},get getFieldValue(){const e=(0,s.getContext)(),t=e.fieldId,r=e.fields[t];return r?.value||""},get getSubmissionError(){return(0,s.getContext)().submissionError||""}},actions:{updateFieldValue:(e,t)=>{c(e,t)},handleNumberKeyPress:a((e=>{/^[0-9.]*$/.test(e.key)||e.preventDefault(),"."===e.key&&e.target.value.includes(".")&&e.preventDefault()})),onFieldChange:e=>{let t=e.target.value;const r=(0,s.getContext)(),o=r.fieldId;"checkbox"===r.fieldType&&(t=e.target.checked?"1":""),c(o,t)},onMultipleFieldChange:e=>{const t=(0,s.getContext)(),r=t.fieldId,o=t.fields[r],n=e.target.value;let i=[...o.value||[]];e.target.checked?i.push(n):i=i.filter((e=>e!==n)),c(r,i)},onFieldBlur:e=>{const t=(0,s.getContext)();c(t.fieldId,e.target.value,!0)},onFormReset:()=>{const e=(0,s.getContext)();e.fields=[];const t=document.getElementById(e.elementId);if(t){t.querySelectorAll("[data-wp-on--jetpack-form-reset]").forEach((e=>{e.dispatchEvent(new CustomEvent("jetpack-form-reset",{bubbles:!1}))}))}e.isMultiStep&&(e.currentStep=1)},onFormSubmit:a((function*(e){const t=(0,s.getContext)();if(!h.isFormValid)return t.showErrors=!0,e.preventDefault(),void e.stopPropagation();if(t.isMultiStep&&t.currentStep<t.maxSteps){t.currentStep+=1,t.showErrors=!1,e.preventDefault(),e.stopPropagation();const r=t.formHash;setTimeout((()=>{(0,i.Kz)(r)}),100)}else if(t.isSubmitting=!0,t.isResponseWithoutReloadEnabled){e.preventDefault(),e.stopPropagation();const{success:r,error:o,data:s,refreshArgs:n}=yield(0,i.rM)(t.formHash);if(r){if(d(s),t.submissionError=null,t.submissionSuccess=!0,n){const e=new URL(window.location.href);e.searchParams.set("contact-form-id",n["contact-form-id"]),e.searchParams.set("contact-form-sent",n["contact-form-sent"]),e.searchParams.set("contact-form-hash",n["contact-form-hash"]),e.searchParams.set("_wpnonce",n._wpnonce),window.history.replaceState(null,"",e.toString())}}else t.submissionError=o,d([]);t.isSubmitting=!1}})),onKeyDownTextarea:a((e=>{if("Enter"!==e.key||!e.shiftKey)return;e.preventDefault(),e.stopPropagation();const t=(0,s.getContext)();(0,i.No)(t.formHash)})),scrollIntoView:a((e=>{const t=(0,s.getContext)(),r=document.querySelector(t.item.anchor);if(r)return r.focus({preventScroll:!0}),r.scrollIntoView({behavior:"smooth"}),void e.preventDefault();const o=t.item.anchor.substring(1),n=document.querySelector('[name="'+o+'"]');if(n)return n.focus({preventScroll:!0}),n.scrollIntoView({behavior:"smooth"}),void e.preventDefault();const i=document.getElementById(o+"-label");i&&(i.querySelector("input").focus({preventScroll:!0}),i.scrollIntoView({behavior:"smooth"}),e.preventDefault())})),goBack:()=>{const e=(0,s.getContext)(),t=document.getElementById(e.elementId);t?.reset?.(),d([]),e.submissionError=null,e.hasClickedBack=!0,e.submissionSuccess=!1;const r=new URL(window.location.href);r.searchParams.delete("contact-form-id"),r.searchParams.delete("contact-form-sent"),r.searchParams.delete("contact-form-hash"),r.searchParams.delete("_wpnonce"),window.history.replaceState(null,"",r.toString())}},callbacks:{initializeField(){const e=(0,s.getContext)(),{fieldId:t,fieldType:r,fieldLabel:o,fieldValue:n,fieldIsRequired:i,fieldExtra:a}=e;f(t,r,o,n,i,a)},scrollToWrapper(){const e=(0,s.getContext)();if(e.submissionSuccess||e.hasClickedBack){const t=document.getElementById(`contact-form-${e.formId}`);t?.scrollIntoView({behavior:"smooth"}),e.hasClickedBack=!1}}}});