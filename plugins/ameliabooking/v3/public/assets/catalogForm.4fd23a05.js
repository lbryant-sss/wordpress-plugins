import{A as da,r as P,o as ma,a as ze,t as pa,c as y,E as _a,b as t,d as ge,w as R,e as i,f as o,g as tt,u as e,i as re,h as Ht,_ as kt,j as at,k as a,l as ue,m as Re,n as r,p as J,q as Rt,s as F,v as ae,F as K,x as ye,y as V,z as ce,B as Ie,C as qt,D as it,G as Xe,I as fa,H as _t,J as se,K as ot,L as Ct,M as Pe,N as va,O as ga,P as ya,R as ha,Q as ba,S as ka,T as Ca,U as $a,V as Sa,W as wa,X as xa,Y as Pa,Z as Ia,$ as Ea,a0 as He,a1 as Tt,a2 as Da,a3 as Pt,a4 as Ot,a5 as pt,a6 as Gt,a7 as La,a8 as Ta,a9 as Yt,aa as Ne,ab as qe,ac as Ba,ad as Fa,ae as za,af as Mt,ag as Aa,ah as Qt,ai as Ra,aj as Oa,ak as Xt,al as Ma,am as Va,an as Bt,ao as $t,ap as Ft,aq as Vt,ar as ft,as as St,at as Oe,au as wt,av as xt,aw as Na,ax as Ua,ay as Wa,az as ja,aA as Ha,aB as qa}from"./stepForm.1410cce9.js";const Ga={key:0,class:"am-dialog__title"},Ja={inheritAttrs:!1},rt=Object.assign(Ja,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:da},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(v,{emit:L}){const d=v,w=P(null);ma(()=>{k()}),ze(()=>{d.usedForShortcode&&(w.value.rendered=!0),k()});function k(){d.customStyles&&Object.keys(d.customStyles).forEach(s=>{w.value.style[s]=d.customStyles[s]})}let{modelValue:T}=pa(d),m=y({get:()=>T.value,set:s=>{L("update:modelValue",s)}});return(s,u)=>{const g=_a;return t(),ge(g,{ref_key:"amDialogRef",ref:w,modelValue:e(m),"onUpdate:modelValue":u[0]||(u[0]=x=>re(m)?m.value=x:m=x),"modal-class":`am-dialog-popup ${d.modalClass}`,title:d.title,width:d.width,fullscreen:d.fullscreen,top:d.top,modal:d.modal,"append-to-body":d.appendToBody,"lock-scroll":d.lockScroll,"custom-class":d.customClass,"open-delay":d.openDelay,"close-delay":d.closeDelay,"close-on-click-modal":d.closeOnClickModal,"close-on-press-escape":d.closeOnPressEscape,"show-close":d.showClose,"before-close":d.beforeClose,center:d.center,"destroy-on-close":d.destroyOnClose,"close-icon":d.closeIcon,onClose:u[1]||(u[1]=x=>L("close")),onOpen:u[2]||(u[2]=x=>L("open")),onClosed:u[3]||(u[3]=x=>L("closed")),onOpened:u[4]||(u[4]=x=>L("opened"))},{title:R(()=>[v.title?(t(),i("span",Ga,o(v.title),1)):tt(s.$slots,"title",{key:1})]),footer:R(()=>[tt(s.$slots,"footer")]),default:R(()=>[tt(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}});const Ya={class:"am-cat__header-inner"},Qa={class:"am-cat__back-btn"},Xa={key:0,class:"am-cat__cart-btn"},Za={class:"am-cat__cart-number"},Ka={name:"MainHeader"},Nt=Object.assign(Ka,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(v,{emit:L}){const d=v;let w=Ht({components:{IconComponent:kt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),k=Ht({components:{IconComponent:kt},template:'<IconComponent icon="cart"/>'});function T(){L("goBack")}const m=at();function s(){Rt(m),L("goToCart")}return(u,g)=>(t(),i("div",Ya,[a("div",Qa,[e(d).backBtnVisibility?(t(),ge(Re,{key:0,prefix:e(w),category:"secondary",type:v.btnType,size:v.btnSize,onClick:T},{default:R(()=>[ue(o(e(d).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(d).cartBtnVisibility?(t(),i("div",Xa,[a("span",Za,o(e(d).cartItemsNumber),1),J(Re,{category:"secondary",type:v.btnType,size:v.btnSize,round:!0,"icon-only":!0,icon:e(k),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const ei={class:"am-cat__sidemenu-item__wrapper"},ti=["onClick"],ai={key:0,class:"am-cat__sidemenu-footer"},ii={class:"am-cat__sidemenu-footer__text"},si=["href"],li={name:"SideMenu"},oi=Object.assign(li,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(v,{emit:L}){const d=v;function w(m){L("click",m)}let k=F("amColors"),T=y(()=>({"--am-c-csm-text-op10":ae(k.value.colorSbText,.1),"--am-c-csm-primary-op10":ae(k.value.colorPrimary,.1),"--am-c-csm-text-op60":ae(k.value.colorSbText,.6),"--am-c-csm-text-op80":ae(k.value.colorSbText,.8)}));return(m,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:ce(e(T))},[a("div",ei,[(t(!0),i(K,null,ye(v.menuItems,(u,g)=>(t(),i("div",{key:g,class:V(["am-cat__sidemenu-item",{"am-active":e(d).initSelection===u[e(d).identifier]}]),onClick:()=>w(u)},o(u[e(d).nameIdentifier]),11,ti))),128))]),e(d).companyEmail?(t(),i("div",ai,[a("span",ii,o(e(d).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(d).companyEmail}`},o(e(d).companyEmail),9,si)])):r("",!0)],4))}});const ni={name:"MainContent"},Ut=Object.assign(ni,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(v,{expose:L}){let d=P(null),w=P(0),k=P(null),T=P(0),m=P(null),s=P(0),u=P(null),g=P(null),x=P(0);window.addEventListener("resize",C);function C(){Ie(()=>{d.value&&(w.value=d.value.offsetWidth),k.value&&(T.value=k.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}ze(()=>{Ie(()=>{if(m.value&&u.value){let U=m.value.offsetHeight-u.value.offsetHeight-2;x.value=U<=656?656:U}C()})}),L({catHeaderWidth:w,catFormWidth:s,catContainerWidth:T});let I=F("amColors"),f=y(()=>({"--am-h-cat-content":`${x.value}px`,"--am-c-scroll-op30":ae(I.value.colorPrimary,.3),"--am-c-scroll-op10":ae(I.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:V(["am-cat__wrapper",v.wrapperClass])},[a("div",{ref_key:"catHeader",ref:d,class:"am-cat__header"},[tt(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:k,class:"am-cat__main"},[tt(U.$slots,"side"),a("div",{ref_key:"catForm",ref:m,class:V(["am-cat__form",v.formClass]),style:ce(e(f))},[a("div",{ref_key:"catHeading",ref:u,class:V(["am-cat__heading",v.headingClass])},[tt(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:g,class:V(["am-cat__content",v.contentClass])},[tt(U.$slots,"content")],2)],6)],512)],2))}}),ci={name:"AmImagePlaceholder"},nt=Object.assign(ci,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(v){const L=v;function d(k){return k.pictureFullPath?{backgroundImage:`url(${k.pictureFullPath})`}:{backgroundColor:`${qt.value[Math.floor(Math.random()*qt.value.length)]}`}}function w(k){return k.pictureFullPath?"":("firstName"in k?`${k.firstName} ${k.lastName}`:k.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,L.trimString).replace(/[^\w\s]/g,"")}return(k,T)=>(t(),i("span",{class:V(e(L).itemClass),style:ce({...d(e(L).itemData)})},o(w(e(L).itemData)),7))}}),zt=it(window.wpAmeliaSettings),Jt=it(window.wpAmeliaLabels);function Zt(v,L,d,w=null,k=null){let T=[],m=v&&v.service?v.service.split(",").map(s=>parseInt(s)):null;return L&&L.serviceList.forEach(s=>{w?w in d.entitiesRelations&&s.id in d.entitiesRelations[w]&&(k?d.entitiesRelations[w][s.id].find(u=>u===k):!0)&&s.status==="visible"&&s.show&&!T.filter(u=>u===s.id).length&&(!m||m.includes(s.id))&&T.push(s.id):d.employees.forEach(u=>{u.id in d.entitiesRelations&&s.id in d.entitiesRelations[u.id]&&(k?d.entitiesRelations[u.id][s.id].find(g=>g===k):!0)&&s.status==="visible"&&s.show&&!T.filter(g=>g===s.id).length&&(!m||m.includes(s.id))&&T.push(s.id)})}),T}function Kt(v,L){let d=[],w=[];v.employees.forEach(m=>{if(m.id in v.entitiesRelations&&L in v.entitiesRelations[m.id]){let s=m.serviceList.find(u=>u.id===L);d.push(s.maxCapacity),w.push(s.minCapacity)}});let k=w.reduce((m,s)=>s<m?s:m,w[0]),T=d.reduce((m,s)=>s>m?s:m,d[0]);return k!==T?`${k}/${T}`:k}function ea(v){let L=Math.floor(v/3600),d=v/60%60;return(L?L+Jt.h+" ":"")+" "+(d?d+Jt.min:"")}function ct(v,L){let d=[];v.employees.forEach(T=>{if(T.id in v.entitiesRelations&&L in v.entitiesRelations[T.id]){let m=T.serviceList.find(s=>s.id===L);d.push(m.price)}});let w=d.reduce((T,m)=>m<T?m:T,d[0]),k=d.reduce((T,m)=>m>T?m:T,d[0]);return w!==k?{price:`${Xe(w,!zt.payments.hideCurrencySymbolFrontend)} - ${Xe(k,!zt.payments.hideCurrencySymbolFrontend)}`,min:w,max:k}:{price:Xe(w,zt.payments.hideCurrencySymbolFrontend),min:w,max:k}}function et(v,L){let d=[];return v.employees.forEach(w=>{w.id in v.entitiesRelations&&L in v.entitiesRelations[w.id]&&v.entitiesRelations[w.id][L].length&&v.locations.forEach(k=>{v.entitiesRelations[w.id][L].some(T=>T===k.id)&&!d.find(T=>T===k.id)&&d.push(k)})}),d}function ri(v,L){let d=[],w=Object.keys(v.entitiesRelations);return L.bookable.forEach(k=>{let T=[];w.forEach(m=>{v.entitiesRelations[m]&&v.entitiesRelations[m][k.service.id]&&!T.find(s=>s?s.id===parseInt(m):!0)&&T.push(v.employees.find(s=>s.id===parseInt(m)))}),T.length||d.push(!1)}),d.filter(k=>k===!1).length}function ui(v,L,d){let w=[],k=Object.keys(v.entitiesRelations),T=d&&d.employee?d.employee.split(",").map(s=>parseInt(s)):null,m=P(T?v.unfilteredEmployees.filter(s=>T.map(u=>parseInt(u)).includes(s.id)):v.unfilteredEmployees);return L.bookable.forEach(s=>{let u=[];s.providers.length?s.providers.forEach(g=>{s.locations.length?s.locations.forEach(x=>{m.value.find(C=>C.id===g.id)&&v.entitiesRelations[g.id]&&v.entitiesRelations[g.id][s.service.id]&&v.entitiesRelations[g.id][s.service.id].indexOf(x.id)!==-1&&!u.find(C=>C.id===g.id)&&u.push(m.value.find(C=>C.id===g.id))}):m.value.find(x=>x.id===g.id)&&!u.find(x=>x.id===g.id)&&u.push(m.value.find(x=>x.id===g.id))}):k.forEach(g=>{s.locations.length?s.locations.forEach(x=>{v.entitiesRelations[g]&&v.entitiesRelations[g][s.service.id]&&v.entitiesRelations[g][s.service.id].indexOf(x.id)!==-1&&m.value.find(C=>C.id===parseInt(g))&&!u.find(C=>C.id===parseInt(g))&&u.push(m.value.find(C=>C.id===parseInt(g)))}):v.entitiesRelations[g]&&v.entitiesRelations[g][s.service.id]&&m.value.find(x=>x.id===parseInt(g))&&!u.find(x=>x.id===parseInt(g))&&u.push(m.value.find(x=>x.id===parseInt(g)))}),w.push(!!u.length)}),!w.filter(s=>s===!1).length}function ta(v,L,d){let w=[],k=Object.keys(v.entitiesRelations),T=d&&d.employee?d.employee.split(",").map(s=>parseInt(s)):null,m=P(T?v.unfilteredEmployees.filter(s=>T.map(u=>parseInt(u)).includes(s.id)):v.unfilteredEmployees);return L.bookable.forEach(s=>{s.providers.length?s.providers.forEach(u=>{s.locations.length?s.locations.forEach(g=>{m.value.find(x=>x.id===u.id)&&v.entitiesRelations[u.id]&&v.entitiesRelations[u.id][s.service.id]&&v.entitiesRelations[u.id][s.service.id].indexOf(g.id)!==-1&&!w.find(x=>x.id===u.id)&&w.push(m.value.find(x=>x.id===u.id))}):m.value.find(g=>g.id===u.id)&&!w.find(g=>g.id===u.id)&&w.push(m.value.find(g=>g.id===u.id))}):k.forEach(u=>{s.locations.length?s.locations.forEach(g=>{v.entitiesRelations[u]&&v.entitiesRelations[u][s.service.id]&&v.entitiesRelations[u][s.service.id].indexOf(g.id)!==-1&&m.value.find(x=>x.id===parseInt(u))&&!w.find(x=>x.id===parseInt(u))&&w.push(m.value.find(x=>x.id===parseInt(u)))}):v.entitiesRelations[u]&&v.entitiesRelations[u][s.service.id]&&m.value.find(g=>g.id===parseInt(u))&&!w.find(g=>g.id===parseInt(u))&&w.push(m.value.find(g=>g.id===parseInt(u)))})}),w}function At(v,L,d){let w=[],k=Object.keys(v.entitiesRelations),T=d&&d.location?d.location.split(",").map(s=>parseInt(s)):null,m=P(T?v.unfilteredLocations.filter(s=>T.map(u=>parseInt(u)).includes(s.id)):v.unfilteredLocations);return L.bookable.forEach(s=>{s.locations.length?s.locations.forEach(u=>{m.value.find(g=>g.id===u.id)&&!w.find(g=>g.id===u.id)&&w.push(m.value.find(g=>g.id===u.id))}):k.forEach(u=>{m.value.forEach(g=>{u in v.entitiesRelations&&s.service.id in v.entitiesRelations[u]&&v.entitiesRelations[u][s.service.id].indexOf(g.id)!==-1&&m.value.find(x=>x.id===g.id)&&!w.find(x=>x.id===parseInt(g.id))&&w.push(m.value.find(x=>x.id===g.id))})})}),w}function bt(v,L,d=null,w=null){let k=[];return v.categories.forEach(T=>{let m=Zt(L,T,v,d,w);T.serviceIdList=m,T.packageList=[],v.packages.forEach(s=>{m.forEach(u=>{s.bookable.filter(g=>g.service.id===u).length&&!T.packageList.filter(g=>g===s.id).length&&s.available&&s.status==="visible"&&!ri(v,s)&&ui(v,s,L)&&T.packageList.push(s.id)})}),T.status==="visible"&&T.serviceList.length&&!!m.length&&(L.show==="packages"?!!T.packageList.length:!0)&&k.push(T)}),k}const di={class:"am-fcl__item-inner"},mi={class:"am-fcl__item-name"},pi={class:"am-fcl__item-segments"},_i={key:0,class:"am-fcl__item-segments__item"},fi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),vi={class:"am-fcl__item-segments__item-count"},gi={key:1,class:"am-fcl__item-segments__item"},yi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),hi={class:"am-fcl__item-segments__item-count"},bi={class:"am-fcl__item-footer"},ki=["src"],Ci={class:"am-empty__heading"},$i={class:"am-empty__subheading"},Si={class:"am-empty__text"},wi={key:0},xi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Pi={key:1},Ii={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ei={name:"CategoriesList",key:"categoriesList"},Di=Object.assign(Ei,{setup(v){const L=F("baseUrls");let d=P(null),w=P(0);window.addEventListener("resize",k);function k(){d.value&&(w.value=d.value.offsetWidth)}ze(()=>{d.value&&(w.value=d.value.offsetWidth)});let T=y(()=>w.value<=500?"am-w100":w.value<=600?"am-w50":w.value<=768?"am-w33":""),{nextPage:m}=F("changingPageFunctions",{nextPage:()=>{}});const s=F("settings");let u=at(),g=F("amEntities"),x=F("customizedDataForm"),C=y(()=>x.value.categoriesList.options);const I=F("shortcodeData"),f=y(()=>u.getters["entities/getPreselected"]);let U=F("availableCategories"),te=y(()=>U.value),D=F("categorySelected");function z(he){D.value=he,u.commit("booking/setCategoryId",parseInt(he)),_t(u,{},"SelectCategory","appointment",null,null),m()}let c=y(()=>te.value.length===0);const j=F("labels"),ne=F("localLanguage");let Q=y(()=>s.general.usedLanguages.includes(ne.value)),pe=y(()=>{let he=it({...j});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let oe=s.customizedData.cbf.categoriesList.translations;Object.keys(oe).forEach(_=>{oe[_][ne.value]&&Q.value?he[_]=oe[_][ne.value]:oe[_].default&&(he[_]=oe[_].default)})}return he}),ke=F("amColors"),N=y(()=>({"--am-c-fcl-card-text-op80":ae(ke.value.colorCardText,.8)}));return(he,oe)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:d,class:"am-empty"},[a("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,ki),a("div",Ci,o(e(pe).oops),1),a("div",$i,o(e(f).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",Si,[e(f).show!=="packages"?(t(),i("span",wi,o(e(pe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",xi,o(e(pe).add_services_url)+"\xA0 ",1),e(f).show!=="packages"?(t(),i("span",Pi,o(e(pe).and)+"\xA0 ",1)):r("",!0),e(f).show!=="packages"?(t(),i("a",Ii,o(e(pe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:d,class:"am-fcl",style:ce(e(N))},[(t(!0),i(K,null,ye(e(te),_=>(t(),i("div",{key:_.id,class:V(["am-fcl__item",e(T)])},[a("div",di,[a("div",{class:"am-fcl__item-content",style:ce(e(C).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:_.color}:{})},[a("div",{class:"am-fcl__item-heading",style:ce(e(C).cardColor&&e(C).cardColor.visibility?{backgroundColor:e(ae)(_.color,.1)}:{})},[_.pictureFullPath?(t(),i("div",{key:0,style:ce({backgroundImage:`url(${_.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",mi,o(_.name),1),a("div",pi,[(!e(f).show||e(f).show==="services")&&e(C).services.visibility?(t(),i("div",_i,[fi,a("span",vi,o(e(Zt)(e(I),_,e(g)).length),1)])):r("",!0),(!e(f).show||e(f).show==="packages")&&_.packageList.length&&e(C).packages.visibility?(t(),i("div",gi,[yi,a("span",hi,o(_.packageList.length),1)])):r("",!0)])],4),a("div",bi,[J(Re,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(C).cardButton.buttonType,suffix:e(fa),onClick:ve=>z(_.id)},{default:R(()=>[ue(o(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Li=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ti=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Bi=["href"],Fi={class:"am-fs-sb__step-wrapper"},zi={class:"am-fs-sb__step-inner"},Ai={class:"am-fs-sb__step-icon"},Ri={key:0,class:"am-icon-check"},Oi={key:0},Mi={key:1},Vi={key:1},Ni={key:0,class:"am-fs-sb__step"},Ui={class:"am-fs-sb__step-inner"},Wi={class:"am-fs-sb__step-icon"},ji={key:0,class:"am-icon-check"},Hi={key:0,class:"am-fs-sb__support"},qi=["href"],Gi={key:1,class:"am-icon-phone"},Ji=["href"],Yi={key:1,class:"am-icon-email"},Qi={key:0,class:"am-fs-sb__menu-text"},Xi={key:2,class:"am-no-services"},Zi=["src"],Ki={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},es={style:{"font-size":"14px"}},ts={href:"https://wpamelia.com/employees/",rel:"nofollow"},as={name:"CategoryBooking"},Wt=Object.assign(as,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(v,{emit:L}){const d=v;let w=P(null),k=P();se("containerWidth",k);let T=P(!1);window.addEventListener("resize",m);function m(){w.value&&(k.value=w.value.offsetWidth)}ze(()=>{Ie(()=>{w.value&&(k.value=w.value.offsetWidth)}),_t(c,{containerWidth:k},"ContainerWidth","appointment",null,null)});const s=F("settings"),u=s.customizedData?s.customizedData.sbsNew:ot.sbsNew;u&&se("amCustomize",u);let g=y(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in u.sidebar.options&&(n.heading=u.sidebar.options.supportHeading.visibility),"companyPhone"in u.sidebar.options&&(n.phone=u.sidebar.options.companyPhone.visibility),"companyEmail"in u.sidebar.options&&(n.email=u.sidebar.options.companyEmail.visibility),n});const x=P(s.customizedData?s.customizedData.fonts:ot.fonts);se("amFonts",x);let C=P(!1);se("sidebarCollapsed",C);let I=P(""),f=F("bookingDialogWidth");Ct(C,n=>{n?setTimeout(()=>{I.value="am-collapsed",setTimeout(()=>{f.value="592px"},200)},1e3):(I.value="",f.value="760px")}),ze(()=>{u.sidebar.options.self.visibility||(f.value="520px")});let U=P(null),te=P(0);ze(()=>{setTimeout(()=>{Ie(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let D=P(u.sidebar?u.sidebar.options.self.visibility:!0);const z=F("baseUrls"),c=at();let j=y(()=>{let n=c.getters["entities/getOriginalPreselected"],b={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(E=>{E in b||(b[E]=n[E])}),b});c.commit("entities/setPreselected",j.value);let ne=F("restoreFormData");const Q=Pe(va),pe=Pe(ga),ke=Pe(ya),N=Pe(ha),he=Pe(ba),oe=Pe(ka),_=Pe(Ca),ve=Pe($a),$e=Pe(Sa),_e=Pe(wa),fe=Pe(xa),ee=Pe(Pa),Te=Pe(Ia),Be=Pe(Ea),p=P(He(c)?[Q,oe,_e,fe,$e]:[Q,oe,fe,$e]);se("stepsArray",p);const Z=F("labels"),H=F("localLanguage");let O=y(()=>s.general.usedLanguages.includes(H.value)),Fe=Tt(c),de=y(()=>{let n=it({...Z});return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(b=>{if(b!=="colors"&&s.customizedData.sbsNew[b].translations){let E=s.customizedData.sbsNew[b].translations;Object.keys(E).forEach(X=>{E[X][H.value]&&O.value?n[X]=E[X][H.value]:E[X].default&&(n[X]=E[X].default)})}}),n});se("amLabels",de);let Ce=y(()=>{let n={};if(s.customizedData){let b=s.customizedData.sbsNew[p.value[S.value].key]?s.customizedData.sbsNew[p.value[S.value].key].translations:null;s.customizedData&&b&&Object.keys(b).forEach(E=>{b[E][H.value]&&O.value?n[E]=b[E][H.value]:b[E].default&&(n[E]=b[E].default)})}return Object.keys(n).length?n:Z}),Ae=y(()=>{let n="filled";return s.customizedData&&s.customizedData.sbsNew[p.value[S.value].key]&&(n=s.customizedData.sbsNew[p.value[S.value].key].options.primaryFooterButton.buttonType),n});se("primFooterBtnType",Ae),se("primDescBtnType",Ae);let Se=y(()=>{let n="text";return s.customizedData&&s.customizedData.sbsNew[p.value[S.value].key]&&s.customizedData.sbsNew[p.value[S.value].key].options.secondaryFooterButton&&(n=s.customizedData.sbsNew[p.value[S.value].key].options.secondaryFooterButton.buttonType),n}),Y=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),W=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function A(n,b){let E="";if(s.customizedData){let X=s.customizedData.sbsNew[b]?s.customizedData.sbsNew[b].translations:null;s.customizedData&&X&&X[n]&&(E===""&&X[n][H.value]&&O.value?E=X[n][H.value]:E===""&&X[n].default&&(E=X[n].default))}return E||Z[n]}let le=y(()=>Da(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Me(){let n=c.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(p.value.splice(0,1),G.value.splice(0,1),Le()),we();else{$();let b=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,E=!u.initStep.options.employee.visibility,X=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,De=!u.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||b||E)&&(n.location.length>0||X||De)&&(le.value.availability?(p.value.splice(0,1,Be),G.value.splice(0,1)):(p.value.splice(0,1),G.value.splice(0,1)),we())}}function Ee(n,b,E,X){n.value.map((Ue,Qe)=>b.includes(Ue.name)?Qe:null).filter(Ue=>Ue!==null).reverse().forEach(Ue=>{n.value.splice(Ue,1)});let je={value:X};E.forEach(Ue=>{n.value.indexOf(Ue)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?n.value.splice(je.value,0,Ue):n.value.splice(je.value+1,0,Ue))})}se("goToPackageStep",{goToPackageStep:Ze});function Ze(n){c.commit("booking/setPackageId",n.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",Pt(0,n)),c.commit("booking/setMultipleAppointmentsIndex",0);let b=n.bookable.reduce((De,je)=>De+je.maximumScheduled,0),E=[],X=[];p.value[0]!==pe&&E.push("ExtrasStep"),p.value[0]!==oe&&E.push("DateTimeStep"),p.value[0]!==_e&&E.push("CartStep"),b>0?X=X.concat([ve,_,ke]):X.push(ke),Ee(p,E,X,S.value),Ee(G,E,[],S.value),we(),lt()}function Le(){let b=c.state.entities.packages.find(De=>De.id===c.getters["booking/getPackageId"]).bookable.reduce((De,je)=>De+je.maximumScheduled,0),E=[],X=[];p.value.find(De=>De.name==="ExtrasStep")&&E.push("ExtrasStep"),p.value.find(De=>De.name==="DateTimeStep")&&E.push("DateTimeStep"),b>0?X=X.concat([ve,_,ke]):X.push(ke),Ee(p,E,X,S.value),Ee(G,E,[],S.value),we(),lt()}function st(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),pt(c);let n=[];p.value[0]!==oe&&(He(c)&&n.push(_e),n.push(oe)),p.value[0]!==pe&&B.value&&B.value.length&&n.push(pe),Ee(p,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,S.value-1),Ee(G,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],S.value),we()}se("goToRecurringStep",{goToRecurringStep:ut}),se("removeRecurringStep",{removeRecurringStep:q});function ut(){He(c)&&ia();let n=0;for(let b=0;b<p.value.length;b++)if(p.value[b].name==="DateTimeStep"){n=b;break}p.value.splice(n+1,0,N),p.value.splice(n+2,0,he),we(),lt()}function q(){for(let n=p.value.length-1;n>=0;n--)(p.value[n].name==="RecurringStep"||p.value[n].name==="RecurringSummary")&&p.value.splice(n+1,1);He(c)&&aa(S.value),we()}let B=y(()=>{let n=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return n?n.extras:[]});function $(){B.value.length&&!p.value.find(n=>n.name==="ExtrasStep")&&(p.value.splice(S.value+1,0,pe),we()),G.value.find(n=>n.name==="ExtrasStep")&&!Object.keys(B.value).length&&(p.value.splice(1,1),G.value.splice(1,1)),d.showCart||pt(c)}se("initDataChanges",{changeInitStepDataService:$});const S=P(0);se("stepIndex",S);let dt=F("stepName",P(""));Ct(S,(n,b)=>{n<G.value.length&&(G.value[b].selected=!1,G.value[n].selected=!0),n===G.value.length&&(G.value[b].selected=!1),dt.value=p.value[n].name});let Ge=P(!1);se("goBackToPackageBooking",Ge);function vt(){h(!1),ie.value||(p.value[S.value].name===ke.name&&st(),p.value[S.value].name===N.name&&(p.value.splice(S.value,2),G.value.splice(S.value,2),He(c)&&(p.value.splice(S.value,0,_e),Ee(G,[],[],S.value),we())),p.value[S.value].name===ve.name&&(Ge.value=!0),S.value=S.value-1),Ke.value=!Ke.value}function lt(){ie.value||(G.value[S.value].finished=!0,S.value=S.value+1)}let gt=y(()=>c.getters["entities/getReady"]),yt=y(()=>c.getters["booking/getLoading"]),Je=y(()=>c.getters["booking/getBooked"]),It=y(()=>c.getters["booking/getPaymentGateway"]),mt=P(!1),ht=P(!1),Ke=P(!1);function xe(){mt.value=!0}function Et(){mt.value=!1}function Dt(){Ke.value=!0}function M(){Ke.value=!1}function h(n){ht.value=n}function l(){Je.value&&(Je.value.customerCabinetUrl?window.location.href=Je.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:l});let ie=P(!1);se("changingStepsFunctions",{nextStep:lt,previousStep:vt,footerButtonClick:xe,footerButtonReset:Et,footerBtnDisabledUpdater:h,headerButtonPreviousClick:Dt,headerButtonPreviousReset:M,footerBtnDisabled:ht,footerButtonClicked:mt,headerButtonPreviousClicked:Ke,navigateInsideStep:ie});const G=P([]);se("sidebarSteps",G);function We(n){G.value[S.value].stepSelectedData.filter(b=>b.reference===n.reference).length?G.value[S.value].stepSelectedData.forEach((b,E,X)=>{b.reference===n.reference&&n.value&&n.value!==b.value&&(b.value=n.value),b.reference===n.reference&&!n.value&&X.splice(E,1)}):n.value&&G.value[S.value].stepSelectedData.push(n),G.value[S.value].stepSelectedData.sort((b,E)=>b.position-E.position)}function Ye(){p.value.forEach((n,b)=>{if(n.name!=="CongratulationsStep"){let E=n.sidebarData.label,X={name:n.name,key:n.key,label:de.value[E],labelKey:E,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===S.value};G.value.splice(b,0,X)}})}Ot(()=>{Ye(),Me()}),ze(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":d.showCart||pt(c);break}if(d.showCart&&Gt(p,S),ne.value){p.value.splice(0,p.value.length),G.value.splice(0,G.value.length),S.value=0,ne.value.steps.forEach(b=>{switch(b){case"packageStep":p.value.push(Te);break;case"bringingAnyone":p.value.push(Be);break;case"initStep":p.value.push(Q);break;case"packageInfoStep":p.value.push(ke);break;case"packageAppointmentsStep":p.value.push(_);break;case"packageAppointmentsListStep":p.value.push(ve);break;case"extrasStep":p.value.push(pe);break;case"dateTimeStep":p.value.push(oe);break;case"recurringStep":p.value.push(N);break;case"recurringSummary":p.value.push(he);break;case"cartStep":p.value.push(_e);break;case"infoStep":p.value.push(fe);break;case"paymentStep":p.value.push(ee);break;case"congratulations":p.value.push($e);break}let E=ne.value.sidebar.find(X=>X.key===b);we(),typeof E<"u"&&E.data&&E.data.forEach(X=>{We({reference:X.reference,position:X.position,value:X.value})}),S.value++}),c.commit("booking/setLoading",!1);let n=-1;ne.value.result==="success"?n=p.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(n=p.value.length-2);for(let b=0;b<=n;b++)p.value[b].finished=!0;for(let b=0;b<=n-1;b++)G.value[b].finished=!0,G.value[b].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(G.value[n].finished=!1,G.value[n].selected=!0),S.value=n}});function we(){p.value.forEach((n,b)=>{if(n.name!=="CongratulationsStep"&&!G.value.find(E=>E.labelKey===n.sidebarData.label)){let E=n.sidebarData.label,X={name:n.name,key:n.key,label:de.value[E],labelKey:E,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===S.value};G.value.splice(b,0,X)}})}se("sidebarStepsFunctions",{sidebarDataCollector:We}),se("addPaymentsStep",{addPaymentsStep:me}),se("removePaymentsStep",{removePaymentsStep:jt});function me(){p.value.splice(p.value.length-1,0,ee),we()}function jt(){let n=["PaymentStep"];Ee(p,n,[],S.value),Ee(G,n,[],S.value)}function aa(n){Ee(p,[],[_e],n),Ee(G,[],[],n)}function ia(){Ee(p,["CartStep"],[],S.value),Ee(G,["CartStep"],[],S.value)}function sa(){if(c.getters["entities/getPreselected"].show==="packages"){let b=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return b.length>0&&b.filter(E=>E.price>0).length===b.length}if(!c.getters["booking/getPackageId"]){let b=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],E=0;for(let X of b){let De=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],je=c.getters["booking/getBookingDuration"];if(De.filter(Qe=>Qe.serviceList.find(Ve=>Ve.id===X.id&&(Ve.price>0||Ve.customPricing&&Ve.customPricing.enabled&&(Object.values(Ve.customPricing.durations).length===Object.values(Ve.customPricing.durations).filter(Lt=>Lt.price>0).length||je&&Ve.customPricing.durations[je].price>0)))).length===De.filter(Qe=>Qe.serviceList.find(Ve=>Ve.id===X.id)).length)E++;else{let Qe=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Qe.length>0&&Qe.reduce((Ve,Lt)=>Ve+Lt.price,0)>0&&E++}}return b.length>0&&E===b.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let la=y(()=>Tt(c).length?La(c)!==0:sa());Ta(()=>{let n=Tt(c);!n[0].serviceId&&Object.keys(n[0].services).length===0&&L("emptiedCart"),!ne.value&&!la.value?jt():ne.value||p.value.indexOf(ee)===-1&&me()},{flush:"post"});function oa(){G.value.forEach(n=>{n.finished=!1,n.selected=!1}),p.value.forEach(n=>{n.finished=!1,n.selected=!1}),S.value=0,Xt(c,!0),Ma(c),pt(c),L("addToCart")}function na(){let n=c.getters["booking/getCurrentCartItem"],b=c.getters["booking/getAllMultipleAppointments"];n?(c.commit("booking/setCartItem",n),c.commit("booking/setCartItemIndex",b.length-1),c.commit("booking/setCurrentCartItem",null)):(b.pop(),c.commit("booking/setCartItemIndex",b.length-1),c.commit("booking/setServiceId",b[b.length-1].serviceId),c.commit("booking/setEmployeeId",b[b.length-1].services[b[b.length-1].serviceId].providerId),c.commit("booking/setLocationId",b[b.length-1].services[b[b.length-1].serviceId].locationId)),Gt(p,S)}let be=y(()=>s.customizedData?s.customizedData.sbsNew.colors:ot.sbsNew.colors);se("amColors",be);let ca=y(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ae(be.value.colorMainText,.2),"--am-c-skeleton-op60":ae(be.value.colorMainText,.6),"--am-font-family":x.value.fontFamily,"--am-mw-main":D.value?C.value?"592px":"760px":"520px","--am-brad-main":D.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ra(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let b=`@font-face {font-family: '${x.value.fontFamily}'; src: url(${x.value.fontUrl});}`,E=document.createElement("style");n.appendChild(E),E.setAttribute("type","text/css"),E.setAttribute("id","amCustomFont"),E.appendChild(document.createTextNode(b))}x.value.customFontSelected&&ra();let ua=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",ua),ze(()=>{Yt("renderForm",{ameliaContainer:w,containerWidth:k,empty:T,amCustomize:u,amFonts:x,sidebarCollapsed:C,sidebarCollapseItemsClass:I,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:D})}),(n,b)=>(t(),i(K,null,[x.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Li,Ti,a("link",{rel:"stylesheet",type:"text/css",href:`${e(z).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Bi)],64)),e(T)?(t(),i("div",Xi,[a("img",{src:e(z).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Zi),a("h1",null,o(e(de).oops),1),a("h3",null,o(e(de).no_services_employees),1),a("p",null,o(e(de).add_services_employees),1),a("a",Ki,o(e(de).add_services_url)+"\xA0 ",1),a("span",es,o(e(de).and)+"\xA0",1),a("a",ts,o(e(de).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:w,class:V(["am-fs__wrapper",{"am-collapsed":e(C)}]),style:ce(e(ca))},[e(k)>560&&e(D)?(t(),ge(za,{key:0,class:V(["am-fs-sb",{"am-collapsed":e(C)}]),style:ce({width:e(C)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":R(()=>[a("div",Fi,[p.value[S.value]!==e($e)||!e(s).general.addToCalendar||e(Je)&&e(Je).data.length===0?(t(!0),i(K,{key:0},ye(G.value,E=>(t(),i("div",{key:E.key,class:"am-fs-sb__step"},[a("div",zi,[a("div",Ai,[a("span",{class:V(`am-icon-${E.icon}`)},null,2),E.key==="cartStep"&&e(Ne)(e(c))!==0?(t(),i("span",{key:0,class:V(["am-fs-sb__step-icon__number",e(I)])},o(e(Ne)(e(c))),3)):r("",!0)]),J(qe,{name:"fade"},{default:R(()=>[e(C)?r("",!0):(t(),i("p",{key:0,class:V(["am-fs-sb__step-heading",e(I)])},o(E.label),3))]),_:2},1024),a("div",{class:V(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":E.selected},e(I)]])},[J(qe,{name:"fade"},{default:R(()=>[E.finished?(t(),i("span",Ri)):r("",!0)]),_:2},1024)],2)]),J(Ba,{tag:"span",name:"fade",appear:"",class:V(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":E.key===e(_).key&&E.stepSelectedData.length>3}])},{default:R(()=>[e(C)?r("",!0):(t(!0),i(K,{key:0},ye(E.stepSelectedData,(X,De)=>(t(),i("p",{key:X.position,class:"am-fs-sb__step-selection"},[E.key!==e(_).key||De<3?(t(),i("span",Oi,o(X.value),1)):(t(),i("span",Mi,o(e(de).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Vi,[J(qe,{name:"fade"},{default:R(()=>[e(C)?r("",!0):(t(),ge(Fa,{key:0}))]),_:1}),e(C)?(t(),i("div",Ni,[a("div",Ui,[a("div",Wi,[a("span",{class:V(`am-icon-${p.value[S.value].sidebarData.icon}`)},null,2)]),a("div",{class:V(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":p.value[S.value].sidebarData.selected},e(I)]])},[J(qe,{name:"fade"},{default:R(()=>[p.value[S.value].sidebarData.finished?(t(),i("span",ji)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":R(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(g).heading||e(g).phone||e(g).email)?(t(),i("div",Hi,[J(qe,{name:"fade"},{default:R(()=>[!e(C)&&e(g).heading?(t(),i("div",{key:0,class:V(["am-fs-sb__support-heading",e(I)])},o(e(de).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(g).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(C)?(t(),i("span",Gi)):(t(),i(K,{key:0},[ue(o(e(s).company.phone),1)],64))],8,qi)):r("",!0),e(s).company.email&&e(g).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(C)?(t(),i("span",Yi)):(t(),i(K,{key:0},[ue(o(e(s).company.email),1)],64))],8,Ji)):r("",!0)])):r("",!0),a("div",{class:V(["am-fs-sb__menu",e(I)]),onClick:b[0]||(b[0]=E=>re(C)?C.value=!e(C):C=!e(C))},[J(qe,{name:"fade"},{default:R(()=>[e(C)?r("",!0):(t(),i("span",Qi,o(e(de).collapse_menu),1))]),_:1}),a("span",{class:V(`am-icon-arrow-circle-${e(C)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),J(Oa,null,Mt({step:R(()=>[(t(),ge(Qt(p.value[S.value]),{"global-class":"am-fs__main-content"}))]),footer:R(()=>[J(e(Ra),{"second-button-show":p.value[S.value]===e($e)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(He)(e(c))&&p.value[S.value]===e(_e),"back-to-cart-button-show":e(He)(e(c))&&e(Fe).length>1&&p.value[S.value]!==e(_e)&&p.value[S.value]!==e(fe)&&p.value[S.value]!==e(ee)&&p.value[S.value]!==e($e),booked:e(Je),loading:e(yt),ready:e(gt),"payment-gateway":e(It),"customized-labels":e(Ce),"primary-footer-button-type":e(Ae),"secondary-footer-button-type":e(Se),"add-to-cart-button-type":e(Y),"back-to-cart-button-type":e(W),"back-to-cart-label":A("cancel","cartStep"),onAddToCart:oa,onBackToCart:na},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[p.value[S.value]!==e($e)?{name:"header",fn:R(()=>[J(Aa,{"sidebar-visible":e(D),ready:e(gt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const is={class:"am-fcil__filter-buttons"},ss={class:"am-fcil__filter"},ls={class:"am-fcil__filter-item__btn-wrapper"},os={class:"am-fcil__heading"},ns={key:0,class:"am-fcil__item-badge__wrapper"},cs={class:"am-fcil__item-badge am-package"},rs=a("span",{class:"am-icon-shipment"},null,-1),us={class:"am-fcil__item-heading"},ds={class:"am-fcil__item-name"},ms={key:0,class:"am-fcil__item-cost"},ps={key:0,class:"am-fcil__item-discount"},_s={class:"am-fcil__item-price"},fs={key:1,class:"am-fcil__item-price"},vs={class:"am-fcil__item-info"},gs={key:0,class:"am-fcil__item-info__inner"},ys=a("span",{class:"am-icon-folder"},null,-1),hs={key:1,class:"am-fcil__item-info__inner"},bs=a("span",{class:"am-icon-clock"},null,-1),ks={key:0},Cs={key:1},$s={key:2},Ss={key:2,class:"am-fcil__item-info__inner"},ws=a("span",{class:"am-icon-user"},null,-1),xs=a("span",null,"1/1",-1),Ps=[ws,xs],Is={key:3,class:"am-fcil__item-info__inner"},Es=a("span",{class:"am-icon-locations"},null,-1),Ds={key:2,class:"am-fcil__item-services"},Ls={key:0,class:"am-fcil__item-badge__wrapper"},Ts={class:"am-fcil__item-badge am-service"},Bs=a("span",{class:"am-icon-service"},null,-1),Fs={class:"am-fcil__item-heading"},zs={class:"am-fcil__item-name"},As={key:0,class:"am-fcil__item-cost"},Rs={key:0,class:"am-fcil__item-price"},Os={key:1,class:"am-fcil__item-price"},Ms={class:"am-fcil__item-info"},Vs={key:0,class:"am-fcil__item-info__inner"},Ns=a("span",{class:"am-icon-folder"},null,-1),Us={key:1,class:"am-fcil__item-info__inner"},Ws=a("span",{class:"am-icon-clock"},null,-1),js={key:2,class:"am-fcil__item-info__inner"},Hs=a("span",{class:"am-icon-user"},null,-1),qs={key:3,class:"am-fcil__item-info__inner"},Gs=a("span",{class:"am-icon-locations"},null,-1),Js={class:"am-fcil-employee__header"},Ys={class:"am-fcil-employee__heading"},Qs={class:"am-fcil-employee__heading-left"},Xs={class:"am-fcil-employee__name"},Zs={key:0,class:"am-fcil-employee__heading-right"},Ks={class:"am-fcil-employee__price"},el=["innerHTML"],tl={key:1,ref:"ameliaContainer",class:"am-empty"},al=["src"],il={class:"am-empty__heading"},sl={class:"am-empty__subheading"},ll={class:"am-empty__text"},ol={key:0},nl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},cl={key:1},rl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},ul={name:"CategoryItemsList",key:"categoryItemsList"},dl=Object.assign(ul,{setup(v){let L=F("licence"),{nextPage:d,previousPage:w}=F("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const k=F("baseUrls");let T=P(!1),m=P(!1),s=P("760px");se("bookingDialogWidth",s);function u(){s.value="760px"}let g=P(!1),x=P(),C=F("containerWidth"),I=F("customizedDataForm"),f=y(()=>I.value.categoryItemsList.options),U=y(()=>"pageScroll"in f.value?f.value.pageScroll.visibility:!0);const te=F("settings");let D=at();const z=F("shortcodeData"),c=y(()=>D.getters["entities/getPreselected"]);let j=y(()=>{let M=Array.isArray(z.value.category)?z.value.category:z.value.category.split(",");return M=M.filter(h=>h),M.length}),ne=y(()=>{let M=x.value&&x.value.catContainerWidth?x.value.catContainerWidth>768:!0;return j.value!==1&&f.value.sidebar.visibility&&M}),Q=F("amEntities"),pe=y(()=>He(D)&&Ne(D)>0),ke=y(()=>Ne(D));const N=F("labels"),he=F("localLanguage");let oe=y(()=>te.general.usedLanguages.includes(he.value)),_=y(()=>{let M=it({...N});if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let h=te.customizedData.cbf.categoryItemsList.translations;Object.keys(h).forEach(l=>{h[l][he.value]&&oe.value?M[l]=h[l][he.value]:h[l].default&&(M[l]=h[l].default)})}return M}),ve=P(""),$e={components:{IconComponent:kt},template:'<IconComponent icon="search"/>'},_e=P(!0),fe={components:{IconComponent:kt},template:'<IconComponent icon="filter"/>'},ee=y(()=>x.value&&x.value.catHeaderWidth?x.value.catHeaderWidth:0);window.addEventListener("resize",Te);function Te(){Ie(()=>{ee.value>480&&(_e.value=!0)})}ze(()=>{Te()});function Be(M){let h=[];return ve.value.toLowerCase().split(" ").forEach(l=>{h.push(M.toLowerCase().includes(l))}),h.filter(l=>l===!1).length<=0}let p=F("availableCategories"),Z=y(()=>{let M=[...p.value],h=[];return M.forEach(l=>{h.push({id:l.id,name:l.name})}),h.unshift({id:0,name:_.value.filter_all}),h}),H=F("categorySelected"),O=y(()=>bt(Q.value,z.value,Ce.value,Ae.value)),Fe=y(()=>{let M=[];return O.value.find(h=>h.id===H.value)?Q.value.packages.forEach(h=>{O.value.find(l=>l.id===H.value).packageList.forEach(l=>{h.id===l&&(ve.value?Be(h.name):!0)&&M.push(h)})}):Q.value.packages.forEach(h=>{O.value.forEach(l=>{l.packageList.forEach(ie=>{h.id===ie&&!M.find(G=>G.id===ie)&&(ve.value?Be(h.name):!0)&&M.push(h)})})}),M}),de=y(()=>{let M=[];return H.value&&O.value.find(h=>h.id===H.value)?Q.value.services.forEach(h=>{O.value.find(l=>l.id===H.value).serviceIdList.forEach(l=>{h.id===l&&(ve.value?Be(h.name):!0)&&M.push(h)})}):Q.value.services.forEach(h=>{O.value.forEach(l=>{l.serviceIdList.forEach(ie=>{h.id===ie&&(ve.value?Be(h.name):!0)&&M.push(h)})})}),M}),Ce=P(null),Ae=P(null),Se=P(!0),Y=P(!0);function W(M){M==="all"&&(Se.value=!0,Y.value=!0),M==="packages"&&(Se.value=!0,Y.value=!1),M==="services"&&(Se.value=!1,Y.value=!0)}Ot(()=>{c.value.show&&W(c.value.show)});let A=y(()=>{let M=z.value.employee,h=Q.value.employees.length,l=z.value.location,ie=Q.value.locations.length,G=f.value.searchInput.visibility,We=f.value.filterEmployee.visibility&&M.length!==1&&h>1&&!L.isLite,Ye=f.value.filterLocation.visibility&&l.length!==1&&ie>1&&!L.isLite&&!L.isStarter,we=f.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Fe.value.length!==0&&de.value.length!==0&&!Ne(D),me={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!G||!we?(me.employee=!G&&!we?"am-w50":"am-w35",me.location=!G&&!we?"am-w50":"am-w35",me.search=!we&&!Ye&&!We?"am-w100":"am-w30",We||(me.location=!G&&!we?"am-w100":"am-w70"),Ye||(me.employee=!G&&!we?"am-w100":"am-w70")):(We||(me.location="am-w40"),Ye||(me.employee="am-w40"),!We&&!Ye&&(me.search="am-w70")):ee.value>768||ee.value>480?(me.search=we?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",me.buttons=G?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",me.employee=Ye?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",me.location=We?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",me.category="am-w100 am-tablet am-order5"):(me.employee="am-w100 am-mobile",me.location="am-w100 am-mobile",me.search="am-w100 am-mobile",me.buttons="am-w100 am-mobile",me.category="am-w100 am-mobile"),me}),le=y(()=>x.value&&x.value.catContainerWidth?x.value.catContainerWidth:0),Me=y(()=>{let M=Fe.value.length&&!Ne(D)?Fe.value.length:0,h=de.value.length>1?_.value.heading_services:_.value.heading_service,l=M?M>1?_.value.packages:_.value.package:"";if(!de.value.length&&!M)return _.value.no_search_data;if(Y.value&&(!Se.value||!M))return`${_.value.available} - ${de.value.length} ${h}`;if((!Y.value||!de.value.length)&&Se.value)return`${_.value.available} - ${M} ${l}`;let ie=M?"/":"";return`${_.value.available} - ${de.value.length} ${h} ${ie} ${M} ${l}`});ze(()=>{Ie(()=>{T.value=Fe.value.length===0&&de.value.length===0})});function Ee(M){const h=M.id===0?null:M.id;H.value=h,D.commit("booking/setCategoryId",h)}let Ze=F("itemType");function Le(M){D.commit("booking/setServiceId",parseInt(M)),D.commit("booking/setBookableType","appointment"),Ze.value="appointment",_t(D,{},"SelectService","appointment",null,null),Ie(()=>{d()})}function st(M){D.commit("booking/setServiceId",null),D.commit("booking/setPackageId",M.id),D.commit("booking/setBookableType","package"),D.commit("booking/setMultipleAppointments",Pt(0,M)),D.commit("booking/setCartItemIndex",0),Ze.value="package",_t(D,{},"SelectPackage","package",null,null),Ie(()=>{d()})}function ut(){H.value=null,D.commit("booking/setCategoryId",null),w()}function q(){Rt(D),g.value=!0,m.value=!0}let B=P(!1),$=P(""),S=P([]),dt=P({}),Ge=P(null);function vt(){$.value="",S.value=[],dt.value={},Ge.value=null}function lt(M){S.value=ta(Q.value,M,z.value),dt.value=M,B.value=!0}function gt(M){let h=[];Object.keys(Q.value.entitiesRelations).forEach(ie=>{ie in Q.value.entitiesRelations&&M in Q.value.entitiesRelations[ie]&&Q.value.employees.find(G=>G.id===parseInt(ie))&&h.push(Q.value.employees.find(G=>G.id===parseInt(ie)))}),S.value=h,$.value="service",B.value=!0,Ge.value=M}function yt(M){let h=Q.value.services.find(ie=>ie.id===Ge.value).price,l=M.serviceList.find(ie=>ie.id===Ge.value).price;return l!==h?`${l-h>0?h>0?"+":"":"-"} ${Xe(l-h)}`:0}function Je(){$.value==="service"?Le(Ge.value):st(dt.value),vt()}function It(M,h){let l="";return M>1?(h==="day"&&(l=_.value.expires_days),h==="week"&&(l=_.value.expires_weeks),h==="month"&&(l=_.value.expires_months)):(h==="day"&&(l=_.value.expires_day),h==="week"&&(l=_.value.expires_week),h==="month"&&(l=_.value.expires_month)),l}function mt(M,h){let l=At(M,h);return l.length===1||l.length&&l.every(ie=>ie.id===l[0].id)?l[0].address?l[0].address:l[0].name:_.value.multiple_locations}function ht(M,h){let l=et(M,h);return l.length===1||l.length&&l.every(ie=>ie.id===l[0].id)?l[0].address?l[0].address:l[0].name:_.value.multiple_locations}let Ke=F("amFonts",P({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),xe=F("amColors"),Et=y(()=>({"--am-c-fcil-text-op-10":ae(xe.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(xe.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(xe.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(xe.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(xe.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(xe.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(xe.value.colorInpText,.1),"--am-w-fcil-main":p.value.length!==1&&j.value!==1&&f.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":x.value&&x.value.catFormWidth<580?"100%":"50%"})),Dt=y(()=>({"--am-f-fcil-employee-f":Ke.value.fontFamily,"--am-c-fcil-employee-bgr":xe.value.colorMainBgr,"--am-c-fcil-employee-heading":xe.value.colorMainHeadingText,"--am-c-fcil-employee-text":xe.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(xe.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(xe.value.colorMainText,.15),"--am-c-fcil-employee-primary":xe.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(xe.value.colorPrimary,.1),"--am-c-inp-border":xe.value.colorInpBorder,"--am-c-main-text":xe.value.colorMainText}));return(M,h)=>e(T)?(t(),i("div",tl,[a("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,al),a("div",il,o(e(_).oops),1),a("div",sl,o(e(c).show!=="packages"?e(_).no_services_employees:e(_).no_package_services),1),a("div",ll,[e(c).show!=="packages"?(t(),i("span",ol,o(e(_).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",nl,o(e(_).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",cl,o(e(_).and)+"\xA0 ",1)):r("",!0),e(c).show!=="packages"?(t(),i("a",rl,o(e(_).add_employees_url),1)):r("",!0)])],512)):(t(),ge(Ut,{key:0,ref_key:"contentRef",ref:x,"wrapper-class":`am-fcil ${e(C)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(C)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(C)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:ce(e(Et))},Mt({header:R(()=>[a("span",is,[e(j)!==1&&!e(z).categories_hidden&&e(p).length!==1?(t(),ge(Nt,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(_).back_btn,"btn-type":e(f).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e(ke),onGoBack:ut,onGoToCart:q},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),ge(Re,{key:1,size:"medium",category:"secondary",type:e(f).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(fe),onClick:h[0]||(h[0]=()=>re(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):r("",!0)]),a("div",ss,[e(f).searchInput.visibility?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(A).search])},[J(Va,{modelValue:e(ve),"onUpdate:modelValue":h[1]||(h[1]=l=>re(ve)?ve.value=l:ve=l),placeholder:e(_).filter_input,"icon-start":e($e)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),J(qe,{name:"slide-fade"},{default:R(()=>[e(z).employee.length!==1&&e(Q).employees.length>1&&e(f).filterEmployee.visibility&&e(_e)&&!e(L).isLite?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(A).employee])},[J(Bt,{modelValue:e(Ce),"onUpdate:modelValue":h[2]||(h[2]=l=>re(Ce)?Ce.value=l:Ce=l),clearable:"",filterable:"",placeholder:e(_).filter_employee,"fit-input-width":!0},{default:R(()=>[(t(!0),i(K,null,ye(e(Q).employees,l=>(t(),ge(Ft,{key:l.id,value:l.id,label:`${l.firstName} ${l.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(qe,{name:"slide-fade"},{default:R(()=>[e(z).location.length!==1&&e(Q).locations.length>1&&e(f).filterLocation.visibility&&e(_e)&&!e(L).isLite&&!e(L).isStarter?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(A).location])},[J(Bt,{modelValue:e(Ae),"onUpdate:modelValue":h[3]||(h[3]=l=>re(Ae)?Ae.value=l:Ae=l),clearable:"",filterable:"",placeholder:e(_).filter_location,"fit-input-width":!0},{default:R(()=>[(t(!0),i(K,null,ye(e(Q).locations,l=>(t(),ge(Ft,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(qe,{name:"slide-fade"},{default:R(()=>[e(p).length!==1&&e(j)!==1&&e(f).sidebar.visibility&&!e(ne)&&e(_e)?(t(),i("div",{key:0,class:V(["am-fcil__filter-item am-w100",e(A).category])},[J(Bt,{modelValue:e(H),"onUpdate:modelValue":h[4]||(h[4]=l=>re(H)?H.value=l:H=l),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:R(()=>[(t(!0),i(K,null,ye(e(Z),l=>(t(),ge(Ft,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(c).show&&e(f).filterButtons.visibility&&e(Fe).length!==0&&e(de).length!==0&&!e(Ne)(e(D))?(t(),i("div",{key:1,class:V(["am-fcil__filter-item",e(A).buttons])},[a("div",ls,[a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":e(Se)&&e(Y)}]),onClick:h[5]||(h[5]=l=>W("all"))},[a("span",null,o(e(_).filter_all),1)],2),a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":e(Se)&&!e(Y)}]),onClick:h[6]||(h[6]=l=>W("packages"))},[a("span",null,o(e(_).filter_packages),1)],2),a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":!e(Se)&&e(Y)}]),onClick:h[7]||(h[7]=l=>W("services"))},[a("span",null,o(e(_).filter_services),1)],2)])],2)):r("",!0)])]),heading:R(()=>[a("div",os,o(e(Me)),1)]),content:R(()=>[e(Se)&&!e(Ne)(e(D))?(t(!0),i(K,{key:0},ye(e(Fe),l=>(t(),i("div",{key:l.id,class:V(["am-fcil__item",{"am-mobile":e(le)<481}])},[a("div",{class:V(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[a("div",{class:"am-fcil__item-content",style:ce(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ae)(l.color,.1)}:{})},[e(f).packageBadge.visibility?(t(),i("div",ns,[a("div",cs,[rs,a("span",null,o(e(_).package),1)])])):r("",!0),l.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${l.pictureFullPath})`})},null,4)):r("",!0),a("div",us,[a("div",ds,o(l.name),1),e(f).packagePrice.visibility?(t(),i("div",ms,[l.discount?(t(),i("span",ps,o(`${e(_).save} ${l.discount}%`),1)):r("",!0),a("span",_s,o(l.price?e(Xe)(e(Vt)(l)):e(_).free),1),l.price&&(e(f).tax?.visibility??!0)&&e(ft)(e(D),l.id,"package")?(t(),i("span",fs,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[ue(o(`+${e(_).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(o(e(_).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",vs,[e(f).packageCategory.visibility&&e(H)?(t(),i("div",gs,[ys,a("span",null,o(e(p).find(ie=>ie.id===e(H)).name),1)])):r("",!0),e(f).packageDuration.visibility?(t(),i("div",hs,[bs,l.endDate?(t(),i("span",ks,o(`${e(_).expires_at} ${l.endDate.split(" ")[0]}`),1)):l.durationCount?(t(),i("span",Cs,o(`${e(_).expires_after} ${l.durationCount} ${It(l.durationCount,l.durationType)}`),1)):(t(),i("span",$s,o(e(_).without_expiration),1))])):r("",!0),e(f).packageCapacity.visibility?(t(),i("div",Ss,Ps)):r("",!0),e(At)(e(Q),l,e(z)).length&&e(f).packageLocation.visibility?(t(),i("div",Is,[Es,a("span",null,o(mt(e(Q),l)),1)])):r("",!0)]),e(f).packageServices.visibility?(t(),i("div",Ds,[a("span",null,o(`${e(_).in_package}:`),1),(t(!0),i(K,null,ye(l.bookable,ie=>(t(),i("span",{key:ie.id},o(ie.service.name),1))),128))])):r("",!0)],4),a("div",{class:V(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(f).cardEmployeeBtn.visibility?(t(),ge(Re,{key:0,class:V({"am-w100":e(le)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:ie=>lt(l)},{default:R(()=>[ue(o(e(_).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Re,{class:V([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:ie=>st(l)},{default:R(()=>[ue(o(e(_).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),e(Y)?(t(!0),i(K,{key:1},ye(e(de),l=>(t(),i("div",{key:l.id,class:V(["am-fcil__item",{"am-mobile":e(le)<481}])},[a("div",{class:V(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[a("div",{class:"am-fcil__item-content",style:ce(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ae)(l.color,.1)}:{})},[e(f).serviceBadge.visibility?(t(),i("div",Ls,[a("div",Ts,[Bs,a("span",null,o(e(_).heading_service),1)])])):r("",!0),l.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${l.pictureFullPath})`})},null,4)):r("",!0),a("div",Fs,[a("div",zs,o(l.name),1),e(f).servicePrice.visibility?(t(),i("div",As,[e(ct)(e(Q),l.id).min||e(ct)(e(Q),l.id).max?(t(),i("span",Rs,o(e(ct)(e(Q),l.id).price),1)):r("",!0),(e(f).tax?.visibility??!0)&&e(ft)(e(D),l.id,"service")?(t(),i("span",Os,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[ue(o(`+${e(_).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(o(e(_).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Ms,[e(f).serviceCategory.visibility&&e(H)?(t(),i("div",Vs,[Ns,a("span",null,o(e(p).find(ie=>ie.id===e(H)).name),1)])):r("",!0),e(f).serviceDuration.visibility?(t(),i("div",Us,[Ws,a("span",null,o(e(ea)(l.duration)),1)])):r("",!0),e(f).serviceCapacity.visibility&&!e(L).isLite?(t(),i("div",js,[Hs,a("span",null,o(e(Kt)(e(Q),l.id)),1)])):r("",!0),e(et)(e(Q),l.id).length&&e(f).serviceLocation.visibility?(t(),i("div",qs,[Gs,a("span",null,o(ht(e(Q),l.id)),1)])):r("",!0)])],4),a("div",{class:V(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(f).cardEmployeeBtn.visibility&&!e(L).isLite?(t(),ge(Re,{key:0,class:V({"am-w100":e(le)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:ie=>gt(l.id)},{default:R(()=>[ue(o(e(_).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Re,{class:V([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:ie=>Le(l.id)},{default:R(()=>[ue(o(e(_).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),J(rt,{modelValue:e(B),"onUpdate:modelValue":h[9]||(h[9]=l=>re(B)?B.value=l:B=l),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Dt),width:"648px",onClose:vt},{title:R(()=>[a("div",Js,o(e(_).employee_info),1)]),default:R(()=>[a("div",null,[J($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(S),(l,ie)=>(t(),ge(St,{key:ie,side:""},{heading:R(()=>[a("div",Ys,[a("div",Qs,[J(nt,{"item-class":"am-fcil-employee__img","item-data":l,"trim-string":2},null,8,["item-data"]),a("div",Xs,[ue(o(`${l.firstName} ${l.lastName}`)+" ",1),l.badge?(t(),i("span",{key:0,style:ce({background:l.badge.color}),class:"am-fcil-employee__badge"},o(l.badge.content),5)):r("",!0)])]),e($)==="service"&&yt(l)!==0?(t(),i("div",Zs,[a("div",Ks,o(yt(l)),1)])):r("",!0)])]),default:R(()=>[e(Oe)(l.description)?(t(),i("div",{key:0,class:V(["am-fcil-employee__text",{"ql-description":l.description.includes("<!-- Content -->")}]),innerHTML:l.description},null,10,el)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:R(()=>[e(f).dialogEmployeeBtn.visibility?(t(),ge(Re,{key:0,type:e(f).dialogEmployeeBtn.buttonType,category:"primary",onClick:h[8]||(h[8]=l=>Je())},{default:R(()=>[ue(o(e($)==="service"?e(_).book_service:e(_).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),J(rt,{modelValue:e(m),"onUpdate:modelValue":h[10]||(h[10]=l=>re(m)?m.value=l:m=l),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:u},{default:R(()=>[J(Wt,{"show-cart":e(g)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(p).length!==1&&e(j)!==1&&e(f).sidebar.visibility&&e(ne)?{name:"side",fn:R(()=>[J(oi,{"menu-items":e(Z),"init-selection":e(H),identifier:"id","name-identifier":"name","footer-string":e(_).get_in_touch,"company-email":e(te).company.email,onClick:Ee},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ml={class:"am-fcis__header-text"},pl={class:"am-fcis__header-name"},_l={key:0,class:"am-fcis__badge am-service"},fl=a("span",{class:"am-icon-service"},null,-1),vl={class:"am-fcis__header-action"},gl={key:0,class:"am-fcis__header-price"},yl={key:1,class:"am-fcis__header-tax"},hl={class:"am-fcis__header-btn"},bl={key:0,class:"am-fcis__header-bottom"},kl={class:"am-fcis__mini-info"},Cl={key:0,class:"am-fcis__mini-info__inner"},$l=a("span",{class:"am-icon-folder"},null,-1),Sl={key:1,class:"am-fcis__mini-info__inner"},wl=a("span",{class:"am-icon-clock"},null,-1),xl={key:2,class:"am-fcis__mini-info__inner"},Pl=a("span",{class:"am-icon-user"},null,-1),Il={key:3,class:"am-fcis__mini-info__inner"},El=a("span",{class:"am-icon-locations"},null,-1),Dl={key:0,class:"am-fcis__gallery"},Ll={key:0,class:"am-fcis__gallery-thumb__wrapper"},Tl={class:"am-gd__display-wrapper"},Bl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Fl=["src","alt"],zl={class:"am-gd__selection"},Al={class:"am-gd__thumb-wrapper"},Rl=["onClick"],Ol={key:1,class:"am-fcis__info"},Ml={class:"am-fcis__info-tab__wrapper"},Vl={class:"am-fcis__info-content__wrapper"},Nl={key:0,class:"am-fcis__info-content"},Ul=["innerHTML"],Wl={key:1,class:"am-fcis__info-content"},jl={class:"am-fcis__info-employee__hero"},Hl={class:"am-fcis__info-employee__heading"},ql={class:"am-fcis__info-employee__name"},Gl={key:0,class:"am-fcis__info-employee__price"},Jl=["innerHTML"],Yl={key:2,class:"am-fcis__include-wrapper"},Ql={class:"am-fcis__include-heading"},Xl={class:"am-fcis__include-heading__text"},Zl=["onClick"],Kl={class:"am-fcis__include-hero"},eo={key:0,class:"am-fcis__include-cost"},to={key:0,class:"am-fcis__include-discount"},ao={class:"am-fcis__include-price"},io={key:1,class:"am-fcis__include-price"},so={class:"am-fcis__include-info"},lo={key:0,class:"am-fcis__include-info__inner"},oo=a("span",{class:"am-icon-folder"},null,-1),no={key:1,class:"am-fcis__include-info__inner"},co=a("span",{class:"am-icon-clock"},null,-1),ro={key:0},uo={key:1},mo={key:2},po={key:2,class:"am-fcis__include-info__inner"},_o=a("span",{class:"am-icon-user"},null,-1),fo=a("span",null,"1/1",-1),vo=[_o,fo],go={key:3,class:"am-fcis__include-info__inner"},yo=a("span",{class:"am-icon-locations"},null,-1),ho={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},bo={key:1,ref:"ameliaContainer",class:"am-empty"},ko=["src"],Co={class:"am-empty__heading"},$o={class:"am-empty__subheading"},So={class:"am-empty__text"},wo={key:0},xo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Po={key:1},Io={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Eo={name:"CategoryService"},Do=Object.assign(Eo,{setup(v){let L=F("licence"),{previousPage:d}=F("changingPageFunctions",{previousPage:()=>{}}),w=y(()=>U.getters["entities/getReady"]);const k=F("baseUrls");let T=P(),m=F("containerWidth");const s=F("settings");let u=F("amFonts");const g=F("labels"),x=F("localLanguage");let C=y(()=>s.general.usedLanguages.includes(x.value)),I=y(()=>{let q=it({...g});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let B=s.customizedData.cbf.categoryService.translations;Object.keys(B).forEach($=>{B[$][x.value]&&C.value?q[$]=B[$][x.value]:B[$].default&&(q[$]=B[$].default)})}return q}),f=P(0),U=at(),te=F("amEntities"),D=y(()=>He(U)&&Ne(U)>0),z=y(()=>Ne(U)),c=F("customizedDataForm"),j=y(()=>c.value.categoryService.options),ne=y(()=>"pageScroll"in j.value?j.value.pageScroll.visibility:!0),Q=F("itemType"),pe=F("categorySelected"),ke=y(()=>te.value.categories.find(q=>q.id===pe.value)),N=y(()=>{let q=te.value.services.find(B=>B.id===U.getters["booking/getServiceId"]);return q||{}});function he(q,B){let $=et(q,B);return $.length===1||$.length&&$.every(S=>S.id===$[0].id)?$[0].address?$[0].address:$[0].name:I.value.multiple_locations}let oe=P("description"),_=y(()=>{let q=[];return Object.keys(te.value.entitiesRelations).forEach($=>{te.value.entitiesRelations[$][N.value.id]&&te.value.employees.find(S=>S.id===parseInt($))&&q.push(te.value.employees.find(S=>S.id===parseInt($)))}),q});function ve(q){let B=q.serviceList.find($=>$.id===N.value.id).price;return B-N.value.price!==0?`${B-N.value.price>0?N.value.price>0?"+":"":"-"} ${Xe(B-N.value.price)}`:""}ze(()=>{j.value.serviceDescription.visibility||(oe.value="employees"),Oe(N.value.description)||(oe.value="employees")});let $e=y(()=>{let q=N.value.gallery.length?JSON.parse(JSON.stringify(N.value.gallery)):[];return N.value.gallery.length===1?[]:(q.shift(),q.length>2&&q.splice(2,q.length-2),q)}),_e=y(()=>{let q=[];return te.value.packages.forEach(B=>{B.bookable.filter($=>$.service.id===N.value.id).length&&!q.filter($=>$.id===B.id).length&&B.available&&B.status==="visible"&&q.push(B)}),q}),fe=P(!1),ee=y(()=>{let q=[..._e.value];return fe.value?q:q.slice(0,2)}),Te=y(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Be(){Q.value="",Ie(()=>{d()})}let p=P(!1);function Z(){Rt(U),p.value=!0,O.value=!0}function H(){O.value=!1,U.getters["entities/getPreselected"].service.length>1&&Be()}let O=P(!1),Fe=P("760px");se("bookingDialogWidth",Fe);function de(){let q=U.getters["entities/getPreselected"];_.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(_.value[0].id)),q.employee=[parseInt(_.value[0].id)],U.commit("entities/setPreselected",q)),p.value=!1,O.value=!1,Na(U),Xt(U,!1),pt(U);let B=et(te.value,N.value.id);B.length===1&&(U.commit("booking/setLocationId",parseInt(B[0].id)),q.location=[parseInt(B[0].id)],U.commit("entities/setPreselected",q)),U.commit("booking/setBookableType","appointment"),O.value=!0}F("restoreFormData").value&&de();function Ae(q){U.commit("booking/setPackageId",q.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",Pt(0,q)),U.commit("booking/setMultipleAppointmentsIndex",0),_.value.length===1&&U.commit("booking/setEmployeeId",parseInt(_.value[0].id)),et(te.value,N.value.id).length===1&&U.commit("booking/setLocationId",parseInt(et(te.value,N.value.id)[0].id)),Ie(()=>{O.value=!0})}const Se=y(()=>U.getters["entities/getPreselected"]);let Y=y(()=>te.value.services.length!==1&&Se.value.service.length!==1),W=P("");se("stepName",W);function A(){let q=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),B=q.settings?JSON.parse(q.settings):s;"general"in B&&"redirectUrlAfterAppointment"in B.general&&B.general.redirectUrlAfterAppointment?window.location.href=B.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function le(){if(W.value&&W.value==="CongratulationsStep")A();else{if(W.value&&W.value==="DateTimeStep"){let q=Ua(U);q&&console.log(q)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Fe.value="760px"}let Me=P(!1);function Ee(q,B){let $="";return q>1?(B==="day"&&($=I.value.expires_days),B==="week"&&($=I.value.expires_weeks),B==="month"&&($=I.value.expires_months)):(B==="day"&&($=I.value.expires_day),B==="week"&&($=I.value.expires_week),B==="month"&&($=I.value.expires_month)),$}let Ze=y(()=>Object.keys(N.value).length===0||_.value.length===0),Le=F("amColors"),st=y(()=>({"--am-c-fcis-success-op20":ae(Le.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(Le.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(Le.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(Le.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(Le.value.colorBtnSec,.5)})),ut=y(()=>({"--am-c-fcis-bgr":Le.value.colorMainBgr,"--am-c-fcis-text":Le.value.colorMainText,"--am-c-fcis-success":Le.value.colorSuccess,"--am-c-fcis-primary":Le.value.colorPrimary,"--am-c-scroll-op30":ae(Le.value.colorPrimary,.3),"--am-c-scroll-op10":ae(Le.value.colorPrimary,.1),"--am-font-family":u.fontFamily}));return(q,B)=>e(w)?(t(),i(K,{key:0},[e(Ze)?r("",!0):(t(),ge(Ut,{key:0,ref_key:"contentRef",ref:T,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:ce(e(st))},{header:R(()=>[J(Nt,{"btn-string":e(I).back_btn,"btn-type":e(j).backBtn.buttonType,"back-btn-visibility":e(Y),"cart-btn-visibility":e(D),"cart-items-number":e(z),onGoBack:Be,onGoToCart:Z},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:R(()=>[a("div",{class:V([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[a("div",ml,[a("span",pl,o(e(N).name),1),e(j).serviceBadge.visibility?(t(),i("div",_l,[fl,a("span",null,o(e(I).heading_service),1)])):r("",!0)]),a("div",vl,[e(j).servicePrice.visibility?(t(),i("span",gl,o(e(ct)(e(te),e(N).id).min||e(ct)(e(te),e(N).id).max?e(ct)(e(te),e(N).id).price:e(I).free),1)):r("",!0),(e(j).tax?.visibility??!0)&&e(ft)(e(U),e(N).id,"service")?(t(),i("span",yl,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[ue(o(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(o(e(I).incl_tax),1)],64))])):r("",!0),a("span",hl,[J(Re,{type:e(j).bookingBtn.buttonType,onClick:de},{default:R(()=>[ue(o(e(I).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(t(),i("div",bl,[a("div",kl,[e(j).serviceCategory.visibility&&e(ke)?(t(),i("div",Cl,[$l,a("span",null,o(e(ke).name),1)])):r("",!0),e(j).serviceDuration.visibility?(t(),i("div",Sl,[wl,a("span",null,o(e(ea)(e(N).duration)),1)])):r("",!0),e(j).serviceCapacity.visibility&&!e(L).isLite?(t(),i("div",xl,[Pl,a("span",null,o(e(Kt)(e(te),e(N).id)),1)])):r("",!0),e(et)(e(te),e(N).id).length&&e(j).serviceLocation.visibility&&!e(L).isLite&&!e(L).isStarter?(t(),i("div",Il,[El,a("span",null,o(he(e(te),e(N).id)),1)])):r("",!0)])])):r("",!0)]),content:R(()=>[e(N).gallery.length?(t(),i("div",Dl,[a("div",{class:V(["am-fcis__gallery-hero",[{w100:e(N).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:ce({backgroundImage:`url(${e(N).gallery[0].pictureFullPath})`})},null,6),e($e).length&&e(m)>677?(t(),i("div",Ll,[(t(!0),i(K,null,ye(e($e),($,S)=>(t(),i("div",{key:S,class:V(["am-fcis__gallery-thumb",{"am-one-thumb":e($e).length===1}]),style:ce({backgroundImage:`url(${$.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Re,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:B[0]||(B[0]=()=>re(Me)?Me.value=!0:Me=!0)},{default:R(()=>[ue(o(e(I).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(rt,{modelValue:e(Me),"onUpdate:modelValue":B[4]||(B[4]=$=>re(Me)?Me.value=$:Me=$),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:ce(e(ut))},[a("div",Tl,[a("div",Bl,[a("span",{class:"am-icon-arrow-left",onClick:B[1]||(B[1]=()=>re(f)?f.value=e(f)<=0?e(N).gallery.length-1:e(f)-1:f=e(f)<=0?e(N).gallery.length-1:e(f)-1)}),a("span",{class:"am-icon-arrow-right",onClick:B[2]||(B[2]=()=>re(f)?f.value=e(N).gallery.length-1===e(f)?0:e(f)+1:f=e(N).gallery.length-1===e(f)?0:e(f)+1)})]),(t(!0),i(K,null,ye(e(N).gallery,($,S)=>(t(),i("div",{key:S,class:"am-gd__display",style:ce({display:S===e(f)?"flex":"none"}),onClick:B[3]||(B[3]=()=>re(f)?f.value=e(N).gallery.length-1===e(f)?0:e(f)+1:f=e(N).gallery.length-1===e(f)?0:e(f)+1)},[a("img",{src:$.pictureFullPath,alt:S},null,8,Fl)],4))),128))]),a("div",zl,o(`${e(f)+1}/${e(N).gallery.length}`),1),a("div",Al,[(t(!0),i(K,null,ye(e(N).gallery,($,S)=>(t(),i("div",{key:S,class:V(["am-gd__thumb",{"am-active":S===e(f)}]),style:ce({backgroundImage:`url(${$.pictureFullPath})`}),onClick:()=>re(f)?f.value=S:f=S},null,14,Rl))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(Oe)(e(N).description)||e(j).serviceEmployees.visibility?(t(),i("div",Ol,[a("div",Ml,[e(Oe)(e(N).description)&&e(j).serviceDescription.visibility?(t(),i("div",{key:0,class:V(["am-fcis__info-tab",{"am-active":e(oe)==="description"}]),onClick:B[5]||(B[5]=()=>re(oe)?oe.value="description":oe="description")},o(e(I).about_service),3)):r("",!0),e(j).serviceEmployees.visibility&&!e(L).isLite?(t(),i("div",{key:1,class:V([{"am-active":e(oe)==="employees"},"am-fcis__info-tab"]),onClick:B[6]||(B[6]=()=>re(oe)?oe.value="employees":oe="employees")},o(e(I).tab_employees),3)):r("",!0)]),a("div",Vl,[e(Oe)(e(N).description)&&e(j).serviceDescription.visibility?wt((t(),i("div",Nl,[a("div",{class:V(["am-fcis__info-service__desc",{"ql-description":e(N).description.includes("<!-- Content -->")}]),innerHTML:e(N).description},null,10,Ul)],512)),[[xt,e(oe)==="description"]]):r("",!0),e(j).serviceEmployees.visibility?wt((t(),i("div",Wl,[J($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(_),$=>(t(),ge(St,{key:$.id,side:""},{heading:R(()=>[a("div",{class:V([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[a("div",jl,[J(nt,{"item-class":"am-fcis__info-employee__img","item-data":$,"trim-string":3},null,8,["item-data"]),a("div",Hl,[a("div",ql,[ue(o($.firstName)+" "+o($.lastName)+" ",1),$.badge?(t(),i("span",{key:0,style:ce({background:$.badge.color}),class:"am-fcis__info-employee__badge"},o($.badge.content),5)):r("",!0)]),ve($)&&e(j).serviceEmployeePrice.visibility?(t(),i("div",Gl,o(ve($)),1)):r("",!0)])])],2)]),default:R(()=>[e(Oe)($.description)?(t(),i("div",{key:0,class:V(["am-fcis__info-employee__description",{"ql-description":$.description.includes("<!-- Content -->")}]),innerHTML:$.description},null,10,Jl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(oe)==="employees"]]):r("",!0)])])):r("",!0),e(_e).length&&e(Se).show!=="services"&&e(j).servicePackages.visibility&&!e(Ne)(e(U))?(t(),i("div",Yl,[a("div",Ql,[a("span",Xl,o(e(I).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:B[7]||(B[7]=()=>re(fe)?fe.value=!e(fe):fe=!e(fe))},[e(fe)?(t(),i(K,{key:1},[ue(o(e(I).less_packages),1)],64)):(t(),i(K,{key:0},[ue(o(e(I).more_packages),1)],64))])):r("",!0)]),(t(!0),i(K,null,ye(e(ee),$=>(t(),i("div",{key:$.id,class:"am-fcis__include",onClick:S=>Ae($)},[a("div",Kl,[e(m)>450?(t(),ge(nt,{key:0,"item-class":"am-fcis__include-img","item-data":$,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:V([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[a("div",{class:V(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[a("div",{class:V(["am-fcis__include-name",{"am-mobile":e(m)<600}])},o($.name),3),e(j).packagePrice.visibility?(t(),i("div",eo,[$.discount?(t(),i("span",to,o(`${e(I).save} ${$.discount}%`),1)):r("",!0),a("span",ao,o($.price?e(Xe)(e(Vt)($)):e(I).free),1),(e(j).tax?.visibility??!0)&&e(ft)(e(U),$.id,"package")?(t(),i("span",io,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[ue(o(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(o(e(I).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",so,[e(j).packageCategory.visibility&&e(ke)?(t(),i("div",lo,[oo,a("span",null,o(e(ke).name),1)])):r("",!0),e(j).packageDuration.visibility?(t(),i("div",no,[co,$.endDate?(t(),i("span",ro,o(`${e(I).expires_at} ${$.endDate.split(" ")[0]}`),1)):$.durationCount?(t(),i("span",uo,o(`${e(I).expires_after} ${$.durationCount} ${Ee($.durationCount,$.durationType)}`),1)):(t(),i("span",mo,o(e(I).without_expiration),1))])):r("",!0),e(j).packageCapacity.visibility?(t(),i("div",po,vo)):r("",!0),e(j).packageLocation.visibility&&e(Te).length?(t(),i("div",go,[yo,a("span",null,o(e(Te).length===1?e(Te)[0].address?e(Te)[0].address:e(Te)[0].name:e(I).multiple_locations),1)])):r("",!0),e(j).packageServices.visibility?(t(),i("div",ho,[a("span",null,o(`${e(I).in_package}:`),1),(t(!0),i(K,null,ye($.bookable,S=>(t(),i("span",{key:S.id},o(S.service.name),1))),128))])):r("",!0)])],2)])],8,Zl))),128))])):r("",!0),J(rt,{modelValue:e(O),"onUpdate:modelValue":B[9]||(B[9]=$=>re(O)?O.value=$:O=$),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Fe),onClosed:le},{default:R(()=>[J(Wt,{"show-cart":e(p),onAddToCart:H,onEmptiedCart:B[8]||(B[8]=$=>re(O)?O.value=!1:O=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ze)?(t(),i("div",bo,[a("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,ko),a("div",Co,o(e(I).oops),1),a("div",$o,o(e(Se).show!=="packages"?e(I).no_services_employees:e(I).no_package_services),1),a("div",So,[e(Se).show!=="packages"?(t(),i("span",wo,o(e(I).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",xo,o(e(I).add_services_url)+"\xA0 ",1),e(Se).show!=="packages"?(t(),i("span",Po,o(e(I).and)+"\xA0 ",1)):r("",!0),e(Se).show!=="packages"?(t(),i("a",Io,o(e(I).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const Lo={class:"am-fcip__header-text"},To={class:"am-fcip__header-name"},Bo={key:0,class:"am-fcip__badge am-package"},Fo=a("span",{class:"am-icon-shipment"},null,-1),zo={class:"am-fcip__header-action"},Ao={key:0,class:"am-fcip__header-discount"},Ro={key:1,class:"am-fcip__header-price"},Oo={key:2,class:"am-fcip__header-tax"},Mo={class:"am-fcip__header-btn"},Vo={key:0,class:"am-fcip__header-bottom"},No={class:"am-fcip__mini-info"},Uo={key:0,class:"am-fcip__mini-info__inner"},Wo=a("span",{class:"am-icon-folder"},null,-1),jo={key:1,class:"am-fcip__mini-info__inner"},Ho=a("span",{class:"am-icon-clock"},null,-1),qo={key:0},Go={key:1},Jo={key:2},Yo={key:2,class:"am-fcip__mini-info__inner"},Qo=a("span",{class:"am-icon-user"},null,-1),Xo=a("span",null,"1/1",-1),Zo=[Qo,Xo],Ko={key:3,class:"am-fcip__mini-info__inner"},en=a("span",{class:"am-icon-locations"},null,-1),tn={key:0,class:"am-fcip__gallery"},an={key:0,class:"am-fcip__gallery-thumb__wrapper"},sn=a("span",{class:"am-icon-gallery"},null,-1),ln={class:"am-gd__display-wrapper"},on={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},nn=["src","alt"],cn={class:"am-gd__selection"},rn={class:"am-gd__thumb-wrapper"},un=["onClick"],dn={key:1,class:"am-fcip__info"},mn={class:"am-fcip__info-tab__wrapper"},pn={class:"am-fcip__info-content__wrapper"},_n={key:0,class:"am-fcip__info-content"},fn=["innerHTML"],vn={key:1,class:"am-fcip__info-content"},gn={class:"am-fcip__info-employee"},yn={class:"am-fcip__info-employee__hero"},hn={class:"am-fcip__info-employee__name"},bn=["innerHTML"],kn={key:2,class:"am-fcip__include-wrapper"},Cn={class:"am-fcip__include-heading"},$n={class:"am-fcip__include-heading__text"},Sn={class:"am-fcip__include-service"},wn={class:"am-fcip__include-service__info"},xn={key:0},Pn=["innerHTML"],In={class:"am-fcip__include-footer"},En={class:"am-fcip__include-footer__text"},Dn={key:1,ref:"ameliaContainer",class:"am-empty"},Ln=["src"],Tn={class:"am-empty__heading"},Bn={class:"am-empty__subheading"},Fn={class:"am-empty__text"},zn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},An={name:"CategoryPackage"},Rn=Object.assign(An,{setup(v){let{previousPage:L}=F("changingPageFunctions",{previousPage:()=>{}}),d=P(),w=F("containerWidth");const k=F("settings"),T=F("baseUrls");let m=at();const s=F("shortcodeData"),u=y(()=>m.getters["entities/getPreselected"]);let g=F("amEntities"),x=F("customizedDataForm"),C=y(()=>x.value.categoryPackage.options),I=y(()=>"pageScroll"in C.value?C.value.pageScroll.visibility:!0),f=F("itemType"),U=F("categorySelected"),te=y(()=>g.value.categories.find(Y=>Y.id===U.value)),D=y(()=>g.value.packages.find(Y=>Y.id===m.getters["booking/getPackageId"])),z=P(0),c=P("description"),j=y(()=>ta(g.value,D.value,s.value)),ne=y(()=>At(g.value,D.value,s.value)),Q=P(u.value.employee.length>0?g.value.unfilteredEmployees.filter(Y=>u.value.employee.map(W=>parseInt(W)).includes(Y.id)):g.value.unfilteredEmployees);function pe(Y){let W=[];return Y.providers.length?Y.providers.forEach(A=>{Q.value.find(le=>le.id===parseInt(A.id))&&W.push(Q.value.find(le=>le.id===parseInt(A.id)))}):W=Q.value.filter(A=>A.serviceList.find(le=>le.id===Y.service.id)),W}ze(()=>{C.value.packageDescription.visibility||(c.value="employees"),Oe(D.value.description)||(c.value="employees")});let ke=P(!1);Ot(()=>{ke.value=m.getters["entities/getEmployees"].length===0||j.value.length===0});let N=P(!1),he=y(()=>{let Y=D.value.gallery.length?JSON.parse(JSON.stringify(D.value.gallery)):[];return D.value.gallery.length===1?[]:(Y.shift(),Y.length>2&&Y.splice(2,Y.length-2),Y)});function oe(){f.value="",Ie(()=>{L()})}let _=P(!1),ve=P("760px");se("bookingDialogWidth",ve);function $e(){m.commit("booking/setPackageId",D.value.id),m.commit("booking/setMultipleAppointments",Pt(0,D.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),Ie(()=>{_.value=!0})}F("restoreFormData").value&&$e();let fe=P("");se("stepName",fe);function ee(){let Y=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),W=Y.settings?JSON.parse(Y.settings):k;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:k.general.redirectUrlAfterAppointment?window.location.href=k.general.redirectUrlAfterAppointment:window.location.reload()}function Te(){fe.value&&fe.value==="CongratulationsStep"?ee():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),ve.value="760px"}let Be=F("amFonts");const p=F("labels"),Z=F("localLanguage");let H=y(()=>k.general.usedLanguages.includes(Z.value)),O=y(()=>{let Y=it({...p});if(k.customizedData&&k.customizedData.cbf&&k.customizedData.cbf.categoryPackage.translations){let W=k.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(A=>{W[A][Z.value]&&H.value?Y[A]=W[A][Z.value]:W[A].default&&(Y[A]=W[A].default)})}return Y});function Fe(Y){return Y.length===1||Y.length&&Y.every(W=>W.id===Y[0].id)?Y[0].address?Y[0].address:Y[0].name:O.value.multiple_locations}function de(Y,W){let A="";return Y>1?(W==="day"&&(A=O.value.expires_days),W==="week"&&(A=O.value.expires_weeks),W==="month"&&(A=O.value.expires_months)):(W==="day"&&(A=O.value.expires_day),W==="week"&&(A=O.value.expires_week),W==="month"&&(A=O.value.expires_month)),A}let Ce=F("amColors"),Ae=y(()=>({"--am-c-fcip-success-op20":ae(Ce.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(Ce.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(Ce.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(Ce.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(Ce.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(Ce.value.colorBtnSec,.5)})),Se=y(()=>({"--am-c-fcip-bgr":Ce.value.colorMainBgr,"--am-c-fcip-text":Ce.value.colorMainText,"--am-c-fcip-success":Ce.value.colorSuccess,"--am-c-fcip-primary":Ce.value.colorPrimary,"--am-c-scroll-op30":ae(Ce.value.colorPrimary,.3),"--am-c-scroll-op10":ae(Ce.value.colorPrimary,.1),"--am-font-family":Be.fontFamily}));return(Y,W)=>(t(),i(K,null,[e(ke)?r("",!0):(t(),ge(Ut,{key:0,ref_key:"contentRef",ref:d,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(I)?"":"no-scroll"}`,style:ce(e(Ae))},Mt({heading:R(()=>[a("div",{class:V([[{"am-tablet":e(w)<=678},{"am-mobile":e(w)<450}],"am-fcip__header-top"])},[a("div",Lo,[a("span",To,[a("span",null,o(e(D).name),1)]),e(C).packageBadge.visibility?(t(),i("div",Bo,[Fo,a("span",null,o(e(O).package),1)])):r("",!0)]),a("div",zo,[e(D).discount&&e(C).packagePrice.visibility?(t(),i("span",Ao,o(`${e(O).save} ${e(D).discount}%`),1)):r("",!0),e(C).packagePrice.visibility?(t(),i("span",Ro,o(e(D).price?e(Xe)(e(Vt)(e(D))):e(O).free),1)):r("",!0),e(D).price&&(e(C).tax?.visibility??!0)&&e(ft)(e(m),e(D).id,"package")?(t(),i("span",Oo,[e(k).payments.taxes.excluded?(t(),i(K,{key:0},[ue(o(`+${e(O).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(o(e(O).incl_tax),1)],64))])):r("",!0),a("span",Mo,[J(Re,{type:e(C).bookingBtn.buttonType,onClick:$e},{default:R(()=>[ue(o(e(O).book_now),1)]),_:1},8,["type"])])])],2),e(C).packageCategory.visibility&&e(u).package.length!==1||e(C).packageDuration.visibility||e(C).packageCapacity.visibility||e(C).packageLocation.visibility&&e(ne).length?(t(),i("div",Vo,[a("div",No,[e(u).package.length!==1&&e(C).packageCategory.visibility&&e(te)?(t(),i("div",Uo,[Wo,a("span",null,o(e(te).name),1)])):r("",!0),e(C).packageDuration.visibility?(t(),i("div",jo,[Ho,e(D).endDate?(t(),i("span",qo,o(`${e(O).expires_at} ${e(D).endDate.split(" ")[0]}`),1)):e(D).durationCount?(t(),i("span",Go,o(`${e(O).expires_after} ${e(D).durationCount} ${de(e(D).durationCount,e(D).durationType)}`),1)):(t(),i("span",Jo,o(e(O).without_expiration),1))])):r("",!0),e(C).packageCapacity.visibility?(t(),i("div",Yo,Zo)):r("",!0),e(ne).length&&e(C).packageLocation.visibility?(t(),i("div",Ko,[en,a("span",null,o(Fe(e(ne))),1)])):r("",!0)])])):r("",!0)]),content:R(()=>[e(D).gallery.length?(t(),i("div",tn,[a("div",{class:V(["am-fcip__gallery-hero",[{w100:e(D).gallery.length===1},{"am-mobile w100":e(w)<678}]]),style:ce({backgroundImage:`url(${e(D).gallery[0].pictureFullPath})`})},null,6),e(he).length&&e(w)>677?(t(),i("div",an,[(t(!0),i(K,null,ye(e(he),(A,le)=>(t(),i("div",{key:le,class:V(["am-fcip__gallery-thumb",{"am-one-thumb":e(he).length===1}]),style:ce({backgroundImage:`url(${A.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Re,{"custom-class":`am-fcip__gallery-btn${e(w)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>re(N)?N.value=!0:N=!0)},{default:R(()=>[sn,a("span",null,o(e(O).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(rt,{modelValue:e(N),"onUpdate:modelValue":W[4]||(W[4]=A=>re(N)?N.value=A:N=A),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:ce(e(Se))},[a("div",ln,[a("div",on,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>re(z)?z.value=e(z)<=0?e(D).gallery.length-1:e(z)-1:z=e(z)<=0?e(D).gallery.length-1:e(z)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>re(z)?z.value=e(D).gallery.length-1===e(z)?0:e(z)+1:z=e(D).gallery.length-1===e(z)?0:e(z)+1)})]),(t(!0),i(K,null,ye(e(D).gallery,(A,le)=>(t(),i("div",{key:le,class:"am-gd__display",style:ce({display:le===e(z)?"flex":"none"}),onClick:W[3]||(W[3]=()=>re(z)?z.value=e(D).gallery.length-1===e(z)?0:e(z)+1:z=e(D).gallery.length-1===e(z)?0:e(z)+1)},[a("img",{src:A.pictureFullPath,alt:le},null,8,nn)],4))),128))]),a("div",cn,o(`${e(z)+1}/${e(D).gallery.length}`),1),a("div",rn,[(t(!0),i(K,null,ye(e(D).gallery,(A,le)=>(t(),i("div",{key:le,class:V(["am-gd__thumb",{"am-active":le===e(z)}]),style:ce({backgroundImage:`url(${A.pictureFullPath})`}),onClick:()=>re(z)?z.value=le:z=le},null,14,un))),128))])],4)]),_:1},8,["modelValue"]),e(C).packageDescription.visibility&&e(Oe)(e(D).description)||e(C).packageEmployees.visibility?(t(),i("div",dn,[a("div",mn,[e(Oe)(e(D).description)&&e(C).packageDescription.visibility?(t(),i("div",{key:0,class:V(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>re(c)?c.value="description":c="description")},o(e(O).about_package),3)):r("",!0),e(C).packageEmployees.visibility?(t(),i("div",{key:1,class:V([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>re(c)?c.value="employees":c="employees")},o(e(O).tab_employees),3)):r("",!0)]),a("div",pn,[e(Oe)(e(D).description)&&e(C).packageDescription.visibility?wt((t(),i("div",_n,[a("div",{class:V(["am-fcip__info-service__desc",{"ql-description":e(D).description.includes("<!-- Content -->")}]),innerHTML:e(D).description},null,10,fn)],512)),[[xt,e(c)==="description"]]):r("",!0),e(C).packageEmployees.visibility?wt((t(),i("div",vn,[J($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(j),A=>(t(),ge(St,{key:A.id,side:""},{heading:R(()=>[a("div",gn,[a("div",yn,[J(nt,{"item-class":"am-fcip__info-employee__img","item-data":A,"trim-string":3},null,8,["item-data"]),a("div",hn,[ue(o(A.firstName)+" "+o(A.lastName)+" ",1),A.badge?(t(),i("span",{key:0,style:ce({background:A.badge.color}),class:"am-fcip__info-employee__badge"},o(A.badge.content),5)):r("",!0)])])])]),default:R(()=>[e(Oe)(A.description)?(t(),i("div",{key:0,class:V(["am-fcip__info-employee__description",{"ql-description":A.description.includes("<!-- Content -->")}]),innerHTML:A.description},null,10,bn)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(c)==="employees"]]):r("",!0)])])):r("",!0),e(C).packageServices.visibility?(t(),i("div",kn,[a("div",Cn,[a("span",$n,o(`${e(O).package_includes}:`),1)]),J($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(D).bookable,A=>(t(),ge(St,{key:A.id,side:!0},{heading:R(()=>[a("div",Sn,[J(nt,{"item-class":"am-fcip__include-service__img","item-data":A.service},null,8,["item-data"]),ue(" "+o(A.service.name+(e(D).sharedCapacity?"":" x"+A.quantity)),1)])]),default:R(()=>[a("div",wn,[a("span",null,o(`${e(O).tab_employees}:`),1),(t(!0),i(K,null,ye(pe(A).slice(0,6),le=>(t(),ge(nt,{key:le.id,"item-class":"am-fcip__include-service__info-name","item-data":le,"trim-string":3},null,8,["item-data"]))),128)),pe(A).length>6?(t(),i("span",xn," + "+o(pe(A).length-6),1)):r("",!0),e(Oe)(A.service.description)?(t(),i("div",{key:1,class:V(["am-fcip__include-service__info-description",{"ql-description":A.service.description.includes("<!-- Content -->")}]),innerHTML:A.service.description},null,10,Pn)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",In,[a("span",En,o(e(O).package_book_service),1)])])):r("",!0),J(rt,{modelValue:e(_),"onUpdate:modelValue":W[7]||(W[7]=A=>re(_)?_.value=A:_=A),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ve),onClosed:Te},{default:R(()=>[J(Wt)]),_:1},8,["modelValue","width"])]),_:2},[e(u).package.length!==1?{name:"header",fn:R(()=>[J(Nt,{"btn-string":e(O).back_btn,"btn-type":e(C).backBtn.buttonType,onGoBack:oe},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ke)?(t(),i("div",Dn,[a("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ln),a("div",Tn,o(e(O).oops),1),a("div",Bn,o(e(O).no_package_services),1),a("div",Fn,[a("a",zn,o(e(O).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const On={name:"CatalogSkeleton"},Mn=Object.assign(On,{setup(v){let L=P(null),d=P(0);window.addEventListener("resize",w);function w(){L.value&&(d.value=L.value.offsetWidth)}ze(()=>{L.value&&(d.value=L.value.offsetWidth)});let k=y(()=>d.value<=500?"am-w100":d.value<=600?"am-w50":d.value<=768?"am-w33":"");return(T,m)=>{const s=ja,u=Wa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:L,class:"am-skeleton-catalog__wrapper"},[J(u,{animated:"",class:"am-skeleton-catalog"},{template:R(()=>[(t(!0),i(K,null,ye(new Array(8),g=>(t(),i("div",{key:g,class:V(["am-skeleton-catalog__item",e(k)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Vn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Nn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Un=["href"],Wn={name:"CatalogFormWrapper"},jn=Object.assign(Wn,{emits:["isRestored"],setup(v,{emit:L}){let d=F("isMounted"),w=F("licence"),k=P(null),T=P(20);const m=F("baseUrls");let s=P(0);se("containerWidth",s),window.addEventListener("resize",u);function u(){k.value&&(s.value=k.value.offsetWidth)}ze(()=>{I.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+C.value.counter).classList.add("amelia-v2-booking-"+C.value.counter+"-loaded"),_t(I,{},"ViewContent","appointment",null,null),u(),d.value=!0,Yt("scrollForm",{offsetFromTop:T})});let g=P(!1);const x=F("settings"),C=F("shortcodeData"),I=at();I.commit("entities/setPreselected",C.value),I.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:w,loadEntities:C.value.hasApiCall,showHidden:!1,isPanel:!1});const f=Pe(Di),U=Pe(dl),te=Pe(Do),D=Pe(Rn);let z=P([f,U]),c=P(0),j=P(null);se("categorySelected",j);let ne=P([]);se("availableCategories",ne);let Q=P("");se("itemType",Q),Ct(Q,()=>{Q.value==="appointment"&&z.value.push(te),Q.value==="package"&&z.value.push(D),Q.value===""&&z.value.forEach((Z,H)=>{Z.name==="CategoryService"&&pe(z.value,H),Z.name==="CategoryPackage"&&pe(z.value,H)})});function pe(Z,H){Z.splice(H,1)}function ke(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function N(){if(c.value=c.value+1,ke())setTimeout(()=>{let Z=k.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Z,behavior:"smooth"})},500);else{let Z=k.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Z,behavior:"smooth"})}}function he(){c.value=c.value-1}se("changingPageFunctions",{nextPage:N,previousPage:he});let oe=y(()=>I.getters["entities/getReady"]),_=y(()=>I.state.entities);se("amEntities",_);function ve(){let Z=I.getters["entities/getPreselected"];if(Z.category.length!==1&&(C.value.categories_hidden&&(ne.value=JSON.parse(JSON.stringify(bt(_.value,C.value))),Ie(()=>{let H=z.value.findIndex(O=>O.name==="CategoriesList");z.value.splice(H,1)})),C.value.categories_hidden||(ne.value=JSON.parse(JSON.stringify(bt(_.value,C.value))),Ie(()=>{if(ne.value.length===1){I.commit("booking/setCategoryId",parseInt(ne.value[0].id)),j.value=parseInt(ne.value[0].id);let H=z.value.findIndex(O=>O.name==="CategoriesList");z.value.splice(H,1)}}))),Z.category.length===1&&(I.commit("booking/setCategoryId",parseInt(Z.category)),j.value=parseInt(Z.category[0]),ne.value=JSON.parse(JSON.stringify(bt(_.value,C.value).filter(H=>H.id===parseInt(Z.category[0])))),Ie(()=>{let H=z.value.findIndex(O=>O.name==="CategoriesList");z.value.splice(H,1)})),Z.service.length===1){I.commit("booking/setServiceId",parseInt(Z.service[0]));let H=I.getters["entities/getService"](parseInt(Z.service[0]));j.value=H?parseInt(H.categoryId):null,I.commit("booking/setCategoryId",H?parseInt(H.categoryId):null),Ie(()=>{z.value=[],z.value.push(te)})}Z.employee.length===1&&I.commit("booking/setEmployeeId",parseInt(Z.employee[0])),Z.location.length===1&&I.commit("booking/setLocationId",parseInt(Z.location[0])),Z.package.length===1&&I.getters["entities/getPackages"].length&&(z.value=[],I.commit("booking/setPackageId",parseInt(Z.package[0])),Ie(()=>{z.value.push(D)})),Z.show==="packages"?I.commit("booking/setBookableType","package"):I.commit("booking/setBookableType","appointment")}let $e=y(()=>oe.value?qa(I,C.value):null);se("restoreFormData",$e),Ct(oe,Z=>{Z&&(ve(),g.value=I.getters["entities/getServices"].length===0||I.getters["entities/getEmployees"].length===0,$e.value&&(Q.value=I.state.booking.appointment.type,Ie(()=>{c.value=z.value.length-1,j.value=I.state.booking.appointment.categoryId,L("isRestored",$e.value)})))});let _e=y(()=>x.customizedData&&"cbf"in x.customizedData?x.customizedData.cbf:ot.cbf);se("customizedDataForm",_e);const fe=P(x.customizedData?x.customizedData.fonts:ot.fonts);se("amFonts",fe);let ee=y(()=>x.customizedData&&"cbf"in x.customizedData?x.customizedData.cbf.colors:ot.cbf.colors);se("amColors",ee);let Te=y(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":fe.value.fontFamily}));function Be(){let Z=document.head||document.getElementsByTagName("head")[0];Z.querySelector("#amCustomFont")&&Z.querySelector("#amCustomFont").remove();let H=`@font-face {font-family: '${fe.value.fontFamily}'; src: url(${fe.value.fontUrl});}`,O=document.createElement("style");Z.appendChild(O),O.setAttribute("type","text/css"),O.setAttribute("id","amCustomFont"),O.appendChild(document.createTextNode(H))}fe.value.customFontSelected&&Be();let p=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",p),(Z,H)=>(t(),i(K,null,[fe.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Vn,Nn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Un)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:k,class:"am-fc__wrapper",style:ce(e(Te))},[e(oe)&&e(z).length?(t(),ge(Qt(e(z)[e(c)]),{key:0})):(t(),ge(Mn,{key:1}))],4),J(e(Ha))],64))}});var qn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"}));export{qn as C,rt as _,oi as a,Nt as b,nt as c,Ut as d,jn as e};
