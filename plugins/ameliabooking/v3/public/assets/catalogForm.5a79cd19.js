import{A as ra,r as b,o as Be,t as ca,c as h,E as ua,a as t,b as ye,w as A,d as i,e as o,f as it,u as e,i as ce,n as R,g as re,h as Gt,_ as $t,j as lt,k as a,l as me,m as da,p as Fe,q as c,s as q,v as Vt,x as z,y as ie,F as Q,z as he,B as xe,C as Jt,D as st,G as Ke,I as ma,H as _t,J as le,K as ct,L as wt,M as Se,N as pa,O as _a,P as fa,R as va,Q as ga,S as ya,T as ha,U as ba,V as ka,W as Ca,X as $a,Y as wa,Z as Sa,$ as xa,a0 as Je,a1 as Ft,a2 as Pa,a3 as Dt,a4 as Mt,a5 as pt,a6 as Yt,a7 as Ia,a8 as Da,a9 as La,aa as Xt,ab as Me,ac as Ye,ad as Ea,ae as Ta,af as Ba,ag as Ut,ah as za,ai as Zt,aj as Fa,ak as Aa,al as Kt,am as Ra,an as Na,ao as At,ap as St,aq as Rt,ar as Wt,as as ft,at as xt,au as Ne,av as Pt,aw as It,ax as Oa,ay as Va,az as Ma,aA as Ua,aB as Wa,aC as ja}from"./stepForm.3c2becda.js";const Ha={key:0,class:"am-dialog__title"},qa={inheritAttrs:!1},mt=Object.assign(qa,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:ra},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(y,{emit:D}){const u=y,k=b(null);Be(()=>{u.usedForShortcode&&(k.value.rendered=!0)});let{modelValue:S}=ca(u),P=h({get:()=>S.value,set:d=>{D("update:modelValue",d)}});return(d,l)=>{const p=ua;return t(),ye(p,{ref_key:"amDialogRef",ref:k,modelValue:e(P),"onUpdate:modelValue":l[0]||(l[0]=_=>ce(P)?P.value=_:P=_),"modal-class":`am-dialog-popup ${u.modalClass}`,class:R(u.customClass),title:u.title,width:u.width,fullscreen:u.fullscreen,top:u.top,modal:u.modal,"append-to-body":u.appendToBody,"lock-scroll":u.lockScroll,"open-delay":u.openDelay,"close-delay":u.closeDelay,"close-on-click-modal":u.closeOnClickModal,"close-on-press-escape":u.closeOnPressEscape,"show-close":u.showClose,"before-close":u.beforeClose,center:u.center,"destroy-on-close":u.destroyOnClose,"close-icon":u.closeIcon,style:re(u.customStyles),onClose:l[1]||(l[1]=_=>D("close")),onOpen:l[2]||(l[2]=_=>D("open")),onClosed:l[3]||(l[3]=_=>D("closed")),onOpened:l[4]||(l[4]=_=>D("opened"))},{header:A(()=>[y.title?(t(),i("span",Ha,o(y.title),1)):it(d.$slots,"title",{key:1})]),footer:A(()=>[it(d.$slots,"footer")]),default:A(()=>[it(d.$slots,"default")]),_:3},8,["modelValue","modal-class","class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon","style"])}}});const Ga={class:"am-cat__header-inner"},Ja={class:"am-cat__back-btn"},Ya={key:0,class:"am-cat__cart-btn"},Qa={class:"am-cat__cart-number"},Xa={name:"MainHeader"},jt=Object.assign(Xa,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(y,{emit:D}){const u=y;let k=Gt({components:{IconComponent:$t},template:'<IconComponent icon="arrow-left"></IconComponent>'}),S=Gt({components:{IconComponent:$t},template:'<IconComponent icon="cart"/>'});function P(){D("goBack")}const d=lt();function l(){Vt(d),D("goToCart")}return(p,_)=>(t(),i("div",Ga,[a("div",Ja,[e(u).backBtnVisibility?(t(),ye(Fe,{key:0,prefix:e(k),category:"secondary",type:y.btnType,size:y.btnSize,onClick:P,onKeydown:da(P,["enter"])},{default:A(()=>[me(o(e(u).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):c("",!0)]),e(u).cartBtnVisibility?(t(),i("div",Ya,[a("span",Qa,o(e(u).cartItemsNumber),1),q(Fe,{"aria-label":"Go to cart button",category:"secondary",type:y.btnType,size:y.btnSize,round:!0,"icon-only":!0,icon:e(S),onClick:l},null,8,["type","size","icon"])])):c("",!0)]))}});const Za={class:"am-cat__sidemenu-item__wrapper"},Ka=["onClick"],ei={key:0,class:"am-cat__sidemenu-footer"},ti={class:"am-cat__sidemenu-footer__text"},ai=["href"],ii={name:"SideMenu"},li=Object.assign(ii,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(y,{emit:D}){const u=y;function k(d){D("click",d)}let S=z("amColors"),P=h(()=>({"--am-c-csm-text-op10":ie(S.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(S.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(S.value.colorSbText,.6),"--am-c-csm-text-op80":ie(S.value.colorSbText,.8)}));return(d,l)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:re(e(P))},[a("div",Za,[(t(!0),i(Q,null,he(y.menuItems,(p,_)=>(t(),i("div",{key:_,class:R(["am-cat__sidemenu-item",{"am-active":e(u).initSelection===p[e(u).identifier]}]),onClick:()=>k(p)},o(p[e(u).nameIdentifier]),11,Ka))),128))]),e(u).companyEmail?(t(),i("div",ei,[a("span",ti,o(e(u).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(u).companyEmail}`},o(e(u).companyEmail),9,ai)])):c("",!0)],4))}});const si={name:"MainContent"},Ht=Object.assign(si,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(y,{expose:D}){let u=b(null),k=b(0),S=b(null),P=b(0),d=b(null),l=b(0),p=b(null),_=b(null),v=b(0);window.addEventListener("resize",M);function M(){xe(()=>{u.value&&(k.value=u.value.offsetWidth),S.value&&(P.value=S.value.offsetWidth),d.value&&(l.value=d.value.offsetWidth)})}Be(()=>{xe(()=>{if(d.value&&p.value){let N=d.value.offsetHeight-p.value.offsetHeight-2;v.value=N<=656?656:N}M()})}),D({catHeaderWidth:k,catFormWidth:l,catContainerWidth:P});let $=z("amColors"),g=h(()=>({"--am-h-cat-content":`${v.value}px`,"--am-c-scroll-op30":ie($.value.colorPrimary,.3),"--am-c-scroll-op10":ie($.value.colorPrimary,.1)}));return(N,V)=>(t(),i("div",{class:R(["am-cat__wrapper",y.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:u,class:"am-cat__header"},[it(N.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:S,class:"am-cat__main"},[it(N.$slots,"side"),a("div",{ref_key:"catForm",ref:d,class:R(["am-cat__form",y.formClass]),style:re(e(g))},[a("div",{ref_key:"catHeading",ref:p,class:R(["am-cat__heading",y.headingClass])},[it(N.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:_,class:R(["am-cat__content",y.contentClass])},[it(N.$slots,"content")],2)],6)],512)],2))}}),oi={name:"AmImagePlaceholder"},ut=Object.assign(oi,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(y){const D=y;function u(S){return S.pictureFullPath?{backgroundImage:`url(${S.pictureFullPath})`}:{backgroundColor:`${Jt.value[Math.floor(Math.random()*Jt.value.length)]}`}}function k(S){return S.pictureFullPath?"":("firstName"in S?`${S.firstName} ${S.lastName}`:S.name).split(" ").map(d=>d.charAt(0)).join("").toUpperCase().substring(0,D.trimString).replace(/[^\w\s]/g,"")}return(S,P)=>(t(),i("span",{class:R(e(D).itemClass),style:re({...u(e(D).itemData)})},o(k(e(D).itemData)),7))}}),Nt=st(window.wpAmeliaSettings),Qt=st(window.wpAmeliaLabels);function ea(y,D,u,k=null,S=null){let P=[],d=y&&y.service?y.service.split(",").map(l=>parseInt(l)):null;return D&&D.serviceList.forEach(l=>{k?k in u.entitiesRelations&&l.id in u.entitiesRelations[k]&&(S?u.entitiesRelations[k][l.id].find(p=>p===S):!0)&&l.status==="visible"&&l.show&&!P.filter(p=>p===l.id).length&&(!d||d.includes(l.id))&&P.push(l.id):u.employees.forEach(p=>{p.id in u.entitiesRelations&&l.id in u.entitiesRelations[p.id]&&(S?u.entitiesRelations[p.id][l.id].find(_=>_===S):!0)&&l.status==="visible"&&l.show&&!P.filter(_=>_===l.id).length&&(!d||d.includes(l.id))&&P.push(l.id)})}),P}function ta(y,D){let u=[],k=[];y.employees.forEach(d=>{if(d.id in y.entitiesRelations&&D in y.entitiesRelations[d.id]){let l=d.serviceList.find(p=>p.id===D);u.push(l.maxCapacity),k.push(l.minCapacity)}});let S=k.reduce((d,l)=>l<d?l:d,k[0]),P=u.reduce((d,l)=>l>d?l:d,u[0]);return S!==P?`${S}/${P}`:S}function aa(y){let D=Math.floor(y/3600),u=y/60%60;return(D?D+Qt.h+" ":"")+" "+(u?u+Qt.min:"")}function dt(y,D){let u=[];y.employees.forEach(P=>{if(P.id in y.entitiesRelations&&D in y.entitiesRelations[P.id]){let d=P.serviceList.find(l=>l.id===D);u.push(d.price)}});let k=u.reduce((P,d)=>d<P?d:P,u[0]),S=u.reduce((P,d)=>d>P?d:P,u[0]);return k!==S?{price:`${Ke(k,!Nt.payments.hideCurrencySymbolFrontend)} - ${Ke(S,!Nt.payments.hideCurrencySymbolFrontend)}`,min:k,max:S}:{price:Ke(k,Nt.payments.hideCurrencySymbolFrontend),min:k,max:S}}function at(y,D){let u=[];return y.employees.forEach(k=>{k.id in y.entitiesRelations&&D in y.entitiesRelations[k.id]&&y.entitiesRelations[k.id][D].length&&y.locations.forEach(S=>{y.entitiesRelations[k.id][D].some(P=>P===S.id)&&!u.find(P=>P===S.id)&&u.push(S)})}),u}function ni(y,D){let u=[],k=Object.keys(y.entitiesRelations);return D.bookable.forEach(S=>{let P=[];k.forEach(d=>{y.entitiesRelations[d]&&y.entitiesRelations[d][S.service.id]&&!P.find(l=>l?l.id===parseInt(d):!0)&&P.push(y.employees.find(l=>l.id===parseInt(d)))}),P.length||u.push(!1)}),u.filter(S=>S===!1).length}function ri(y,D,u){let k=[],S=Object.keys(y.entitiesRelations),P=u&&u.employee?u.employee.split(",").map(l=>parseInt(l)):null,d=b(P?y.unfilteredEmployees.filter(l=>P.map(p=>parseInt(p)).includes(l.id)):y.unfilteredEmployees);return D.bookable.forEach(l=>{let p=[];l.providers.length?l.providers.forEach(_=>{l.locations.length?l.locations.forEach(v=>{d.value.find(M=>M.id===_.id)&&y.entitiesRelations[_.id]&&y.entitiesRelations[_.id][l.service.id]&&y.entitiesRelations[_.id][l.service.id].indexOf(v.id)!==-1&&!p.find(M=>M.id===_.id)&&p.push(d.value.find(M=>M.id===_.id))}):d.value.find(v=>v.id===_.id)&&!p.find(v=>v.id===_.id)&&p.push(d.value.find(v=>v.id===_.id))}):S.forEach(_=>{l.locations.length?l.locations.forEach(v=>{y.entitiesRelations[_]&&y.entitiesRelations[_][l.service.id]&&y.entitiesRelations[_][l.service.id].indexOf(v.id)!==-1&&d.value.find(M=>M.id===parseInt(_))&&!p.find(M=>M.id===parseInt(_))&&p.push(d.value.find(M=>M.id===parseInt(_)))}):y.entitiesRelations[_]&&y.entitiesRelations[_][l.service.id]&&d.value.find(v=>v.id===parseInt(_))&&!p.find(v=>v.id===parseInt(_))&&p.push(d.value.find(v=>v.id===parseInt(_)))}),k.push(!!p.length)}),!k.filter(l=>l===!1).length}function ia(y,D,u){let k=[],S=Object.keys(y.entitiesRelations),P=u&&u.employee?u.employee.split(",").map(l=>parseInt(l)):null,d=b(P?y.unfilteredEmployees.filter(l=>P.map(p=>parseInt(p)).includes(l.id)):y.unfilteredEmployees);return D.bookable.forEach(l=>{l.providers.length?l.providers.forEach(p=>{l.locations.length?l.locations.forEach(_=>{d.value.find(v=>v.id===p.id)&&y.entitiesRelations[p.id]&&y.entitiesRelations[p.id][l.service.id]&&y.entitiesRelations[p.id][l.service.id].indexOf(_.id)!==-1&&!k.find(v=>v.id===p.id)&&k.push(d.value.find(v=>v.id===p.id))}):d.value.find(_=>_.id===p.id)&&!k.find(_=>_.id===p.id)&&k.push(d.value.find(_=>_.id===p.id))}):S.forEach(p=>{l.locations.length?l.locations.forEach(_=>{y.entitiesRelations[p]&&y.entitiesRelations[p][l.service.id]&&y.entitiesRelations[p][l.service.id].indexOf(_.id)!==-1&&d.value.find(v=>v.id===parseInt(p))&&!k.find(v=>v.id===parseInt(p))&&k.push(d.value.find(v=>v.id===parseInt(p)))}):y.entitiesRelations[p]&&y.entitiesRelations[p][l.service.id]&&d.value.find(_=>_.id===parseInt(p))&&!k.find(_=>_.id===parseInt(p))&&k.push(d.value.find(_=>_.id===parseInt(p)))})}),k}function Ot(y,D,u){let k=[],S=Object.keys(y.entitiesRelations),P=u&&u.location?u.location.split(",").map(l=>parseInt(l)):null,d=b(P?y.unfilteredLocations.filter(l=>P.map(p=>parseInt(p)).includes(l.id)):y.unfilteredLocations);return D.bookable.forEach(l=>{l.locations.length?l.locations.forEach(p=>{d.value.find(_=>_.id===p.id)&&!k.find(_=>_.id===p.id)&&k.push(d.value.find(_=>_.id===p.id))}):S.forEach(p=>{d.value.forEach(_=>{p in y.entitiesRelations&&l.service.id in y.entitiesRelations[p]&&y.entitiesRelations[p][l.service.id].indexOf(_.id)!==-1&&d.value.find(v=>v.id===_.id)&&!k.find(v=>v.id===parseInt(_.id))&&k.push(d.value.find(v=>v.id===_.id))})})}),k}function Ct(y,D,u=null,k=null){let S=[];return y.categories.forEach(P=>{let d=ea(D,P,y,u,k);P.serviceIdList=d,P.packageList=[],y.packages.forEach(l=>{d.forEach(p=>{l.bookable.filter(_=>_.service.id===p).length&&!P.packageList.filter(_=>_===l.id).length&&l.available&&l.status==="visible"&&!ni(y,l)&&ri(y,l,D)&&P.packageList.push(l.id)})}),P.status==="visible"&&P.serviceList.length&&!!d.length&&(D.show==="packages"?!!P.packageList.length:!0)&&S.push(P)}),S}const ci={class:"am-fcl__item-inner"},ui={class:"am-fcl__item-name"},di={class:"am-fcl__item-segments"},mi={key:0,class:"am-fcl__item-segments__item"},pi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),_i={class:"am-fcl__item-segments__item-count"},fi={key:1,class:"am-fcl__item-segments__item"},vi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),gi={class:"am-fcl__item-segments__item-count"},yi={class:"am-fcl__item-footer"},hi=["src","alt"],bi={class:"am-empty__heading"},ki={class:"am-empty__subheading"},Ci={class:"am-empty__text"},$i={key:0},wi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Si={key:1},xi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Pi={name:"CategoriesList",key:"categoriesList"},Ii=Object.assign(Pi,{setup(y){const D=z("baseUrls");let u=b(null),k=b(0);window.addEventListener("resize",S);function S(){u.value&&(k.value=u.value.offsetWidth)}Be(()=>{u.value&&(k.value=u.value.offsetWidth)});let P=h(()=>k.value<=500?"am-w100":k.value<=600?"am-w50":k.value<=768?"am-w33":""),{nextPage:d}=z("changingPageFunctions",{nextPage:()=>{}});const l=z("settings");let p=lt(),_=z("amEntities"),v=z("customizedDataForm"),M=h(()=>v.value.categoriesList.options);const $=z("shortcodeData"),g=h(()=>p.getters["entities/getPreselected"]);let N=z("availableCategories"),V=h(()=>N.value),X=z("categorySelected");function _e(ge){X.value=ge,p.commit("booking/setCategoryId",parseInt(ge)),_t(p,{},"SelectCategory","appointment",null,null),d()}let n=h(()=>V.value.length===0);const I=z("labels"),ne=z("localLanguage");let K=h(()=>l.general.usedLanguages.includes(ne.value)),ue=h(()=>{let ge=st({...I});if(l.customizedData&&l.customizedData.cbf&&l.customizedData.cbf.categoriesList.translations){let te=l.customizedData.cbf.categoriesList.translations;Object.keys(te).forEach(ee=>{te[ee][ne.value]&&K.value?ge[ee]=te[ee][ne.value]:te[ee].default&&(ge[ee]=te[ee].default)})}return ge}),ke=z("amColors"),O=h(()=>({"--am-c-fcl-card-text-op80":ie(ke.value.colorCardText,.8)}));return(ge,te)=>e(n)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:u,class:"am-empty"},[a("img",{src:e(D).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(g).show!=="packages"?e(ue).no_services_employees:e(ue).no_package_services},null,8,hi),a("div",bi,o(e(ue).oops),1),a("div",ki,o(e(g).show!=="packages"?e(ue).no_services_employees:e(ue).no_package_services),1),a("div",Ci,[e(g).show!=="packages"?(t(),i("span",$i,o(e(ue).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",wi,o(e(ue).add_services_url)+"\xA0 ",1),e(g).show!=="packages"?(t(),i("span",Si,o(e(ue).and)+"\xA0 ",1)):c("",!0),e(g).show!=="packages"?(t(),i("a",xi,o(e(ue).add_employees_url),1)):c("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:u,class:"am-fcl",role:"main",style:re(e(O))},[(t(!0),i(Q,null,he(e(V),ee=>(t(),i("div",{key:ee.id,class:R(["am-fcl__item",e(P)]),role:"group"},[a("div",ci,[a("div",{class:"am-fcl__item-content",style:re(e(M).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:ee.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(M).cardColor&&e(M).cardColor.visibility?{backgroundColor:e(ie)(ee.color,.1)}:{})},[ee.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${ee.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):c("",!0),a("div",ui,o(ee.name),1),a("div",di,[(!e(g).show||e(g).show==="services")&&e(M).services.visibility?(t(),i("div",mi,[pi,a("span",_i,o(e(ea)(e($),ee,e(_)).length),1)])):c("",!0),(!e(g).show||e(g).show==="packages")&&ee.packageList.length&&e(M).packages.visibility?(t(),i("div",fi,[vi,a("span",gi,o(ee.packageList.length),1)])):c("",!0)])],4),a("div",yi,[q(Fe,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(M).cardButton.buttonType,suffix:e(ma),onClick:Le=>_e(ee.id)},{default:A(()=>[me(o(e(ue).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Di=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Li=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ei=["href"],Ti={class:"am-fs-sb__step-wrapper",tabindex:"0"},Bi={class:"am-fs-sb__step-inner"},zi={class:"am-fs-sb__step-icon"},Fi={key:0,class:"am-icon-check"},Ai={key:0},Ri={key:1},Ni={key:1},Oi={key:0,class:"am-fs-sb__step"},Vi={class:"am-fs-sb__step-inner"},Mi={class:"am-fs-sb__step-icon"},Ui={key:0,class:"am-icon-check"},Wi={key:0,class:"am-fs-sb__support"},ji=["aria-label","href"],Hi={key:1,class:"am-icon-phone"},qi=["aria-label","href"],Gi={key:1,class:"am-icon-email"},Ji={key:0,class:"am-fs-sb__menu-text"},Yi={key:2,class:"am-no-services"},Qi=["src","alt"],Xi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Zi={style:{"font-size":"14px"}},Ki={href:"https://wpamelia.com/employees/",rel:"nofollow"},el={name:"CategoryBooking"},qt=Object.assign(el,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(y,{emit:D}){const u=y;let k=b(null),S=b();le("containerWidth",S);let P=b(!1);window.addEventListener("resize",d);function d(){k.value&&(S.value=k.value.offsetWidth)}Be(()=>{xe(()=>{k.value&&(S.value=k.value.offsetWidth)}),_t(n,{containerWidth:S},"ContainerWidth","appointment",null,null)});const l=z("settings"),p=l.customizedData&&l.customizedData.sbsNew?l.customizedData.sbsNew:ct.sbsNew;p&&le("amCustomize",p);let _=h(()=>{let r={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(r.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(r.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(r.email=p.sidebar.options.companyEmail.visibility),r});const v=b(l.customizedData?l.customizedData.fonts:ct.fonts);le("amFonts",v);let M=b(!1);le("sidebarCollapsed",M);let $=b(""),g=z("bookingDialogWidth");wt(M,r=>{r?setTimeout(()=>{$.value="am-collapsed",setTimeout(()=>{g.value="592px"},200)},1e3):($.value="",g.value="760px")}),Be(()=>{p.sidebar.options.self.visibility||(g.value="520px")});let N=b(null),V=b(0);Be(()=>{setTimeout(()=>{xe(()=>{N.value&&setTimeout(()=>{N.value&&(V.value=N.value.offsetHeight)},200)})},800)});let X=b(p.sidebar?p.sidebar.options.self.visibility:!0);const _e=z("baseUrls"),n=lt();let I=h(()=>{let r=n.getters["entities/getOriginalPreselected"],x={category:n.state.booking.appointment.categoryId?[n.state.booking.appointment.categoryId]:[],counter:n.state.entities.preselected.counter,employee:n.state.booking.appointment.providerId?[n.state.booking.appointment.providerId]:[],hasApiCall:n.state.entities.preselected.hasApiCall,location:n.state.booking.appointment.locationId?[n.state.booking.appointment.locationId]:[],service:n.state.booking.appointment.serviceId?[n.state.booking.appointment.serviceId]:[],package:n.state.booking.packageId?[n.state.booking.packageId]:[],show:n.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(r).forEach(L=>{L in x||(x[L]=r[L])}),x});n.commit("entities/setPreselected",I.value);let ne=z("restoreFormData");const K=Se(pa),ue=Se(_a),ke=Se(fa),O=Se(va),ge=Se(ga),te=Se(ya),ee=Se(ha),Le=Se(ba),fe=Se(ka),Y=Se(Ca),Ce=Se($a),Oe=Se(wa),E=Se(Sa),W=Se(xa),m=b(Je(n)?[K,te,Y,Ce,fe]:[K,te,Ce,fe]);le("stepsArray",m);const de=z("labels"),ze=z("localLanguage");let pe=h(()=>l.general.usedLanguages.includes(ze.value)),Ue=Ft(n),j=h(()=>{let r=st({...de});return l.customizedData&&l.customizedData.sbsNew&&Object.keys(l.customizedData.sbsNew).forEach(x=>{if(x!=="colors"&&l.customizedData.sbsNew[x].translations){let L=l.customizedData.sbsNew[x].translations;Object.keys(L).forEach(Z=>{L[Z][ze.value]&&pe.value?r[Z]=L[Z][ze.value]:L[Z].default&&(r[Z]=L[Z].default)})}}),r});le("amLabels",j);let Ae=h(()=>{let r={};if(l.customizedData&&l.customizedData.sbsNew){let x=l.customizedData.sbsNew[m.value[C.value].key]?l.customizedData.sbsNew[m.value[C.value].key].translations:null;l.customizedData&&x&&Object.keys(x).forEach(L=>{x[L][ze.value]&&pe.value?r[L]=x[L][ze.value]:x[L].default&&(r[L]=x[L].default)})}return Object.keys(r).length?r:de}),We=h(()=>{let r="filled";return l.customizedData&&l.customizedData.sbsNew&&l.customizedData.sbsNew[m.value[C.value].key]&&(r=l.customizedData.sbsNew[m.value[C.value].key].options.primaryFooterButton.buttonType),r});le("primFooterBtnType",We),le("primDescBtnType",We);let ae=h(()=>{let r="text";return l.customizedData&&l.customizedData.sbsNew&&l.customizedData.sbsNew[m.value[C.value].key]&&l.customizedData.sbsNew[m.value[C.value].key].options.secondaryFooterButton&&(r=l.customizedData.sbsNew[m.value[C.value].key].options.secondaryFooterButton.buttonType),r}),Re=h(()=>l.customizedData&&l.customizedData.sbsNew&&l.customizedData.sbsNew.cartStep?l.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Pe=h(()=>l.customizedData&&l.customizedData.sbsNew&&l.customizedData.sbsNew.cartStep?l.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function G(r,x){let L="";if(l.customizedData&&l.customizedData.sbsNew){let Z=l.customizedData.sbsNew[x]?l.customizedData.sbsNew[x].translations:null;l.customizedData&&Z&&Z[r]&&(L===""&&Z[r][ze.value]&&pe.value?L=Z[r][ze.value]:L===""&&Z[r].default&&(L=Z[r].default))}return L||de[r]}let U=h(()=>Pa(n.getters["entities/getEmployeeServices"](n.getters["booking/getSelection"])));function B(){let r=n.getters["entities/getPreselected"];if(r.show==="packages")r.package.length>0&&(m.value.splice(0,1),se.value.splice(0,1),we()),f();else{w();let x=n.getters["entities/filteredEmployees"](n.getters["booking/getSelection"]).length<=1,L=!p.initStep.options.employee.visibility,Z=n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]).length<=1,Te=!p.initStep.options.location.visibility;r.service.length>0&&(r.employee.length>0||x||L)&&(r.location.length>0||Z||Te)&&(U.value.availability?(m.value.splice(0,1,W),se.value.splice(0,1)):(m.value.splice(0,1),se.value.splice(0,1)),f())}}function J(r,x,L,Z){r.value.map((Ge,na)=>x.includes(Ge.name)?na:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{r.value.splice(Ge,1)});let rt={value:Z};L.forEach(Ge=>{r.value.indexOf(Ge)===-1&&(n.getters["entities/getPreselected"].show==="packages"&&n.getters["entities/getPreselected"].package.length>0?r.value.splice(rt.value,0,Ge):r.value.splice(rt.value+1,0,Ge))})}le("goToPackageStep",{goToPackageStep:Ee});function Ee(r){n.commit("booking/setPackageId",r.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",Dt(0,r)),n.commit("booking/setMultipleAppointmentsIndex",0);let x=r.bookable.reduce((Te,rt)=>Te+rt.maximumScheduled,0),L=[],Z=[];m.value[0]!==ue&&L.push("ExtrasStep"),m.value[0]!==te&&L.push("DateTimeStep"),m.value[0]!==Y&&L.push("CartStep"),x>0?Z=Z.concat([Le,ee,ke]):Z.push(ke),J(m,L,Z,C.value),J(se,L,[],C.value),f(),Ve()}function we(){let x=n.state.entities.packages.find(Te=>Te.id===n.getters["booking/getPackageId"]).bookable.reduce((Te,rt)=>Te+rt.maximumScheduled,0),L=[],Z=[];m.value.find(Te=>Te.name==="ExtrasStep")&&L.push("ExtrasStep"),m.value.find(Te=>Te.name==="DateTimeStep")&&L.push("DateTimeStep"),x>0?Z=Z.concat([Le,ee,ke]):Z.push(ke),J(m,L,Z,C.value),J(se,L,[],C.value),f(),Ve()}function qe(){n.commit("booking/setBookableType","appointment"),n.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),n.commit("booking/setPackageId",null),n.commit("booking/setMultipleAppointmentsIndex",0),pt(n);let r=[];m.value[0]!==te&&(Je(n)&&r.push(Y),r.push(te)),m.value[0]!==ue&&F.value&&F.value.length&&r.push(ue),J(m,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],r,C.value-1),J(se,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],C.value),f()}le("goToRecurringStep",{goToRecurringStep:Ie}),le("removeRecurringStep",{removeRecurringStep:H});function Ie(){Je(n)&&Xe();let r=0;for(let x=0;x<m.value.length;x++)if(m.value[x].name==="DateTimeStep"){r=x;break}m.value.splice(r+1,0,O),m.value.splice(r+2,0,ge),f(),Ve()}function H(){for(let r=m.value.length-1;r>=0;r--)(m.value[r].name==="RecurringStep"||m.value[r].name==="RecurringSummary")&&m.value.splice(r+1,1);Je(n)&&De(C.value),f()}let F=h(()=>{let r=n.getters["entities/getService"](n.getters["booking/getServiceId"]);return r?r.extras:[]});function w(){F.value.length&&!m.value.find(r=>r.name==="ExtrasStep")&&(m.value.splice(C.value+1,0,ue),f()),se.value.find(r=>r.name==="ExtrasStep")&&!Object.keys(F.value).length&&(m.value.splice(1,1),se.value.splice(1,1)),u.showCart||pt(n)}le("initDataChanges",{changeInitStepDataService:w});const C=b(0);le("stepIndex",C);let vt=z("stepName",b(""));wt(C,(r,x)=>{r<se.value.length&&(se.value[x].selected=!1,se.value[r].selected=!0),r===se.value.length&&(se.value[x].selected=!1),vt.value=m.value[r].name});let gt=b(!1);le("goBackToPackageBooking",gt);function Lt(){bt(!1),$e.value||(m.value[C.value].name===ke.name&&qe(),m.value[C.value].name===O.name&&(m.value.splice(C.value,2),se.value.splice(C.value,2),Je(n)&&(m.value.splice(C.value,0,Y),J(se,[],[],C.value),f())),m.value[C.value].name===Le.name&&(gt.value=!0),C.value=C.value-1),tt.value=!tt.value}function Ve(){$e.value||(se.value[C.value].finished=!0,C.value=C.value+1)}let Qe=h(()=>n.getters["entities/getReady"]),ot=h(()=>n.getters["booking/getLoading"]),je=h(()=>n.getters["booking/getBooked"]),et=h(()=>n.getters["booking/getPaymentGateway"]),nt=b(!1),yt=b(!1),tt=b(!1);function ht(){nt.value=!0}function Et(){nt.value=!1}function Tt(){tt.value=!0}function Bt(){tt.value=!1}function bt(r){yt.value=r}function zt(){je.value&&(je.value.customerCabinetUrl?window.location.href=je.value.customerCabinetUrl:window.location.href=l.roles.customerCabinet.pageUrl)}le("secondButton",{secondButtonClick:zt});let $e=b(!1);le("changingStepsFunctions",{nextStep:Ve,previousStep:Lt,footerButtonClick:ht,footerButtonReset:Et,footerBtnDisabledUpdater:bt,headerButtonPreviousClick:Tt,headerButtonPreviousReset:Bt,footerBtnDisabled:yt,footerButtonClicked:nt,headerButtonPreviousClicked:tt,navigateInsideStep:$e});const se=b([]);le("sidebarSteps",se);function kt(r){se.value[C.value].stepSelectedData.filter(x=>x.reference===r.reference).length?se.value[C.value].stepSelectedData.forEach((x,L,Z)=>{x.reference===r.reference&&r.value&&r.value!==x.value&&(x.value=r.value),x.reference===r.reference&&!r.value&&Z.splice(L,1)}):r.value&&se.value[C.value].stepSelectedData.push(r),se.value[C.value].stepSelectedData.sort((x,L)=>x.position-L.position)}function T(){m.value.forEach((r,x)=>{if(r.name!=="CongratulationsStep"){let L=r.sidebarData.label,Z={name:r.name,key:r.key,label:j.value[L],labelKey:L,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:x===C.value};se.value.splice(x,0,Z)}})}Mt(()=>{T(),B()}),Be(()=>{switch(n.getters["booking/getBookableType"]){case"appointment":u.showCart||pt(n);break}if(u.showCart&&Yt(m,C),ne.value){m.value.splice(0,m.value.length),se.value.splice(0,se.value.length),C.value=0,ne.value.steps.forEach(x=>{switch(x){case"packageStep":m.value.push(E);break;case"bringingAnyone":m.value.push(W);break;case"initStep":m.value.push(K);break;case"packageInfoStep":m.value.push(ke);break;case"packageAppointmentsStep":m.value.push(ee);break;case"packageAppointmentsListStep":m.value.push(Le);break;case"extrasStep":m.value.push(ue);break;case"dateTimeStep":m.value.push(te);break;case"recurringStep":m.value.push(O);break;case"recurringSummary":m.value.push(ge);break;case"cartStep":m.value.push(Y);break;case"infoStep":m.value.push(Ce);break;case"paymentStep":m.value.push(Oe);break;case"congratulations":m.value.push(fe);break}let L=ne.value.sidebar.find(Z=>Z.key===x);f(),typeof L<"u"&&L.data&&L.data.forEach(Z=>{kt({reference:Z.reference,position:Z.position,value:Z.value})}),C.value++}),n.commit("booking/setLoading",!1);let r=-1;ne.value.result==="success"?r=m.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(r=m.value.length-2);for(let x=0;x<=r;x++)m.value[x].finished=!0;for(let x=0;x<=r-1;x++)se.value[x].finished=!0,se.value[x].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(se.value[r].finished=!1,se.value[r].selected=!0),C.value=r}});function f(){m.value.forEach((r,x)=>{if(r.name!=="CongratulationsStep"&&!se.value.find(L=>L.labelKey===r.sidebarData.label)){let L=r.sidebarData.label,Z={name:r.name,key:r.key,label:j.value[L],labelKey:L,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:x===C.value};se.value.splice(x,0,Z)}})}le("sidebarStepsFunctions",{sidebarDataCollector:kt}),le("addPaymentsStep",{addPaymentsStep:s}),le("removePaymentsStep",{removePaymentsStep:oe});function s(){m.value.splice(m.value.length-1,0,Oe),f()}function oe(){let r=["PaymentStep"];J(m,r,[],C.value),J(se,r,[],C.value)}function De(r){J(m,[],[Y],r),J(se,[],[],r)}function Xe(){J(m,["CartStep"],[],C.value),J(se,["CartStep"],[],C.value)}let Ze=h(()=>Ft(n).length?Ia(n)!==0:Da(n));La(()=>{let r=Ft(n);!r[0].serviceId&&Object.keys(r[0].services).length===0&&D("emptiedCart"),!ne.value&&!Ze.value?oe():ne.value||m.value.indexOf(Oe)===-1&&s()},{flush:"post"});function He(){se.value.forEach(r=>{r.finished=!1,r.selected=!1}),m.value.forEach(r=>{r.finished=!1,r.selected=!1}),C.value=0,Kt(n,!0),Ra(n),pt(n),D("addToCart")}function ve(){let r=n.getters["booking/getCurrentCartItem"],x=n.getters["booking/getAllMultipleAppointments"];r?(n.commit("booking/setCartItem",r),n.commit("booking/setCartItemIndex",x.length-1),n.commit("booking/setCurrentCartItem",null)):(x.pop(),n.commit("booking/setCartItemIndex",x.length-1),n.commit("booking/setServiceId",x[x.length-1].serviceId),n.commit("booking/setEmployeeId",x[x.length-1].services[x[x.length-1].serviceId].providerId),n.commit("booking/setLocationId",x[x.length-1].services[x[x.length-1].serviceId].locationId)),Yt(m,C)}let be=h(()=>l.customizedData&&l.customizedData.sbsNew?l.customizedData.sbsNew.colors:ct.sbsNew.colors);le("amColors",be);let la=h(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ie(be.value.colorMainText,.2),"--am-c-skeleton-op60":ie(be.value.colorMainText,.6),"--am-font-family":v.value.fontFamily,"--am-mw-main":X.value?M.value?"592px":"760px":"520px","--am-brad-main":X.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function sa(){let r=document.head||document.getElementsByTagName("head")[0];r.querySelector("#amCustomFont")&&r.querySelector("#amCustomFont").remove();let x=`@font-face {font-family: '${v.value.fontFamily}'; src: url(${v.value.fontUrl});}`,L=document.createElement("style");r.appendChild(L),L.setAttribute("type","text/css"),L.setAttribute("id","amCustomFont"),L.appendChild(document.createTextNode(x))}v.value.customFontSelected&&sa();let oa=h(()=>({colorInputBorderRadius:"6px"}));return le("amDesignProperties",oa),Be(()=>{Xt("renderForm",{ameliaContainer:k,containerWidth:S,empty:P,amCustomize:p,amFonts:v,sidebarCollapsed:M,sidebarCollapseItemsClass:$,sidebarFooterRef:N,sidebarFooterHeight:V,sidebarVisibility:X})}),(r,x)=>(t(),i(Q,null,[v.value.customFontSelected?c("",!0):(t(),i(Q,{key:0},[Di,Li,a("link",{rel:"stylesheet",type:"text/css",href:`${e(_e).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ei)],64)),e(P)?(t(),i("div",Yi,[a("img",{src:e(_e).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(j).no_services_employees},null,8,Qi),a("h1",null,o(e(j).oops),1),a("h3",null,o(e(j).no_services_employees),1),a("p",null,o(e(j).add_services_employees),1),a("a",Xi,o(e(j).add_services_url)+"\xA0 ",1),a("span",Zi,o(e(j).and)+"\xA0",1),a("a",Ki,o(e(j).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:k,class:R(["am-fs__wrapper",{"am-collapsed":e(M)}]),style:re(e(la))},[e(S)>560&&e(X)?(t(),ye(Ba,{key:0,class:R(["am-fs-sb",{"am-collapsed":e(M)}]),style:re({width:e(M)?"72px":"240px",paddingBottom:`${e(V)+16}px`})},{"step-list":A(()=>[a("div",Ti,[m.value[C.value]!==e(fe)||!e(l).general.addToCalendar||e(je)&&e(je).data.length===0?(t(!0),i(Q,{key:0},he(se.value,L=>(t(),i("div",{key:L.key,class:"am-fs-sb__step"},[a("div",Bi,[a("div",zi,[a("span",{class:R(`am-icon-${L.icon}`)},null,2),L.key==="cartStep"&&e(Me)(e(n))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e($)])},o(e(Me)(e(n))),3)):c("",!0)]),q(Ye,{name:"fade"},{default:A(()=>[e(M)?c("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e($)])},o(L.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":L.selected},e($)]])},[q(Ye,{name:"fade"},{default:A(()=>[L.finished?(t(),i("span",Fi)):c("",!0)]),_:2},1024)],2)]),q(Ea,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":L.key===e(ee).key&&L.stepSelectedData.length>3}])},{default:A(()=>[e(M)?c("",!0):(t(!0),i(Q,{key:0},he(L.stepSelectedData,(Z,Te)=>(t(),i("p",{key:Z.position,class:"am-fs-sb__step-selection"},[L.key!==e(ee).key||Te<3?(t(),i("span",Ai,o(Z.value),1)):(t(),i("span",Ri,o(e(j).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Ni,[q(Ye,{name:"fade"},{default:A(()=>[e(M)?c("",!0):(t(),ye(Ta,{key:0}))]),_:1}),e(M)?(t(),i("div",Oi,[a("div",Vi,[a("div",Mi,[a("span",{class:R(`am-icon-${m.value[C.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":m.value[C.value].sidebarData.selected},e($)]])},[q(Ye,{name:"fade"},{default:A(()=>[m.value[C.value].sidebarData.finished?(t(),i("span",Ui)):c("",!0)]),_:1})],2)])])):c("",!0)]))])]),"support-info":A(()=>[a("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(l).company.email||e(l).company.phone)&&(e(_).heading||e(_).phone||e(_).email)?(t(),i("div",Wi,[q(Ye,{name:"fade"},{default:A(()=>[!e(M)&&e(_).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e($)])},o(e(j).get_in_touch),3)):c("",!0)]),_:1}),e(l).company.phone&&e(_).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(l).company.phone}`,href:`tel:${e(l).company.phone}`},[e(M)?(t(),i("span",Hi)):(t(),i(Q,{key:0},[me(o(e(l).company.phone),1)],64))],8,ji)):c("",!0),e(l).company.email&&e(_).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(l).company.email}`,href:`mailto:${e(l).company.email}`},[e(M)?(t(),i("span",Gi)):(t(),i(Q,{key:0},[me(o(e(l).company.email),1)],64))],8,qi)):c("",!0)])):c("",!0),a("div",{class:R(["am-fs-sb__menu",e($)]),onClick:x[0]||(x[0]=L=>ce(M)?M.value=!e(M):M=!e(M))},[q(Ye,{name:"fade"},{default:A(()=>[e(M)?c("",!0):(t(),i("span",Ji,o(e(j).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e(M)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):c("",!0),q(Aa,null,Ut({step:A(()=>[(t(),ye(Zt(m.value[C.value]),{"global-class":"am-fs__main-content","show-cart":e(u).showCart&&m.value[C.value]===e(te)},null,8,["show-cart"]))]),footer:A(()=>[q(e(Fa),{"second-button-show":m.value[C.value]===e(fe)&&e(l).roles.customerCabinet.enabled&&e(l).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(n))&&m.value[C.value]===e(Y),"back-to-cart-button-show":e(Je)(e(n))&&e(Ue).length>1&&m.value[C.value]!==e(Y)&&m.value[C.value]!==e(Ce)&&m.value[C.value]!==e(Oe)&&m.value[C.value]!==e(fe),booked:e(je),loading:e(ot),ready:e(Qe),"payment-gateway":e(et),"customized-labels":e(Ae),"primary-footer-button-type":e(We),"secondary-footer-button-type":e(ae),"add-to-cart-button-type":e(Re),"back-to-cart-button-type":e(Pe),"back-to-cart-label":G("cancel","cartStep"),onAddToCart:He,onBackToCart:ve},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[m.value[C.value]!==e(fe)?{name:"header",fn:A(()=>[q(za,{"sidebar-visible":e(X),ready:e(Qe)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const tl={class:"am-fcil__filter-buttons"},al={class:"am-fcil__filter"},il=["aria-label"],ll=["aria-label"],sl=["aria-label"],ol={class:"am-fcil__filter-item__btn-wrapper"},nl={role:"heading","aria-level":"2",class:"am-fcil__heading"},rl={key:0,class:"am-fcil__item-badge__wrapper"},cl={class:"am-fcil__item-badge am-package"},ul=a("span",{class:"am-icon-shipment"},null,-1),dl={class:"am-fcil__item-heading"},ml={class:"am-fcil__item-name"},pl={key:0,class:"am-fcil__item-cost"},_l={key:0,class:"am-fcil__item-discount"},fl={class:"am-fcil__item-price"},vl={key:1,class:"am-fcil__item-price"},gl={class:"am-fcil__item-info"},yl={key:0,class:"am-fcil__item-info__inner"},hl=a("span",{class:"am-icon-folder"},null,-1),bl={key:1,class:"am-fcil__item-info__inner"},kl=a("span",{class:"am-icon-clock"},null,-1),Cl={key:0},$l={key:1},wl={key:2},Sl={key:2,class:"am-fcil__item-info__inner"},xl=a("span",{class:"am-icon-user"},null,-1),Pl=a("span",null,"1/1",-1),Il=[xl,Pl],Dl={key:3,class:"am-fcil__item-info__inner"},Ll=a("span",{class:"am-icon-locations"},null,-1),El={key:2,class:"am-fcil__item-services"},Tl={key:0,class:"am-fcil__item-badge__wrapper"},Bl={class:"am-fcil__item-badge am-service"},zl=a("span",{class:"am-icon-service"},null,-1),Fl={class:"am-fcil__item-heading"},Al={class:"am-fcil__item-name"},Rl={key:0,class:"am-fcil__item-cost"},Nl={key:0,class:"am-fcil__item-price"},Ol={key:1,class:"am-fcil__item-price"},Vl={class:"am-fcil__item-info"},Ml={key:0,class:"am-fcil__item-info__inner"},Ul=a("span",{class:"am-icon-folder"},null,-1),Wl={key:1,class:"am-fcil__item-info__inner"},jl=a("span",{class:"am-icon-clock"},null,-1),Hl={key:2,class:"am-fcil__item-info__inner"},ql=a("span",{class:"am-icon-user"},null,-1),Gl={key:3,class:"am-fcil__item-info__inner"},Jl=a("span",{class:"am-icon-locations"},null,-1),Yl={class:"am-fcil-employee__header"},Ql={class:"am-fcil-employee__heading"},Xl={class:"am-fcil-employee__heading-left"},Zl={class:"am-fcil-employee__name"},Kl={key:0,class:"am-fcil-employee__heading-right"},es={class:"am-fcil-employee__price"},ts=["innerHTML"],as={key:1,ref:"ameliaContainer",class:"am-empty"},is=["src"],ls={class:"am-empty__heading"},ss={class:"am-empty__subheading"},os={class:"am-empty__text"},ns={key:0},rs={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},cs={key:1},us={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},ds={name:"CategoryItemsList",key:"categoryItemsList"},ms=Object.assign(ds,{setup(y){let D=z("licence"),{nextPage:u,previousPage:k}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const S=z("baseUrls");let P=b(!1),d=b(!1),l=b("760px");le("bookingDialogWidth",l);function p(){l.value="760px"}let _=b(!1),v=b(),M=z("containerWidth"),$=z("customizedDataForm"),g=h(()=>$.value.categoryItemsList.options),N=h(()=>"pageScroll"in g.value?g.value.pageScroll.visibility:!0);const V=z("settings");let X=lt();const _e=z("shortcodeData"),n=h(()=>X.getters["entities/getPreselected"]);let I=h(()=>{let T=Array.isArray(_e.value.category)?_e.value.category:_e.value.category.split(",");return T=T.filter(f=>f),T.length}),ne=h(()=>{let T=v.value&&v.value.catContainerWidth?v.value.catContainerWidth>768:!0;return I.value!==1&&g.value.sidebar.visibility&&T}),K=z("amEntities"),ue=b("");function ke(T){ue.value=T.toLowerCase()}let O=h(()=>ue.value?K.value.employees.filter(T=>`${T.firstName} ${T.lastName}`.toLowerCase().includes(ue.value)):K.value.employees),ge=b("");function te(T){ge.value=T.toLowerCase()}let ee=h(()=>ge.value?K.value.locations.filter(T=>T.name.toLowerCase().includes(ge.value)):K.value.locations),Le=h(()=>Je(X)&&Me(X)>0),fe=h(()=>Me(X));const Y=z("labels"),Ce=z("localLanguage");let Oe=h(()=>V.general.usedLanguages.includes(Ce.value)),E=h(()=>{let T=st({...Y});if(V.customizedData&&V.customizedData.cbf&&V.customizedData.cbf.categoryItemsList.translations){let f=V.customizedData.cbf.categoryItemsList.translations;Object.keys(f).forEach(s=>{f[s][Ce.value]&&Oe.value?T[s]=f[s][Ce.value]:f[s].default&&(T[s]=f[s].default)})}return T}),W=b(""),m={components:{IconComponent:$t},template:'<IconComponent icon="search"/>'},de=b(!0),ze={components:{IconComponent:$t},template:'<IconComponent icon="filter"/>'},pe=h(()=>v.value&&v.value.catHeaderWidth?v.value.catHeaderWidth:0);window.addEventListener("resize",Ue);function Ue(){xe(()=>{pe.value>480&&(de.value=!0)})}Be(()=>{Ue()});function j(T){let f=[];return W.value.toLowerCase().split(" ").forEach(s=>{f.push(T.toLowerCase().includes(s))}),f.filter(s=>s===!1).length<=0}let Ae=z("availableCategories"),We=h(()=>{let T=[...Ae.value],f=[];return T.forEach(s=>{f.push({id:s.id,name:s.name})}),f.unshift({id:0,name:E.value.filter_all}),f}),ae=z("categorySelected"),Re=h(()=>Ct(K.value,_e.value,U.value,B.value)),Pe=h(()=>{let T=[];return Re.value.find(f=>f.id===ae.value)?K.value.packages.forEach(f=>{Re.value.find(s=>s.id===ae.value).packageList.forEach(s=>{f.id===s&&(W.value?j(f.name):!0)&&T.push(f)})}):K.value.packages.forEach(f=>{Re.value.forEach(s=>{s.packageList.forEach(oe=>{f.id===oe&&!T.find(De=>De.id===oe)&&(W.value?j(f.name):!0)&&T.push(f)})})}),T}),G=h(()=>{let T=[];return ae.value&&Re.value.find(f=>f.id===ae.value)?K.value.services.forEach(f=>{Re.value.find(s=>s.id===ae.value).serviceIdList.forEach(s=>{f.id===s&&(W.value?j(f.name):!0)&&T.push(f)})}):K.value.services.forEach(f=>{Re.value.forEach(s=>{s.serviceIdList.forEach(oe=>{f.id===oe&&(W.value?j(f.name):!0)&&T.push(f)})})}),T}),U=b(null),B=b(null),J=b(!0),Ee=b(!0);function we(T){T==="all"&&(J.value=!0,Ee.value=!0),T==="packages"&&(J.value=!0,Ee.value=!1),T==="services"&&(J.value=!1,Ee.value=!0)}Mt(()=>{n.value.show&&we(n.value.show)});let qe=h(()=>{let T=_e.value.employee,f=K.value.employees.length,s=_e.value.location,oe=K.value.locations.length,De=g.value.searchInput.visibility,Xe=g.value.filterEmployee.visibility&&T.length!==1&&f>1&&!D.isLite,Ze=g.value.filterLocation.visibility&&s.length!==1&&oe>1&&!D.isLite&&!D.isStarter,He=g.value.filterButtons.visibility&&n.value.show!=="packages"&&n.value.show!=="services"&&Pe.value.length!==0&&G.value.length!==0&&!Me(X),ve={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return pe.value>992?!De||!He?(ve.employee=!De&&!He?"am-w50":"am-w35",ve.location=!De&&!He?"am-w50":"am-w35",ve.search=!He&&!Ze&&!Xe?"am-w100":"am-w30",Xe||(ve.location=!De&&!He?"am-w100":"am-w70"),Ze||(ve.employee=!De&&!He?"am-w100":"am-w70")):(Xe||(ve.location="am-w40"),Ze||(ve.employee="am-w40"),!Xe&&!Ze&&(ve.search="am-w70")):pe.value>768||pe.value>480?(ve.search=He?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ve.buttons=De?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ve.employee=Ze?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ve.location=Xe?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ve.category="am-w100 am-tablet am-order5"):(ve.employee="am-w100 am-mobile",ve.location="am-w100 am-mobile",ve.search="am-w100 am-mobile",ve.buttons="am-w100 am-mobile",ve.category="am-w100 am-mobile"),ve}),Ie=h(()=>v.value&&v.value.catContainerWidth?v.value.catContainerWidth:0),H=h(()=>{let T=Pe.value.length&&!Me(X)?Pe.value.length:0,f=G.value.length>1?E.value.heading_services:E.value.heading_service,s=T?T>1?E.value.packages:E.value.package:"";if(!G.value.length&&!T)return E.value.no_search_data;if(Ee.value&&(!J.value||!T))return`${E.value.available} - ${G.value.length} ${f}`;if((!Ee.value||!G.value.length)&&J.value)return`${E.value.available} - ${T} ${s}`;let oe=T?"/":"";return`${E.value.available} - ${G.value.length} ${f} ${oe} ${T} ${s}`});Be(()=>{xe(()=>{P.value=Pe.value.length===0&&G.value.length===0})});function F(T){const f=T.id===0?null:T.id;ae.value=f,X.commit("booking/setCategoryId",f)}let w=z("itemType");function C(T){X.commit("booking/setServiceId",parseInt(T)),X.commit("booking/setBookableType","appointment"),w.value="appointment",_t(X,{},"SelectService","appointment",null,null),xe(()=>{u()})}function vt(T){X.commit("booking/setServiceId",null),X.commit("booking/setPackageId",T.id),X.commit("booking/setBookableType","package"),X.commit("booking/setMultipleAppointments",Dt(0,T)),X.commit("booking/setCartItemIndex",0),w.value="package",_t(X,{},"SelectPackage","package",null,null),xe(()=>{u()})}function gt(){ae.value=null,X.commit("booking/setCategoryId",null),k()}function Lt(){Vt(X),_.value=!0,d.value=!0}let Ve=b(!1),Qe=b(""),ot=b([]),je=b({}),et=b(null);function nt(){Qe.value="",ot.value=[],je.value={},et.value=null}function yt(T){ot.value=ia(K.value,T,_e.value),je.value=T,Ve.value=!0}function tt(T){let f=[];Object.keys(K.value.entitiesRelations).forEach(oe=>{oe in K.value.entitiesRelations&&T in K.value.entitiesRelations[oe]&&K.value.employees.find(De=>De.id===parseInt(oe))&&f.push(K.value.employees.find(De=>De.id===parseInt(oe)))}),ot.value=f,Qe.value="service",Ve.value=!0,et.value=T}function ht(T){let f=K.value.services.find(oe=>oe.id===et.value).price,s=T.serviceList.find(oe=>oe.id===et.value).price;return s!==f?`${s-f>0?f>0?"+":"":"-"} ${Ke(s-f)}`:0}function Et(){Qe.value==="service"?C(et.value):vt(je.value),nt()}function Tt(T,f){let s="";return T>1?(f==="day"&&(s=E.value.expires_days),f==="week"&&(s=E.value.expires_weeks),f==="month"&&(s=E.value.expires_months)):(f==="day"&&(s=E.value.expires_day),f==="week"&&(s=E.value.expires_week),f==="month"&&(s=E.value.expires_month)),s}function Bt(T,f){let s=Ot(T,f);return s.length===1||s.length&&s.every(oe=>oe.id===s[0].id)?s[0].address?s[0].address:s[0].name:E.value.multiple_locations}function bt(T,f){let s=at(T,f);return s.length===1||s.length&&s.every(oe=>oe.id===s[0].id)?s[0].address?s[0].address:s[0].name:E.value.multiple_locations}let zt=z("amFonts",b({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=z("amColors"),se=h(()=>({"--am-c-fcil-text-op-10":ie($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie($e.value.colorInpText,.1),"--am-w-fcil-main":Ae.value.length!==1&&I.value!==1&&g.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":v.value&&v.value.catFormWidth<580?"100%":"50%"})),kt=h(()=>({"--am-f-fcil-employee-f":zt.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":ie($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(T,f)=>e(P)?(t(),i("div",as,[a("img",{src:e(S).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,is),a("div",ls,o(e(E).oops),1),a("div",ss,o(e(n).show!=="packages"?e(E).no_services_employees:e(E).no_package_services),1),a("div",os,[e(n).show!=="packages"?(t(),i("span",ns,o(e(E).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",rs,o(e(E).add_services_url)+"\xA0 ",1),e(n).show!=="packages"?(t(),i("span",cs,o(e(E).and)+"\xA0 ",1)):c("",!0),e(n).show!=="packages"?(t(),i("a",us,o(e(E).add_employees_url),1)):c("",!0)])],512)):(t(),ye(Ht,{key:0,ref_key:"contentRef",ref:v,"wrapper-class":`am-fcil ${e(M)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(M)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(M)<481?"am-mobile":""} ${e(N)?"":"no-scroll"}`,style:re(e(se))},Ut({header:A(()=>[a("span",tl,[e(I)!==1&&!e(_e).categories_hidden&&e(Ae).length!==1?(t(),ye(jt,{key:0,"btn-size":e(pe)<481?"medium":"mini","btn-string":e(E).back_btn,"btn-type":e(g).backBtn.buttonType,"cart-btn-visibility":e(Le),"cart-items-number":e(fe),onGoBack:gt,onGoToCart:Lt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):c("",!0),e(pe)<481?(t(),ye(Fe,{key:1,size:"medium",category:"secondary",type:e(g).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ze),onClick:f[0]||(f[0]=()=>ce(de)?de.value=!e(de):de=!e(de))},null,8,["type","icon"])):c("",!0)]),a("div",al,[e(g).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(E).filter_input,class:R(["am-fcil__filter-item",e(qe).search])},[q(Na,{modelValue:e(W),"onUpdate:modelValue":f[1]||(f[1]=s=>ce(W)?W.value=s:W=s),placeholder:e(E).filter_input,"prefix-icon":e(m)},null,8,["modelValue","placeholder","prefix-icon"])],10,il)):c("",!0),q(Ye,{name:"slide-fade"},{default:A(()=>[e(_e).employee.length!==1&&e(K).employees.length>1&&e(g).filterEmployee.visibility&&e(de)&&!e(D).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(qe).employee]),role:"search","aria-label":e(E).filter_employee},[q(At,{modelValue:e(U),"onUpdate:modelValue":f[2]||(f[2]=s=>ce(U)?U.value=s:U=s),clearable:"",filterable:"",placeholder:e(E).filter_employee,"aria-label":e(E).filter_employee,"filter-method":ke,"fit-input-width":!0},{default:A(()=>[(t(!0),i(Q,null,he(e(O),s=>(t(),ye(Rt,{key:s.id,value:s.id,label:`${s.firstName} ${s.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,ll)):c("",!0)]),_:1}),q(Ye,{name:"slide-fade"},{default:A(()=>[e(_e).location.length!==1&&e(K).locations.length>1&&e(g).filterLocation.visibility&&e(de)&&!e(D).isLite&&!e(D).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(qe).location]),role:"search","aria-label":e(E).filter_location},[q(At,{modelValue:e(B),"onUpdate:modelValue":f[3]||(f[3]=s=>ce(B)?B.value=s:B=s),clearable:"",filterable:"",placeholder:e(E).filter_location,"aria-label":e(E).filter_location,"fit-input-width":!0,"filter-method":te},{default:A(()=>[(t(!0),i(Q,null,he(e(ee),s=>(t(),ye(Rt,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,sl)):c("",!0)]),_:1}),q(Ye,{name:"slide-fade"},{default:A(()=>[e(Ae).length!==1&&e(I)!==1&&e(g).sidebar.visibility&&!e(ne)&&e(de)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(qe).category])},[q(At,{modelValue:e(ae),"onUpdate:modelValue":f[4]||(f[4]=s=>ce(ae)?ae.value=s:ae=s),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(t(!0),i(Q,null,he(e(We),s=>(t(),ye(Rt,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):c("",!0)]),_:1}),!e(n).show&&e(g).filterButtons.visibility&&e(Pe).length!==0&&e(G).length!==0&&!e(Me)(e(X))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:R(["am-fcil__filter-item",e(qe).buttons])},[a("div",ol,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&e(Ee)}]),onClick:f[5]||(f[5]=s=>we("all"))},[a("span",null,o(e(E).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&!e(Ee)}]),onClick:f[6]||(f[6]=s=>we("packages"))},[a("span",null,o(e(E).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(J)&&e(Ee)}]),onClick:f[7]||(f[7]=s=>we("services"))},[a("span",null,o(e(E).filter_services),1)],2)])],2)):c("",!0)])]),heading:A(()=>[a("div",nl,o(e(H)),1)]),content:A(()=>[e(J)&&!e(Me)(e(X))?(t(!0),i(Q,{key:0},he(e(Pe),s=>(t(),i("div",{key:s.id,role:"group",class:R(["am-fcil__item",{"am-mobile":e(Ie)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(Ie)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(g).cardColor&&e(g).cardColor.visibility?{backgroundColor:e(ie)(s.color,.1)}:{})},[e(g).packageBadge.visibility?(t(),i("div",rl,[a("div",cl,[ul,a("span",null,o(e(E).package),1)])])):c("",!0),s.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${s.pictureFullPath})`})},null,4)):c("",!0),a("div",dl,[a("div",ml,o(s.name),1),e(g).packagePrice.visibility?(t(),i("div",pl,[s.discount?(t(),i("span",_l,o(`${e(E).save} ${s.discount}%`),1)):c("",!0),a("span",fl,o(s.price?e(Ke)(e(Wt)(s)):e(E).free),1),s.price&&(e(g).tax?.visibility??!0)&&e(ft)(e(X),s.id,"package")?(t(),i("span",vl,[e(V).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",gl,[e(g).packageCategory.visibility&&e(ae)?(t(),i("div",yl,[hl,a("span",null,o(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):c("",!0),e(g).packageDuration.visibility?(t(),i("div",bl,[kl,s.endDate?(t(),i("span",Cl,o(`${e(E).expires_at} ${s.endDate.split(" ")[0]}`),1)):s.durationCount?(t(),i("span",$l,o(`${e(E).expires_after} ${s.durationCount} ${Tt(s.durationCount,s.durationType)}`),1)):(t(),i("span",wl,o(e(E).without_expiration),1))])):c("",!0),e(g).packageCapacity.visibility?(t(),i("div",Sl,Il)):c("",!0),e(Ot)(e(K),s,e(_e)).length&&e(g).packageLocation.visibility?(t(),i("div",Dl,[Ll,a("span",null,o(Bt(e(K),s)),1)])):c("",!0)]),e(g).packageServices.visibility?(t(),i("div",El,[a("span",null,o(`${e(E).in_package}:`),1),(t(!0),i(Q,null,he(s.bookable,oe=>(t(),i("span",{key:oe.id},o(oe.service.name),1))),128))])):c("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(Ie)<481},{"am-micro":e(Ie)<320}]])},[e(g).cardEmployeeBtn.visibility?(t(),ye(Fe,{key:0,class:R({"am-w100":e(Ie)<320}),size:"small",type:e(g).cardEmployeeBtn.buttonType,onClick:oe=>yt(s)},{default:A(()=>[me(o(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),q(Fe,{class:R([{"am-w100":!e(g).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ie)<320}]),size:"small",type:e(g).cardContinueBtn.buttonType,onClick:oe=>vt(s)},{default:A(()=>[me(o(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),e(Ee)?(t(!0),i(Q,{key:1},he(e(G),s=>(t(),i("div",{key:s.id,class:R(["am-fcil__item",{"am-mobile":e(Ie)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(Ie)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(g).cardColor&&e(g).cardColor.visibility?{backgroundColor:e(ie)(s.color,.1)}:{})},[e(g).serviceBadge.visibility?(t(),i("div",Tl,[a("div",Bl,[zl,a("span",null,o(e(E).heading_service),1)])])):c("",!0),s.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${s.pictureFullPath})`})},null,4)):c("",!0),a("div",Fl,[a("div",Al,o(s.name),1),e(g).servicePrice.visibility?(t(),i("div",Rl,[e(dt)(e(K),s.id).min||e(dt)(e(K),s.id).max?(t(),i("span",Nl,o(e(dt)(e(K),s.id).price),1)):c("",!0),(e(g).tax?.visibility??!0)&&e(ft)(e(X),s.id,"service")?(t(),i("span",Ol,[e(V).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",Vl,[e(g).serviceCategory.visibility&&e(ae)?(t(),i("div",Ml,[Ul,a("span",null,o(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):c("",!0),e(g).serviceDuration.visibility?(t(),i("div",Wl,[jl,a("span",null,o(e(aa)(s.duration)),1)])):c("",!0),e(g).serviceCapacity.visibility&&!e(D).isLite?(t(),i("div",Hl,[ql,a("span",null,o(e(ta)(e(K),s.id)),1)])):c("",!0),e(at)(e(K),s.id).length&&e(g).serviceLocation.visibility?(t(),i("div",Gl,[Jl,a("span",null,o(bt(e(K),s.id)),1)])):c("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(Ie)<481},{"am-micro":e(Ie)<320}]])},[e(g).cardEmployeeBtn.visibility&&!e(D).isLite?(t(),ye(Fe,{key:0,class:R({"am-w100":e(Ie)<320}),size:"small",type:e(g).cardEmployeeBtn.buttonType,onClick:oe=>tt(s.id)},{default:A(()=>[me(o(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),q(Fe,{class:R([{"am-w100":!e(g).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ie)<320}]),size:"small",type:e(g).cardContinueBtn.buttonType,onClick:oe=>C(s.id)},{default:A(()=>[me(o(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),q(mt,{modelValue:e(Ve),"onUpdate:modelValue":f[9]||(f[9]=s=>ce(Ve)?Ve.value=s:Ve=s),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(kt),width:"648px",onClose:nt},{title:A(()=>[a("div",Yl,o(e(E).employee_info),1)]),default:A(()=>[a("div",null,[q(St,null,{default:A(()=>[(t(!0),i(Q,null,he(e(ot),(s,oe)=>(t(),ye(xt,{key:oe,side:""},{heading:A(()=>[a("div",Ql,[a("div",Xl,[q(ut,{"item-class":"am-fcil-employee__img","item-data":s,"trim-string":2},null,8,["item-data"]),a("div",Zl,[me(o(`${s.firstName} ${s.lastName}`)+" ",1),s.badge?(t(),i("span",{key:0,style:re({background:s.badge.color}),class:"am-fcil-employee__badge"},o(s.badge.content),5)):c("",!0)])]),e(Qe)==="service"&&ht(s)!==0?(t(),i("div",Kl,[a("div",es,o(ht(s)),1)])):c("",!0)])]),default:A(()=>[e(Ne)(s.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":s.description.includes("<!-- Content -->")}]),innerHTML:s.description},null,10,ts)):c("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(g).dialogEmployeeBtn.visibility?(t(),ye(Fe,{key:0,type:e(g).dialogEmployeeBtn.buttonType,category:"primary",onClick:f[8]||(f[8]=s=>Et())},{default:A(()=>[me(o(e(Qe)==="service"?e(E).book_service:e(E).book_package),1)]),_:1},8,["type"])):c("",!0)]),_:1},8,["modelValue","custom-styles"]),q(mt,{modelValue:e(d),"onUpdate:modelValue":f[10]||(f[10]=s=>ce(d)?d.value=s:d=s),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(l),onClosed:p},{default:A(()=>[q(qt,{"show-cart":e(_)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Ae).length!==1&&e(I)!==1&&e(g).sidebar.visibility&&e(ne)?{name:"side",fn:A(()=>[q(li,{"menu-items":e(We),"init-selection":e(ae),identifier:"id","name-identifier":"name","footer-string":e(E).get_in_touch,"company-email":e(V).company.email,onClick:F},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ps={class:"am-fcis__header-text"},_s={class:"am-fcis__header-name",role:"heading","aria-level":"1"},fs={key:0,class:"am-fcis__badge am-service"},vs=a("span",{class:"am-icon-service"},null,-1),gs={class:"am-fcis__header-action"},ys={key:0,class:"am-fcis__header-price"},hs={key:1,class:"am-fcis__header-tax"},bs={class:"am-fcis__header-btn"},ks={key:0,class:"am-fcis__header-bottom"},Cs={class:"am-fcis__mini-info"},$s={key:0,class:"am-fcis__mini-info__inner"},ws=a("span",{class:"am-icon-folder"},null,-1),Ss={key:1,class:"am-fcis__mini-info__inner"},xs=a("span",{class:"am-icon-clock"},null,-1),Ps={key:2,class:"am-fcis__mini-info__inner"},Is=a("span",{class:"am-icon-user"},null,-1),Ds={key:3,class:"am-fcis__mini-info__inner"},Ls=a("span",{class:"am-icon-locations"},null,-1),Es={key:0,class:"am-fcis__gallery"},Ts={key:0,class:"am-fcis__gallery-thumb__wrapper"},Bs={class:"am-gd__display-wrapper"},zs={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Fs=["src","alt"],As={class:"am-gd__selection"},Rs={class:"am-gd__thumb-wrapper"},Ns=["onClick"],Os={key:1,class:"am-fcis__info"},Vs={class:"am-fcis__info-tab__wrapper"},Ms={class:"am-fcis__info-content__wrapper"},Us={key:0,class:"am-fcis__info-content"},Ws=["innerHTML"],js={key:1,class:"am-fcis__info-content"},Hs={class:"am-fcis__info-employee__hero"},qs={class:"am-fcis__info-employee__heading"},Gs={class:"am-fcis__info-employee__name"},Js={key:0,class:"am-fcis__info-employee__price"},Ys=["innerHTML"],Qs={key:2,class:"am-fcis__include-wrapper"},Xs={class:"am-fcis__include-heading"},Zs={class:"am-fcis__include-heading__text"},Ks=["onClick"],eo={class:"am-fcis__include-hero"},to={key:0,class:"am-fcis__include-cost"},ao={key:0,class:"am-fcis__include-discount"},io={class:"am-fcis__include-price"},lo={key:1,class:"am-fcis__include-price"},so={class:"am-fcis__include-info"},oo={key:0,class:"am-fcis__include-info__inner"},no=a("span",{class:"am-icon-folder"},null,-1),ro={key:1,class:"am-fcis__include-info__inner"},co=a("span",{class:"am-icon-clock"},null,-1),uo={key:0},mo={key:1},po={key:2},_o={key:2,class:"am-fcis__include-info__inner"},fo=a("span",{class:"am-icon-user"},null,-1),vo=a("span",null,"1/1",-1),go=[fo,vo],yo={key:3,class:"am-fcis__include-info__inner"},ho=a("span",{class:"am-icon-locations"},null,-1),bo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},ko={key:1,ref:"ameliaContainer",class:"am-empty"},Co=["src","alt"],$o={class:"am-empty__heading"},wo={class:"am-empty__subheading"},So={class:"am-empty__text"},xo={key:0},Po={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Io={key:1},Do={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Lo={name:"CategoryService"},Eo=Object.assign(Lo,{setup(y){let D=z("licence"),{previousPage:u}=z("changingPageFunctions",{previousPage:()=>{}}),k=h(()=>N.getters["entities/getReady"]);const S=z("baseUrls");let P=b(),d=z("containerWidth");const l=z("settings");let p=z("amFonts");const _=z("labels"),v=z("localLanguage");let M=h(()=>l.general.usedLanguages.includes(v.value)),$=h(()=>{let H=st({..._});if(l.customizedData&&l.customizedData.cbf&&l.customizedData.cbf.categoryService.translations){let F=l.customizedData.cbf.categoryService.translations;Object.keys(F).forEach(w=>{F[w][v.value]&&M.value?H[w]=F[w][v.value]:F[w].default&&(H[w]=F[w].default)})}return H}),g=b(0),N=lt(),V=z("amEntities"),X=h(()=>Je(N)&&Me(N)>0),_e=h(()=>Me(N)),n=z("customizedDataForm"),I=h(()=>n.value.categoryService.options),ne=h(()=>"pageScroll"in I.value?I.value.pageScroll.visibility:!0),K=z("itemType"),ue=z("categorySelected"),ke=h(()=>V.value.categories.find(H=>H.id===ue.value)),O=h(()=>{let H=V.value.services.find(F=>F.id===N.getters["booking/getServiceId"]);return H||{}});function ge(H,F){let w=at(H,F);return w.length===1||w.length&&w.every(C=>C.id===w[0].id)?w[0].address?w[0].address:w[0].name:$.value.multiple_locations}let te=b("description"),ee=h(()=>{let H=[];return Object.keys(V.value.entitiesRelations).forEach(w=>{V.value.entitiesRelations[w][O.value.id]&&V.value.employees.find(C=>C.id===parseInt(w))&&H.push(V.value.employees.find(C=>C.id===parseInt(w)))}),H});function Le(H){let F=H.serviceList.find(w=>w.id===O.value.id).price;return F-O.value.price!==0?`${F-O.value.price>0?O.value.price>0?"+":"":"-"} ${Ke(F-O.value.price)}`:""}Be(()=>{I.value.serviceDescription.visibility||(te.value="employees"),Ne(O.value.description)||(te.value="employees")});let fe=h(()=>{let H=O.value.gallery.length?JSON.parse(JSON.stringify(O.value.gallery)):[];return O.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),Y=h(()=>{let H=[];return V.value.packages.forEach(F=>{F.bookable.filter(w=>w.service.id===O.value.id).length&&!H.filter(w=>w.id===F.id).length&&F.available&&F.status==="visible"&&H.push(F)}),H}),Ce=b(!1),Oe=h(()=>{let H=[...Y.value];return Ce.value?H:H.slice(0,2)}),E=h(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function W(){K.value="",xe(()=>{u()})}let m=b(!1);function de(){N.commit("booking/setShownCart",!1),Vt(N),m.value=!0,pe.value=!0}function ze(){pe.value=!1,N.getters["entities/getPreselected"].service.length>1&&W()}let pe=b(!1),Ue=b("760px");le("bookingDialogWidth",Ue);function j(){let H=N.getters["entities/getPreselected"];ee.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),H.employee=[parseInt(ee.value[0].id)],N.commit("entities/setPreselected",H)),m.value=!1,pe.value=!1,Oa(N),Kt(N,!1),pt(N);let F=at(V.value,O.value.id);F.length===1&&(N.commit("booking/setLocationId",parseInt(F[0].id)),H.location=[parseInt(F[0].id)],N.commit("entities/setPreselected",H)),N.commit("booking/setBookableType","appointment"),pe.value=!0}z("restoreFormData").value&&j();function We(H){N.commit("booking/setPackageId",H.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",Dt(0,H)),N.commit("booking/setMultipleAppointmentsIndex",0),ee.value.length===1&&N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),at(V.value,O.value.id).length===1&&N.commit("booking/setLocationId",parseInt(at(V.value,O.value.id)[0].id)),xe(()=>{pe.value=!0})}const ae=h(()=>N.getters["entities/getPreselected"]);let Re=b(V.value.services.length!==1&&ae.value.service.length!==1),Pe=b("");le("stepName",Pe);function G(){let H=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),F=H.settings?JSON.parse(H.settings):l;"general"in F&&"redirectUrlAfterAppointment"in F.general&&F.general.redirectUrlAfterAppointment?window.location.href=F.general.redirectUrlAfterAppointment:l.general.redirectUrlAfterAppointment?window.location.href=l.general.redirectUrlAfterAppointment:window.location.reload()}function U(){if(Pe.value&&Pe.value==="CongratulationsStep")G();else{if(Pe.value&&Pe.value==="DateTimeStep"){let H=Va(N);H&&console.log(H)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}Ue.value="760px"}let B=b(!1);function J(H,F){let w="";return H>1?(F==="day"&&(w=$.value.expires_days),F==="week"&&(w=$.value.expires_weeks),F==="month"&&(w=$.value.expires_months)):(F==="day"&&(w=$.value.expires_day),F==="week"&&(w=$.value.expires_week),F==="month"&&(w=$.value.expires_month)),w}let Ee=h(()=>Object.keys(O.value).length===0||ee.value.length===0),we=z("amColors"),qe=h(()=>({"--am-c-fcis-success-op20":ie(we.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(we.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(we.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(we.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(we.value.colorBtnSec,.5)})),Ie=h(()=>({"--am-c-fcis-bgr":we.value.colorMainBgr,"--am-c-fcis-text":we.value.colorMainText,"--am-c-fcis-success":we.value.colorSuccess,"--am-c-fcis-primary":we.value.colorPrimary,"--am-c-scroll-op30":ie(we.value.colorPrimary,.3),"--am-c-scroll-op10":ie(we.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(H,F)=>e(k)?(t(),i(Q,{key:0},[e(Ee)?c("",!0):(t(),ye(Ht,{key:0,ref_key:"contentRef",ref:P,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(qe))},{header:A(()=>[q(jt,{"btn-string":e($).back_btn,"btn-type":e(I).backBtn.buttonType,"back-btn-visibility":e(Re),"cart-btn-visibility":e(X),"cart-items-number":e(_e),role:"navigation","aria-label":"Navigation Controls",onGoBack:W,onGoToCart:de},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[a("div",{class:R([[{"am-tablet":e(d)<=678},{"am-mobile":e(d)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",ps,[a("span",_s,o(e(O).name),1),e(I).serviceBadge.visibility?(t(),i("div",fs,[vs,a("span",null,o(e($).heading_service),1)])):c("",!0)]),a("div",gs,[e(I).servicePrice.visibility?(t(),i("span",ys,o(e(dt)(e(V),e(O).id).min||e(dt)(e(V),e(O).id).max?e(dt)(e(V),e(O).id).price:e($).free),1)):c("",!0),(e(I).tax?.visibility??!0)&&e(ft)(e(N),e(O).id,"service")?(t(),i("span",hs,[e(l).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e($).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e($).incl_tax),1)],64))])):c("",!0),a("span",bs,[q(Fe,{type:e(I).bookingBtn.buttonType,onClick:j},{default:A(()=>[me(o(e($).book_now),1)]),_:1},8,["type"])])])],2),e(I).serviceCategory.visibility||e(I).serviceDuration.visibility||e(I).serviceCapacity.visibility||e(I).serviceLocation.visibility?(t(),i("div",ks,[a("div",Cs,[e(I).serviceCategory.visibility&&e(ke)?(t(),i("div",$s,[ws,a("span",null,o(e(ke).name),1)])):c("",!0),e(I).serviceDuration.visibility?(t(),i("div",Ss,[xs,a("span",null,o(e(aa)(e(O).duration)),1)])):c("",!0),e(I).serviceCapacity.visibility&&!e(D).isLite?(t(),i("div",Ps,[Is,a("span",null,o(e(ta)(e(V),e(O).id)),1)])):c("",!0),e(at)(e(V),e(O).id).length&&e(I).serviceLocation.visibility&&!e(D).isLite&&!e(D).isStarter?(t(),i("div",Ds,[Ls,a("span",null,o(ge(e(V),e(O).id)),1)])):c("",!0)])])):c("",!0)]),content:A(()=>[e(O).gallery.length?(t(),i("div",Es,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(O).gallery.length===1},{"am-mobile w100":e(d)<678}]]),style:re({backgroundImage:`url(${e(O).gallery[0].pictureFullPath})`})},null,6),e(fe).length&&e(d)>677?(t(),i("div",Ts,[(t(!0),i(Q,null,he(e(fe),(w,C)=>(t(),i("div",{key:C,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(fe).length===1}]),style:re({backgroundImage:`url(${w.pictureFullPath})`})},null,6))),128))])):c("",!0),q(Fe,{"custom-class":`am-fcis__gallery-btn${e(d)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:F[0]||(F[0]=()=>ce(B)?B.value=!0:B=!0)},{default:A(()=>[me(o(e($).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),q(mt,{modelValue:e(B),"onUpdate:modelValue":F[4]||(F[4]=w=>ce(B)?B.value=w:B=w),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:re(e(Ie))},[a("div",Bs,[a("div",zs,[a("span",{class:"am-icon-arrow-left",onClick:F[1]||(F[1]=()=>ce(g)?g.value=e(g)<=0?e(O).gallery.length-1:e(g)-1:g=e(g)<=0?e(O).gallery.length-1:e(g)-1)}),a("span",{class:"am-icon-arrow-right",onClick:F[2]||(F[2]=()=>ce(g)?g.value=e(O).gallery.length-1===e(g)?0:e(g)+1:g=e(O).gallery.length-1===e(g)?0:e(g)+1)})]),(t(!0),i(Q,null,he(e(O).gallery,(w,C)=>(t(),i("div",{key:C,class:"am-gd__display",style:re({display:C===e(g)?"flex":"none"}),onClick:F[3]||(F[3]=()=>ce(g)?g.value=e(O).gallery.length-1===e(g)?0:e(g)+1:g=e(O).gallery.length-1===e(g)?0:e(g)+1)},[a("img",{src:w.pictureFullPath,alt:C},null,8,Fs)],4))),128))]),a("div",As,o(`${e(g)+1}/${e(O).gallery.length}`),1),a("div",Rs,[(t(!0),i(Q,null,he(e(O).gallery,(w,C)=>(t(),i("div",{key:C,class:R(["am-gd__thumb",{"am-active":C===e(g)}]),style:re({backgroundImage:`url(${w.pictureFullPath})`}),onClick:()=>ce(g)?g.value=C:g=C},null,14,Ns))),128))])],4)]),_:1},8,["modelValue"]),e(I).serviceDescription.visibility&&e(Ne)(e(O).description)||e(I).serviceEmployees.visibility?(t(),i("div",Os,[a("div",Vs,[e(Ne)(e(O).description)&&e(I).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(te)==="description"}]),onClick:F[5]||(F[5]=()=>ce(te)?te.value="description":te="description")},o(e($).about_service),3)):c("",!0),e(I).serviceEmployees.visibility&&!e(D).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(te)==="employees"},"am-fcis__info-tab"]),onClick:F[6]||(F[6]=()=>ce(te)?te.value="employees":te="employees")},o(e($).tab_employees),3)):c("",!0)]),a("div",Ms,[e(Ne)(e(O).description)&&e(I).serviceDescription.visibility?Pt((t(),i("div",Us,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(O).description.includes("<!-- Content -->")}]),innerHTML:e(O).description},null,10,Ws)],512)),[[It,e(te)==="description"]]):c("",!0),e(I).serviceEmployees.visibility?Pt((t(),i("div",js,[q(St,null,{default:A(()=>[(t(!0),i(Q,null,he(e(ee),w=>(t(),ye(xt,{key:w.id,side:""},{heading:A(()=>[a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__info-employee"])},[a("div",Hs,[q(ut,{"item-class":"am-fcis__info-employee__img","item-data":w,"trim-string":3},null,8,["item-data"]),a("div",qs,[a("div",Gs,[me(o(w.firstName)+" "+o(w.lastName)+" ",1),w.badge?(t(),i("span",{key:0,style:re({background:w.badge.color}),class:"am-fcis__info-employee__badge"},o(w.badge.content),5)):c("",!0)]),Le(w)&&e(I).serviceEmployeePrice.visibility?(t(),i("div",Js,o(Le(w)),1)):c("",!0)])])],2)]),default:A(()=>[e(Ne)(w.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":w.description.includes("<!-- Content -->")}]),innerHTML:w.description},null,10,Ys)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[It,e(te)==="employees"]]):c("",!0)])])):c("",!0),e(Y).length&&e(ae).show!=="services"&&e(I).servicePackages.visibility&&!e(Me)(e(N))?(t(),i("div",Qs,[a("div",Xs,[a("span",Zs,o(e($).service_available_in_package),1),e(Y).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:F[7]||(F[7]=()=>ce(Ce)?Ce.value=!e(Ce):Ce=!e(Ce))},[e(Ce)?(t(),i(Q,{key:1},[me(o(e($).less_packages),1)],64)):(t(),i(Q,{key:0},[me(o(e($).more_packages),1)],64))])):c("",!0)]),(t(!0),i(Q,null,he(e(Oe),w=>(t(),i("div",{key:w.id,class:"am-fcis__include",onClick:C=>We(w)},[a("div",eo,[e(d)>450?(t(),ye(ut,{key:0,"item-class":"am-fcis__include-img","item-data":w,"trim-string":3},null,8,["item-data"])):c("",!0),a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(d)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(d)<600}])},o(w.name),3),e(I).packagePrice.visibility?(t(),i("div",to,[w.discount?(t(),i("span",ao,o(`${e($).save} ${w.discount}%`),1)):c("",!0),a("span",io,o(w.price?e(Ke)(e(Wt)(w)):e($).free),1),(e(I).tax?.visibility??!0)&&e(ft)(e(N),w.id,"package")?(t(),i("span",lo,[e(l).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e($).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e($).incl_tax),1)],64))])):c("",!0)])):c("",!0)],2),a("div",so,[e(I).packageCategory.visibility&&e(ke)?(t(),i("div",oo,[no,a("span",null,o(e(ke).name),1)])):c("",!0),e(I).packageDuration.visibility?(t(),i("div",ro,[co,w.endDate?(t(),i("span",uo,o(`${e($).expires_at} ${w.endDate.split(" ")[0]}`),1)):w.durationCount?(t(),i("span",mo,o(`${e($).expires_after} ${w.durationCount} ${J(w.durationCount,w.durationType)}`),1)):(t(),i("span",po,o(e($).without_expiration),1))])):c("",!0),e(I).packageCapacity.visibility?(t(),i("div",_o,go)):c("",!0),e(I).packageLocation.visibility&&e(E).length?(t(),i("div",yo,[ho,a("span",null,o(e(E).length===1?e(E)[0].address?e(E)[0].address:e(E)[0].name:e($).multiple_locations),1)])):c("",!0),e(I).packageServices.visibility?(t(),i("div",bo,[a("span",null,o(`${e($).in_package}:`),1),(t(!0),i(Q,null,he(w.bookable,C=>(t(),i("span",{key:C.id},o(C.service.name),1))),128))])):c("",!0)])],2)])],8,Ks))),128))])):c("",!0),q(mt,{modelValue:e(pe),"onUpdate:modelValue":F[9]||(F[9]=w=>ce(pe)?pe.value=w:pe=w),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Ue),onClosed:U},{default:A(()=>[q(qt,{"show-cart":e(m),onAddToCart:ze,onEmptiedCart:F[8]||(F[8]=w=>ce(pe)?pe.value=!1:pe=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ee)?(t(),i("div",ko,[a("img",{src:e(S).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(ae).show!=="packages"?e($).no_services_employees:e($).no_package_services},null,8,Co),a("div",$o,o(e($).oops),1),a("div",wo,o(e(ae).show!=="packages"?e($).no_services_employees:e($).no_package_services),1),a("div",So,[e(ae).show!=="packages"?(t(),i("span",xo,o(e($).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",Po,o(e($).add_services_url)+"\xA0 ",1),e(ae).show!=="packages"?(t(),i("span",Io,o(e($).and)+"\xA0 ",1)):c("",!0),e(ae).show!=="packages"?(t(),i("a",Do,o(e($).add_employees_url),1)):c("",!0)])],512)):c("",!0)],64)):c("",!0)}});const To={class:"am-fcip__header-text"},Bo={class:"am-fcip__header-name",role:"heading","aria-level":"1"},zo={key:0,class:"am-fcip__badge am-package"},Fo=a("span",{class:"am-icon-shipment"},null,-1),Ao={class:"am-fcip__header-action"},Ro={key:0,class:"am-fcip__header-discount"},No={key:1,class:"am-fcip__header-price"},Oo={key:2,class:"am-fcip__header-tax"},Vo={class:"am-fcip__header-btn"},Mo={key:0,class:"am-fcip__header-bottom"},Uo={class:"am-fcip__mini-info"},Wo={key:0,class:"am-fcip__mini-info__inner"},jo=a("span",{class:"am-icon-folder"},null,-1),Ho={key:1,class:"am-fcip__mini-info__inner"},qo=a("span",{class:"am-icon-clock"},null,-1),Go={key:0},Jo={key:1},Yo={key:2},Qo={key:2,class:"am-fcip__mini-info__inner"},Xo=a("span",{class:"am-icon-user"},null,-1),Zo=a("span",null,"1/1",-1),Ko=[Xo,Zo],en={key:3,class:"am-fcip__mini-info__inner"},tn=a("span",{class:"am-icon-locations"},null,-1),an={key:0,class:"am-fcip__gallery"},ln={key:0,class:"am-fcip__gallery-thumb__wrapper"},sn=a("span",{class:"am-icon-gallery"},null,-1),on={class:"am-gd__display-wrapper"},nn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},rn=["src","alt"],cn={class:"am-gd__selection"},un={class:"am-gd__thumb-wrapper"},dn=["onClick"],mn={key:1,class:"am-fcip__info"},pn={class:"am-fcip__info-tab__wrapper"},_n={class:"am-fcip__info-content__wrapper"},fn={key:0,class:"am-fcip__info-content"},vn=["innerHTML"],gn={key:1,class:"am-fcip__info-content"},yn={class:"am-fcip__info-employee"},hn={class:"am-fcip__info-employee__hero"},bn={class:"am-fcip__info-employee__name"},kn=["innerHTML"],Cn={key:2,class:"am-fcip__include-wrapper"},$n={class:"am-fcip__include-heading"},wn={class:"am-fcip__include-heading__text"},Sn={class:"am-fcip__include-service"},xn={class:"am-fcip__include-service__info"},Pn={key:0},In=["innerHTML"],Dn={class:"am-fcip__include-footer"},Ln={class:"am-fcip__include-footer__text"},En={key:1,ref:"ameliaContainer",class:"am-empty"},Tn=["src","alt"],Bn={class:"am-empty__heading"},zn={class:"am-empty__subheading"},Fn={class:"am-empty__text"},An={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Rn={name:"CategoryPackage"},Nn=Object.assign(Rn,{setup(y){let{previousPage:D}=z("changingPageFunctions",{previousPage:()=>{}}),u=b(),k=z("containerWidth");const S=z("settings"),P=z("baseUrls");let d=lt();const l=z("shortcodeData"),p=h(()=>d.getters["entities/getPreselected"]);let _=b(p.value.package.length!==1),v=z("amEntities"),M=z("customizedDataForm"),$=h(()=>M.value.categoryPackage.options),g=h(()=>"pageScroll"in $.value?$.value.pageScroll.visibility:!0),N=z("itemType"),V=z("categorySelected"),X=h(()=>v.value.categories.find(G=>G.id===V.value)),_e=b(p.value.package.length!==1&&$.value.packageCategory.visibility&&X),n=h(()=>v.value.packages.find(G=>G.id===d.getters["booking/getPackageId"])),I=b(0),ne=b("description"),K=h(()=>ia(v.value,n.value,l.value)),ue=h(()=>Ot(v.value,n.value,l.value)),ke=b(p.value.employee.length>0?v.value.unfilteredEmployees.filter(G=>p.value.employee.map(U=>parseInt(U)).includes(G.id)):v.value.unfilteredEmployees);function O(G){let U=[];return G.providers.length?G.providers.forEach(B=>{ke.value.find(J=>J.id===parseInt(B.id))&&U.push(ke.value.find(J=>J.id===parseInt(B.id)))}):U=ke.value.filter(B=>B.serviceList.find(J=>J.id===G.service.id)),U}Be(()=>{$.value.packageDescription.visibility||(ne.value="employees"),Ne(n.value.description)||(ne.value="employees")});let ge=b(!1);Mt(()=>{ge.value=d.getters["entities/getEmployees"].length===0||K.value.length===0});let te=b(!1),ee=h(()=>{let G=n.value.gallery.length?JSON.parse(JSON.stringify(n.value.gallery)):[];return n.value.gallery.length===1?[]:(G.shift(),G.length>2&&G.splice(2,G.length-2),G)});function Le(){N.value="",xe(()=>{D()})}let fe=b(!1),Y=b("760px");le("bookingDialogWidth",Y);function Ce(){d.commit("booking/setPackageId",n.value.id),d.commit("booking/setMultipleAppointments",Dt(0,n.value)),d.commit("booking/setMultipleAppointmentsIndex",0),d.commit("booking/setBookableType","package"),xe(()=>{fe.value=!0})}z("restoreFormData").value&&Ce();let E=b("");le("stepName",E);function W(){let G=d.getters["entities/getBookableFromBookableEntities"](d.getters["booking/getSelection"]),U=G.settings?JSON.parse(G.settings):S;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:S.general.redirectUrlAfterAppointment?window.location.href=S.general.redirectUrlAfterAppointment:window.location.reload()}function m(){E.value&&E.value==="CongratulationsStep"?W():d.commit("entities/setPreselected",d.getters["entities/getOriginalPreselected"]),Y.value="760px"}let de=z("amFonts");const ze=z("labels"),pe=z("localLanguage");let Ue=h(()=>S.general.usedLanguages.includes(pe.value)),j=h(()=>{let G=st({...ze});if(S.customizedData&&S.customizedData.cbf&&S.customizedData.cbf.categoryPackage.translations){let U=S.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(B=>{U[B][pe.value]&&Ue.value?G[B]=U[B][pe.value]:U[B].default&&(G[B]=U[B].default)})}return G});function Ae(G){return G.length===1||G.length&&G.every(U=>U.id===G[0].id)?G[0].address?G[0].address:G[0].name:j.value.multiple_locations}function We(G,U){let B="";return G>1?(U==="day"&&(B=j.value.expires_days),U==="week"&&(B=j.value.expires_weeks),U==="month"&&(B=j.value.expires_months)):(U==="day"&&(B=j.value.expires_day),U==="week"&&(B=j.value.expires_week),U==="month"&&(B=j.value.expires_month)),B}let ae=z("amColors"),Re=h(()=>({"--am-c-fcip-success-op20":ie(ae.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(ae.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(ae.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(ae.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(ae.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(ae.value.colorBtnSec,.5)})),Pe=h(()=>({"--am-c-fcip-bgr":ae.value.colorMainBgr,"--am-c-fcip-text":ae.value.colorMainText,"--am-c-fcip-success":ae.value.colorSuccess,"--am-c-fcip-primary":ae.value.colorPrimary,"--am-c-scroll-op30":ie(ae.value.colorPrimary,.3),"--am-c-scroll-op10":ie(ae.value.colorPrimary,.1),"--am-font-family":de.fontFamily}));return(G,U)=>(t(),i(Q,null,[e(ge)?c("",!0):(t(),ye(Ht,{key:0,ref_key:"contentRef",ref:u,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(g)?"":"no-scroll"}`,style:re(e(Re))},Ut({heading:A(()=>[a("div",{class:R([[{"am-tablet":e(k)<=678},{"am-mobile":e(k)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",To,[a("span",Bo,[a("span",null,o(e(n).name),1)]),e($).packageBadge.visibility?(t(),i("div",zo,[Fo,a("span",null,o(e(j).package),1)])):c("",!0)]),a("div",Ao,[e(n).discount&&e($).packagePrice.visibility?(t(),i("span",Ro,o(`${e(j).save} ${e(n).discount}%`),1)):c("",!0),e($).packagePrice.visibility?(t(),i("span",No,o(e(n).price?e(Ke)(e(Wt)(e(n))):e(j).free),1)):c("",!0),e(n).price&&(e($).tax?.visibility??!0)&&e(ft)(e(d),e(n).id,"package")?(t(),i("span",Oo,[e(S).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(j).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(j).incl_tax),1)],64))])):c("",!0),a("span",Vo,[q(Fe,{type:e($).bookingBtn.buttonType,onClick:Ce},{default:A(()=>[me(o(e(j).book_now),1)]),_:1},8,["type"])])])],2),e($).packageCategory.visibility&&e(p).package.length!==1||e($).packageDuration.visibility||e($).packageCapacity.visibility||e($).packageLocation.visibility&&e(ue).length?(t(),i("div",Mo,[a("div",Uo,[e(_e)?(t(),i("div",Wo,[jo,a("span",null,o(e(X).name),1)])):c("",!0),e($).packageDuration.visibility?(t(),i("div",Ho,[qo,e(n).endDate?(t(),i("span",Go,o(`${e(j).expires_at} ${e(n).endDate.split(" ")[0]}`),1)):e(n).durationCount?(t(),i("span",Jo,o(`${e(j).expires_after} ${e(n).durationCount} ${We(e(n).durationCount,e(n).durationType)}`),1)):(t(),i("span",Yo,o(e(j).without_expiration),1))])):c("",!0),e($).packageCapacity.visibility?(t(),i("div",Qo,Ko)):c("",!0),e(ue).length&&e($).packageLocation.visibility?(t(),i("div",en,[tn,a("span",null,o(Ae(e(ue))),1)])):c("",!0)])])):c("",!0)]),content:A(()=>[e(n).gallery.length?(t(),i("div",an,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(n).gallery.length===1},{"am-mobile w100":e(k)<678}]]),style:re({backgroundImage:`url(${e(n).gallery[0].pictureFullPath})`})},null,6),e(ee).length&&e(k)>677?(t(),i("div",ln,[(t(!0),i(Q,null,he(e(ee),(B,J)=>(t(),i("div",{key:J,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(ee).length===1}]),style:re({backgroundImage:`url(${B.pictureFullPath})`})},null,6))),128))])):c("",!0),q(Fe,{"custom-class":`am-fcip__gallery-btn${e(k)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>ce(te)?te.value=!0:te=!0)},{default:A(()=>[sn,a("span",null,o(e(j).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),q(mt,{modelValue:e(te),"onUpdate:modelValue":U[4]||(U[4]=B=>ce(te)?te.value=B:te=B),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:re(e(Pe))},[a("div",on,[a("div",nn,[a("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>ce(I)?I.value=e(I)<=0?e(n).gallery.length-1:e(I)-1:I=e(I)<=0?e(n).gallery.length-1:e(I)-1)}),a("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>ce(I)?I.value=e(n).gallery.length-1===e(I)?0:e(I)+1:I=e(n).gallery.length-1===e(I)?0:e(I)+1)})]),(t(!0),i(Q,null,he(e(n).gallery,(B,J)=>(t(),i("div",{key:J,class:"am-gd__display",style:re({display:J===e(I)?"flex":"none"}),onClick:U[3]||(U[3]=()=>ce(I)?I.value=e(n).gallery.length-1===e(I)?0:e(I)+1:I=e(n).gallery.length-1===e(I)?0:e(I)+1)},[a("img",{src:B.pictureFullPath,alt:J},null,8,rn)],4))),128))]),a("div",cn,o(`${e(I)+1}/${e(n).gallery.length}`),1),a("div",un,[(t(!0),i(Q,null,he(e(n).gallery,(B,J)=>(t(),i("div",{key:J,class:R(["am-gd__thumb",{"am-active":J===e(I)}]),style:re({backgroundImage:`url(${B.pictureFullPath})`}),onClick:()=>ce(I)?I.value=J:I=J},null,14,dn))),128))])],4)]),_:1},8,["modelValue"]),e($).packageDescription.visibility&&e(Ne)(e(n).description)||e($).packageEmployees.visibility?(t(),i("div",mn,[a("div",pn,[e(Ne)(e(n).description)&&e($).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(ne)==="description"}]),onClick:U[5]||(U[5]=()=>ce(ne)?ne.value="description":ne="description")},o(e(j).about_package),3)):c("",!0),e($).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(ne)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>ce(ne)?ne.value="employees":ne="employees")},o(e(j).tab_employees),3)):c("",!0)]),a("div",_n,[e(Ne)(e(n).description)&&e($).packageDescription.visibility?Pt((t(),i("div",fn,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(n).description.includes("<!-- Content -->")}]),innerHTML:e(n).description},null,10,vn)],512)),[[It,e(ne)==="description"]]):c("",!0),e($).packageEmployees.visibility?Pt((t(),i("div",gn,[q(St,null,{default:A(()=>[(t(!0),i(Q,null,he(e(K),B=>(t(),ye(xt,{key:B.id,side:""},{heading:A(()=>[a("div",yn,[a("div",hn,[q(ut,{"item-class":"am-fcip__info-employee__img","item-data":B,"trim-string":3},null,8,["item-data"]),a("div",bn,[me(o(B.firstName)+" "+o(B.lastName)+" ",1),B.badge?(t(),i("span",{key:0,style:re({background:B.badge.color}),class:"am-fcip__info-employee__badge"},o(B.badge.content),5)):c("",!0)])])])]),default:A(()=>[e(Ne)(B.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":B.description.includes("<!-- Content -->")}]),innerHTML:B.description},null,10,kn)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[It,e(ne)==="employees"]]):c("",!0)])])):c("",!0),e($).packageServices.visibility?(t(),i("div",Cn,[a("div",$n,[a("span",wn,o(`${e(j).package_includes}:`),1)]),q(St,null,{default:A(()=>[(t(!0),i(Q,null,he(e(n).bookable,B=>(t(),ye(xt,{key:B.id,side:!0},{heading:A(()=>[a("div",Sn,[q(ut,{"item-class":"am-fcip__include-service__img","item-data":B.service},null,8,["item-data"]),me(" "+o(B.service.name+(e(n).sharedCapacity?"":" x"+B.quantity)),1)])]),default:A(()=>[a("div",xn,[a("span",null,o(`${e(j).tab_employees}:`),1),(t(!0),i(Q,null,he(O(B).slice(0,6),J=>(t(),ye(ut,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),O(B).length>6?(t(),i("span",Pn," + "+o(O(B).length-6),1)):c("",!0),e(Ne)(B.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":B.service.description.includes("<!-- Content -->")}]),innerHTML:B.service.description},null,10,In)):c("",!0)])]),_:2},1024))),128))]),_:1}),a("div",Dn,[a("span",Ln,o(e(j).package_book_service),1)])])):c("",!0),q(mt,{modelValue:e(fe),"onUpdate:modelValue":U[7]||(U[7]=B=>ce(fe)?fe.value=B:fe=B),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Y),onClosed:m},{default:A(()=>[q(qt)]),_:1},8,["modelValue","width"])]),_:2},[e(_)?{name:"header",fn:A(()=>[q(jt,{"btn-string":e(j).back_btn,"btn-type":e($).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:Le},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ge)?(t(),i("div",En,[a("img",{src:e(P).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(j).no_package_services},null,8,Tn),a("div",Bn,o(e(j).oops),1),a("div",zn,o(e(j).no_package_services),1),a("div",Fn,[a("a",An,o(e(j).add_services_url)+"\xA0 ",1)])],512)):c("",!0)],64))}});const On={name:"CatalogSkeleton"},Vn=Object.assign(On,{setup(y){let D=b(null),u=b(0);window.addEventListener("resize",k);function k(){D.value&&(u.value=D.value.offsetWidth)}Be(()=>{D.value&&(u.value=D.value.offsetWidth)});let S=h(()=>u.value<=500?"am-w100":u.value<=600?"am-w50":u.value<=768?"am-w33":"");return(P,d)=>{const l=Ua,p=Ma;return t(),i("div",{ref_key:"amSkeletonContainer",ref:D,class:"am-skeleton-catalog__wrapper"},[q(p,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(t(!0),i(Q,null,he(new Array(8),_=>(t(),i("div",{key:_,class:R(["am-skeleton-catalog__item",e(S)])},[q(l,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Mn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Un=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Wn=["href"],jn={name:"CatalogFormWrapper"},Hn=Object.assign(jn,{setup(y){let D=z("licence"),u=b(null),k=b(20);const S=z("baseUrls");let P=b(0);le("containerWidth",P),window.addEventListener("resize",d);function d(){u.value&&(P.value=u.value.offsetWidth)}Be(()=>{v.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+_.value.counter).classList.add("amelia-v2-booking-"+_.value.counter+"-loaded"),_t(v,{},"ViewContent","appointment",null,null),d(),Xt("scrollForm",{offsetFromTop:k})});let l=b(!1);const p=z("settings"),_=z("shortcodeData"),v=lt();v.commit("entities/setPreselected",_.value),v.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:D,loadEntities:_.value.hasApiCall||_.value.in_dialog,showHidden:!1,isPanel:!1});const M=Se(Ii),$=Se(ms),g=Se(Eo),N=Se(Nn);let V=b([M,$]),X=b(0),_e=b(null);le("categorySelected",_e);let n=b([]);le("availableCategories",n);let I=b("");le("itemType",I),wt(I,()=>{I.value==="appointment"&&V.value.push(g),I.value==="package"&&V.value.push(N),I.value===""&&V.value.forEach((W,m)=>{W.name==="CategoryService"&&ne(V.value,m),W.name==="CategoryPackage"&&ne(V.value,m)})});function ne(W,m){W.splice(m,1)}function K(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ue(){if(X.value=X.value+1,K())setTimeout(()=>{let W=u.value.getBoundingClientRect().top+window.pageYOffset-k.value;window.scrollTo({top:W,behavior:"smooth"})},500);else{let W=u.value.getBoundingClientRect().top+window.pageYOffset-k.value;window.scrollTo({top:W,behavior:"smooth"})}}function ke(){X.value=X.value-1}le("changingPageFunctions",{nextPage:ue,previousPage:ke});let O=h(()=>v.getters["entities/getReady"]),ge=h(()=>v.state.entities);le("amEntities",ge);function te(){let W=v.getters["entities/getPreselected"];if(W.category.length!==1&&(_.value.categories_hidden&&(n.value=JSON.parse(JSON.stringify(Ct(ge.value,_.value))),xe(()=>{let m=V.value.findIndex(de=>de.name==="CategoriesList");V.value.splice(m,1)})),_.value.categories_hidden||(n.value=JSON.parse(JSON.stringify(Ct(ge.value,_.value))),xe(()=>{if(n.value.length===1){v.commit("booking/setCategoryId",parseInt(n.value[0].id)),_e.value=parseInt(n.value[0].id);let m=V.value.findIndex(de=>de.name==="CategoriesList");V.value.splice(m,1)}}))),W.category.length===1&&(v.commit("booking/setCategoryId",parseInt(W.category)),_e.value=parseInt(W.category[0]),n.value=JSON.parse(JSON.stringify(Ct(ge.value,_.value).filter(m=>m.id===parseInt(W.category[0])))),xe(()=>{let m=V.value.findIndex(de=>de.name==="CategoriesList");V.value.splice(m,1)})),W.service.length===1){v.commit("booking/setServiceId",parseInt(W.service[0]));let m=v.getters["entities/getService"](parseInt(W.service[0]));_e.value=m?parseInt(m.categoryId):null,v.commit("booking/setCategoryId",m?parseInt(m.categoryId):null),xe(()=>{V.value=[],V.value.push(g)})}W.employee.length===1&&v.commit("booking/setEmployeeId",parseInt(W.employee[0])),W.location.length===1&&v.commit("booking/setLocationId",parseInt(W.location[0])),W.package.length===1&&v.getters["entities/getPackages"].length&&(V.value=[],v.commit("booking/setPackageId",parseInt(W.package[0])),xe(()=>{V.value.push(N)})),W.show==="packages"?v.commit("booking/setBookableType","package"):v.commit("booking/setBookableType","appointment")}let ee=h(()=>O.value?ja(v,_.value):null);le("restoreFormData",ee),wt(O,W=>{W&&(te(),l.value=v.getters["entities/getServices"].length===0||v.getters["entities/getEmployees"].length===0,ee.value&&(I.value=v.state.booking.appointment.type,xe(()=>{X.value=V.value.length-1,_e.value=v.state.booking.appointment.categoryId})))});let Le=h(()=>p.customizedData&&"cbf"in p.customizedData?p.customizedData.cbf:ct.cbf);le("customizedDataForm",Le);const fe=b(p.customizedData?p.customizedData.fonts:ct.fonts);le("amFonts",fe);let Y=h(()=>p.customizedData&&"cbf"in p.customizedData?p.customizedData.cbf.colors:ct.cbf.colors);le("amColors",Y);let Ce=h(()=>({"--am-c-primary":Y.value.colorPrimary,"--am-c-success":Y.value.colorSuccess,"--am-c-error":Y.value.colorError,"--am-c-warning":Y.value.colorWarning,"--am-c-main-bgr":Y.value.colorMainBgr,"--am-c-main-heading-text":Y.value.colorMainHeadingText,"--am-c-main-text":Y.value.colorMainText,"--am-c-sb-bgr":Y.value.colorSbBgr,"--am-c-sb-text":Y.value.colorSbText,"--am-c-inp-bgr":Y.value.colorInpBgr,"--am-c-inp-border":Y.value.colorInpBorder,"--am-c-inp-text":Y.value.colorInpText,"--am-c-inp-placeholder":Y.value.colorInpPlaceHolder,"--am-c-drop-bgr":Y.value.colorDropBgr,"--am-c-drop-text":Y.value.colorDropText,"--am-c-card-bgr":Y.value.colorCardBgr,"--am-c-card-text":Y.value.colorCardText,"--am-c-card-border":Y.value.colorCardBorder,"--am-c-btn-prim":Y.value.colorBtnPrim,"--am-c-btn-prim-text":Y.value.colorBtnPrimText,"--am-c-btn-sec":Y.value.colorBtnSec,"--am-c-btn-sec-text":Y.value.colorBtnSecText,"--am-c-skeleton-op20":ie(Y.value.colorMainText,.2),"--am-c-skeleton-op60":ie(Y.value.colorMainText,.6),"--am-font-family":fe.value.fontFamily}));function Oe(){let W=document.head||document.getElementsByTagName("head")[0];W.querySelector("#amCustomFont")&&W.querySelector("#amCustomFont").remove();let m=`@font-face {font-family: '${fe.value.fontFamily}'; src: url(${fe.value.fontUrl});}`,de=document.createElement("style");W.appendChild(de),de.setAttribute("type","text/css"),de.setAttribute("id","amCustomFont"),de.appendChild(document.createTextNode(m))}fe.value.customFontSelected&&Oe();let E=h(()=>({colorInputBorderRadius:"6px"}));return le("amDesignProperties",E),(W,m)=>(t(),i(Q,null,[fe.value.customFontSelected?c("",!0):(t(),i(Q,{key:0},[Mn,Un,a("link",{rel:"stylesheet",type:"text/css",href:`${e(S).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Wn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:u,class:"am-fc__wrapper",style:re(e(Ce))},[e(O)&&e(V).length?(t(),ye(Zt(e(V)[e(X)]),{key:0})):(t(),ye(Vn,{key:1}))],4),q(e(Wa))],64))}});var Gn=Object.freeze(Object.defineProperty({__proto__:null,default:Hn},Symbol.toStringTag,{value:"Module"}));export{Gn as C,mt as _,li as a,jt as b,ut as c,Ht as d,Hn as e};
