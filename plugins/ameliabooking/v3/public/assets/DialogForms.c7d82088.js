import{e as k,_ as R}from"./catalogForm.4fd23a05.js";import{D as B,M as u,cR as W,r as i,J as d,L,a as M,a9 as $,c as f,a8 as S,d as w,w as F,u as l,i as N,s as D,K as y,b as x,ah as P}from"./stepForm.1410cce9.js";import{l as T}from"./eventListForm.9cedb535.js";import j from"./eventCalendarForm.8fc48776.js";const A={name:"EventsListFormWrapper"},U=Object.assign(A,{setup(H){let e=D("shortcodeData"),E=B({sbsNew:u(W),cbf:u(k),elf:u(T),ecf:u(j)}),n=i(0);d("dialogWrapperWidth",n);let a=i(!1);d("formDialogVisibility",a);let c=i(!1),g=e.value.trigger_type&&e.value.trigger_type==="class"?[...document.getElementsByClassName(e.value.trigger)]:[document.getElementById(e.value.trigger)];function b(s){c.value=s}let v=i(100),p=i(0);d("loadDialogCounter",p),g.forEach(s=>{s.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),a.value=!0,c.value||p.value++,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},v.value)})}),L(c,s=>{s&&g.forEach(r=>{r.dispatchEvent(new Event("click"))})});function z(){a.value=!1}let m=i(0);function _(){m.value=window.visualViewport.height}window.addEventListener("resize",_),M(()=>{$("renderPopup",{resizeAfter:v}),_()});const o=D("settings");let t=f(()=>o.customizedData&&e.value.triggered_form in o.customizedData?o.customizedData[e.value.triggered_form].colors:y[e.value.triggered_form].colors),V=f(()=>o.customizedData&&e.value.triggered_form in o.customizedData?o.customizedData[e.value.triggered_form]:y[e.value.triggered_form]),C=f(()=>({"--am-c-primary":t.value.colorPrimary,"--am-c-success":t.value.colorSuccess,"--am-c-error":t.value.colorError,"--am-c-warning":t.value.colorWarning,"--am-c-main-bgr":t.value.colorMainBgr,"--am-c-main-heading-text":t.value.colorMainHeadingText,"--am-c-main-text":t.value.colorMainText,"--am-dvh":m.value?`${m.value}px`:"100dvh"}));return S(()=>{e.value.triggered_form==="sbsNew"&&(n.value=V.value.sidebar.options.self.visibility?"760px":"520px"),e.value.triggered_form==="cbf"&&(n.value="1140px"),e.value.triggered_form==="elf"&&(n.value="792px")},{flush:"post"}),(s,r)=>(x(),w(R,{modelValue:l(a),"onUpdate:modelValue":r[0]||(r[0]=h=>N(a)?a.value=h:a=h),"append-to-body":!0,"modal-class":`amelia-v2-booking am-forms-dialog am-${l(e).triggered_form}`,"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-styles":l(C),"used-for-shortcode":!0,width:l(n),onClosed:z},{default:F(()=>[(x(),w(P(l(E)[l(e).triggered_form]),{onIsRestored:b}))]),_:1},8,["modelValue","modal-class","custom-styles","width"]))}});export{U as default};
