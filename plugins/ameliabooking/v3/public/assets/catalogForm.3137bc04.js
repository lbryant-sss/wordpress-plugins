import{A as da,r as k,o as Be,t as ma,c as h,E as pa,a as t,b as ye,w as A,d as i,e as n,f as ot,u as e,i as ce,n as R,g as re,h as Qt,_ as St,j as nt,k as a,l as me,m as _a,p as Fe,q as c,s as q,v as Wt,x as z,y as ie,F as X,z as he,B as xe,C as Xt,D as rt,G as at,I as fa,H as vt,J as se,K as dt,L as xt,M as Se,N as va,O as ga,P as ya,R as ha,Q as ba,S as ka,T as Ca,U as $a,V as wa,W as Sa,X as xa,Y as Pa,Z as Ia,$ as Da,a0 as Qe,a1 as Nt,a2 as La,a3 as Et,a4 as jt,a5 as ft,a6 as Zt,a7 as Ea,a8 as Ta,a9 as ea,aa as Ue,ab as Xe,ac as Ba,ad as za,ae as Fa,af as Ht,ag as Aa,ah as ta,ai as Ra,aj as Na,ak as aa,al as Oa,am as Va,an as Ot,ao as Pt,ap as Vt,aq as qt,ar as gt,as as It,at as Ne,au as Dt,av as Lt,aw as Ma,ax as Ua,ay as Wa,az as ja,aA as Ha,aB as qa}from"./stepForm.562a53a1.js";const Ga={key:0,class:"am-dialog__title"},Ja={inheritAttrs:!1},_t=Object.assign(Ja,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:da},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(y,{emit:L}){const u=y,C=k(null);Be(()=>{u.usedForShortcode&&(C.value.rendered=!0)});let{modelValue:x}=ma(u),I=h({get:()=>x.value,set:d=>{L("update:modelValue",d)}});return(d,s)=>{const p=pa;return t(),ye(p,{ref_key:"amDialogRef",ref:C,modelValue:e(I),"onUpdate:modelValue":s[0]||(s[0]=_=>ce(I)?I.value=_:I=_),"modal-class":`am-dialog-popup ${u.modalClass}`,class:R(u.customClass),title:u.title,width:u.width,fullscreen:u.fullscreen,top:u.top,modal:u.modal,"append-to-body":u.appendToBody,"lock-scroll":u.lockScroll,"open-delay":u.openDelay,"close-delay":u.closeDelay,"close-on-click-modal":u.closeOnClickModal,"close-on-press-escape":u.closeOnPressEscape,"show-close":u.showClose,"before-close":u.beforeClose,center:u.center,"destroy-on-close":u.destroyOnClose,"close-icon":u.closeIcon,style:re(u.customStyles),onClose:s[1]||(s[1]=_=>L("close")),onOpen:s[2]||(s[2]=_=>L("open")),onClosed:s[3]||(s[3]=_=>L("closed")),onOpened:s[4]||(s[4]=_=>L("opened"))},{header:A(()=>[y.title?(t(),i("span",Ga,n(y.title),1)):ot(d.$slots,"title",{key:1})]),footer:A(()=>[ot(d.$slots,"footer")]),default:A(()=>[ot(d.$slots,"default")]),_:3},8,["modelValue","modal-class","class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon","style"])}}});const Ya={class:"am-cat__header-inner"},Qa={class:"am-cat__back-btn"},Xa={key:0,class:"am-cat__cart-btn"},Za={class:"am-cat__cart-number"},Ka={name:"MainHeader"},Gt=Object.assign(Ka,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(y,{emit:L}){const u=y;let C=Qt({components:{IconComponent:St},template:'<IconComponent icon="arrow-left"></IconComponent>'}),x=Qt({components:{IconComponent:St},template:'<IconComponent icon="cart"/>'});function I(){L("goBack")}const d=nt();function s(){Wt(d),L("goToCart")}return(p,_)=>(t(),i("div",Ya,[a("div",Qa,[e(u).backBtnVisibility?(t(),ye(Fe,{key:0,prefix:e(C),category:"secondary",type:y.btnType,size:y.btnSize,onClick:I,onKeydown:_a(I,["enter"])},{default:A(()=>[me(n(e(u).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):c("",!0)]),e(u).cartBtnVisibility?(t(),i("div",Xa,[a("span",Za,n(e(u).cartItemsNumber),1),q(Fe,{"aria-label":"Go to cart button",category:"secondary",type:y.btnType,size:y.btnSize,round:!0,"icon-only":!0,icon:e(x),onClick:s},null,8,["type","size","icon"])])):c("",!0)]))}});const ei={class:"am-cat__sidemenu-item__wrapper"},ti=["onClick"],ai={key:0,class:"am-cat__sidemenu-footer"},ii={class:"am-cat__sidemenu-footer__text"},si=["href"],li={name:"SideMenu"},oi=Object.assign(li,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(y,{emit:L}){const u=y;function C(d){L("click",d)}let x=z("amColors"),I=h(()=>({"--am-c-csm-text-op10":ie(x.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(x.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(x.value.colorSbText,.6),"--am-c-csm-text-op80":ie(x.value.colorSbText,.8)}));return(d,s)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:re(e(I))},[a("div",ei,[(t(!0),i(X,null,he(y.menuItems,(p,_)=>(t(),i("div",{key:_,class:R(["am-cat__sidemenu-item",{"am-active":e(u).initSelection===p[e(u).identifier]}]),onClick:()=>C(p)},n(p[e(u).nameIdentifier]),11,ti))),128))]),e(u).companyEmail?(t(),i("div",ai,[a("span",ii,n(e(u).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(u).companyEmail}`},n(e(u).companyEmail),9,si)])):c("",!0)],4))}});const ni={name:"MainContent"},Jt=Object.assign(ni,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(y,{expose:L}){let u=k(null),C=k(0),x=k(null),I=k(0),d=k(null),s=k(0),p=k(null),_=k(null),v=k(0);window.addEventListener("resize",M);function M(){xe(()=>{u.value&&(C.value=u.value.offsetWidth),x.value&&(I.value=x.value.offsetWidth),d.value&&(s.value=d.value.offsetWidth)})}Be(()=>{xe(()=>{if(d.value&&p.value){let N=d.value.offsetHeight-p.value.offsetHeight-2;v.value=N<=656?656:N}M()})}),L({catHeaderWidth:C,catFormWidth:s,catContainerWidth:I});let w=z("amColors"),g=h(()=>({"--am-h-cat-content":`${v.value}px`,"--am-c-scroll-op30":ie(w.value.colorPrimary,.3),"--am-c-scroll-op10":ie(w.value.colorPrimary,.1)}));return(N,V)=>(t(),i("div",{class:R(["am-cat__wrapper",y.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:u,class:"am-cat__header"},[ot(N.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:x,class:"am-cat__main"},[ot(N.$slots,"side"),a("div",{ref_key:"catForm",ref:d,class:R(["am-cat__form",y.formClass]),style:re(e(g))},[a("div",{ref_key:"catHeading",ref:p,class:R(["am-cat__heading",y.headingClass])},[ot(N.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:_,class:R(["am-cat__content",y.contentClass])},[ot(N.$slots,"content")],2)],6)],512)],2))}}),ri={name:"AmImagePlaceholder"},mt=Object.assign(ri,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(y){const L=y;function u(x){return x.pictureFullPath?{backgroundImage:`url(${x.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function C(x){return x.pictureFullPath?"":("firstName"in x?`${x.firstName} ${x.lastName}`:x.name).split(" ").map(d=>d.charAt(0)).join("").toUpperCase().substring(0,L.trimString).replace(/[^\w\s]/g,"")}return(x,I)=>(t(),i("span",{class:R(e(L).itemClass),style:re({...u(e(L).itemData)})},n(C(e(L).itemData)),7))}}),Mt=rt(window.wpAmeliaSettings),Kt=rt(window.wpAmeliaLabels);function ia(y,L,u,C=null,x=null){let I=[],d=y&&y.service?y.service.split(",").map(s=>parseInt(s)):null;return L&&L.serviceList.forEach(s=>{C?C in u.entitiesRelations&&s.id in u.entitiesRelations[C]&&(x?u.entitiesRelations[C][s.id].find(p=>p===x):!0)&&s.status==="visible"&&s.show&&!I.filter(p=>p===s.id).length&&(!d||d.includes(s.id))&&I.push(s.id):u.employees.forEach(p=>{p.id in u.entitiesRelations&&s.id in u.entitiesRelations[p.id]&&(x?u.entitiesRelations[p.id][s.id].find(_=>_===x):!0)&&s.status==="visible"&&s.show&&!I.filter(_=>_===s.id).length&&(!d||d.includes(s.id))&&I.push(s.id)})}),I}function sa(y,L){let u=[],C=[];y.employees.forEach(d=>{if(d.id in y.entitiesRelations&&L in y.entitiesRelations[d.id]){let s=d.serviceList.find(p=>p.id===L);u.push(s.maxCapacity),C.push(s.minCapacity)}});let x=C.reduce((d,s)=>s<d?s:d,C[0]),I=u.reduce((d,s)=>s>d?s:d,u[0]);return x!==I?`${x}/${I}`:x}function la(y){let L=Math.floor(y/3600),u=y/60%60;return(L?L+Kt.h+" ":"")+" "+(u?u+Kt.min:"")}function pt(y,L){let u=[];y.employees.forEach(I=>{if(I.id in y.entitiesRelations&&L in y.entitiesRelations[I.id]){let d=I.serviceList.find(s=>s.id===L);u.push(d.price)}});let C=u.reduce((I,d)=>d<I?d:I,u[0]),x=u.reduce((I,d)=>d>I?d:I,u[0]);return C!==x?{price:`${at(C,!Mt.payments.hideCurrencySymbolFrontend)} - ${at(x,!Mt.payments.hideCurrencySymbolFrontend)}`,min:C,max:x}:{price:at(C,Mt.payments.hideCurrencySymbolFrontend),min:C,max:x}}function lt(y,L){let u=[];return y.employees.forEach(C=>{C.id in y.entitiesRelations&&L in y.entitiesRelations[C.id]&&y.entitiesRelations[C.id][L].length&&y.locations.forEach(x=>{y.entitiesRelations[C.id][L].some(I=>I===x.id)&&!u.find(I=>I===x.id)&&u.push(x)})}),u}function ci(y,L){let u=[],C=Object.keys(y.entitiesRelations);return L.bookable.forEach(x=>{let I=[];C.forEach(d=>{y.entitiesRelations[d]&&y.entitiesRelations[d][x.service.id]&&!I.find(s=>s?s.id===parseInt(d):!0)&&I.push(y.employees.find(s=>s.id===parseInt(d)))}),I.length||u.push(!1)}),u.filter(x=>x===!1).length}function ui(y,L,u){let C=[],x=Object.keys(y.entitiesRelations),I=u&&u.employee?u.employee.split(",").map(s=>parseInt(s)):null,d=k(I?y.unfilteredEmployees.filter(s=>I.map(p=>parseInt(p)).includes(s.id)):y.unfilteredEmployees);return L.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(_=>{s.locations.length?s.locations.forEach(v=>{d.value.find(M=>M.id===_.id)&&y.entitiesRelations[_.id]&&y.entitiesRelations[_.id][s.service.id]&&y.entitiesRelations[_.id][s.service.id].indexOf(v.id)!==-1&&!p.find(M=>M.id===_.id)&&p.push(d.value.find(M=>M.id===_.id))}):d.value.find(v=>v.id===_.id)&&!p.find(v=>v.id===_.id)&&p.push(d.value.find(v=>v.id===_.id))}):x.forEach(_=>{s.locations.length?s.locations.forEach(v=>{y.entitiesRelations[_]&&y.entitiesRelations[_][s.service.id]&&y.entitiesRelations[_][s.service.id].indexOf(v.id)!==-1&&d.value.find(M=>M.id===parseInt(_))&&!p.find(M=>M.id===parseInt(_))&&p.push(d.value.find(M=>M.id===parseInt(_)))}):y.entitiesRelations[_]&&y.entitiesRelations[_][s.service.id]&&d.value.find(v=>v.id===parseInt(_))&&!p.find(v=>v.id===parseInt(_))&&p.push(d.value.find(v=>v.id===parseInt(_)))}),C.push(!!p.length)}),!C.filter(s=>s===!1).length}function oa(y,L,u){let C=[],x=Object.keys(y.entitiesRelations),I=u&&u.employee?u.employee.split(",").map(s=>parseInt(s)):null,d=k(I?y.unfilteredEmployees.filter(s=>I.map(p=>parseInt(p)).includes(s.id)):y.unfilteredEmployees);return L.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(_=>{d.value.find(v=>v.id===p.id)&&y.entitiesRelations[p.id]&&y.entitiesRelations[p.id][s.service.id]&&y.entitiesRelations[p.id][s.service.id].indexOf(_.id)!==-1&&!C.find(v=>v.id===p.id)&&C.push(d.value.find(v=>v.id===p.id))}):d.value.find(_=>_.id===p.id)&&!C.find(_=>_.id===p.id)&&C.push(d.value.find(_=>_.id===p.id))}):x.forEach(p=>{s.locations.length?s.locations.forEach(_=>{y.entitiesRelations[p]&&y.entitiesRelations[p][s.service.id]&&y.entitiesRelations[p][s.service.id].indexOf(_.id)!==-1&&d.value.find(v=>v.id===parseInt(p))&&!C.find(v=>v.id===parseInt(p))&&C.push(d.value.find(v=>v.id===parseInt(p)))}):y.entitiesRelations[p]&&y.entitiesRelations[p][s.service.id]&&d.value.find(_=>_.id===parseInt(p))&&!C.find(_=>_.id===parseInt(p))&&C.push(d.value.find(_=>_.id===parseInt(p)))})}),C}function Ut(y,L,u){let C=[],x=Object.keys(y.entitiesRelations),I=u&&u.location?u.location.split(",").map(s=>parseInt(s)):null,d=k(I?y.unfilteredLocations.filter(s=>I.map(p=>parseInt(p)).includes(s.id)):y.unfilteredLocations);return L.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{d.value.find(_=>_.id===p.id)&&!C.find(_=>_.id===p.id)&&C.push(d.value.find(_=>_.id===p.id))}):x.forEach(p=>{d.value.forEach(_=>{p in y.entitiesRelations&&s.service.id in y.entitiesRelations[p]&&y.entitiesRelations[p][s.service.id].indexOf(_.id)!==-1&&d.value.find(v=>v.id===_.id)&&!C.find(v=>v.id===parseInt(_.id))&&C.push(d.value.find(v=>v.id===_.id))})})}),C}function wt(y,L,u=null,C=null){let x=[];return y.categories.forEach(I=>{let d=ia(L,I,y,u,C);I.serviceIdList=d,I.packageList=[],y.packages.forEach(s=>{d.forEach(p=>{s.bookable.filter(_=>_.service.id===p).length&&!I.packageList.filter(_=>_===s.id).length&&s.available&&s.status==="visible"&&!ci(y,s)&&ui(y,s,L)&&I.packageList.push(s.id)})}),I.status==="visible"&&I.serviceList.length&&!!d.length&&(L.show==="packages"?!!I.packageList.length:!0)&&x.push(I)}),x}const di={class:"am-fcl__item-inner"},mi={class:"am-fcl__item-name"},pi={class:"am-fcl__item-segments"},_i={key:0,class:"am-fcl__item-segments__item"},fi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),vi={class:"am-fcl__item-segments__item-count"},gi={key:1,class:"am-fcl__item-segments__item"},yi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),hi={class:"am-fcl__item-segments__item-count"},bi={class:"am-fcl__item-footer"},ki=["src","alt"],Ci={class:"am-empty__heading"},$i={class:"am-empty__subheading"},wi={class:"am-empty__text"},Si={key:0},xi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Pi={key:1},Ii={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Di={name:"CategoriesList",key:"categoriesList"},Li=Object.assign(Di,{setup(y){const L=z("baseUrls");let u=k(null),C=k(0);window.addEventListener("resize",x);function x(){u.value&&(C.value=u.value.offsetWidth)}Be(()=>{u.value&&(C.value=u.value.offsetWidth)});let I=h(()=>C.value<=500?"am-w100":C.value<=600?"am-w50":C.value<=768?"am-w33":""),{nextPage:d}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let p=nt(),_=z("amEntities"),v=z("customizedDataForm"),M=h(()=>v.value.categoriesList.options);const w=z("shortcodeData"),g=h(()=>p.getters["entities/getPreselected"]);let N=z("availableCategories"),V=h(()=>N.value),Z=z("categorySelected");function _e(ge){Z.value=ge,p.commit("booking/setCategoryId",parseInt(ge)),vt(p,{},"SelectCategory","appointment",null,null),d()}let l=h(()=>V.value.length===0);const D=z("labels"),ne=z("localLanguage");let K=h(()=>s.general.usedLanguages.includes(ne.value)),ue=h(()=>{let ge=rt({...D});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let te=s.customizedData.cbf.categoriesList.translations;Object.keys(te).forEach(ee=>{te[ee][ne.value]&&K.value?ge[ee]=te[ee][ne.value]:te[ee].default&&(ge[ee]=te[ee].default)})}return ge}),ke=z("amColors"),O=h(()=>({"--am-c-fcl-card-text-op80":ie(ke.value.colorCardText,.8)}));return(ge,te)=>e(l)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:u,class:"am-empty"},[a("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(g).show!=="packages"?e(ue).no_services_employees:e(ue).no_package_services},null,8,ki),a("div",Ci,n(e(ue).oops),1),a("div",$i,n(e(g).show!=="packages"?e(ue).no_services_employees:e(ue).no_package_services),1),a("div",wi,[e(g).show!=="packages"?(t(),i("span",Si,n(e(ue).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",xi,n(e(ue).add_services_url)+"\xA0 ",1),e(g).show!=="packages"?(t(),i("span",Pi,n(e(ue).and)+"\xA0 ",1)):c("",!0),e(g).show!=="packages"?(t(),i("a",Ii,n(e(ue).add_employees_url),1)):c("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:u,class:"am-fcl",role:"main",style:re(e(O))},[(t(!0),i(X,null,he(e(V),ee=>(t(),i("div",{key:ee.id,class:R(["am-fcl__item",e(I)]),role:"group"},[a("div",di,[a("div",{class:"am-fcl__item-content",style:re(e(M).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:ee.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(M).cardColor&&e(M).cardColor.visibility?{backgroundColor:e(ie)(ee.color,.1)}:{})},[ee.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${ee.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):c("",!0),a("div",mi,n(ee.name),1),a("div",pi,[(!e(g).show||e(g).show==="services")&&e(M).services.visibility?(t(),i("div",_i,[fi,a("span",vi,n(e(ia)(e(w),ee,e(_)).length),1)])):c("",!0),(!e(g).show||e(g).show==="packages")&&ee.packageList.length&&e(M).packages.visibility?(t(),i("div",gi,[yi,a("span",hi,n(ee.packageList.length),1)])):c("",!0)])],4),a("div",bi,[q(Fe,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(M).cardButton.buttonType,suffix:e(fa),onClick:Ee=>_e(ee.id)},{default:A(()=>[me(n(e(ue).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ei=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ti=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Bi=["href"],zi={class:"am-fs-sb__step-wrapper",tabindex:"0"},Fi={class:"am-fs-sb__step-inner"},Ai={class:"am-fs-sb__step-icon"},Ri={key:0,class:"am-icon-check"},Ni={key:0},Oi={key:1},Vi={key:1},Mi={key:0,class:"am-fs-sb__step"},Ui={class:"am-fs-sb__step-inner"},Wi={class:"am-fs-sb__step-icon"},ji={key:0,class:"am-icon-check"},Hi={key:0,class:"am-fs-sb__support"},qi=["aria-label","href"],Gi={key:1,class:"am-icon-phone"},Ji=["aria-label","href"],Yi={key:1,class:"am-icon-email"},Qi={key:0,class:"am-fs-sb__menu-text"},Xi={key:2,class:"am-no-services"},Zi=["src","alt"],Ki={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},es={style:{"font-size":"14px"}},ts={href:"https://wpamelia.com/employees/",rel:"nofollow"},as={name:"CategoryBooking"},Yt=Object.assign(as,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(y,{emit:L}){const u=y;let C=k(null),x=k();se("containerWidth",x);let I=k(!1);window.addEventListener("resize",d);function d(){C.value&&(x.value=C.value.offsetWidth)}Be(()=>{xe(()=>{C.value&&(x.value=C.value.offsetWidth)}),vt(l,{containerWidth:x},"ContainerWidth","appointment",null,null)});const s=z("settings"),p=s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew:dt.sbsNew;p&&se("amCustomize",p);let _=h(()=>{let r={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(r.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(r.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(r.email=p.sidebar.options.companyEmail.visibility),r});const v=k(s.customizedData?s.customizedData.fonts:dt.fonts);se("amFonts",v);let M=k(!1);se("sidebarCollapsed",M);let w=k(""),g=z("bookingDialogWidth");xt(M,r=>{r?setTimeout(()=>{w.value="am-collapsed",setTimeout(()=>{g.value="592px"},200)},1e3):(w.value="",g.value="760px")}),Be(()=>{p.sidebar.options.self.visibility||(g.value="520px")});let N=k(null),V=k(0);Be(()=>{setTimeout(()=>{xe(()=>{N.value&&setTimeout(()=>{N.value&&(V.value=N.value.offsetHeight)},200)})},800)});let Z=k(p.sidebar?p.sidebar.options.self.visibility:!0);const _e=z("baseUrls"),l=nt();let D=h(()=>{let r=l.getters["entities/getOriginalPreselected"],b={category:l.state.booking.appointment.categoryId?[l.state.booking.appointment.categoryId]:[],counter:l.state.entities.preselected.counter,employee:l.state.booking.appointment.providerId?[l.state.booking.appointment.providerId]:[],hasApiCall:l.state.entities.preselected.hasApiCall,location:l.state.booking.appointment.locationId?[l.state.booking.appointment.locationId]:[],service:l.state.booking.appointment.serviceId?[l.state.booking.appointment.serviceId]:[],package:l.state.booking.packageId?[l.state.booking.packageId]:[],show:l.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(r).forEach(P=>{P in b||(b[P]=r[P])}),b});l.commit("entities/setPreselected",D.value);let ne=z("restoreFormData");const K=Se(va),ue=Se(ga),ke=Se(ya),O=Se(ha),ge=Se(ba),te=Se(ka),ee=Se(Ca),Ee=Se($a),fe=Se(wa),Q=Se(Sa),Ce=Se(xa),Oe=Se(Pa),E=Se(Ia),W=Se(Da),m=k(Qe(l)?[K,te,Q,Ce,fe]:[K,te,Ce,fe]);se("stepsArray",m);const de=z("labels"),ze=z("localLanguage");let pe=h(()=>s.general.usedLanguages.includes(ze.value)),We=Nt(l),j=h(()=>{let r=rt({...de});return s.customizedData&&s.customizedData.sbsNew&&Object.keys(s.customizedData.sbsNew).forEach(b=>{if(b!=="colors"&&s.customizedData.sbsNew[b].translations){let P=s.customizedData.sbsNew[b].translations;Object.keys(P).forEach(Y=>{P[Y][ze.value]&&pe.value?r[Y]=P[Y][ze.value]:P[Y].default&&(r[Y]=P[Y].default)})}}),r});se("amLabels",j);let Ae=h(()=>{let r={};if(s.customizedData&&s.customizedData.sbsNew){let b=s.customizedData.sbsNew[m.value[$.value].key]?s.customizedData.sbsNew[m.value[$.value].key].translations:null;s.customizedData&&b&&Object.keys(b).forEach(P=>{b[P][ze.value]&&pe.value?r[P]=b[P][ze.value]:b[P].default&&(r[P]=b[P].default)})}return Object.keys(r).length?r:de}),je=h(()=>{let r="filled";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[m.value[$.value].key]&&(r=s.customizedData.sbsNew[m.value[$.value].key].options.primaryFooterButton.buttonType),r});se("primFooterBtnType",je),se("primDescBtnType",je);let ae=h(()=>{let r="text";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[m.value[$.value].key]&&s.customizedData.sbsNew[m.value[$.value].key].options.secondaryFooterButton&&(r=s.customizedData.sbsNew[m.value[$.value].key].options.secondaryFooterButton.buttonType),r}),Re=h(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Ie=h(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function G(r,b){let P="";if(s.customizedData&&s.customizedData.sbsNew){let Y=s.customizedData.sbsNew[b]?s.customizedData.sbsNew[b].translations:null;s.customizedData&&Y&&Y[r]&&(P===""&&Y[r][ze.value]&&pe.value?P=Y[r][ze.value]:P===""&&Y[r].default&&(P=Y[r].default))}return P||de[r]}let U=h(()=>La(l.getters["entities/getEmployeeServices"](l.getters["booking/getSelection"])));function B(){let r=l.getters["entities/getPreselected"];if(r.show==="packages")r.package.length>0&&(m.value.splice(0,1),le.value.splice(0,1),we()),f();else{S();let b=l.getters["entities/filteredEmployees"](l.getters["booking/getSelection"]).length<=1,P=!p.initStep.options.employee.visibility,Y=l.getters["entities/filteredLocations"](l.getters["booking/getSelection"]).length<=1,Pe=!p.initStep.options.location.visibility;r.service.length>0&&(r.employee.length>0||b||P)&&(r.location.length>0||Y||Pe)&&(U.value.availability?(m.value.splice(0,1,W),le.value.splice(0,1)):(m.value.splice(0,1),le.value.splice(0,1)),f())}}function J(r,b,P,Y){r.value.map((Ge,tt)=>b.includes(Ge.name)?tt:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{r.value.splice(Ge,1)});let Ye={value:Y};P.forEach(Ge=>{r.value.indexOf(Ge)===-1&&(l.getters["entities/getPreselected"].show==="packages"&&l.getters["entities/getPreselected"].package.length>0?r.value.splice(Ye.value,0,Ge):r.value.splice(Ye.value+1,0,Ge))})}se("goToPackageStep",{goToPackageStep:Te});function Te(r){l.commit("booking/setPackageId",r.id),l.commit("booking/setBookableType","package"),l.commit("booking/setMultipleAppointments",Et(0,r)),l.commit("booking/setMultipleAppointmentsIndex",0);let b=r.bookable.reduce((Pe,Ye)=>Pe+Ye.maximumScheduled,0),P=[],Y=[];m.value[0]!==ue&&P.push("ExtrasStep"),m.value[0]!==te&&P.push("DateTimeStep"),m.value[0]!==Q&&P.push("CartStep"),b>0?Y=Y.concat([Ee,ee,ke]):Y.push(ke),J(m,P,Y,$.value),J(le,P,[],$.value),f(),Ve()}function we(){let b=l.state.entities.packages.find(Pe=>Pe.id===l.getters["booking/getPackageId"]).bookable.reduce((Pe,Ye)=>Pe+Ye.maximumScheduled,0),P=[],Y=[];m.value.find(Pe=>Pe.name==="ExtrasStep")&&P.push("ExtrasStep"),m.value.find(Pe=>Pe.name==="DateTimeStep")&&P.push("DateTimeStep"),b>0?Y=Y.concat([Ee,ee,ke]):Y.push(ke),J(m,P,Y,$.value),J(le,P,[],$.value),f(),Ve()}function Je(){l.commit("booking/setBookableType","appointment"),l.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),l.commit("booking/setPackageId",null),l.commit("booking/setMultipleAppointmentsIndex",0),ft(l);let r=[];m.value[0]!==te&&(Qe(l)&&r.push(Q),r.push(te)),m.value[0]!==ue&&F.value&&F.value.length&&r.push(ue),J(m,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],r,$.value-1),J(le,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],$.value),f()}se("goToRecurringStep",{goToRecurringStep:De}),se("removeRecurringStep",{removeRecurringStep:H});function De(){Qe(l)&&Ke();let r=0;for(let b=0;b<m.value.length;b++)if(m.value[b].name==="DateTimeStep"){r=b;break}m.value.splice(r+1,0,O),m.value.splice(r+2,0,ge),f(),Ve()}function H(){for(let r=m.value.length-1;r>=0;r--)(m.value[r].name==="RecurringStep"||m.value[r].name==="RecurringSummary")&&m.value.splice(r+1,1);Qe(l)&&Le($.value),f()}let F=h(()=>{let r=l.getters["entities/getService"](l.getters["booking/getServiceId"]);return r?r.extras:[]});function S(){F.value.length&&!m.value.find(r=>r.name==="ExtrasStep")&&(m.value.splice($.value+1,0,ue),f()),le.value.find(r=>r.name==="ExtrasStep")&&!Object.keys(F.value).length&&(m.value.splice(1,1),le.value.splice(1,1)),u.showCart||ft(l)}se("initDataChanges",{changeInitStepDataService:S});const $=k(0);se("stepIndex",$);let yt=z("stepName",k(""));xt($,(r,b)=>{r<le.value.length&&(le.value[b].selected=!1,le.value[r].selected=!0),r===le.value.length&&(le.value[b].selected=!1),yt.value=m.value[r].name});let ht=k(!1);se("goBackToPackageBooking",ht);function Tt(){Ct(!1),$e.value||(m.value[$.value].name===ke.name&&Je(),m.value[$.value].name===O.name&&(m.value.splice($.value,2),le.value.splice($.value,2),Qe(l)&&(m.value.splice($.value,0,Q),J(le,[],[],$.value),f())),m.value[$.value].name===Ee.name&&(ht.value=!0),$.value=$.value-1),st.value=!st.value}function Ve(){$e.value||(le.value[$.value].finished=!0,$.value=$.value+1)}let Ze=h(()=>l.getters["entities/getReady"]),ct=h(()=>l.getters["booking/getLoading"]),He=h(()=>l.getters["booking/getBooked"]),it=h(()=>l.getters["booking/getPaymentGateway"]),ut=k(!1),bt=k(!1),st=k(!1);function kt(){ut.value=!0}function Bt(){ut.value=!1}function zt(){st.value=!0}function Ft(){st.value=!1}function Ct(r){bt.value=r}function At(){He.value&&(He.value.customerCabinetUrl?window.location.href=He.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:At});let $e=k(!1);se("changingStepsFunctions",{nextStep:Ve,previousStep:Tt,footerButtonClick:kt,footerButtonReset:Bt,footerBtnDisabledUpdater:Ct,headerButtonPreviousClick:zt,headerButtonPreviousReset:Ft,footerBtnDisabled:bt,footerButtonClicked:ut,headerButtonPreviousClicked:st,navigateInsideStep:$e});const le=k([]);se("sidebarSteps",le);function $t(r){le.value[$.value].stepSelectedData.filter(b=>b.reference===r.reference).length?le.value[$.value].stepSelectedData.forEach((b,P,Y)=>{b.reference===r.reference&&r.value&&r.value!==b.value&&(b.value=r.value),b.reference===r.reference&&!r.value&&Y.splice(P,1)}):r.value&&le.value[$.value].stepSelectedData.push(r),le.value[$.value].stepSelectedData.sort((b,P)=>b.position-P.position)}function T(){m.value.forEach((r,b)=>{if(r.name!=="CongratulationsStep"){let P=r.sidebarData.label,Y={name:r.name,key:r.key,label:j.value[P],labelKey:P,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===$.value};le.value.splice(b,0,Y)}})}jt(()=>{T(),B()}),Be(()=>{switch(l.getters["booking/getBookableType"]){case"appointment":u.showCart||ft(l);break}if(u.showCart&&Zt(m,$),ne.value){m.value.splice(0,m.value.length),le.value.splice(0,le.value.length),$.value=0,ne.value.steps.forEach(b=>{switch(b){case"packageStep":m.value.push(E);break;case"bringingAnyone":m.value.push(W);break;case"initStep":m.value.push(K);break;case"packageInfoStep":m.value.push(ke);break;case"packageAppointmentsStep":m.value.push(ee);break;case"packageAppointmentsListStep":m.value.push(Ee);break;case"extrasStep":m.value.push(ue);break;case"dateTimeStep":m.value.push(te);break;case"recurringStep":m.value.push(O);break;case"recurringSummary":m.value.push(ge);break;case"cartStep":m.value.push(Q);break;case"infoStep":m.value.push(Ce);break;case"paymentStep":m.value.push(Oe);break;case"congratulations":m.value.push(fe);break}let P=ne.value.sidebar.find(Y=>Y.key===b);f(),typeof P<"u"&&P.data&&P.data.forEach(Y=>{$t({reference:Y.reference,position:Y.position,value:Y.value})}),$.value++}),l.commit("booking/setLoading",!1);let r=-1;ne.value.result==="success"?r=m.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(r=m.value.length-2);for(let b=0;b<=r;b++)m.value[b].finished=!0;for(let b=0;b<=r-1;b++)le.value[b].finished=!0,le.value[b].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(le.value[r].finished=!1,le.value[r].selected=!0),$.value=r}});function f(){m.value.forEach((r,b)=>{if(r.name!=="CongratulationsStep"&&!le.value.find(P=>P.labelKey===r.sidebarData.label)){let P=r.sidebarData.label,Y={name:r.name,key:r.key,label:j.value[P],labelKey:P,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===$.value};le.value.splice(b,0,Y)}})}se("sidebarStepsFunctions",{sidebarDataCollector:$t}),se("addPaymentsStep",{addPaymentsStep:o}),se("removePaymentsStep",{removePaymentsStep:oe});function o(){m.value.splice(m.value.length-1,0,Oe),f()}function oe(){let r=["PaymentStep"];J(m,r,[],$.value),J(le,r,[],$.value)}function Le(r){J(m,[],[Q],r),J(le,[],[],r)}function Ke(){J(m,["CartStep"],[],$.value),J(le,["CartStep"],[],$.value)}function et(){if(l.getters["entities/getPreselected"].show==="packages"){let b=l.getters["booking/getPackageId"]?[l.getters["entities/getPackage"](l.getters["booking/getPackageId"])]:l.getters["entities/getPackages"];return b.length>0&&b.filter(P=>P.price>0).length===b.length}if(!l.getters["booking/getPackageId"]){let b=l.getters["booking/getServiceId"]?[l.getters["entities/getService"](l.getters["booking/getServiceId"])]:l.getters["entities/getServices"],P=0;for(let Y of b){let Pe=l.getters["booking/getEmployeeId"]?l.getters["entities/getEmployee"](l.getters["booking/getEmployeeId"])?[l.getters["entities/getEmployee"](l.getters["booking/getEmployeeId"])]:[]:l.getters["entities/getEmployees"],Ye=l.getters["booking/getBookingDuration"];if(Pe.filter(tt=>tt.serviceList.find(Me=>Me.id===Y.id&&(Me.price>0||Me.customPricing&&Me.customPricing.enabled&&(Object.values(Me.customPricing.durations).length===Object.values(Me.customPricing.durations).filter(Rt=>Rt.price>0).length||Ye&&Me.customPricing.durations[Ye].price>0)))).length===Pe.filter(tt=>tt.serviceList.find(Me=>Me.id===Y.id)).length)P++;else{let tt=l.getters["booking/getSelectedExtras"].length?l.getters["booking/getSelectedExtras"]:[];tt.length>0&&tt.reduce((Me,Rt)=>Me+Rt.price,0)>0&&P++}}return b.length>0&&P===b.length}return l.getters["entities/getPackage"](l.getters["booking/getPackageId"]).price>0}let qe=h(()=>Nt(l).length?Ea(l)!==0:et());Ta(()=>{let r=Nt(l);!r[0].serviceId&&Object.keys(r[0].services).length===0&&L("emptiedCart"),!ne.value&&!qe.value?oe():ne.value||m.value.indexOf(Oe)===-1&&o()},{flush:"post"});function ve(){le.value.forEach(r=>{r.finished=!1,r.selected=!1}),m.value.forEach(r=>{r.finished=!1,r.selected=!1}),$.value=0,aa(l,!0),Oa(l),ft(l),L("addToCart")}function na(){let r=l.getters["booking/getCurrentCartItem"],b=l.getters["booking/getAllMultipleAppointments"];r?(l.commit("booking/setCartItem",r),l.commit("booking/setCartItemIndex",b.length-1),l.commit("booking/setCurrentCartItem",null)):(b.pop(),l.commit("booking/setCartItemIndex",b.length-1),l.commit("booking/setServiceId",b[b.length-1].serviceId),l.commit("booking/setEmployeeId",b[b.length-1].services[b[b.length-1].serviceId].providerId),l.commit("booking/setLocationId",b[b.length-1].services[b[b.length-1].serviceId].locationId)),Zt(m,$)}let be=h(()=>s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew.colors:dt.sbsNew.colors);se("amColors",be);let ra=h(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ie(be.value.colorMainText,.2),"--am-c-skeleton-op60":ie(be.value.colorMainText,.6),"--am-font-family":v.value.fontFamily,"--am-mw-main":Z.value?M.value?"592px":"760px":"520px","--am-brad-main":Z.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ca(){let r=document.head||document.getElementsByTagName("head")[0];r.querySelector("#amCustomFont")&&r.querySelector("#amCustomFont").remove();let b=`@font-face {font-family: '${v.value.fontFamily}'; src: url(${v.value.fontUrl});}`,P=document.createElement("style");r.appendChild(P),P.setAttribute("type","text/css"),P.setAttribute("id","amCustomFont"),P.appendChild(document.createTextNode(b))}v.value.customFontSelected&&ca();let ua=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",ua),Be(()=>{ea("renderForm",{ameliaContainer:C,containerWidth:x,empty:I,amCustomize:p,amFonts:v,sidebarCollapsed:M,sidebarCollapseItemsClass:w,sidebarFooterRef:N,sidebarFooterHeight:V,sidebarVisibility:Z})}),(r,b)=>(t(),i(X,null,[v.value.customFontSelected?c("",!0):(t(),i(X,{key:0},[Ei,Ti,a("link",{rel:"stylesheet",type:"text/css",href:`${e(_e).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Bi)],64)),e(I)?(t(),i("div",Xi,[a("img",{src:e(_e).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(j).no_services_employees},null,8,Zi),a("h1",null,n(e(j).oops),1),a("h3",null,n(e(j).no_services_employees),1),a("p",null,n(e(j).add_services_employees),1),a("a",Ki,n(e(j).add_services_url)+"\xA0 ",1),a("span",es,n(e(j).and)+"\xA0",1),a("a",ts,n(e(j).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:R(["am-fs__wrapper",{"am-collapsed":e(M)}]),style:re(e(ra))},[e(x)>560&&e(Z)?(t(),ye(Fa,{key:0,class:R(["am-fs-sb",{"am-collapsed":e(M)}]),style:re({width:e(M)?"72px":"240px",paddingBottom:`${e(V)+16}px`})},{"step-list":A(()=>[a("div",zi,[m.value[$.value]!==e(fe)||!e(s).general.addToCalendar||e(He)&&e(He).data.length===0?(t(!0),i(X,{key:0},he(le.value,P=>(t(),i("div",{key:P.key,class:"am-fs-sb__step"},[a("div",Fi,[a("div",Ai,[a("span",{class:R(`am-icon-${P.icon}`)},null,2),P.key==="cartStep"&&e(Ue)(e(l))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e(w)])},n(e(Ue)(e(l))),3)):c("",!0)]),q(Xe,{name:"fade"},{default:A(()=>[e(M)?c("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e(w)])},n(P.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":P.selected},e(w)]])},[q(Xe,{name:"fade"},{default:A(()=>[P.finished?(t(),i("span",Ri)):c("",!0)]),_:2},1024)],2)]),q(Ba,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":P.key===e(ee).key&&P.stepSelectedData.length>3}])},{default:A(()=>[e(M)?c("",!0):(t(!0),i(X,{key:0},he(P.stepSelectedData,(Y,Pe)=>(t(),i("p",{key:Y.position,class:"am-fs-sb__step-selection"},[P.key!==e(ee).key||Pe<3?(t(),i("span",Ni,n(Y.value),1)):(t(),i("span",Oi,n(e(j).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Vi,[q(Xe,{name:"fade"},{default:A(()=>[e(M)?c("",!0):(t(),ye(za,{key:0}))]),_:1}),e(M)?(t(),i("div",Mi,[a("div",Ui,[a("div",Wi,[a("span",{class:R(`am-icon-${m.value[$.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":m.value[$.value].sidebarData.selected},e(w)]])},[q(Xe,{name:"fade"},{default:A(()=>[m.value[$.value].sidebarData.finished?(t(),i("span",ji)):c("",!0)]),_:1})],2)])])):c("",!0)]))])]),"support-info":A(()=>[a("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(_).heading||e(_).phone||e(_).email)?(t(),i("div",Hi,[q(Xe,{name:"fade"},{default:A(()=>[!e(M)&&e(_).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e(w)])},n(e(j).get_in_touch),3)):c("",!0)]),_:1}),e(s).company.phone&&e(_).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(s).company.phone}`,href:`tel:${e(s).company.phone}`},[e(M)?(t(),i("span",Gi)):(t(),i(X,{key:0},[me(n(e(s).company.phone),1)],64))],8,qi)):c("",!0),e(s).company.email&&e(_).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(s).company.email}`,href:`mailto:${e(s).company.email}`},[e(M)?(t(),i("span",Yi)):(t(),i(X,{key:0},[me(n(e(s).company.email),1)],64))],8,Ji)):c("",!0)])):c("",!0),a("div",{class:R(["am-fs-sb__menu",e(w)]),onClick:b[0]||(b[0]=P=>ce(M)?M.value=!e(M):M=!e(M))},[q(Xe,{name:"fade"},{default:A(()=>[e(M)?c("",!0):(t(),i("span",Qi,n(e(j).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e(M)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):c("",!0),q(Na,null,Ht({step:A(()=>[(t(),ye(ta(m.value[$.value]),{"global-class":"am-fs__main-content","show-cart":e(u).showCart&&m.value[$.value]===e(te)},null,8,["show-cart"]))]),footer:A(()=>[q(e(Ra),{"second-button-show":m.value[$.value]===e(fe)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Qe)(e(l))&&m.value[$.value]===e(Q),"back-to-cart-button-show":e(Qe)(e(l))&&e(We).length>1&&m.value[$.value]!==e(Q)&&m.value[$.value]!==e(Ce)&&m.value[$.value]!==e(Oe)&&m.value[$.value]!==e(fe),booked:e(He),loading:e(ct),ready:e(Ze),"payment-gateway":e(it),"customized-labels":e(Ae),"primary-footer-button-type":e(je),"secondary-footer-button-type":e(ae),"add-to-cart-button-type":e(Re),"back-to-cart-button-type":e(Ie),"back-to-cart-label":G("cancel","cartStep"),onAddToCart:ve,onBackToCart:na},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[m.value[$.value]!==e(fe)?{name:"header",fn:A(()=>[q(Aa,{"sidebar-visible":e(Z),ready:e(Ze)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const is={class:"am-fcil__filter-buttons"},ss={class:"am-fcil__filter"},ls=["aria-label"],os=["aria-label"],ns=["aria-label"],rs={class:"am-fcil__filter-item__btn-wrapper"},cs={role:"heading","aria-level":"2",class:"am-fcil__heading"},us={key:0,class:"am-fcil__item-badge__wrapper"},ds={class:"am-fcil__item-badge am-package"},ms=a("span",{class:"am-icon-shipment"},null,-1),ps={class:"am-fcil__item-heading"},_s={class:"am-fcil__item-name"},fs={key:0,class:"am-fcil__item-cost"},vs={key:0,class:"am-fcil__item-discount"},gs={class:"am-fcil__item-price"},ys={key:1,class:"am-fcil__item-price"},hs={class:"am-fcil__item-info"},bs={key:0,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-folder"},null,-1),Cs={key:1,class:"am-fcil__item-info__inner"},$s=a("span",{class:"am-icon-clock"},null,-1),ws={key:0},Ss={key:1},xs={key:2},Ps={key:2,class:"am-fcil__item-info__inner"},Is=a("span",{class:"am-icon-user"},null,-1),Ds=a("span",null,"1/1",-1),Ls=[Is,Ds],Es={key:3,class:"am-fcil__item-info__inner"},Ts=a("span",{class:"am-icon-locations"},null,-1),Bs={key:2,class:"am-fcil__item-services"},zs={key:0,class:"am-fcil__item-badge__wrapper"},Fs={class:"am-fcil__item-badge am-service"},As=a("span",{class:"am-icon-service"},null,-1),Rs={class:"am-fcil__item-heading"},Ns={class:"am-fcil__item-name"},Os={key:0,class:"am-fcil__item-cost"},Vs={key:0,class:"am-fcil__item-price"},Ms={key:1,class:"am-fcil__item-price"},Us={class:"am-fcil__item-info"},Ws={key:0,class:"am-fcil__item-info__inner"},js=a("span",{class:"am-icon-folder"},null,-1),Hs={key:1,class:"am-fcil__item-info__inner"},qs=a("span",{class:"am-icon-clock"},null,-1),Gs={key:2,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-user"},null,-1),Ys={key:3,class:"am-fcil__item-info__inner"},Qs=a("span",{class:"am-icon-locations"},null,-1),Xs={class:"am-fcil-employee__header"},Zs={class:"am-fcil-employee__heading"},Ks={class:"am-fcil-employee__heading-left"},el={class:"am-fcil-employee__name"},tl={key:0,class:"am-fcil-employee__heading-right"},al={class:"am-fcil-employee__price"},il=["innerHTML"],sl={key:1,ref:"ameliaContainer",class:"am-empty"},ll=["src"],ol={class:"am-empty__heading"},nl={class:"am-empty__subheading"},rl={class:"am-empty__text"},cl={key:0},ul={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},dl={key:1},ml={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},pl={name:"CategoryItemsList",key:"categoryItemsList"},_l=Object.assign(pl,{setup(y){let L=z("licence"),{nextPage:u,previousPage:C}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const x=z("baseUrls");let I=k(!1),d=k(!1),s=k("760px");se("bookingDialogWidth",s);function p(){s.value="760px"}let _=k(!1),v=k(),M=z("containerWidth"),w=z("customizedDataForm"),g=h(()=>w.value.categoryItemsList.options),N=h(()=>"pageScroll"in g.value?g.value.pageScroll.visibility:!0);const V=z("settings");let Z=nt();const _e=z("shortcodeData"),l=h(()=>Z.getters["entities/getPreselected"]);let D=h(()=>{let T=Array.isArray(_e.value.category)?_e.value.category:_e.value.category.split(",");return T=T.filter(f=>f),T.length}),ne=h(()=>{let T=v.value&&v.value.catContainerWidth?v.value.catContainerWidth>768:!0;return D.value!==1&&g.value.sidebar.visibility&&T}),K=z("amEntities"),ue=k("");function ke(T){ue.value=T.toLowerCase()}let O=h(()=>ue.value?K.value.employees.filter(T=>`${T.firstName} ${T.lastName}`.toLowerCase().includes(ue.value)):K.value.employees),ge=k("");function te(T){ge.value=T.toLowerCase()}let ee=h(()=>ge.value?K.value.locations.filter(T=>T.name.toLowerCase().includes(ge.value)):K.value.locations),Ee=h(()=>Qe(Z)&&Ue(Z)>0),fe=h(()=>Ue(Z));const Q=z("labels"),Ce=z("localLanguage");let Oe=h(()=>V.general.usedLanguages.includes(Ce.value)),E=h(()=>{let T=rt({...Q});if(V.customizedData&&V.customizedData.cbf&&V.customizedData.cbf.categoryItemsList.translations){let f=V.customizedData.cbf.categoryItemsList.translations;Object.keys(f).forEach(o=>{f[o][Ce.value]&&Oe.value?T[o]=f[o][Ce.value]:f[o].default&&(T[o]=f[o].default)})}return T}),W=k(""),m={components:{IconComponent:St},template:'<IconComponent icon="search"/>'},de=k(!0),ze={components:{IconComponent:St},template:'<IconComponent icon="filter"/>'},pe=h(()=>v.value&&v.value.catHeaderWidth?v.value.catHeaderWidth:0);window.addEventListener("resize",We);function We(){xe(()=>{pe.value>480&&(de.value=!0)})}Be(()=>{We()});function j(T){let f=[];return W.value.toLowerCase().split(" ").forEach(o=>{f.push(T.toLowerCase().includes(o))}),f.filter(o=>o===!1).length<=0}let Ae=z("availableCategories"),je=h(()=>{let T=[...Ae.value],f=[];return T.forEach(o=>{f.push({id:o.id,name:o.name})}),f.unshift({id:0,name:E.value.filter_all}),f}),ae=z("categorySelected"),Re=h(()=>wt(K.value,_e.value,U.value,B.value)),Ie=h(()=>{let T=[];return Re.value.find(f=>f.id===ae.value)?K.value.packages.forEach(f=>{Re.value.find(o=>o.id===ae.value).packageList.forEach(o=>{f.id===o&&(W.value?j(f.name):!0)&&T.push(f)})}):K.value.packages.forEach(f=>{Re.value.forEach(o=>{o.packageList.forEach(oe=>{f.id===oe&&!T.find(Le=>Le.id===oe)&&(W.value?j(f.name):!0)&&T.push(f)})})}),T}),G=h(()=>{let T=[];return ae.value&&Re.value.find(f=>f.id===ae.value)?K.value.services.forEach(f=>{Re.value.find(o=>o.id===ae.value).serviceIdList.forEach(o=>{f.id===o&&(W.value?j(f.name):!0)&&T.push(f)})}):K.value.services.forEach(f=>{Re.value.forEach(o=>{o.serviceIdList.forEach(oe=>{f.id===oe&&(W.value?j(f.name):!0)&&T.push(f)})})}),T}),U=k(null),B=k(null),J=k(!0),Te=k(!0);function we(T){T==="all"&&(J.value=!0,Te.value=!0),T==="packages"&&(J.value=!0,Te.value=!1),T==="services"&&(J.value=!1,Te.value=!0)}jt(()=>{l.value.show&&we(l.value.show)});let Je=h(()=>{let T=_e.value.employee,f=K.value.employees.length,o=_e.value.location,oe=K.value.locations.length,Le=g.value.searchInput.visibility,Ke=g.value.filterEmployee.visibility&&T.length!==1&&f>1&&!L.isLite,et=g.value.filterLocation.visibility&&o.length!==1&&oe>1&&!L.isLite&&!L.isStarter,qe=g.value.filterButtons.visibility&&l.value.show!=="packages"&&l.value.show!=="services"&&Ie.value.length!==0&&G.value.length!==0&&!Ue(Z),ve={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return pe.value>992?!Le||!qe?(ve.employee=!Le&&!qe?"am-w50":"am-w35",ve.location=!Le&&!qe?"am-w50":"am-w35",ve.search=!qe&&!et&&!Ke?"am-w100":"am-w30",Ke||(ve.location=!Le&&!qe?"am-w100":"am-w70"),et||(ve.employee=!Le&&!qe?"am-w100":"am-w70")):(Ke||(ve.location="am-w40"),et||(ve.employee="am-w40"),!Ke&&!et&&(ve.search="am-w70")):pe.value>768||pe.value>480?(ve.search=qe?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ve.buttons=Le?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ve.employee=et?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ve.location=Ke?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ve.category="am-w100 am-tablet am-order5"):(ve.employee="am-w100 am-mobile",ve.location="am-w100 am-mobile",ve.search="am-w100 am-mobile",ve.buttons="am-w100 am-mobile",ve.category="am-w100 am-mobile"),ve}),De=h(()=>v.value&&v.value.catContainerWidth?v.value.catContainerWidth:0),H=h(()=>{let T=Ie.value.length&&!Ue(Z)?Ie.value.length:0,f=G.value.length>1?E.value.heading_services:E.value.heading_service,o=T?T>1?E.value.packages:E.value.package:"";if(!G.value.length&&!T)return E.value.no_search_data;if(Te.value&&(!J.value||!T))return`${E.value.available} - ${G.value.length} ${f}`;if((!Te.value||!G.value.length)&&J.value)return`${E.value.available} - ${T} ${o}`;let oe=T?"/":"";return`${E.value.available} - ${G.value.length} ${f} ${oe} ${T} ${o}`});Be(()=>{xe(()=>{I.value=Ie.value.length===0&&G.value.length===0})});function F(T){const f=T.id===0?null:T.id;ae.value=f,Z.commit("booking/setCategoryId",f)}let S=z("itemType");function $(T){Z.commit("booking/setServiceId",parseInt(T)),Z.commit("booking/setBookableType","appointment"),S.value="appointment",vt(Z,{},"SelectService","appointment",null,null),xe(()=>{u()})}function yt(T){Z.commit("booking/setServiceId",null),Z.commit("booking/setPackageId",T.id),Z.commit("booking/setBookableType","package"),Z.commit("booking/setMultipleAppointments",Et(0,T)),Z.commit("booking/setCartItemIndex",0),S.value="package",vt(Z,{},"SelectPackage","package",null,null),xe(()=>{u()})}function ht(){ae.value=null,Z.commit("booking/setCategoryId",null),C()}function Tt(){Wt(Z),_.value=!0,d.value=!0}let Ve=k(!1),Ze=k(""),ct=k([]),He=k({}),it=k(null);function ut(){Ze.value="",ct.value=[],He.value={},it.value=null}function bt(T){ct.value=oa(K.value,T,_e.value),He.value=T,Ve.value=!0}function st(T){let f=[];Object.keys(K.value.entitiesRelations).forEach(oe=>{oe in K.value.entitiesRelations&&T in K.value.entitiesRelations[oe]&&K.value.employees.find(Le=>Le.id===parseInt(oe))&&f.push(K.value.employees.find(Le=>Le.id===parseInt(oe)))}),ct.value=f,Ze.value="service",Ve.value=!0,it.value=T}function kt(T){let f=K.value.services.find(oe=>oe.id===it.value).price,o=T.serviceList.find(oe=>oe.id===it.value).price;return o!==f?`${o-f>0?f>0?"+":"":"-"} ${at(o-f)}`:0}function Bt(){Ze.value==="service"?$(it.value):yt(He.value),ut()}function zt(T,f){let o="";return T>1?(f==="day"&&(o=E.value.expires_days),f==="week"&&(o=E.value.expires_weeks),f==="month"&&(o=E.value.expires_months)):(f==="day"&&(o=E.value.expires_day),f==="week"&&(o=E.value.expires_week),f==="month"&&(o=E.value.expires_month)),o}function Ft(T,f){let o=Ut(T,f);return o.length===1||o.length&&o.every(oe=>oe.id===o[0].id)?o[0].address?o[0].address:o[0].name:E.value.multiple_locations}function Ct(T,f){let o=lt(T,f);return o.length===1||o.length&&o.every(oe=>oe.id===o[0].id)?o[0].address?o[0].address:o[0].name:E.value.multiple_locations}let At=z("amFonts",k({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=z("amColors"),le=h(()=>({"--am-c-fcil-text-op-10":ie($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie($e.value.colorInpText,.1),"--am-w-fcil-main":Ae.value.length!==1&&D.value!==1&&g.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":v.value&&v.value.catFormWidth<580?"100%":"50%"})),$t=h(()=>({"--am-f-fcil-employee-f":At.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":ie($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(T,f)=>e(I)?(t(),i("div",sl,[a("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,ll),a("div",ol,n(e(E).oops),1),a("div",nl,n(e(l).show!=="packages"?e(E).no_services_employees:e(E).no_package_services),1),a("div",rl,[e(l).show!=="packages"?(t(),i("span",cl,n(e(E).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",ul,n(e(E).add_services_url)+"\xA0 ",1),e(l).show!=="packages"?(t(),i("span",dl,n(e(E).and)+"\xA0 ",1)):c("",!0),e(l).show!=="packages"?(t(),i("a",ml,n(e(E).add_employees_url),1)):c("",!0)])],512)):(t(),ye(Jt,{key:0,ref_key:"contentRef",ref:v,"wrapper-class":`am-fcil ${e(M)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(M)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(M)<481?"am-mobile":""} ${e(N)?"":"no-scroll"}`,style:re(e(le))},Ht({header:A(()=>[a("span",is,[e(D)!==1&&!e(_e).categories_hidden&&e(Ae).length!==1?(t(),ye(Gt,{key:0,"btn-size":e(pe)<481?"medium":"mini","btn-string":e(E).back_btn,"btn-type":e(g).backBtn.buttonType,"cart-btn-visibility":e(Ee),"cart-items-number":e(fe),onGoBack:ht,onGoToCart:Tt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):c("",!0),e(pe)<481?(t(),ye(Fe,{key:1,size:"medium",category:"secondary",type:e(g).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ze),onClick:f[0]||(f[0]=()=>ce(de)?de.value=!e(de):de=!e(de))},null,8,["type","icon"])):c("",!0)]),a("div",ss,[e(g).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(E).filter_input,class:R(["am-fcil__filter-item",e(Je).search])},[q(Va,{modelValue:e(W),"onUpdate:modelValue":f[1]||(f[1]=o=>ce(W)?W.value=o:W=o),placeholder:e(E).filter_input,"prefix-icon":e(m)},null,8,["modelValue","placeholder","prefix-icon"])],10,ls)):c("",!0),q(Xe,{name:"slide-fade"},{default:A(()=>[e(_e).employee.length!==1&&e(K).employees.length>1&&e(g).filterEmployee.visibility&&e(de)&&!e(L).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(Je).employee]),role:"search","aria-label":e(E).filter_employee},[q(Ot,{modelValue:e(U),"onUpdate:modelValue":f[2]||(f[2]=o=>ce(U)?U.value=o:U=o),clearable:"",filterable:"",placeholder:e(E).filter_employee,"aria-label":e(E).filter_employee,"filter-method":ke,"fit-input-width":!0},{default:A(()=>[(t(!0),i(X,null,he(e(O),o=>(t(),ye(Vt,{key:o.id,value:o.id,label:`${o.firstName} ${o.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,os)):c("",!0)]),_:1}),q(Xe,{name:"slide-fade"},{default:A(()=>[e(_e).location.length!==1&&e(K).locations.length>1&&e(g).filterLocation.visibility&&e(de)&&!e(L).isLite&&!e(L).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(Je).location]),role:"search","aria-label":e(E).filter_location},[q(Ot,{modelValue:e(B),"onUpdate:modelValue":f[3]||(f[3]=o=>ce(B)?B.value=o:B=o),clearable:"",filterable:"",placeholder:e(E).filter_location,"aria-label":e(E).filter_location,"fit-input-width":!0,"filter-method":te},{default:A(()=>[(t(!0),i(X,null,he(e(ee),o=>(t(),ye(Vt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,ns)):c("",!0)]),_:1}),q(Xe,{name:"slide-fade"},{default:A(()=>[e(Ae).length!==1&&e(D)!==1&&e(g).sidebar.visibility&&!e(ne)&&e(de)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(Je).category])},[q(Ot,{modelValue:e(ae),"onUpdate:modelValue":f[4]||(f[4]=o=>ce(ae)?ae.value=o:ae=o),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(t(!0),i(X,null,he(e(je),o=>(t(),ye(Vt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):c("",!0)]),_:1}),!e(l).show&&e(g).filterButtons.visibility&&e(Ie).length!==0&&e(G).length!==0&&!e(Ue)(e(Z))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:R(["am-fcil__filter-item",e(Je).buttons])},[a("div",rs,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&e(Te)}]),onClick:f[5]||(f[5]=o=>we("all"))},[a("span",null,n(e(E).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&!e(Te)}]),onClick:f[6]||(f[6]=o=>we("packages"))},[a("span",null,n(e(E).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(J)&&e(Te)}]),onClick:f[7]||(f[7]=o=>we("services"))},[a("span",null,n(e(E).filter_services),1)],2)])],2)):c("",!0)])]),heading:A(()=>[a("div",cs,n(e(H)),1)]),content:A(()=>[e(J)&&!e(Ue)(e(Z))?(t(!0),i(X,{key:0},he(e(Ie),o=>(t(),i("div",{key:o.id,role:"group",class:R(["am-fcil__item",{"am-mobile":e(De)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(De)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(g).cardColor&&e(g).cardColor.visibility?{backgroundColor:e(ie)(o.color,.1)}:{})},[e(g).packageBadge.visibility?(t(),i("div",us,[a("div",ds,[ms,a("span",null,n(e(E).package),1)])])):c("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):c("",!0),a("div",ps,[a("div",_s,n(o.name),1),e(g).packagePrice.visibility?(t(),i("div",fs,[o.discount?(t(),i("span",vs,n(`${e(E).save} ${o.discount}%`),1)):c("",!0),a("span",gs,n(o.price?e(at)(e(qt)(o)):e(E).free),1),o.price&&(e(g).tax?.visibility??!0)&&e(gt)(e(Z),o.id,"package")?(t(),i("span",ys,[e(V).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",hs,[e(g).packageCategory.visibility&&e(ae)?(t(),i("div",bs,[ks,a("span",null,n(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):c("",!0),e(g).packageDuration.visibility?(t(),i("div",Cs,[$s,o.endDate?(t(),i("span",ws,n(`${e(E).expires_at} ${o.endDate.split(" ")[0]}`),1)):o.durationCount?(t(),i("span",Ss,n(`${e(E).expires_after} ${o.durationCount} ${zt(o.durationCount,o.durationType)}`),1)):(t(),i("span",xs,n(e(E).without_expiration),1))])):c("",!0),e(g).packageCapacity.visibility?(t(),i("div",Ps,Ls)):c("",!0),e(Ut)(e(K),o,e(_e)).length&&e(g).packageLocation.visibility?(t(),i("div",Es,[Ts,a("span",null,n(Ft(e(K),o)),1)])):c("",!0)]),e(g).packageServices.visibility?(t(),i("div",Bs,[a("span",null,n(`${e(E).in_package}:`),1),(t(!0),i(X,null,he(o.bookable,oe=>(t(),i("span",{key:oe.id},n(oe.service.name),1))),128))])):c("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(De)<481},{"am-micro":e(De)<320}]])},[e(g).cardEmployeeBtn.visibility?(t(),ye(Fe,{key:0,class:R({"am-w100":e(De)<320}),size:"small",type:e(g).cardEmployeeBtn.buttonType,onClick:oe=>bt(o)},{default:A(()=>[me(n(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),q(Fe,{class:R([{"am-w100":!e(g).cardEmployeeBtn.visibility},{"am-micro am-w100":e(De)<320}]),size:"small",type:e(g).cardContinueBtn.buttonType,onClick:oe=>yt(o)},{default:A(()=>[me(n(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),e(Te)?(t(!0),i(X,{key:1},he(e(G),o=>(t(),i("div",{key:o.id,class:R(["am-fcil__item",{"am-mobile":e(De)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(De)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(g).cardColor&&e(g).cardColor.visibility?{backgroundColor:e(ie)(o.color,.1)}:{})},[e(g).serviceBadge.visibility?(t(),i("div",zs,[a("div",Fs,[As,a("span",null,n(e(E).heading_service),1)])])):c("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):c("",!0),a("div",Rs,[a("div",Ns,n(o.name),1),e(g).servicePrice.visibility?(t(),i("div",Os,[e(pt)(e(K),o.id).min||e(pt)(e(K),o.id).max?(t(),i("span",Vs,n(e(pt)(e(K),o.id).price),1)):c("",!0),(e(g).tax?.visibility??!0)&&e(gt)(e(Z),o.id,"service")?(t(),i("span",Ms,[e(V).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",Us,[e(g).serviceCategory.visibility&&e(ae)?(t(),i("div",Ws,[js,a("span",null,n(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):c("",!0),e(g).serviceDuration.visibility?(t(),i("div",Hs,[qs,a("span",null,n(e(la)(o.duration)),1)])):c("",!0),e(g).serviceCapacity.visibility&&!e(L).isLite?(t(),i("div",Gs,[Js,a("span",null,n(e(sa)(e(K),o.id)),1)])):c("",!0),e(lt)(e(K),o.id).length&&e(g).serviceLocation.visibility?(t(),i("div",Ys,[Qs,a("span",null,n(Ct(e(K),o.id)),1)])):c("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(De)<481},{"am-micro":e(De)<320}]])},[e(g).cardEmployeeBtn.visibility&&!e(L).isLite?(t(),ye(Fe,{key:0,class:R({"am-w100":e(De)<320}),size:"small",type:e(g).cardEmployeeBtn.buttonType,onClick:oe=>st(o.id)},{default:A(()=>[me(n(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),q(Fe,{class:R([{"am-w100":!e(g).cardEmployeeBtn.visibility},{"am-micro am-w100":e(De)<320}]),size:"small",type:e(g).cardContinueBtn.buttonType,onClick:oe=>$(o.id)},{default:A(()=>[me(n(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),q(_t,{modelValue:e(Ve),"onUpdate:modelValue":f[9]||(f[9]=o=>ce(Ve)?Ve.value=o:Ve=o),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e($t),width:"648px",onClose:ut},{title:A(()=>[a("div",Xs,n(e(E).employee_info),1)]),default:A(()=>[a("div",null,[q(Pt,null,{default:A(()=>[(t(!0),i(X,null,he(e(ct),(o,oe)=>(t(),ye(It,{key:oe,side:""},{heading:A(()=>[a("div",Zs,[a("div",Ks,[q(mt,{"item-class":"am-fcil-employee__img","item-data":o,"trim-string":2},null,8,["item-data"]),a("div",el,[me(n(`${o.firstName} ${o.lastName}`)+" ",1),o.badge?(t(),i("span",{key:0,style:re({background:o.badge.color}),class:"am-fcil-employee__badge"},n(o.badge.content),5)):c("",!0)])]),e(Ze)==="service"&&kt(o)!==0?(t(),i("div",tl,[a("div",al,n(kt(o)),1)])):c("",!0)])]),default:A(()=>[e(Ne)(o.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":o.description.includes("<!-- Content -->")}]),innerHTML:o.description},null,10,il)):c("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(g).dialogEmployeeBtn.visibility?(t(),ye(Fe,{key:0,type:e(g).dialogEmployeeBtn.buttonType,category:"primary",onClick:f[8]||(f[8]=o=>Bt())},{default:A(()=>[me(n(e(Ze)==="service"?e(E).book_service:e(E).book_package),1)]),_:1},8,["type"])):c("",!0)]),_:1},8,["modelValue","custom-styles"]),q(_t,{modelValue:e(d),"onUpdate:modelValue":f[10]||(f[10]=o=>ce(d)?d.value=o:d=o),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:A(()=>[q(Yt,{"show-cart":e(_)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Ae).length!==1&&e(D)!==1&&e(g).sidebar.visibility&&e(ne)?{name:"side",fn:A(()=>[q(oi,{"menu-items":e(je),"init-selection":e(ae),identifier:"id","name-identifier":"name","footer-string":e(E).get_in_touch,"company-email":e(V).company.email,onClick:F},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const fl={class:"am-fcis__header-text"},vl={class:"am-fcis__header-name",role:"heading","aria-level":"1"},gl={key:0,class:"am-fcis__badge am-service"},yl=a("span",{class:"am-icon-service"},null,-1),hl={class:"am-fcis__header-action"},bl={key:0,class:"am-fcis__header-price"},kl={key:1,class:"am-fcis__header-tax"},Cl={class:"am-fcis__header-btn"},$l={key:0,class:"am-fcis__header-bottom"},wl={class:"am-fcis__mini-info"},Sl={key:0,class:"am-fcis__mini-info__inner"},xl=a("span",{class:"am-icon-folder"},null,-1),Pl={key:1,class:"am-fcis__mini-info__inner"},Il=a("span",{class:"am-icon-clock"},null,-1),Dl={key:2,class:"am-fcis__mini-info__inner"},Ll=a("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Tl=a("span",{class:"am-icon-locations"},null,-1),Bl={key:0,class:"am-fcis__gallery"},zl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Fl={class:"am-gd__display-wrapper"},Al={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Rl=["src","alt"],Nl={class:"am-gd__selection"},Ol={class:"am-gd__thumb-wrapper"},Vl=["onClick"],Ml={key:1,class:"am-fcis__info"},Ul={class:"am-fcis__info-tab__wrapper"},Wl={class:"am-fcis__info-content__wrapper"},jl={key:0,class:"am-fcis__info-content"},Hl=["innerHTML"],ql={key:1,class:"am-fcis__info-content"},Gl={class:"am-fcis__info-employee__hero"},Jl={class:"am-fcis__info-employee__heading"},Yl={class:"am-fcis__info-employee__name"},Ql={key:0,class:"am-fcis__info-employee__price"},Xl=["innerHTML"],Zl={key:2,class:"am-fcis__include-wrapper"},Kl={class:"am-fcis__include-heading"},eo={class:"am-fcis__include-heading__text"},to=["onClick"],ao={class:"am-fcis__include-hero"},io={key:0,class:"am-fcis__include-cost"},so={key:0,class:"am-fcis__include-discount"},lo={class:"am-fcis__include-price"},oo={key:1,class:"am-fcis__include-price"},no={class:"am-fcis__include-info"},ro={key:0,class:"am-fcis__include-info__inner"},co=a("span",{class:"am-icon-folder"},null,-1),uo={key:1,class:"am-fcis__include-info__inner"},mo=a("span",{class:"am-icon-clock"},null,-1),po={key:0},_o={key:1},fo={key:2},vo={key:2,class:"am-fcis__include-info__inner"},go=a("span",{class:"am-icon-user"},null,-1),yo=a("span",null,"1/1",-1),ho=[go,yo],bo={key:3,class:"am-fcis__include-info__inner"},ko=a("span",{class:"am-icon-locations"},null,-1),Co={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},$o={key:1,ref:"ameliaContainer",class:"am-empty"},wo=["src","alt"],So={class:"am-empty__heading"},xo={class:"am-empty__subheading"},Po={class:"am-empty__text"},Io={key:0},Do={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Lo={key:1},Eo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},To={name:"CategoryService"},Bo=Object.assign(To,{setup(y){let L=z("licence"),{previousPage:u}=z("changingPageFunctions",{previousPage:()=>{}}),C=h(()=>N.getters["entities/getReady"]);const x=z("baseUrls");let I=k(),d=z("containerWidth");const s=z("settings");let p=z("amFonts");const _=z("labels"),v=z("localLanguage");let M=h(()=>s.general.usedLanguages.includes(v.value)),w=h(()=>{let H=rt({..._});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let F=s.customizedData.cbf.categoryService.translations;Object.keys(F).forEach(S=>{F[S][v.value]&&M.value?H[S]=F[S][v.value]:F[S].default&&(H[S]=F[S].default)})}return H}),g=k(0),N=nt(),V=z("amEntities"),Z=h(()=>Qe(N)&&Ue(N)>0),_e=h(()=>Ue(N)),l=z("customizedDataForm"),D=h(()=>l.value.categoryService.options),ne=h(()=>"pageScroll"in D.value?D.value.pageScroll.visibility:!0),K=z("itemType"),ue=z("categorySelected"),ke=h(()=>V.value.categories.find(H=>H.id===ue.value)),O=h(()=>{let H=V.value.services.find(F=>F.id===N.getters["booking/getServiceId"]);return H||{}});function ge(H,F){let S=lt(H,F);return S.length===1||S.length&&S.every($=>$.id===S[0].id)?S[0].address?S[0].address:S[0].name:w.value.multiple_locations}let te=k("description"),ee=h(()=>{let H=[];return Object.keys(V.value.entitiesRelations).forEach(S=>{V.value.entitiesRelations[S][O.value.id]&&V.value.employees.find($=>$.id===parseInt(S))&&H.push(V.value.employees.find($=>$.id===parseInt(S)))}),H});function Ee(H){let F=H.serviceList.find(S=>S.id===O.value.id).price;return F-O.value.price!==0?`${F-O.value.price>0?O.value.price>0?"+":"":"-"} ${at(F-O.value.price)}`:""}Be(()=>{D.value.serviceDescription.visibility||(te.value="employees"),Ne(O.value.description)||(te.value="employees")});let fe=h(()=>{let H=O.value.gallery.length?JSON.parse(JSON.stringify(O.value.gallery)):[];return O.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),Q=h(()=>{let H=[];return V.value.packages.forEach(F=>{F.bookable.filter(S=>S.service.id===O.value.id).length&&!H.filter(S=>S.id===F.id).length&&F.available&&F.status==="visible"&&H.push(F)}),H}),Ce=k(!1),Oe=h(()=>{let H=[...Q.value];return Ce.value?H:H.slice(0,2)}),E=h(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function W(){K.value="",xe(()=>{u()})}let m=k(!1);function de(){N.commit("booking/setShownCart",!1),Wt(N),m.value=!0,pe.value=!0}function ze(){pe.value=!1,N.getters["entities/getPreselected"].service.length>1&&W()}let pe=k(!1),We=k("760px");se("bookingDialogWidth",We);function j(){let H=N.getters["entities/getPreselected"];ee.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),H.employee=[parseInt(ee.value[0].id)],N.commit("entities/setPreselected",H)),m.value=!1,pe.value=!1,Ma(N),aa(N,!1),ft(N);let F=lt(V.value,O.value.id);F.length===1&&(N.commit("booking/setLocationId",parseInt(F[0].id)),H.location=[parseInt(F[0].id)],N.commit("entities/setPreselected",H)),N.commit("booking/setBookableType","appointment"),pe.value=!0}z("restoreFormData").value&&j();function je(H){N.commit("booking/setPackageId",H.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",Et(0,H)),N.commit("booking/setMultipleAppointmentsIndex",0),ee.value.length===1&&N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),lt(V.value,O.value.id).length===1&&N.commit("booking/setLocationId",parseInt(lt(V.value,O.value.id)[0].id)),xe(()=>{pe.value=!0})}const ae=h(()=>N.getters["entities/getPreselected"]);let Re=k(V.value.services.length!==1&&ae.value.service.length!==1),Ie=k("");se("stepName",Ie);function G(){let H=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),F=H.settings?JSON.parse(H.settings):s;"general"in F&&"redirectUrlAfterAppointment"in F.general&&F.general.redirectUrlAfterAppointment?window.location.href=F.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function U(){if(Ie.value&&Ie.value==="CongratulationsStep")G();else{if(Ie.value&&Ie.value==="DateTimeStep"){let H=Ua(N);H&&console.log(H)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}We.value="760px"}let B=k(!1);function J(H,F){let S="";return H>1?(F==="day"&&(S=w.value.expires_days),F==="week"&&(S=w.value.expires_weeks),F==="month"&&(S=w.value.expires_months)):(F==="day"&&(S=w.value.expires_day),F==="week"&&(S=w.value.expires_week),F==="month"&&(S=w.value.expires_month)),S}let Te=h(()=>Object.keys(O.value).length===0||ee.value.length===0),we=z("amColors"),Je=h(()=>({"--am-c-fcis-success-op20":ie(we.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(we.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(we.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(we.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(we.value.colorBtnSec,.5)})),De=h(()=>({"--am-c-fcis-bgr":we.value.colorMainBgr,"--am-c-fcis-text":we.value.colorMainText,"--am-c-fcis-success":we.value.colorSuccess,"--am-c-fcis-primary":we.value.colorPrimary,"--am-c-scroll-op30":ie(we.value.colorPrimary,.3),"--am-c-scroll-op10":ie(we.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(H,F)=>e(C)?(t(),i(X,{key:0},[e(Te)?c("",!0):(t(),ye(Jt,{key:0,ref_key:"contentRef",ref:I,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(Je))},{header:A(()=>[q(Gt,{"btn-string":e(w).back_btn,"btn-type":e(D).backBtn.buttonType,"back-btn-visibility":e(Re),"cart-btn-visibility":e(Z),"cart-items-number":e(_e),role:"navigation","aria-label":"Navigation Controls",onGoBack:W,onGoToCart:de},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[a("div",{class:R([[{"am-tablet":e(d)<=678},{"am-mobile":e(d)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",fl,[a("span",vl,n(e(O).name),1),e(D).serviceBadge.visibility?(t(),i("div",gl,[yl,a("span",null,n(e(w).heading_service),1)])):c("",!0)]),a("div",hl,[e(D).servicePrice.visibility?(t(),i("span",bl,n(e(pt)(e(V),e(O).id).min||e(pt)(e(V),e(O).id).max?e(pt)(e(V),e(O).id).price:e(w).free),1)):c("",!0),(e(D).tax?.visibility??!0)&&e(gt)(e(N),e(O).id,"service")?(t(),i("span",kl,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(w).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(w).incl_tax),1)],64))])):c("",!0),a("span",Cl,[q(Fe,{type:e(D).bookingBtn.buttonType,onClick:j},{default:A(()=>[me(n(e(w).book_now),1)]),_:1},8,["type"])])])],2),e(D).serviceCategory.visibility||e(D).serviceDuration.visibility||e(D).serviceCapacity.visibility||e(D).serviceLocation.visibility?(t(),i("div",$l,[a("div",wl,[e(D).serviceCategory.visibility&&e(ke)?(t(),i("div",Sl,[xl,a("span",null,n(e(ke).name),1)])):c("",!0),e(D).serviceDuration.visibility?(t(),i("div",Pl,[Il,a("span",null,n(e(la)(e(O).duration)),1)])):c("",!0),e(D).serviceCapacity.visibility&&!e(L).isLite?(t(),i("div",Dl,[Ll,a("span",null,n(e(sa)(e(V),e(O).id)),1)])):c("",!0),e(lt)(e(V),e(O).id).length&&e(D).serviceLocation.visibility&&!e(L).isLite&&!e(L).isStarter?(t(),i("div",El,[Tl,a("span",null,n(ge(e(V),e(O).id)),1)])):c("",!0)])])):c("",!0)]),content:A(()=>[e(O).gallery.length?(t(),i("div",Bl,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(O).gallery.length===1},{"am-mobile w100":e(d)<678}]]),style:re({backgroundImage:`url(${e(O).gallery[0].pictureFullPath})`})},null,6),e(fe).length&&e(d)>677?(t(),i("div",zl,[(t(!0),i(X,null,he(e(fe),(S,$)=>(t(),i("div",{key:$,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(fe).length===1}]),style:re({backgroundImage:`url(${S.pictureFullPath})`})},null,6))),128))])):c("",!0),q(Fe,{"custom-class":`am-fcis__gallery-btn${e(d)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:F[0]||(F[0]=()=>ce(B)?B.value=!0:B=!0)},{default:A(()=>[me(n(e(w).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),q(_t,{modelValue:e(B),"onUpdate:modelValue":F[4]||(F[4]=S=>ce(B)?B.value=S:B=S),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:re(e(De))},[a("div",Fl,[a("div",Al,[a("span",{class:"am-icon-arrow-left",onClick:F[1]||(F[1]=()=>ce(g)?g.value=e(g)<=0?e(O).gallery.length-1:e(g)-1:g=e(g)<=0?e(O).gallery.length-1:e(g)-1)}),a("span",{class:"am-icon-arrow-right",onClick:F[2]||(F[2]=()=>ce(g)?g.value=e(O).gallery.length-1===e(g)?0:e(g)+1:g=e(O).gallery.length-1===e(g)?0:e(g)+1)})]),(t(!0),i(X,null,he(e(O).gallery,(S,$)=>(t(),i("div",{key:$,class:"am-gd__display",style:re({display:$===e(g)?"flex":"none"}),onClick:F[3]||(F[3]=()=>ce(g)?g.value=e(O).gallery.length-1===e(g)?0:e(g)+1:g=e(O).gallery.length-1===e(g)?0:e(g)+1)},[a("img",{src:S.pictureFullPath,alt:$},null,8,Rl)],4))),128))]),a("div",Nl,n(`${e(g)+1}/${e(O).gallery.length}`),1),a("div",Ol,[(t(!0),i(X,null,he(e(O).gallery,(S,$)=>(t(),i("div",{key:$,class:R(["am-gd__thumb",{"am-active":$===e(g)}]),style:re({backgroundImage:`url(${S.pictureFullPath})`}),onClick:()=>ce(g)?g.value=$:g=$},null,14,Vl))),128))])],4)]),_:1},8,["modelValue"]),e(D).serviceDescription.visibility&&e(Ne)(e(O).description)||e(D).serviceEmployees.visibility?(t(),i("div",Ml,[a("div",Ul,[e(Ne)(e(O).description)&&e(D).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(te)==="description"}]),onClick:F[5]||(F[5]=()=>ce(te)?te.value="description":te="description")},n(e(w).about_service),3)):c("",!0),e(D).serviceEmployees.visibility&&!e(L).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(te)==="employees"},"am-fcis__info-tab"]),onClick:F[6]||(F[6]=()=>ce(te)?te.value="employees":te="employees")},n(e(w).tab_employees),3)):c("",!0)]),a("div",Wl,[e(Ne)(e(O).description)&&e(D).serviceDescription.visibility?Dt((t(),i("div",jl,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(O).description.includes("<!-- Content -->")}]),innerHTML:e(O).description},null,10,Hl)],512)),[[Lt,e(te)==="description"]]):c("",!0),e(D).serviceEmployees.visibility?Dt((t(),i("div",ql,[q(Pt,null,{default:A(()=>[(t(!0),i(X,null,he(e(ee),S=>(t(),ye(It,{key:S.id,side:""},{heading:A(()=>[a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__info-employee"])},[a("div",Gl,[q(mt,{"item-class":"am-fcis__info-employee__img","item-data":S,"trim-string":3},null,8,["item-data"]),a("div",Jl,[a("div",Yl,[me(n(S.firstName)+" "+n(S.lastName)+" ",1),S.badge?(t(),i("span",{key:0,style:re({background:S.badge.color}),class:"am-fcis__info-employee__badge"},n(S.badge.content),5)):c("",!0)]),Ee(S)&&e(D).serviceEmployeePrice.visibility?(t(),i("div",Ql,n(Ee(S)),1)):c("",!0)])])],2)]),default:A(()=>[e(Ne)(S.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":S.description.includes("<!-- Content -->")}]),innerHTML:S.description},null,10,Xl)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Lt,e(te)==="employees"]]):c("",!0)])])):c("",!0),e(Q).length&&e(ae).show!=="services"&&e(D).servicePackages.visibility&&!e(Ue)(e(N))?(t(),i("div",Zl,[a("div",Kl,[a("span",eo,n(e(w).service_available_in_package),1),e(Q).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:F[7]||(F[7]=()=>ce(Ce)?Ce.value=!e(Ce):Ce=!e(Ce))},[e(Ce)?(t(),i(X,{key:1},[me(n(e(w).less_packages),1)],64)):(t(),i(X,{key:0},[me(n(e(w).more_packages),1)],64))])):c("",!0)]),(t(!0),i(X,null,he(e(Oe),S=>(t(),i("div",{key:S.id,class:"am-fcis__include",onClick:$=>je(S)},[a("div",ao,[e(d)>450?(t(),ye(mt,{key:0,"item-class":"am-fcis__include-img","item-data":S,"trim-string":3},null,8,["item-data"])):c("",!0),a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(d)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(d)<600}])},n(S.name),3),e(D).packagePrice.visibility?(t(),i("div",io,[S.discount?(t(),i("span",so,n(`${e(w).save} ${S.discount}%`),1)):c("",!0),a("span",lo,n(S.price?e(at)(e(qt)(S)):e(w).free),1),(e(D).tax?.visibility??!0)&&e(gt)(e(N),S.id,"package")?(t(),i("span",oo,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(w).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(w).incl_tax),1)],64))])):c("",!0)])):c("",!0)],2),a("div",no,[e(D).packageCategory.visibility&&e(ke)?(t(),i("div",ro,[co,a("span",null,n(e(ke).name),1)])):c("",!0),e(D).packageDuration.visibility?(t(),i("div",uo,[mo,S.endDate?(t(),i("span",po,n(`${e(w).expires_at} ${S.endDate.split(" ")[0]}`),1)):S.durationCount?(t(),i("span",_o,n(`${e(w).expires_after} ${S.durationCount} ${J(S.durationCount,S.durationType)}`),1)):(t(),i("span",fo,n(e(w).without_expiration),1))])):c("",!0),e(D).packageCapacity.visibility?(t(),i("div",vo,ho)):c("",!0),e(D).packageLocation.visibility&&e(E).length?(t(),i("div",bo,[ko,a("span",null,n(e(E).length===1?e(E)[0].address?e(E)[0].address:e(E)[0].name:e(w).multiple_locations),1)])):c("",!0),e(D).packageServices.visibility?(t(),i("div",Co,[a("span",null,n(`${e(w).in_package}:`),1),(t(!0),i(X,null,he(S.bookable,$=>(t(),i("span",{key:$.id},n($.service.name),1))),128))])):c("",!0)])],2)])],8,to))),128))])):c("",!0),q(_t,{modelValue:e(pe),"onUpdate:modelValue":F[9]||(F[9]=S=>ce(pe)?pe.value=S:pe=S),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(We),onClosed:U},{default:A(()=>[q(Yt,{"show-cart":e(m),onAddToCart:ze,onEmptiedCart:F[8]||(F[8]=S=>ce(pe)?pe.value=!1:pe=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Te)?(t(),i("div",$o,[a("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(ae).show!=="packages"?e(w).no_services_employees:e(w).no_package_services},null,8,wo),a("div",So,n(e(w).oops),1),a("div",xo,n(e(ae).show!=="packages"?e(w).no_services_employees:e(w).no_package_services),1),a("div",Po,[e(ae).show!=="packages"?(t(),i("span",Io,n(e(w).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",Do,n(e(w).add_services_url)+"\xA0 ",1),e(ae).show!=="packages"?(t(),i("span",Lo,n(e(w).and)+"\xA0 ",1)):c("",!0),e(ae).show!=="packages"?(t(),i("a",Eo,n(e(w).add_employees_url),1)):c("",!0)])],512)):c("",!0)],64)):c("",!0)}});const zo={class:"am-fcip__header-text"},Fo={class:"am-fcip__header-name",role:"heading","aria-level":"1"},Ao={key:0,class:"am-fcip__badge am-package"},Ro=a("span",{class:"am-icon-shipment"},null,-1),No={class:"am-fcip__header-action"},Oo={key:0,class:"am-fcip__header-discount"},Vo={key:1,class:"am-fcip__header-price"},Mo={key:2,class:"am-fcip__header-tax"},Uo={class:"am-fcip__header-btn"},Wo={key:0,class:"am-fcip__header-bottom"},jo={class:"am-fcip__mini-info"},Ho={key:0,class:"am-fcip__mini-info__inner"},qo=a("span",{class:"am-icon-folder"},null,-1),Go={key:1,class:"am-fcip__mini-info__inner"},Jo=a("span",{class:"am-icon-clock"},null,-1),Yo={key:0},Qo={key:1},Xo={key:2},Zo={key:2,class:"am-fcip__mini-info__inner"},Ko=a("span",{class:"am-icon-user"},null,-1),en=a("span",null,"1/1",-1),tn=[Ko,en],an={key:3,class:"am-fcip__mini-info__inner"},sn=a("span",{class:"am-icon-locations"},null,-1),ln={key:0,class:"am-fcip__gallery"},on={key:0,class:"am-fcip__gallery-thumb__wrapper"},nn=a("span",{class:"am-icon-gallery"},null,-1),rn={class:"am-gd__display-wrapper"},cn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},un=["src","alt"],dn={class:"am-gd__selection"},mn={class:"am-gd__thumb-wrapper"},pn=["onClick"],_n={key:1,class:"am-fcip__info"},fn={class:"am-fcip__info-tab__wrapper"},vn={class:"am-fcip__info-content__wrapper"},gn={key:0,class:"am-fcip__info-content"},yn=["innerHTML"],hn={key:1,class:"am-fcip__info-content"},bn={class:"am-fcip__info-employee"},kn={class:"am-fcip__info-employee__hero"},Cn={class:"am-fcip__info-employee__name"},$n=["innerHTML"],wn={key:2,class:"am-fcip__include-wrapper"},Sn={class:"am-fcip__include-heading"},xn={class:"am-fcip__include-heading__text"},Pn={class:"am-fcip__include-service"},In={class:"am-fcip__include-service__info"},Dn={key:0},Ln=["innerHTML"],En={class:"am-fcip__include-footer"},Tn={class:"am-fcip__include-footer__text"},Bn={key:1,ref:"ameliaContainer",class:"am-empty"},zn=["src","alt"],Fn={class:"am-empty__heading"},An={class:"am-empty__subheading"},Rn={class:"am-empty__text"},Nn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},On={name:"CategoryPackage"},Vn=Object.assign(On,{setup(y){let{previousPage:L}=z("changingPageFunctions",{previousPage:()=>{}}),u=k(),C=z("containerWidth");const x=z("settings"),I=z("baseUrls");let d=nt();const s=z("shortcodeData"),p=h(()=>d.getters["entities/getPreselected"]);let _=k(p.value.package.length!==1),v=z("amEntities"),M=z("customizedDataForm"),w=h(()=>M.value.categoryPackage.options),g=h(()=>"pageScroll"in w.value?w.value.pageScroll.visibility:!0),N=z("itemType"),V=z("categorySelected"),Z=h(()=>v.value.categories.find(G=>G.id===V.value)),_e=k(p.value.package.length!==1&&w.value.packageCategory.visibility&&Z),l=h(()=>v.value.packages.find(G=>G.id===d.getters["booking/getPackageId"])),D=k(0),ne=k("description"),K=h(()=>oa(v.value,l.value,s.value)),ue=h(()=>Ut(v.value,l.value,s.value)),ke=k(p.value.employee.length>0?v.value.unfilteredEmployees.filter(G=>p.value.employee.map(U=>parseInt(U)).includes(G.id)):v.value.unfilteredEmployees);function O(G){let U=[];return G.providers.length?G.providers.forEach(B=>{ke.value.find(J=>J.id===parseInt(B.id))&&U.push(ke.value.find(J=>J.id===parseInt(B.id)))}):U=ke.value.filter(B=>B.serviceList.find(J=>J.id===G.service.id)),U}Be(()=>{w.value.packageDescription.visibility||(ne.value="employees"),Ne(l.value.description)||(ne.value="employees")});let ge=k(!1);jt(()=>{ge.value=d.getters["entities/getEmployees"].length===0||K.value.length===0});let te=k(!1),ee=h(()=>{let G=l.value.gallery.length?JSON.parse(JSON.stringify(l.value.gallery)):[];return l.value.gallery.length===1?[]:(G.shift(),G.length>2&&G.splice(2,G.length-2),G)});function Ee(){N.value="",xe(()=>{L()})}let fe=k(!1),Q=k("760px");se("bookingDialogWidth",Q);function Ce(){d.commit("booking/setPackageId",l.value.id),d.commit("booking/setMultipleAppointments",Et(0,l.value)),d.commit("booking/setMultipleAppointmentsIndex",0),d.commit("booking/setBookableType","package"),xe(()=>{fe.value=!0})}z("restoreFormData").value&&Ce();let E=k("");se("stepName",E);function W(){let G=d.getters["entities/getBookableFromBookableEntities"](d.getters["booking/getSelection"]),U=G.settings?JSON.parse(G.settings):x;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:x.general.redirectUrlAfterAppointment?window.location.href=x.general.redirectUrlAfterAppointment:window.location.reload()}function m(){E.value&&E.value==="CongratulationsStep"?W():d.commit("entities/setPreselected",d.getters["entities/getOriginalPreselected"]),Q.value="760px"}let de=z("amFonts");const ze=z("labels"),pe=z("localLanguage");let We=h(()=>x.general.usedLanguages.includes(pe.value)),j=h(()=>{let G=rt({...ze});if(x.customizedData&&x.customizedData.cbf&&x.customizedData.cbf.categoryPackage.translations){let U=x.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(B=>{U[B][pe.value]&&We.value?G[B]=U[B][pe.value]:U[B].default&&(G[B]=U[B].default)})}return G});function Ae(G){return G.length===1||G.length&&G.every(U=>U.id===G[0].id)?G[0].address?G[0].address:G[0].name:j.value.multiple_locations}function je(G,U){let B="";return G>1?(U==="day"&&(B=j.value.expires_days),U==="week"&&(B=j.value.expires_weeks),U==="month"&&(B=j.value.expires_months)):(U==="day"&&(B=j.value.expires_day),U==="week"&&(B=j.value.expires_week),U==="month"&&(B=j.value.expires_month)),B}let ae=z("amColors"),Re=h(()=>({"--am-c-fcip-success-op20":ie(ae.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(ae.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(ae.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(ae.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(ae.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(ae.value.colorBtnSec,.5)})),Ie=h(()=>({"--am-c-fcip-bgr":ae.value.colorMainBgr,"--am-c-fcip-text":ae.value.colorMainText,"--am-c-fcip-success":ae.value.colorSuccess,"--am-c-fcip-primary":ae.value.colorPrimary,"--am-c-scroll-op30":ie(ae.value.colorPrimary,.3),"--am-c-scroll-op10":ie(ae.value.colorPrimary,.1),"--am-font-family":de.fontFamily}));return(G,U)=>(t(),i(X,null,[e(ge)?c("",!0):(t(),ye(Jt,{key:0,ref_key:"contentRef",ref:u,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(g)?"":"no-scroll"}`,style:re(e(Re))},Ht({heading:A(()=>[a("div",{class:R([[{"am-tablet":e(C)<=678},{"am-mobile":e(C)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",zo,[a("span",Fo,[a("span",null,n(e(l).name),1)]),e(w).packageBadge.visibility?(t(),i("div",Ao,[Ro,a("span",null,n(e(j).package),1)])):c("",!0)]),a("div",No,[e(l).discount&&e(w).packagePrice.visibility?(t(),i("span",Oo,n(`${e(j).save} ${e(l).discount}%`),1)):c("",!0),e(w).packagePrice.visibility?(t(),i("span",Vo,n(e(l).price?e(at)(e(qt)(e(l))):e(j).free),1)):c("",!0),e(l).price&&(e(w).tax?.visibility??!0)&&e(gt)(e(d),e(l).id,"package")?(t(),i("span",Mo,[e(x).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(j).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(j).incl_tax),1)],64))])):c("",!0),a("span",Uo,[q(Fe,{type:e(w).bookingBtn.buttonType,onClick:Ce},{default:A(()=>[me(n(e(j).book_now),1)]),_:1},8,["type"])])])],2),e(w).packageCategory.visibility&&e(p).package.length!==1||e(w).packageDuration.visibility||e(w).packageCapacity.visibility||e(w).packageLocation.visibility&&e(ue).length?(t(),i("div",Wo,[a("div",jo,[e(_e)?(t(),i("div",Ho,[qo,a("span",null,n(e(Z).name),1)])):c("",!0),e(w).packageDuration.visibility?(t(),i("div",Go,[Jo,e(l).endDate?(t(),i("span",Yo,n(`${e(j).expires_at} ${e(l).endDate.split(" ")[0]}`),1)):e(l).durationCount?(t(),i("span",Qo,n(`${e(j).expires_after} ${e(l).durationCount} ${je(e(l).durationCount,e(l).durationType)}`),1)):(t(),i("span",Xo,n(e(j).without_expiration),1))])):c("",!0),e(w).packageCapacity.visibility?(t(),i("div",Zo,tn)):c("",!0),e(ue).length&&e(w).packageLocation.visibility?(t(),i("div",an,[sn,a("span",null,n(Ae(e(ue))),1)])):c("",!0)])])):c("",!0)]),content:A(()=>[e(l).gallery.length?(t(),i("div",ln,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(l).gallery.length===1},{"am-mobile w100":e(C)<678}]]),style:re({backgroundImage:`url(${e(l).gallery[0].pictureFullPath})`})},null,6),e(ee).length&&e(C)>677?(t(),i("div",on,[(t(!0),i(X,null,he(e(ee),(B,J)=>(t(),i("div",{key:J,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(ee).length===1}]),style:re({backgroundImage:`url(${B.pictureFullPath})`})},null,6))),128))])):c("",!0),q(Fe,{"custom-class":`am-fcip__gallery-btn${e(C)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>ce(te)?te.value=!0:te=!0)},{default:A(()=>[nn,a("span",null,n(e(j).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),q(_t,{modelValue:e(te),"onUpdate:modelValue":U[4]||(U[4]=B=>ce(te)?te.value=B:te=B),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:re(e(Ie))},[a("div",rn,[a("div",cn,[a("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>ce(D)?D.value=e(D)<=0?e(l).gallery.length-1:e(D)-1:D=e(D)<=0?e(l).gallery.length-1:e(D)-1)}),a("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>ce(D)?D.value=e(l).gallery.length-1===e(D)?0:e(D)+1:D=e(l).gallery.length-1===e(D)?0:e(D)+1)})]),(t(!0),i(X,null,he(e(l).gallery,(B,J)=>(t(),i("div",{key:J,class:"am-gd__display",style:re({display:J===e(D)?"flex":"none"}),onClick:U[3]||(U[3]=()=>ce(D)?D.value=e(l).gallery.length-1===e(D)?0:e(D)+1:D=e(l).gallery.length-1===e(D)?0:e(D)+1)},[a("img",{src:B.pictureFullPath,alt:J},null,8,un)],4))),128))]),a("div",dn,n(`${e(D)+1}/${e(l).gallery.length}`),1),a("div",mn,[(t(!0),i(X,null,he(e(l).gallery,(B,J)=>(t(),i("div",{key:J,class:R(["am-gd__thumb",{"am-active":J===e(D)}]),style:re({backgroundImage:`url(${B.pictureFullPath})`}),onClick:()=>ce(D)?D.value=J:D=J},null,14,pn))),128))])],4)]),_:1},8,["modelValue"]),e(w).packageDescription.visibility&&e(Ne)(e(l).description)||e(w).packageEmployees.visibility?(t(),i("div",_n,[a("div",fn,[e(Ne)(e(l).description)&&e(w).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(ne)==="description"}]),onClick:U[5]||(U[5]=()=>ce(ne)?ne.value="description":ne="description")},n(e(j).about_package),3)):c("",!0),e(w).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(ne)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>ce(ne)?ne.value="employees":ne="employees")},n(e(j).tab_employees),3)):c("",!0)]),a("div",vn,[e(Ne)(e(l).description)&&e(w).packageDescription.visibility?Dt((t(),i("div",gn,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(l).description.includes("<!-- Content -->")}]),innerHTML:e(l).description},null,10,yn)],512)),[[Lt,e(ne)==="description"]]):c("",!0),e(w).packageEmployees.visibility?Dt((t(),i("div",hn,[q(Pt,null,{default:A(()=>[(t(!0),i(X,null,he(e(K),B=>(t(),ye(It,{key:B.id,side:""},{heading:A(()=>[a("div",bn,[a("div",kn,[q(mt,{"item-class":"am-fcip__info-employee__img","item-data":B,"trim-string":3},null,8,["item-data"]),a("div",Cn,[me(n(B.firstName)+" "+n(B.lastName)+" ",1),B.badge?(t(),i("span",{key:0,style:re({background:B.badge.color}),class:"am-fcip__info-employee__badge"},n(B.badge.content),5)):c("",!0)])])])]),default:A(()=>[e(Ne)(B.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":B.description.includes("<!-- Content -->")}]),innerHTML:B.description},null,10,$n)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Lt,e(ne)==="employees"]]):c("",!0)])])):c("",!0),e(w).packageServices.visibility?(t(),i("div",wn,[a("div",Sn,[a("span",xn,n(`${e(j).package_includes}:`),1)]),q(Pt,null,{default:A(()=>[(t(!0),i(X,null,he(e(l).bookable,B=>(t(),ye(It,{key:B.id,side:!0},{heading:A(()=>[a("div",Pn,[q(mt,{"item-class":"am-fcip__include-service__img","item-data":B.service},null,8,["item-data"]),me(" "+n(B.service.name+(e(l).sharedCapacity?"":" x"+B.quantity)),1)])]),default:A(()=>[a("div",In,[a("span",null,n(`${e(j).tab_employees}:`),1),(t(!0),i(X,null,he(O(B).slice(0,6),J=>(t(),ye(mt,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),O(B).length>6?(t(),i("span",Dn," + "+n(O(B).length-6),1)):c("",!0),e(Ne)(B.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":B.service.description.includes("<!-- Content -->")}]),innerHTML:B.service.description},null,10,Ln)):c("",!0)])]),_:2},1024))),128))]),_:1}),a("div",En,[a("span",Tn,n(e(j).package_book_service),1)])])):c("",!0),q(_t,{modelValue:e(fe),"onUpdate:modelValue":U[7]||(U[7]=B=>ce(fe)?fe.value=B:fe=B),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Q),onClosed:m},{default:A(()=>[q(Yt)]),_:1},8,["modelValue","width"])]),_:2},[e(_)?{name:"header",fn:A(()=>[q(Gt,{"btn-string":e(j).back_btn,"btn-type":e(w).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:Ee},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ge)?(t(),i("div",Bn,[a("img",{src:e(I).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(j).no_package_services},null,8,zn),a("div",Fn,n(e(j).oops),1),a("div",An,n(e(j).no_package_services),1),a("div",Rn,[a("a",Nn,n(e(j).add_services_url)+"\xA0 ",1)])],512)):c("",!0)],64))}});const Mn={name:"CatalogSkeleton"},Un=Object.assign(Mn,{setup(y){let L=k(null),u=k(0);window.addEventListener("resize",C);function C(){L.value&&(u.value=L.value.offsetWidth)}Be(()=>{L.value&&(u.value=L.value.offsetWidth)});let x=h(()=>u.value<=500?"am-w100":u.value<=600?"am-w50":u.value<=768?"am-w33":"");return(I,d)=>{const s=ja,p=Wa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:L,class:"am-skeleton-catalog__wrapper"},[q(p,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(t(!0),i(X,null,he(new Array(8),_=>(t(),i("div",{key:_,class:R(["am-skeleton-catalog__item",e(x)])},[q(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Wn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),jn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Hn=["href"],qn={name:"CatalogFormWrapper"},Gn=Object.assign(qn,{setup(y){let L=z("licence"),u=k(null),C=k(20);const x=z("baseUrls");let I=k(0);se("containerWidth",I),window.addEventListener("resize",d);function d(){u.value&&(I.value=u.value.offsetWidth)}Be(()=>{v.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+_.value.counter).classList.add("amelia-v2-booking-"+_.value.counter+"-loaded"),vt(v,{},"ViewContent","appointment",null,null),d(),ea("scrollForm",{offsetFromTop:C})});let s=k(!1);const p=z("settings"),_=z("shortcodeData"),v=nt();v.commit("entities/setPreselected",_.value),v.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:L,loadEntities:_.value.hasApiCall||_.value.in_dialog,showHidden:!1,isPanel:!1});const M=Se(Li),w=Se(_l),g=Se(Bo),N=Se(Vn);let V=k([M,w]),Z=k(0),_e=k(null);se("categorySelected",_e);let l=k([]);se("availableCategories",l);let D=k("");se("itemType",D),xt(D,()=>{D.value==="appointment"&&V.value.push(g),D.value==="package"&&V.value.push(N),D.value===""&&V.value.forEach((W,m)=>{W.name==="CategoryService"&&ne(V.value,m),W.name==="CategoryPackage"&&ne(V.value,m)})});function ne(W,m){W.splice(m,1)}function K(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ue(){if(Z.value=Z.value+1,K())setTimeout(()=>{let W=u.value.getBoundingClientRect().top+window.pageYOffset-C.value;window.scrollTo({top:W,behavior:"smooth"})},500);else{let W=u.value.getBoundingClientRect().top+window.pageYOffset-C.value;window.scrollTo({top:W,behavior:"smooth"})}}function ke(){Z.value=Z.value-1}se("changingPageFunctions",{nextPage:ue,previousPage:ke});let O=h(()=>v.getters["entities/getReady"]),ge=h(()=>v.state.entities);se("amEntities",ge);function te(){let W=v.getters["entities/getPreselected"];if(W.category.length!==1&&(_.value.categories_hidden&&(l.value=JSON.parse(JSON.stringify(wt(ge.value,_.value))),xe(()=>{let m=V.value.findIndex(de=>de.name==="CategoriesList");V.value.splice(m,1)})),_.value.categories_hidden||(l.value=JSON.parse(JSON.stringify(wt(ge.value,_.value))),xe(()=>{if(l.value.length===1){v.commit("booking/setCategoryId",parseInt(l.value[0].id)),_e.value=parseInt(l.value[0].id);let m=V.value.findIndex(de=>de.name==="CategoriesList");V.value.splice(m,1)}}))),W.category.length===1&&(v.commit("booking/setCategoryId",parseInt(W.category)),_e.value=parseInt(W.category[0]),l.value=JSON.parse(JSON.stringify(wt(ge.value,_.value).filter(m=>m.id===parseInt(W.category[0])))),xe(()=>{let m=V.value.findIndex(de=>de.name==="CategoriesList");V.value.splice(m,1)})),W.service.length===1){v.commit("booking/setServiceId",parseInt(W.service[0]));let m=v.getters["entities/getService"](parseInt(W.service[0]));_e.value=m?parseInt(m.categoryId):null,v.commit("booking/setCategoryId",m?parseInt(m.categoryId):null),xe(()=>{V.value=[],V.value.push(g)})}W.employee.length===1&&v.commit("booking/setEmployeeId",parseInt(W.employee[0])),W.location.length===1&&v.commit("booking/setLocationId",parseInt(W.location[0])),W.package.length===1&&v.getters["entities/getPackages"].length&&(V.value=[],v.commit("booking/setPackageId",parseInt(W.package[0])),xe(()=>{V.value.push(N)})),W.show==="packages"?v.commit("booking/setBookableType","package"):v.commit("booking/setBookableType","appointment")}let ee=h(()=>O.value?qa(v,_.value):null);se("restoreFormData",ee),xt(O,W=>{W&&(te(),s.value=v.getters["entities/getServices"].length===0||v.getters["entities/getEmployees"].length===0,ee.value&&(D.value=v.state.booking.appointment.type,xe(()=>{Z.value=V.value.length-1,_e.value=v.state.booking.appointment.categoryId})))});let Ee=h(()=>p.customizedData&&"cbf"in p.customizedData?p.customizedData.cbf:dt.cbf);se("customizedDataForm",Ee);const fe=k(p.customizedData?p.customizedData.fonts:dt.fonts);se("amFonts",fe);let Q=h(()=>p.customizedData&&"cbf"in p.customizedData?p.customizedData.cbf.colors:dt.cbf.colors);se("amColors",Q);let Ce=h(()=>({"--am-c-primary":Q.value.colorPrimary,"--am-c-success":Q.value.colorSuccess,"--am-c-error":Q.value.colorError,"--am-c-warning":Q.value.colorWarning,"--am-c-main-bgr":Q.value.colorMainBgr,"--am-c-main-heading-text":Q.value.colorMainHeadingText,"--am-c-main-text":Q.value.colorMainText,"--am-c-sb-bgr":Q.value.colorSbBgr,"--am-c-sb-text":Q.value.colorSbText,"--am-c-inp-bgr":Q.value.colorInpBgr,"--am-c-inp-border":Q.value.colorInpBorder,"--am-c-inp-text":Q.value.colorInpText,"--am-c-inp-placeholder":Q.value.colorInpPlaceHolder,"--am-c-drop-bgr":Q.value.colorDropBgr,"--am-c-drop-text":Q.value.colorDropText,"--am-c-card-bgr":Q.value.colorCardBgr,"--am-c-card-text":Q.value.colorCardText,"--am-c-card-border":Q.value.colorCardBorder,"--am-c-btn-prim":Q.value.colorBtnPrim,"--am-c-btn-prim-text":Q.value.colorBtnPrimText,"--am-c-btn-sec":Q.value.colorBtnSec,"--am-c-btn-sec-text":Q.value.colorBtnSecText,"--am-c-skeleton-op20":ie(Q.value.colorMainText,.2),"--am-c-skeleton-op60":ie(Q.value.colorMainText,.6),"--am-font-family":fe.value.fontFamily}));function Oe(){let W=document.head||document.getElementsByTagName("head")[0];W.querySelector("#amCustomFont")&&W.querySelector("#amCustomFont").remove();let m=`@font-face {font-family: '${fe.value.fontFamily}'; src: url(${fe.value.fontUrl});}`,de=document.createElement("style");W.appendChild(de),de.setAttribute("type","text/css"),de.setAttribute("id","amCustomFont"),de.appendChild(document.createTextNode(m))}fe.value.customFontSelected&&Oe();let E=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",E),(W,m)=>(t(),i(X,null,[fe.value.customFontSelected?c("",!0):(t(),i(X,{key:0},[Wn,jn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(x).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Hn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:u,class:"am-fc__wrapper",style:re(e(Ce))},[e(O)&&e(V).length?(t(),ye(ta(e(V)[e(Z)]),{key:0})):(t(),ye(Un,{key:1}))],4),q(e(Ha))],64))}});var Yn=Object.freeze(Object.defineProperty({__proto__:null,default:Gn},Symbol.toStringTag,{value:"Module"}));export{Yn as C,_t as _,oi as a,Gt as b,mt as c,Jt as d,Gn as e};
