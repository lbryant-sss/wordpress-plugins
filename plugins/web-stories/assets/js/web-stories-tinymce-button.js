(()=>{var e={609:e=>{"use strict";e.exports=window.React},728:(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,__copyProps=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of l(t))s.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=a(t,o))||r.enumerable});return e},u={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(u,{$dispatcherGuard:()=>S,$makeReadOnly:()=>j,$reset:()=>C,$structuralCheck:()=>D,c:()=>h,clearRenderCounterRegistry:()=>O,renderCounterRegistry:()=>v,useRenderCounter:()=>I}),e.exports=(r=u,__copyProps(i({},"__esModule",{value:!0}),r));var _,f,d=((e,t,n)=>(n=null!=e?o(c(e)):{},__copyProps(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n(609)),{useRef:m,useEffect:p,isValidElement:w}=d,g=null!=(_=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)?_:d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.memo_cache_sentinel"),h="function"==typeof(null==(f=d.__COMPILER_RUNTIME)?void 0:f.c)?d.__COMPILER_RUNTIME.c:function(e){return d.useMemo((()=>{const t=new Array(e);for(let n=0;n<e;n++)t[n]=b;return t[b]=!0,t}),[])},y={};["readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","getCacheSignal","getCacheForType","useCacheRefresh"].forEach((e=>{y[e]=()=>{throw new Error(`[React] Unexpected React hook call (${e}) from a React compiled function. Check that all hooks are called directly and named according to convention ('use[A-Z]') `)}}));var N=null;function M(e){return g.ReactCurrentDispatcher.current=e,g.ReactCurrentDispatcher.current}y.useMemoCache=e=>{if(null==N)throw new Error("React Compiler internal invariant violation: unexpected null dispatcher");return N.useMemoCache(e)};var E=[];function S(e){const t=g.ReactCurrentDispatcher.current;if(0===e){if(E.push(t),1===E.length&&(N=t),t===y)throw new Error("[React] Unexpected call to custom hook or component from a React compiled function. Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') and (2) components are returned as JSX instead of being directly invoked.");M(y)}else if(1===e){const e=E.pop();if(null==e)throw new Error("React Compiler internal error: unexpected null in guard stack");0===E.length&&(N=null),M(e)}else if(2===e)E.push(t),M(N);else{if(3!==e)throw new Error("React Compiler internal error: unreachable block"+e);{const e=E.pop();if(null==e)throw new Error("React Compiler internal error: unexpected null in guard stack");M(e)}}}function C(e){for(let t=0;t<e.length;t++)e[t]=b}function j(){throw new Error("TODO: implement $makeReadOnly in react-compiler-runtime")}var v=new Map;function O(){for(const e of v.values())e.forEach((e=>{e.count=0}))}function I(e){const t=m(null);null!=t.current&&(t.current.count+=1),p((()=>{if(null==t.current){const n={count:0};!function(e,t){let n=v.get(e);null==n&&(n=new Set,v.set(e,n)),n.add(t)}(e,n),t.current=n}return()=>{null!==t.current&&function(e,t){const n=v.get(e);null!=n&&n.delete(t)}(e,t.current)}}))}var T=new Set;function D(e,t,n,r,o,i){function a(e,t,a,l){const c=`${r}:${i} [${o}] ${n}${a} changed from ${e} to ${t} at depth ${l}`;T.has(c)||(T.add(c),console.error(c))}!function e(t,n,r,o){if(!(o>2)&&t!==n)if(typeof t!=typeof n)a("type "+typeof t,"type "+typeof n,r,o);else if("object"==typeof t){const i=Array.isArray(t),l=Array.isArray(n);if(null===t&&null!==n)a("null","type "+typeof n,r,o);else if(null===n)a("type "+typeof t,"null",r,o);else if(t instanceof Map)if(n instanceof Map)if(t.size!==n.size)a(`Map instance with size ${t.size}`,`Map instance with size ${n.size}`,r,o);else for(const[i,l]of t)n.has(i)?e(l,n.get(i),`${r}.get(${i})`,o+1):a(`Map instance with key ${i}`,`Map instance without key ${i}`,r,o);else a("Map instance","other value",r,o);else if(n instanceof Map)a("other value","Map instance",r,o);else if(t instanceof Set)if(n instanceof Set)if(t.size!==n.size)a(`Set instance with size ${t.size}`,`Set instance with size ${n.size}`,r,o);else for(const e of n)t.has(e)||a(`Set instance without element ${e}`,`Set instance with element ${e}`,r,o);else a("Set instance","other value",r,o);else if(n instanceof Set)a("other value","Set instance",r,o);else if(i||l)if(i!==l)a("type "+(i?"array":"object"),"type "+(l?"array":"object"),r,o);else if(t.length!==n.length)a(`array with length ${t.length}`,`array with length ${n.length}`,r,o);else for(let i=0;i<t.length;i++)e(t[i],n[i],`${r}[${i}]`,o+1);else if(w(t)||w(n))w(t)!==w(n)?a("type "+(w(t)?"React element":"object"),"type "+(w(n)?"React element":"object"),r,o):t.type!==n.type?a(`React element of type ${t.type}`,`React element of type ${n.type}`,r,o):e(t.props,n.props,`[props of ${r}]`,o+1);else{for(const e in n)e in t||a(`object without key ${e}`,`object with key ${e}`,r,o);for(const i in t)i in n?e(t[i],n[i],`${r}.${i}`,o+1):a(`object with key ${i}`,`object without key ${i}`,r,o)}}else{if("function"==typeof t)return;isNaN(t)||isNaN(n)?isNaN(t)!==isNaN(n)&&a(""+(isNaN(t)?"NaN":"non-NaN value"),""+(isNaN(n)?"NaN":"non-NaN value"),r,o):t!==n&&a(t,n,r,o)}}(e,t,"",0)}}},t={};function __webpack_require__(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{setCurrentView:()=>f,setEditor:()=>_,setSettings:()=>s,setViewSettings:()=>d,toggleModal:()=>u});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{getCurrentView:()=>h,getCurrentViewSettings:()=>y,getEditor:()=>b,getModal:()=>g,getSettings:()=>w,getState:()=>N});var n=__webpack_require__(609),r=__webpack_require__.n(n);const o=window.wp.element,i=window.wp.data,a=window.wp.i18n,l=window.wp.domReady;var c=__webpack_require__.n(l);function s(e){return{type:"SET_SETTINGS",settings:e}}function u(e){return{type:"TOGGLE_MODAL",modalOpen:e}}function _(e){return{type:"SET_EDITOR",editor:e}}function f(e){return{type:"SET_CURRENT_VIEW",currentView:e}}function d(e,t){return{type:"SET_VIEW_SETTINGS",view:e,settings:t}}const m={settings:(()=>{const e=[],{views:t=[],fields:n}=window.webStoriesData||{};return t.forEach((t=>{const{value:r}=t,{title:o,author:i,date:a,excerpt:l,archive_link:c,sharp_corners:s}=n[r];e[r]={title:o,excerpt:l,author:i,date:a,archive_link:c,archive_link_label:"",circle_size:150,sharp_corners:s,image_alignment:"left",number_of_columns:1,number_of_stories:5,order:"DESC",orderby:"post_title",view:r}})),e})(),modalOpen:!1,editor:!1,currentView:"circles"};const p=function(e=m,t){switch(t.type){case"SET_SETTINGS":return{...e,settings:t.settings};case"TOGGLE_MODAL":return{...e,modalOpen:t.modalOpen};case"SET_EDITOR":return{...e,editor:t.editor};case"SET_CURRENT_VIEW":return{...e,currentView:t.currentView};case"SET_VIEW_SETTINGS":return{...e,settings:{...e.settings,[t.view]:t.settings}};default:return e}};function w(e){return e.settings}function g(e){return e.modalOpen}function b(e){return e.editor}function h(e){return e.currentView}function y(e){const t=h(e);return e.settings[t]}function N(e){return e}const M=(0,i.createReduxStore)("web-stories-mce",{actions:e,reducer:p,selectors:t});(0,i.register)(M);const E=M,S=window.wp.compose;var C=__webpack_require__(728);const j=window.wp.components,v=({fieldObj:e,field:t,hidden:n=!1})=>{const r=(0,i.select)(E).getCurrentViewSettings();let o=r;if("object"==typeof e){if(!n){const{show:n}=e;o={...r,[t]:{...e,show:!n}}}}else o={...r,[t]:e};(0,i.dispatch)(E).setViewSettings((0,i.select)(E).getCurrentView(),o)},O=()=>{let e="[web_stories";const t=(0,i.select)(E).getEditor(),n=(0,i.select)(E).getCurrentViewSettings();return t&&Object.keys(n).forEach((t=>{const r=n[t],o="object"==typeof r?r.show.toString():r.toString();e+=` ${t.toString()}="${o}"`})),e+=" /]",e},Toggle=e=>{const t=(0,C.c)(10),{fieldObj:n,field:o}=e;let i;t[0]!==n?(i=void 0===n?{}:n,t[0]=n,t[1]=i):i=t[1];const a=i,{show:l,hidden:c,label:s}=a;if(c)return null;let u,_;return t[2]!==o||t[3]!==a||t[4]!==c?(u=()=>{v({fieldObj:a,field:o,hidden:c})},t[2]=o,t[3]=a,t[4]=c,t[5]=u):u=t[5],t[6]!==s||t[7]!==l||t[8]!==u?(_=r().createElement(j.ToggleControl,{label:s,checked:l,onChange:u,__nextHasNoMarginBottom:!0}),t[6]=s,t[7]=l,t[8]=u,t[9]=_):_=t[9],_},Modal=e=>{const t=(0,C.c)(105),{modalOpen:n,settings:o,prepareShortCode:l}=e;let c;t[0]!==o?(c=void 0===o?{}:o,t[0]=o,t[1]=c):c=t[1];const s=c,{author:u,date:_,title:f,number_of_stories:d,order:m,orderby:p,view:w,excerpt:g,image_alignment:b,archive_link:h,circle_size:y,number_of_columns:N,sharp_corners:M,archive_link_label:S}=s;let v,O,z,V,G,P,B,Y,q,Q,H,W,Z,J,X,F,K,ee,te,ne,re,oe,ie,ae,le,ce,se,ue;if(t[2]!==h||t[3]!==S||t[4]!==u||t[5]!==y||t[6]!==_||t[7]!==g||t[8]!==b||t[9]!==n||t[10]!==N||t[11]!==d||t[12]!==m||t[13]!==p||t[14]!==M||t[15]!==f||t[16]!==w){J=Symbol.for("react.early_return_sentinel");e:{const{views:e,fields:o}=window.webStoriesData||{},i=void 0===e?[]:e,l=e=>o?.[w][e].show&&!o?.[w][e].hidden;if(!n){J=null;break e}let c,s,E,C,U,oe,ie,ae;v=j.Modal,W=I,t[38]===Symbol.for("react.memo_cache_sentinel")?(X=(0,a.__)("Close","web-stories"),F=(0,a.__)("Web Stories","web-stories"),t[38]=X,t[39]=F):(X=t[38],F=t[39]),K="component_web_stories_mce_model",ee=!1,t[40]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.__)("Select Layout","web-stories"),t[40]=c):c=t[40],t[41]!==w||t[42]!==i?(te=r().createElement(j.SelectControl,{label:c,value:w,options:i,onChange:T,__nextHasNoMarginBottom:!0}),t[41]=w,t[42]=i,t[43]=te):te=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.__)("Number of Stories","web-stories"),t[44]=s):s=t[44],t[45]!==d?(ne=r().createElement(j.RangeControl,{label:s,value:d,min:1,max:20,onChange:D,__nextHasNoMarginBottom:!0}),t[45]=d,t[46]=ne):ne=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(E=(0,a.__)("Order By","web-stories"),t[47]=E):E=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(C={value:"post_date",label:(0,a.__)("Date","web-stories")},t[48]=C):C=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(U=[C,{value:"post_title",label:(0,a.__)("Title","web-stories")}],t[49]=U):U=t[49],t[50]!==p?(re=r().createElement(j.SelectControl,{label:E,value:p,options:U,onChange:R,__nextHasNoMarginBottom:!0}),t[50]=p,t[51]=re):re=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(oe=(0,a.__)("Order","web-stories"),t[52]=oe):oe=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(ie={value:"ASC",label:(0,a.__)("Ascending","web-stories")},t[53]=ie):ie=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(ae=[ie,{value:"DESC",label:(0,a.__)("Descending","web-stories")}],t[54]=ae):ae=t[54],t[55]!==m?(O=r().createElement(j.SelectControl,{label:oe,value:m,options:ae,onChange:k,__nextHasNoMarginBottom:!0}),t[55]=m,t[56]=O):O=t[56],t[57]!==f?(z=r().createElement(Toggle,{field:"title",fieldObj:f}),t[57]=f,t[58]=z):z=t[58],t[59]!==g?(V=r().createElement(Toggle,{field:"excerpt",fieldObj:g}),t[59]=g,t[60]=V):V=t[60],t[61]!==u?(G=r().createElement(Toggle,{field:"author",fieldObj:u}),t[61]=u,t[62]=G):G=t[62],t[63]!==_?(P=r().createElement(Toggle,{field:"date",fieldObj:_}),t[63]=_,t[64]=P):P=t[64],B=l("image_alignment")&&r().createElement("div",{style:{margin:"0 0 10px 0"}},r().createElement(j.RadioControl,{label:(0,a.__)("Image Alignment","web-stories"),selected:b,options:[{value:"left",label:(0,a.__)("Left","web-stories")},{value:"right",label:(0,a.__)("Right","web-stories")}],onChange:x,__nextHasNoMarginBottom:!0})),t[65]!==M?(Y=r().createElement(Toggle,{field:"sharp_corners",fieldObj:M}),t[65]=M,t[66]=Y):Y=t[66],t[67]!==h?(q=r().createElement(Toggle,{field:"archive_link",fieldObj:h}),t[67]=h,t[68]=q):q=t[68],t[69]!==h?.show||t[70]!==S?(Q=h?.show&&r().createElement(j.TextControl,{label:(0,a.__)("Archive Link Label","web-stories"),value:S,onChange:A,__nextHasNoMarginBottom:!0}),t[69]=h?.show,t[70]=S,t[71]=Q):Q=t[71],t[72]!==y?(H=y?.show&&r().createElement(j.RangeControl,{label:(0,a.__)("Circle Size","web-stories"),value:y,min:80,max:200,step:5,onChange:L,__nextHasNoMarginBottom:!0}),t[72]=y,t[73]=H):H=t[73],Z=l("number_of_columns")&&r().createElement(j.RangeControl,{label:(0,a.__)("Number of Columns","web-stories"),value:N,min:1,max:4,onChange:$,__nextHasNoMarginBottom:!0})}t[2]=h,t[3]=S,t[4]=u,t[5]=y,t[6]=_,t[7]=g,t[8]=b,t[9]=n,t[10]=N,t[11]=d,t[12]=m,t[13]=p,t[14]=M,t[15]=f,t[16]=w,t[17]=v,t[18]=O,t[19]=z,t[20]=V,t[21]=G,t[22]=P,t[23]=B,t[24]=Y,t[25]=q,t[26]=Q,t[27]=H,t[28]=W,t[29]=Z,t[30]=J,t[31]=X,t[32]=F,t[33]=K,t[34]=ee,t[35]=te,t[36]=ne,t[37]=re}else v=t[17],O=t[18],z=t[19],V=t[20],G=t[21],P=t[22],B=t[23],Y=t[24],q=t[25],Q=t[26],H=t[27],W=t[28],Z=t[29],J=t[30],X=t[31],F=t[32],K=t[33],ee=t[34],te=t[35],ne=t[36],re=t[37];return J!==Symbol.for("react.early_return_sentinel")?J:(t[74]===Symbol.for("react.memo_cache_sentinel")?(oe={padding:"20px 0"},t[74]=oe):oe=t[74],t[75]!==l?(ie=()=>{const e=(0,i.select)(E).getEditor();if(e){const t=l();e.insertContent(t)}(0,i.dispatch)(E).toggleModal(!1)},t[75]=l,t[76]=ie):ie=t[76],t[77]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,a.__)("Insert","web-stories"),t[77]=ae):ae=t[77],t[78]!==ie?(le=r().createElement(j.Button,{isPrimary:!0,onClick:ie},ae),t[78]=ie,t[79]=le):le=t[79],t[80]===Symbol.for("react.memo_cache_sentinel")?(ce=r().createElement(j.Button,{onClick:U},(0,a.__)("Cancel","web-stories")),t[80]=ce):ce=t[80],t[81]!==le?(se=r().createElement("div",{style:oe,className:"alignright"},le,ce),t[81]=le,t[82]=se):se=t[82],t[83]!==v||t[84]!==O||t[85]!==z||t[86]!==V||t[87]!==G||t[88]!==P||t[89]!==B||t[90]!==Y||t[91]!==q||t[92]!==Q||t[93]!==H||t[94]!==W||t[95]!==Z||t[96]!==se||t[97]!==X||t[98]!==F||t[99]!==K||t[100]!==ee||t[101]!==te||t[102]!==ne||t[103]!==re?(ue=r().createElement(v,{onRequestClose:W,closeButtonLabel:X,title:F,className:K,shouldCloseOnClickOutside:ee},te,ne,re,O,z,V,G,P,B,Y,q,Q,H,Z,se),t[83]=v,t[84]=O,t[85]=z,t[86]=V,t[87]=G,t[88]=P,t[89]=B,t[90]=Y,t[91]=q,t[92]=Q,t[93]=H,t[94]=W,t[95]=Z,t[96]=se,t[97]=X,t[98]=F,t[99]=K,t[100]=ee,t[101]=te,t[102]=ne,t[103]=re,t[104]=ue):ue=t[104],ue)};function I(){(0,i.dispatch)(E).toggleModal(!1)}function T(e){(0,i.dispatch)(E).setCurrentView(e)}function D(e){v({fieldObj:Number(e),field:"number_of_stories"})}function R(e){v({fieldObj:e,field:"orderby"})}function k(e){v({fieldObj:e,field:"order"})}function x(e){v({fieldObj:e,field:"image_alignment"})}function A(e){v({fieldObj:e,field:"archive_link_label"})}function L(e){return v({fieldObj:Number(e),field:"circle_size"})}function $(e){return v({fieldObj:Number(e),field:"number_of_columns"})}function U(){return(0,i.dispatch)(E).toggleModal(!1)}const z=(0,S.compose)([(0,i.withSelect)((e=>({modalOpen:e(E).getModal(),settings:e(E).getCurrentViewSettings(),prepareShortCode:O})))])(Modal),{_:V}=window;V.hasOwnProperty("pluck")||(V.pluck=V.map),tinymce.PluginManager.add("web_stories",(function(e){e.addButton("web_stories",{text:(0,a.__)("Web Stories","web-stories"),classes:"web-stories",image:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjA4IiBoZWlnaHQ9IjIwOCIgdmlld0JveD0iMCAwIDIwOCAyMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMTAwIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTM1LjIgNjIuNDAwNUMxNDAuOTQ0IDYyLjQwMDUgMTQ1LjYgNjcuMDU2NyAxNDUuNiA3Mi44MDA1VjEzNS4yQzE0NS42IDE0MC45NDQgMTQwLjk0NCAxNDUuNiAxMzUuMiAxNDUuNlY2Mi40MDA1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTU3LjIgNjIuNDAwNUM1Ny4yIDU2LjY1NjcgNjEuODU2MiA1Mi4wMDA1IDY3LjYgNTIuMDAwNUgxMTQuNEMxMjAuMTQ0IDUyLjAwMDUgMTI0LjggNTYuNjU2NyAxMjQuOCA2Mi40MDA1VjE0NS42QzEyNC44IDE1MS4zNDQgMTIwLjE0NCAxNTYgMTE0LjQgMTU2SDY3LjZDNjEuODU2MiAxNTYgNTcuMiAxNTEuMzQ0IDU3LjIgMTQ1LjZWNjIuNDAwNVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNTYgNzIuODAwNUMxNjAuMzA4IDcyLjgwMDUgMTYzLjggNzYuMjkyNyAxNjMuOCA4MC42MDA1VjEyNy40QzE2My44IDEzMS43MDggMTYwLjMwOCAxMzUuMiAxNTYgMTM1LjJWNzIuODAwNVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==",onClick:function(){(0,i.dispatch)(E).setEditor(e),(0,i.dispatch)(E).toggleModal(!0)}})})),c()((()=>{const e=document.getElementById("web-stories-tinymce");e&&(0,o.render)(r().createElement(z,null),e)}))})()})();