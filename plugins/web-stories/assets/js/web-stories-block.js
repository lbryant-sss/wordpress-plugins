(()=>{var e={7443:(e,t,r)=>{var o,n;void 0===(n="function"==typeof(o=function(){var e="undefined"!=typeof window?window:this,t=e.Glider=function(t,r){var o=this;if(t._glider)return t._glider;if(o.ele=t,o.ele.classList.add("glider"),o.ele._glider=o,o.opt=Object.assign({},{slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,passiveListeners:!1,easing:function(e,t,r,o,n){return o*(t/=n)*t+r}},r),o.animate_id=o.page=o.slide=0,o.arrows={},o._opt=o.opt,o.opt.skipTrack)o.track=o.ele.children[0];else for(o.track=document.createElement("div"),o.ele.appendChild(o.track);1!==o.ele.children.length;)o.track.appendChild(o.ele.children[0]);o.track.classList.add("glider-track"),o.init(),o.resize=o.init.bind(o,!0),o.event(o.ele,"add",{scroll:o.updateControls.bind(o)},{passive:o.opt.passiveListeners}),o.event(e,"add",{resize:o.resize})},r=t.prototype;return r.init=function(e,t){var r=this,o=0,n=0;r.slides=r.track.children,[].forEach.call(r.slides,(function(e,t){e.classList.add("glider-slide"),e.setAttribute("data-gslide",t)})),r.containerWidth=r.ele.clientWidth;var i=r.settingsBreakpoint();if(t||(t=i),"auto"===r.opt.slidesToShow||void 0!==r.opt._autoSlide){var s=r.containerWidth/r.opt.itemWidth;r.opt._autoSlide=r.opt.slidesToShow=r.opt.exactWidth?s:Math.max(1,Math.floor(s))}"auto"===r.opt.slidesToScroll&&(r.opt.slidesToScroll=Math.floor(r.opt.slidesToShow)),r.itemWidth=r.opt.exactWidth?r.opt.itemWidth:r.containerWidth/r.opt.slidesToShow,[].forEach.call(r.slides,(function(e){e.style.height="auto",e.style.width=r.itemWidth+"px",o+=r.itemWidth,n=Math.max(e.offsetHeight,n)})),r.track.style.width=o+"px",r.trackWidth=o,r.isDrag=!1,r.preventClick=!1,r.move=!1,r.opt.resizeLock&&r.scrollTo(r.slide*r.itemWidth,0),(i||t)&&(r.bindArrows(),r.buildDots(),r.bindDrag()),r.updateControls(),r.emit(e?"refresh":"loaded")},r.bindDrag=function(){var e=this;e.mouse=e.mouse||e.handleMouse.bind(e);var t=function(){e.mouseDown=void 0,e.ele.classList.remove("drag"),e.isDrag&&(e.preventClick=!0),e.isDrag=!1};const r=function(){e.move=!0};var o={mouseup:t,mouseleave:t,mousedown:function(t){t.preventDefault(),t.stopPropagation(),e.mouseDown=t.clientX,e.ele.classList.add("drag"),e.move=!1,setTimeout(r,300)},touchstart:function(t){e.ele.classList.add("drag"),e.move=!1,setTimeout(r,300)},mousemove:e.mouse,click:function(t){e.preventClick&&e.move&&(t.preventDefault(),t.stopPropagation()),e.preventClick=!1,e.move=!1}};e.ele.classList.toggle("draggable",!0===e.opt.draggable),e.event(e.ele,"remove",o),e.opt.draggable&&e.event(e.ele,"add",o,{passive:e.opt.passiveListeners})},r.buildDots=function(){var e=this;if(e.opt.dots){if("string"==typeof e.opt.dots?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.setAttribute("role","tablist"),e.dots.classList.add("glider-dots");for(var t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){var r=document.createElement("button");r.dataset.index=t,r.setAttribute("aria-label","Page "+(t+1)),r.setAttribute("role","tab"),r.className="glider-dot "+(t?"":"active"),e.event(r,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(r)}}}else e.dots&&(e.dots.innerHTML="")},r.bindArrows=function(){var e=this;e.opt.arrows?["prev","next"].forEach((function(t){var r=e.opt.arrows[t];r&&("string"==typeof r&&(r=document.querySelector(r)),r&&(r._func=r._func||e.scrollItem.bind(e,t),e.event(r,"remove",{click:r._func}),e.event(r,"add",{click:r._func}),e.arrows[t]=r))})):Object.keys(e.arrows).forEach((function(t){var r=e.arrows[t];e.event(r,"remove",{click:r._func})}))},r.updateControls=function(e){var t=this;e&&!t.opt.scrollPropagate&&e.stopPropagation();var r=t.containerWidth>=t.trackWidth;t.opt.rewind||(t.arrows.prev&&(t.arrows.prev.classList.toggle("disabled",t.ele.scrollLeft<=0||r),t.arrows.prev.setAttribute("aria-disabled",t.arrows.prev.classList.contains("disabled"))),t.arrows.next&&(t.arrows.next.classList.toggle("disabled",Math.ceil(t.ele.scrollLeft+t.containerWidth)>=Math.floor(t.trackWidth)||r),t.arrows.next.setAttribute("aria-disabled",t.arrows.next.classList.contains("disabled")))),t.slide=Math.round(t.ele.scrollLeft/t.itemWidth),t.page=Math.round(t.ele.scrollLeft/t.containerWidth);var o=t.slide+Math.floor(Math.floor(t.opt.slidesToShow)/2),n=Math.floor(t.opt.slidesToShow)%2?0:o+1;1===Math.floor(t.opt.slidesToShow)&&(n=0),t.ele.scrollLeft+t.containerWidth>=Math.floor(t.trackWidth)&&(t.page=t.dots?t.dots.children.length-1:0),[].forEach.call(t.slides,(function(e,r){var i=e.classList,s=i.contains("visible"),a=t.ele.scrollLeft,l=t.ele.scrollLeft+t.containerWidth,c=t.itemWidth*r,u=c+t.itemWidth;[].forEach.call(i,(function(e){/^left|right/.test(e)&&i.remove(e)})),i.toggle("active",t.slide===r),o===r||n&&n===r?i.add("center"):(i.remove("center"),i.add([r<o?"left":"right",Math.abs(r-(r<o?o:n||o))].join("-")));var d=Math.ceil(c)>=Math.floor(a)&&Math.floor(u)<=Math.ceil(l);i.toggle("visible",d),d!==s&&t.emit("slide-"+(d?"visible":"hidden"),{slide:r})})),t.dots&&[].forEach.call(t.dots.children,(function(e,r){e.classList.toggle("active",t.page===r)})),e&&t.opt.scrollLock&&(clearTimeout(t.scrollLock),t.scrollLock=setTimeout((function(){clearTimeout(t.scrollLock),Math.abs(t.ele.scrollLeft/t.itemWidth-t.slide)>.02&&(t.mouseDown||t.trackWidth>t.containerWidth+t.ele.scrollLeft&&t.scrollItem(t.getCurrentSlide()))}),t.opt.scrollLockDelay||250))},r.getCurrentSlide=function(){var e=this;return e.round(e.ele.scrollLeft/e.itemWidth)},r.scrollItem=function(e,t,r){r&&r.preventDefault();var o=this,n=e;++o.animate_id;var i,s=o.slide;if(!0===t)i=(e=Math.round(e*o.containerWidth/o.itemWidth))*o.itemWidth;else{if("string"==typeof e){var a="prev"===e;if(e=o.opt.slidesToScroll%1||o.opt.slidesToShow%1?o.getCurrentSlide():o.slide,a?e-=o.opt.slidesToScroll:e+=o.opt.slidesToScroll,o.opt.rewind){var l=o.ele.scrollLeft;e=a&&!l?o.slides.length:!a&&l+o.containerWidth>=Math.floor(o.trackWidth)?0:e}}e=Math.max(Math.min(e,o.slides.length),0),o.slide=e,i=o.itemWidth*e}return o.emit("scroll-item",{prevSlide:s,slide:e}),o.scrollTo(i,o.opt.duration*Math.abs(o.ele.scrollLeft-i),(function(){o.updateControls(),o.emit("animated",{value:n,type:"string"==typeof n?"arrow":t?"dot":"slide"})})),!1},r.settingsBreakpoint=function(){var t=this,r=t._opt.responsive;if(r){r.sort((function(e,t){return t.breakpoint-e.breakpoint}));for(var o=0;o<r.length;++o){var n=r[o];if(e.innerWidth>=n.breakpoint)return t.breakpoint!==n.breakpoint&&(t.opt=Object.assign({},t._opt,n.settings),t.breakpoint=n.breakpoint,!0)}}var i=0!==t.breakpoint;return t.opt=Object.assign({},t._opt),t.breakpoint=0,i},r.scrollTo=function(t,r,o){var n=this,i=(new Date).getTime(),s=n.animate_id,a=function(){var l=(new Date).getTime()-i;n.ele.scrollLeft=n.ele.scrollLeft+(t-n.ele.scrollLeft)*n.opt.easing(0,l,0,1,r),l<r&&s===n.animate_id?e.requestAnimationFrame(a):(n.ele.scrollLeft=t,o&&o.call(n))};e.requestAnimationFrame(a)},r.removeItem=function(e){var t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},r.addItem=function(e){var t=this;t.track.appendChild(e),t.refresh(!0),t.emit("add")},r.handleMouse=function(e){var t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},r.round=function(e){var t=1/(this.opt.slidesToScroll%1||1);return Math.round(e*t)/t},r.refresh=function(e){this.init(!0,e)},r.setOption=function(e,t){var r=this;r.breakpoint&&!t?r._opt.responsive.forEach((function(t){t.breakpoint===r.breakpoint&&(t.settings=Object.assign({},t.settings,e))})):r._opt=Object.assign({},r._opt,e),r.breakpoint=0,r.settingsBreakpoint()},r.destroy=function(){var t=this,r=t.ele.cloneNode(!0),o=function(e){e.removeAttribute("style"),[].forEach.call(e.classList,(function(t){/^glider/.test(t)&&e.classList.remove(t)}))};t.opt.skipTrack||(r.children[0].outerHTML=r.children[0].innerHTML),o(r),[].forEach.call(r.getElementsByTagName("*"),o),t.ele.parentNode.replaceChild(r,t.ele),t.event(e,"remove",{resize:t.resize}),t.emit("destroy")},r.emit=function(t,r){var o=this,n=new e.CustomEvent("glider-"+t,{bubbles:!o.opt.eventPropagate,detail:r});o.ele.dispatchEvent(n)},r.event=function(e,t,r){var o=e[t+"EventListener"].bind(e);Object.keys(r).forEach((function(e){o(e,r[e])}))},t})?o.call(t,r,t,e):o)||(e.exports=n)},9306:(e,t,r)=>{"use strict";var o=r(4901),n=r(6823),i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not a function")}},7080:(e,t,r)=>{"use strict";var o=r(4402).has;e.exports=function(e){return o(e),e}},679:(e,t,r)=>{"use strict";var o=r(1625),n=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw new n("Incorrect invocation")}},8551:(e,t,r)=>{"use strict";var o=r(34),n=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not an object")}},9617:(e,t,r)=>{"use strict";var o=r(5397),n=r(5610),i=r(6198),s=function(e){return function(t,r,s){var a=o(t),l=i(a);if(0===l)return!e&&-1;var c,u=n(s,l);if(e&&r!=r){for(;l>u;)if((c=a[u++])!=c)return!0}else for(;l>u;u++)if((e||u in a)&&a[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},6319:(e,t,r)=>{"use strict";var o=r(8551),n=r(9539);e.exports=function(e,t,r,i){try{return i?t(o(r)[0],r[1]):t(r)}catch(t){n(e,"throw",t)}}},2195:(e,t,r)=>{"use strict";var o=r(9504),n=o({}.toString),i=o("".slice);e.exports=function(e){return i(n(e),8,-1)}},6955:(e,t,r)=>{"use strict";var o=r(2140),n=r(4901),i=r(2195),s=r(8227)("toStringTag"),a=Object,l="Arguments"===i(function(){return arguments}());e.exports=o?i:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?r:l?i(t):"Object"===(o=i(t))&&n(t.callee)?"Arguments":o}},7740:(e,t,r)=>{"use strict";var o=r(9297),n=r(5031),i=r(7347),s=r(4913);e.exports=function(e,t,r){for(var a=n(t),l=s.f,c=i.f,u=0;u<a.length;u++){var d=a[u];o(e,d)||r&&o(r,d)||l(e,d,c(t,d))}}},2211:(e,t,r)=>{"use strict";var o=r(9039);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2529:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},6699:(e,t,r)=>{"use strict";var o=r(3724),n=r(4913),i=r(6980);e.exports=o?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:(e,t,r)=>{"use strict";var o=r(3724),n=r(4913),i=r(6980);e.exports=function(e,t,r){o?n.f(e,t,i(0,r)):e[t]=r}},2106:(e,t,r)=>{"use strict";var o=r(283),n=r(4913);e.exports=function(e,t,r){return r.get&&o(r.get,t,{getter:!0}),r.set&&o(r.set,t,{setter:!0}),n.f(e,t,r)}},6840:(e,t,r)=>{"use strict";var o=r(4901),n=r(4913),i=r(283),s=r(9433);e.exports=function(e,t,r,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(o(r)&&i(r,c,a),a.global)l?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},6279:(e,t,r)=>{"use strict";var o=r(6840);e.exports=function(e,t,r){for(var n in t)o(e,n,t[n],r);return e}},9433:(e,t,r)=>{"use strict";var o=r(4576),n=Object.defineProperty;e.exports=function(e,t){try{n(o,e,{value:t,configurable:!0,writable:!0})}catch(r){o[e]=t}return t}},3724:(e,t,r)=>{"use strict";var o=r(9039);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(e,t,r)=>{"use strict";var o=r(4576),n=r(34),i=o.document,s=n(i)&&n(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},8727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:(e,t,r)=>{"use strict";var o=r(4576).navigator,n=o&&o.userAgent;e.exports=n?String(n):""},9519:(e,t,r)=>{"use strict";var o,n,i=r(4576),s=r(2839),a=i.process,l=i.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(n=(o=u.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!n&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(n=+o[1]),e.exports=n},6518:(e,t,r)=>{"use strict";var o=r(4576),n=r(7347).f,i=r(6699),s=r(6840),a=r(9433),l=r(7740),c=r(2796);e.exports=function(e,t){var r,u,d,m,p,h=e.target,b=e.global,f=e.stat;if(r=b?o:f?o[h]||a(h,{}):o[h]&&o[h].prototype)for(u in t){if(m=t[u],d=e.dontCallGetSet?(p=n(r,u))&&p.value:r[u],!c(b?u:h+(f?".":"#")+u,e.forced)&&void 0!==d){if(typeof m==typeof d)continue;l(m,d)}(e.sham||d&&d.sham)&&i(m,"sham",!0),s(r,u,m,e)}}},9039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},6080:(e,t,r)=>{"use strict";var o=r(7476),n=r(9306),i=r(616),s=o(o.bind);e.exports=function(e,t){return n(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},616:(e,t,r)=>{"use strict";var o=r(9039);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:(e,t,r)=>{"use strict";var o=r(616),n=Function.prototype.call;e.exports=o?n.bind(n):function(){return n.apply(n,arguments)}},350:(e,t,r)=>{"use strict";var o=r(3724),n=r(9297),i=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=n(i,"name"),l=a&&"something"===function(){}.name,c=a&&(!o||o&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},6706:(e,t,r)=>{"use strict";var o=r(9504),n=r(9306);e.exports=function(e,t,r){try{return o(n(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},7476:(e,t,r)=>{"use strict";var o=r(2195),n=r(9504);e.exports=function(e){if("Function"===o(e))return n(e)}},9504:(e,t,r)=>{"use strict";var o=r(616),n=Function.prototype,i=n.call,s=o&&n.bind.bind(i,i);e.exports=o?s:function(e){return function(){return i.apply(e,arguments)}}},7751:(e,t,r)=>{"use strict";var o=r(4576),n=r(4901);e.exports=function(e,t){return arguments.length<2?(r=o[e],n(r)?r:void 0):o[e]&&o[e][t];var r}},1767:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},851:(e,t,r)=>{"use strict";var o=r(6955),n=r(5966),i=r(4117),s=r(6269),a=r(8227)("iterator");e.exports=function(e){if(!i(e))return n(e,a)||n(e,"@@iterator")||s[o(e)]}},81:(e,t,r)=>{"use strict";var o=r(9565),n=r(9306),i=r(8551),s=r(6823),a=r(851),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(n(r))return i(o(r,e));throw new l(s(e)+" is not iterable")}},5966:(e,t,r)=>{"use strict";var o=r(9306),n=r(4117);e.exports=function(e,t){var r=e[t];return n(r)?void 0:o(r)}},3789:(e,t,r)=>{"use strict";var o=r(9306),n=r(8551),i=r(9565),s=r(1291),a=r(1767),l="Invalid size",c=RangeError,u=TypeError,d=Math.max,SetRecord=function(e,t){this.set=e,this.size=d(t,0),this.has=o(e.has),this.keys=o(e.keys)};SetRecord.prototype={getIterator:function(){return a(n(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){n(e);var t=+e.size;if(t!=t)throw new u(l);var r=s(t);if(r<0)throw new c(l);return new SetRecord(e,r)}},4576:function(e,t,r){"use strict";var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r.g&&r.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(e,t,r)=>{"use strict";var o=r(9504),n=r(8981),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(n(e),t)}},421:e=>{"use strict";e.exports={}},397:(e,t,r)=>{"use strict";var o=r(7751);e.exports=o("document","documentElement")},5917:(e,t,r)=>{"use strict";var o=r(3724),n=r(9039),i=r(4055);e.exports=!o&&!n((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7055:(e,t,r)=>{"use strict";var o=r(9504),n=r(9039),i=r(2195),s=Object,a=o("".split);e.exports=n((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?a(e,""):s(e)}:s},3706:(e,t,r)=>{"use strict";var o=r(9504),n=r(4901),i=r(7629),s=o(Function.toString);n(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},1181:(e,t,r)=>{"use strict";var o,n,i,s=r(8622),a=r(4576),l=r(34),c=r(6699),u=r(9297),d=r(7629),m=r(6119),p=r(421),h="Object already initialized",b=a.TypeError,f=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new f);g.get=g.get,g.has=g.has,g.set=g.set,o=function(e,t){if(g.has(e))throw new b(h);return t.facade=e,g.set(e,t),t},n=function(e){return g.get(e)||{}},i=function(e){return g.has(e)}}else{var w=m("state");p[w]=!0,o=function(e,t){if(u(e,w))throw new b(h);return t.facade=e,c(e,w,t),t},n=function(e){return u(e,w)?e[w]:{}},i=function(e){return u(e,w)}}e.exports={set:o,get:n,has:i,enforce:function(e){return i(e)?n(e):o(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=n(t)).type!==e)throw new b("Incompatible receiver, "+e+" required");return r}}}},4209:(e,t,r)=>{"use strict";var o=r(8227),n=r(6269),i=o("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[i]===e)}},4901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:(e,t,r)=>{"use strict";var o=r(9039),n=r(4901),i=/#|\.prototype\./,s=function(e,t){var r=l[a(e)];return r===u||r!==c&&(n(t)?o(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},4117:e=>{"use strict";e.exports=function(e){return null==e}},34:(e,t,r)=>{"use strict";var o=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},6395:e=>{"use strict";e.exports=!1},757:(e,t,r)=>{"use strict";var o=r(7751),n=r(4901),i=r(1625),s=r(7040),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return n(t)&&i(t.prototype,a(e))}},507:(e,t,r)=>{"use strict";var o=r(9565);e.exports=function(e,t,r){for(var n,i,s=r?e:e.iterator,a=e.next;!(n=o(a,s)).done;)if(void 0!==(i=t(n.value)))return i}},2652:(e,t,r)=>{"use strict";var o=r(6080),n=r(9565),i=r(8551),s=r(6823),a=r(4209),l=r(6198),c=r(1625),u=r(81),d=r(851),m=r(9539),p=TypeError,Result=function(e,t){this.stopped=e,this.result=t},h=Result.prototype;e.exports=function(e,t,r){var b,f,g,w,v,_,y,E=r&&r.that,S=!(!r||!r.AS_ENTRIES),k=!(!r||!r.IS_RECORD),x=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),N=o(t,E),T=function(e){return b&&m(b,"normal",e),new Result(!0,e)},O=function(e){return S?(i(e),C?N(e[0],e[1],T):N(e[0],e[1])):C?N(e,T):N(e)};if(k)b=e.iterator;else if(x)b=e;else{if(!(f=d(e)))throw new p(s(e)+" is not iterable");if(a(f)){for(g=0,w=l(e);w>g;g++)if((v=O(e[g]))&&c(h,v))return v;return new Result(!1)}b=u(e,f)}for(_=k?e.next:b.next;!(y=n(_,b)).done;){try{v=O(y.value)}catch(e){m(b,"throw",e)}if("object"==typeof v&&v&&c(h,v))return v}return new Result(!1)}},9539:(e,t,r)=>{"use strict";var o=r(9565),n=r(8551),i=r(5966);e.exports=function(e,t,r){var s,a;n(e);try{if(!(s=i(e,"return"))){if("throw"===t)throw r;return r}s=o(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw r;if(a)throw s;return n(s),r}},9462:(e,t,r)=>{"use strict";var o=r(9565),n=r(2360),i=r(6699),s=r(6279),a=r(8227),l=r(1181),c=r(5966),u=r(7657).IteratorPrototype,d=r(2529),m=r(9539),p=a("toStringTag"),h="IteratorHelper",b="WrapForValidIterator",f=l.set,g=function(e){var t=l.getterFor(e?b:h);return s(n(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var o=r.done?void 0:r.nextHandler();return d(o,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=c(n,"return");return i?o(i,n):d(void 0,!0)}if(r.inner)try{m(r.inner.iterator,"normal")}catch(e){return m(n,"throw",e)}return n&&m(n,"normal"),d(void 0,!0)}})},w=g(!0),v=g(!1);i(v,p,"Iterator Helper"),e.exports=function(e,t){var r=function Iterator(r,o){o?(o.iterator=r.iterator,o.next=r.next):o=r,o.type=t?b:h,o.nextHandler=e,o.counter=0,o.done=!1,f(this,o)};return r.prototype=t?w:v,r}},713:(e,t,r)=>{"use strict";var o=r(9565),n=r(9306),i=r(8551),s=r(1767),a=r(9462),l=r(6319),c=a((function(){var e=this.iterator,t=i(o(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return i(this),n(e),new c(s(this),{mapper:e})}},7657:(e,t,r)=>{"use strict";var o,n,i,s=r(9039),a=r(4901),l=r(34),c=r(2360),u=r(2787),d=r(6840),m=r(8227),p=r(6395),h=m("iterator"),b=!1;[].keys&&("next"in(i=[].keys())?(n=u(u(i)))!==Object.prototype&&(o=n):b=!0),!l(o)||s((function(){var e={};return o[h].call(e)!==e}))?o={}:p&&(o=c(o)),a(o[h])||d(o,h,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:b}},6269:e=>{"use strict";e.exports={}},6198:(e,t,r)=>{"use strict";var o=r(8014);e.exports=function(e){return o(e.length)}},283:(e,t,r)=>{"use strict";var o=r(9504),n=r(9039),i=r(4901),s=r(9297),a=r(3724),l=r(350).CONFIGURABLE,c=r(3706),u=r(1181),d=u.enforce,m=u.get,p=String,h=Object.defineProperty,b=o("".slice),f=o("".replace),g=o([].join),w=a&&!n((function(){return 8!==h((function(){}),"length",{value:8}).length})),v=String(String).split("String"),_=e.exports=function(e,t,r){"Symbol("===b(p(t),0,7)&&(t="["+f(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),w&&r&&s(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=d(e);return s(o,"source")||(o.source=g(v,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return i(this)&&m(this).source||c(this)}),"toString")},741:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?r:t)(o)}},2360:(e,t,r)=>{"use strict";var o,n=r(8551),i=r(6801),s=r(8727),a=r(421),l=r(397),c=r(4055),u=r(6119),d="prototype",m="script",p=u("IE_PROTO"),EmptyConstructor=function(){},h=function(e){return"<"+m+">"+e+"</"+m+">"},NullProtoObjectViaActiveX=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObject=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;NullProtoObject="undefined"!=typeof document?document.domain&&o?NullProtoObjectViaActiveX(o):(t=c("iframe"),r="java"+m+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):NullProtoObjectViaActiveX(o);for(var n=s.length;n--;)delete NullProtoObject[d][s[n]];return NullProtoObject()};a[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(EmptyConstructor[d]=n(e),r=new EmptyConstructor,EmptyConstructor[d]=null,r[p]=e):r=NullProtoObject(),void 0===t?r:i.f(r,t)}},6801:(e,t,r)=>{"use strict";var o=r(3724),n=r(8686),i=r(4913),s=r(8551),a=r(5397),l=r(1072);t.f=o&&!n?Object.defineProperties:function(e,t){s(e);for(var r,o=a(t),n=l(t),c=n.length,u=0;c>u;)i.f(e,r=n[u++],o[r]);return e}},4913:(e,t,r)=>{"use strict";var o=r(3724),n=r(5917),i=r(8686),s=r(8551),a=r(6969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",m="configurable",p="writable";t.f=o?i?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var o=u(e,t);o&&o[p]&&(e[t]=r.value,r={configurable:m in r?r[m]:o[m],enumerable:d in r?r[d]:o[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=a(t),s(r),n)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:(e,t,r)=>{"use strict";var o=r(3724),n=r(9565),i=r(8773),s=r(6980),a=r(5397),l=r(6969),c=r(9297),u=r(5917),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return s(!n(i.f,e,t),e[t])}},8480:(e,t,r)=>{"use strict";var o=r(1828),n=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,n)}},3717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},2787:(e,t,r)=>{"use strict";var o=r(9297),n=r(4901),i=r(8981),s=r(6119),a=r(2211),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=i(e);if(o(t,l))return t[l];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},1625:(e,t,r)=>{"use strict";var o=r(9504);e.exports=o({}.isPrototypeOf)},1828:(e,t,r)=>{"use strict";var o=r(9504),n=r(9297),i=r(5397),s=r(9617).indexOf,a=r(421),l=o([].push);e.exports=function(e,t){var r,o=i(e),c=0,u=[];for(r in o)!n(a,r)&&n(o,r)&&l(u,r);for(;t.length>c;)n(o,r=t[c++])&&(~s(u,r)||l(u,r));return u}},1072:(e,t,r)=>{"use strict";var o=r(1828),n=r(8727);e.exports=Object.keys||function(e){return o(e,n)}},8773:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,n=o&&!r.call({1:2},1);t.f=n?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},4270:(e,t,r)=>{"use strict";var o=r(9565),n=r(4901),i=r(34),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&n(r=e.toString)&&!i(a=o(r,e)))return a;if(n(r=e.valueOf)&&!i(a=o(r,e)))return a;if("string"!==t&&n(r=e.toString)&&!i(a=o(r,e)))return a;throw new s("Can't convert object to primitive value")}},5031:(e,t,r)=>{"use strict";var o=r(7751),n=r(9504),i=r(8480),s=r(3717),a=r(8551),l=n([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?l(t,r(e)):t}},7750:(e,t,r)=>{"use strict";var o=r(4117),n=TypeError;e.exports=function(e){if(o(e))throw new n("Can't call method on "+e);return e}},9286:(e,t,r)=>{"use strict";var o=r(4402),n=r(8469),i=o.Set,s=o.add;e.exports=function(e){var t=new i;return n(e,(function(e){s(t,e)})),t}},3440:(e,t,r)=>{"use strict";var o=r(7080),n=r(4402),i=r(9286),s=r(5170),a=r(3789),l=r(8469),c=r(507),u=n.has,d=n.remove;e.exports=function(e){var t=o(this),r=a(e),n=i(t);return s(t)<=r.size?l(t,(function(e){r.includes(e)&&d(n,e)})):c(r.getIterator(),(function(e){u(t,e)&&d(n,e)})),n}},4402:(e,t,r)=>{"use strict";var o=r(9504),n=Set.prototype;e.exports={Set,add:o(n.add),has:o(n.has),remove:o(n.delete),proto:n}},8750:(e,t,r)=>{"use strict";var o=r(7080),n=r(4402),i=r(5170),s=r(3789),a=r(8469),l=r(507),c=n.Set,u=n.add,d=n.has;e.exports=function(e){var t=o(this),r=s(e),n=new c;return i(t)>r.size?l(r.getIterator(),(function(e){d(t,e)&&u(n,e)})):a(t,(function(e){r.includes(e)&&u(n,e)})),n}},4449:(e,t,r)=>{"use strict";var o=r(7080),n=r(4402).has,i=r(5170),s=r(3789),a=r(8469),l=r(507),c=r(9539);e.exports=function(e){var t=o(this),r=s(e);if(i(t)<=r.size)return!1!==a(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==l(u,(function(e){if(n(t,e))return c(u,"normal",!1)}))}},3838:(e,t,r)=>{"use strict";var o=r(7080),n=r(5170),i=r(8469),s=r(3789);e.exports=function(e){var t=o(this),r=s(e);return!(n(t)>r.size)&&!1!==i(t,(function(e){if(!r.includes(e))return!1}),!0)}},8527:(e,t,r)=>{"use strict";var o=r(7080),n=r(4402).has,i=r(5170),s=r(3789),a=r(507),l=r(9539);e.exports=function(e){var t=o(this),r=s(e);if(i(t)<r.size)return!1;var c=r.getIterator();return!1!==a(c,(function(e){if(!n(t,e))return l(c,"normal",!1)}))}},8469:(e,t,r)=>{"use strict";var o=r(9504),n=r(507),i=r(4402),s=i.Set,a=i.proto,l=o(a.forEach),c=o(a.keys),u=c(new s).next;e.exports=function(e,t,r){return r?n({iterator:c(e),next:u},t):l(e,t)}},4916:(e,t,r)=>{"use strict";var o=r(7751),n=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=o("Set");try{(new t)[e](n(0));try{return(new t)[e](n(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5170:(e,t,r)=>{"use strict";var o=r(6706),n=r(4402);e.exports=o(n.proto,"size","get")||function(e){return e.size}},3650:(e,t,r)=>{"use strict";var o=r(7080),n=r(4402),i=r(9286),s=r(3789),a=r(507),l=n.add,c=n.has,u=n.remove;e.exports=function(e){var t=o(this),r=s(e).getIterator(),n=i(t);return a(r,(function(e){c(t,e)?u(n,e):l(n,e)})),n}},4204:(e,t,r)=>{"use strict";var o=r(7080),n=r(4402).add,i=r(9286),s=r(3789),a=r(507);e.exports=function(e){var t=o(this),r=s(e).getIterator(),l=i(t);return a(r,(function(e){n(l,e)})),l}},6119:(e,t,r)=>{"use strict";var o=r(5745),n=r(3392),i=o("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},7629:(e,t,r)=>{"use strict";var o=r(6395),n=r(4576),i=r(9433),s="__core-js_shared__",a=e.exports=n[s]||i(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:o?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(e,t,r)=>{"use strict";var o=r(7629);e.exports=function(e,t){return o[e]||(o[e]=t||{})}},4495:(e,t,r)=>{"use strict";var o=r(9519),n=r(9039),i=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},5610:(e,t,r)=>{"use strict";var o=r(1291),n=Math.max,i=Math.min;e.exports=function(e,t){var r=o(e);return r<0?n(r+t,0):i(r,t)}},5397:(e,t,r)=>{"use strict";var o=r(7055),n=r(7750);e.exports=function(e){return o(n(e))}},1291:(e,t,r)=>{"use strict";var o=r(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},8014:(e,t,r)=>{"use strict";var o=r(1291),n=Math.min;e.exports=function(e){var t=o(e);return t>0?n(t,9007199254740991):0}},8981:(e,t,r)=>{"use strict";var o=r(7750),n=Object;e.exports=function(e){return n(o(e))}},2777:(e,t,r)=>{"use strict";var o=r(9565),n=r(34),i=r(757),s=r(5966),a=r(4270),l=r(8227),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!n(e)||i(e))return e;var r,l=s(e,u);if(l){if(void 0===t&&(t="default"),r=o(l,e,t),!n(r)||i(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},6969:(e,t,r)=>{"use strict";var o=r(2777),n=r(757);e.exports=function(e){var t=o(e,"string");return n(t)?t:t+""}},2140:(e,t,r)=>{"use strict";var o={};o[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(o)},6823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:(e,t,r)=>{"use strict";var o=r(9504),n=0,i=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++n+i,36)}},7040:(e,t,r)=>{"use strict";var o=r(4495);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(e,t,r)=>{"use strict";var o=r(3724),n=r(9039);e.exports=o&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:(e,t,r)=>{"use strict";var o=r(4576),n=r(4901),i=o.WeakMap;e.exports=n(i)&&/native code/.test(String(i))},8227:(e,t,r)=>{"use strict";var o=r(4576),n=r(5745),i=r(9297),s=r(3392),a=r(4495),l=r(7040),c=o.Symbol,u=n("wks"),d=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return i(u,e)||(u[e]=a&&i(c,e)?c[e]:d("Symbol."+e)),u[e]}},8111:(e,t,r)=>{"use strict";var o=r(6518),n=r(4576),i=r(679),s=r(8551),a=r(4901),l=r(2787),c=r(2106),u=r(4659),d=r(9039),m=r(9297),p=r(8227),h=r(7657).IteratorPrototype,b=r(3724),f=r(6395),g="constructor",w="Iterator",v=p("toStringTag"),_=TypeError,y=n[w],E=f||!a(y)||y.prototype!==h||!d((function(){y({})})),S=function Iterator(){if(i(this,h),l(this)===h)throw new _("Abstract class Iterator not directly constructable")},k=function(e,t){b?c(h,e,{configurable:!0,get:function(){return t},set:function(t){if(s(this),this===h)throw new _("You can't redefine this property");m(this,e)?this[e]=t:u(this,e,t)}}):h[e]=t};m(h,v)||k(v,w),!E&&m(h,g)&&h[g]!==Object||k(g,S),S.prototype=h,o({global:!0,constructor:!0,forced:E},{Iterator:S})},2489:(e,t,r)=>{"use strict";var o=r(6518),n=r(9565),i=r(9306),s=r(8551),a=r(1767),l=r(9462),c=r(6319),u=r(6395),d=l((function(){for(var e,t,r=this.iterator,o=this.predicate,i=this.next;;){if(e=s(n(i,r)),this.done=!!e.done)return;if(t=e.value,c(r,o,[t,this.counter++],!0))return t}}));o({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return s(this),i(e),new d(a(this),{predicate:e})}})},116:(e,t,r)=>{"use strict";var o=r(6518),n=r(2652),i=r(9306),s=r(8551),a=r(1767);o({target:"Iterator",proto:!0,real:!0},{find:function(e){s(this),i(e);var t=a(this),r=0;return n(t,(function(t,o){if(e(t,r++))return o(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7588:(e,t,r)=>{"use strict";var o=r(6518),n=r(2652),i=r(9306),s=r(8551),a=r(1767);o({target:"Iterator",proto:!0,real:!0},{forEach:function(e){s(this),i(e);var t=a(this),r=0;n(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},1701:(e,t,r)=>{"use strict";var o=r(6518),n=r(713);o({target:"Iterator",proto:!0,real:!0,forced:r(6395)},{map:n})},8237:(e,t,r)=>{"use strict";var o=r(6518),n=r(2652),i=r(9306),s=r(8551),a=r(1767),l=TypeError;o({target:"Iterator",proto:!0,real:!0},{reduce:function(e){s(this),i(e);var t=a(this),r=arguments.length<2,o=r?void 0:arguments[1],c=0;if(n(t,(function(t){r?(r=!1,o=t):o=e(o,t,c),c++}),{IS_RECORD:!0}),r)throw new l("Reduce of empty iterator with no initial value");return o}})},7642:(e,t,r)=>{"use strict";var o=r(6518),n=r(3440);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("difference")},{difference:n})},8004:(e,t,r)=>{"use strict";var o=r(6518),n=r(9039),i=r(8750);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("intersection")||n((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:i})},3853:(e,t,r)=>{"use strict";var o=r(6518),n=r(4449);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("isDisjointFrom")},{isDisjointFrom:n})},5876:(e,t,r)=>{"use strict";var o=r(6518),n=r(3838);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("isSubsetOf")},{isSubsetOf:n})},2475:(e,t,r)=>{"use strict";var o=r(6518),n=r(8527);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("isSupersetOf")},{isSupersetOf:n})},5024:(e,t,r)=>{"use strict";var o=r(6518),n=r(3650);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("symmetricDifference")},{symmetricDifference:n})},1698:(e,t,r)=>{"use strict";var o=r(6518),n=r(4204);o({target:"Set",proto:!0,real:!0,forced:!r(4916)("union")},{union:n})},8992:(e,t,r)=>{"use strict";r(8111)},4520:(e,t,r)=>{"use strict";r(2489)},2577:(e,t,r)=>{"use strict";r(116)},3949:(e,t,r)=>{"use strict";r(7588)},1454:(e,t,r)=>{"use strict";r(1701)},8872:(e,t,r)=>{"use strict";r(8237)},464:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)o.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},t={};function __webpack_require__(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e="webStoriesTrackingDataLayer",t=function(){window[e]=window[e]||[],window[e].push(arguments)},{trackingAllowed:r,trackingIdGA4:o,appVersion:n,userProperties:i}=window.webStoriesTrackingSettings||{},s={trackingAllowed:!1,trackingEnabled:!1,trackingIdGA4:"",userProperties:{},appName:"",trackingAllowed:r,trackingIdGA4:o,appVersion:n,userProperties:i},a="data-web-stories-tracking";async function l(r=!0){if(document.querySelector(`script[${a}]`))return;try{await(o=`https://www.googletagmanager.com/gtag/js?id=${s.trackingIdGA4}&l=${e}`,new Promise(((e,t)=>{const r=document.createElement("script");r.setAttribute(a,""),r.async=!0,r.src=o,r.addEventListener("load",e),r.addEventListener("error",t),document.head.appendChild(r)})))}catch{return}var o;const n=s.appName,i="/"+s.appName.replace(/ /g,"-").toLowerCase();t("js",new Date),t("set","user_properties",{...s.userProperties,app_version:s.appVersion,page_title:n,page_path:i}),t("config",s.trackingIdGA4,{app_name:s.appName,app_version:s.appVersion,send_page_view:r,transport_type:"beacon"})}const c=async function(e=!0){s.trackingAllowed&&!s.trackingEnabled&&(await l(e),s.trackingEnabled=!0)};const u=async function(){return await c(),Boolean(s.trackingEnabled)};const d=function(e,r={}){return new Promise((o=>{const n=setTimeout((()=>{window.console.warn(`[Web Stories] Tracking event "${e}" took too long to fire.`),o()}),1e3);t("event",e,{...r,event_callback:()=>{clearTimeout(n),o()}})}))};const m=async function(e,t,r=!1){return await u()?d("exception",{description:`${e}: ${t}`,fatal:r}):Promise.resolve()},p=["ResizeObserver loop limit exceeded"];function h(e){if(e.filename&&!e.filename.includes("web-stories"))return;if(p.includes(e.message))return;const t=`${e.message} (${e.lineno}:${e.colno})`;m("uncaught_error",t,!0)}function b(e){const t=e.reason||"Promise rejection";m("uncaught_promise",t)}const f=function(){window.addEventListener("error",h),window.addEventListener("unhandledrejection",b)};const g=async function(e,t=!0){s.appName=e,await c(t),f()};const w=async function(e,t={}){return await u()?d(e,t):Promise.resolve()};const v=window.wp.blocks,_=window.React,y=window.wp.i18n,E=window.wp.compose;var S,k,x;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},C.apply(null,arguments)}const SvgCirclesCarouselView=({title:e,titleId:t,...r})=>_.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 18","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,S||(S=_.createElement("circle",{r:3,transform:"matrix(1 0 0 -1 20 9)"})),k||(k=_.createElement("circle",{r:3,transform:"matrix(1 0 0 -1 3 9)"})),x||(x=_.createElement("circle",{r:7.1,stroke:"#fff",strokeWidth:2.2,transform:"matrix(1 0 0 -1 12 9)"}))),N=(0,_.memo)(SvgCirclesCarouselView);var T,O,M,L,I;function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},B.apply(null,arguments)}const SvgCirclesCarouselViewPanelIcon=({title:e,titleId:t,...r})=>_.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 42 24","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,T||(T=_.createElement("circle",{cx:21,cy:12,r:11,fill:"#fff",stroke:"#347BB5",strokeWidth:2})),O||(O=_.createElement("mask",{id:"a",fill:"#fff"},_.createElement("path",{fillRule:"evenodd",d:"M34.803 17.88A15 15 0 0 0 36 12c0-2.087-.426-4.075-1.197-5.88a6 6 0 1 1 0 11.761",clipRule:"evenodd"}))),M||(M=_.createElement("path",{fill:"#347BB5",d:"m34.803 17.88-1.84-.784-.962 2.258 2.406.487zm0-11.76-.396-1.96L32 4.645l.963 2.258zM34 12c0 1.813-.37 3.534-1.036 5.096l3.679 1.57A17 17 0 0 0 38 12zm-1.036-5.096A13 13 0 0 1 34 12h4c0-2.362-.483-4.616-1.357-6.665zM35.2 8.08Q35.586 8 36 8V4q-.817.001-1.593.16zM36 8a4 4 0 0 1 4 4h4a8 8 0 0 0-8-8zm4 4a4 4 0 0 1-4 4v4a8 8 0 0 0 8-8zm-4 4q-.414-.001-.8-.08l-.793 3.92c.516.105 1.05.16 1.593.16z",mask:"url(#a)"})),L||(L=_.createElement("mask",{id:"b",fill:"#fff"},_.createElement("path",{fillRule:"evenodd",d:"M7.197 6.12a6 6 0 1 0 0 11.761A15 15 0 0 1 6 12c0-2.087.426-4.075 1.197-5.88",clipRule:"evenodd"}))),I||(I=_.createElement("path",{fill:"#347BB5",d:"m7.197 6.12 1.84.784.962-2.258-2.406-.487zm0 11.76.396 1.96L10 19.355l-.963-2.258zM6 8q.414.001.8.08l.793-3.92A8 8 0 0 0 6 4zm-4 4a4 4 0 0 1 4-4V4a8 8 0 0 0-8 8zm4 4a4 4 0 0 1-4-4h-4a8 8 0 0 0 8 8zm.8-.08Q6.414 16 6 16v4q.818-.001 1.593-.16zm2.236 1.176A13 13 0 0 1 8 12H4c0 2.362.483 4.616 1.357 6.665zM8 12c0-1.813.37-3.534 1.036-5.096l-3.679-1.57A17 17 0 0 0 4 12z",mask:"url(#b)"}))),R=(0,_.memo)(SvgCirclesCarouselViewPanelIcon);var A,P;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},z.apply(null,arguments)}const SvgLatestStoriesBlock=({title:e,titleId:t,...r})=>_.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 31 42","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,A||(A=_.createElement("rect",{width:29,height:40,x:1,y:1,stroke:"currentColor",strokeWidth:2,rx:1})),P||(P=_.createElement("path",{fill:"currentColor",d:"M6 27h19v2H6zM6 31h4v2H6z"}))),j=(0,_.memo)(SvgLatestStoriesBlock);var W,H;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},F.apply(null,arguments)}const SvgSelectedStoriesBlock=({title:e,titleId:t,...r})=>_.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,W||(W=_.createElement("circle",{cx:16,cy:16,r:15,stroke:"currentColor",strokeWidth:2})),H||(H=_.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M16 9.263V16m0 6.737V16m0 0H9.263M16 16h6.737"}))),D=(0,_.memo)(SvgSelectedStoriesBlock);var $;function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},V.apply(null,arguments)}const SvgEmbedStoryBlock=({title:e,titleId:t,...r})=>_.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 16","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,$||($=_.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M14 1H8a7 7 0 1 0 0 14h6M18 1h6a7 7 0 1 1 0 14h-6M9 8h13.5"}))),q=(0,_.memo)(SvgEmbedStoryBlock);var U;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},G.apply(null,arguments)}const SvgGridView=({title:e,titleId:t,...r})=>_.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 14","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,U||(U=_.createElement("path",{d:"M0 0h5v6H0zM0 8h5v6H0zM7 0h5v6H7zM7 8h5v6H7z"}))),Q=(0,_.memo)(SvgGridView);var X;function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Y.apply(null,arguments)}const SvgListView=({title:e,titleId:t,...r})=>_.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 13","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,X||(X=_.createElement("path",{d:"M0 0h12v3H0zM0 5h12v3H0zM0 10h12v3H0z"}))),K=(0,_.memo)(SvgListView);var J;function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Z.apply(null,arguments)}const SvgBoxCarouselView=({title:e,titleId:t,...r})=>_.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 14","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,J||(J=_.createElement("path",{d:"M4 14h10V0H4zM16 12h2V2h-2zM0 12h2V2H0z"}))),ee=(0,_.memo)(SvgBoxCarouselView);var te;function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},re.apply(null,arguments)}const SvgGridViewPanelIcon=({title:e,titleId:t,...r})=>_.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 27","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,te||(te=_.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M1 1h6.462v9.538H1zM1 15.615h6.462v9.538H1zM12.539 1h6.462v9.538h-6.462zM12.539 15.615h6.462v9.538h-6.462z"}))),oe=(0,_.memo)(SvgGridViewPanelIcon);var ne;function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ie.apply(null,arguments)}const SvgListViewPanelIcon=({title:e,titleId:t,...r})=>_.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 26","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,ne||(ne=_.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M1 1h20v4H1zM1 11h20v4H1zM1 21h20v4H1z"}))),se=(0,_.memo)(SvgListViewPanelIcon);var ae,le;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ce.apply(null,arguments)}const SvgBoxCarouselViewPanelIcon=({title:e,titleId:t,...r})=>_.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 20","aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,ae||(ae=_.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M7 1h12v18H7z"})),le||(le=_.createElement("path",{fill:"currentColor",d:"M24 2h2v16h-2zM0 2h2v16H0z"}))),ue=(0,_.memo)(SvgBoxCarouselViewPanelIcon),de=_.createElement(j,{width:31,height:42}),me=_.createElement(D,{width:32,height:32}),pe=_.createElement(q,{width:32,height:16}),he=_.createElement(ee,{width:18,height:14}),be=_.createElement(N,{className:"web-stories-block__toolbar-icon icon__circles-carousel",width:23,height:18}),fe=_.createElement(Q,{width:12,height:14}),ge=_.createElement(K,{width:12,height:13}),we=_.createElement(ue,{width:26,height:20}),ve=_.createElement(se,{width:22,height:26}),_e=_.createElement(R,{width:42,height:24}),ye=_.createElement(oe,{width:20,height:27}),BlockIcon=()=>{const e=(0,E.useInstanceId)(BlockIcon);return _.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},_.createElement("circle",{cx:"32",cy:"32",r:"32",transform:"rotate(-180 32 32)",fill:`url(#gradient-${e})`}),_.createElement("g",{filter:`url(#filter-${e})`,fill:"#fff"},_.createElement("path",{d:"M41.6 19.2a3.2 3.2 0 013.2 3.2v19.2a3.2 3.2 0 01-3.2 3.2V19.2zm-24 0a3.2 3.2 0 013.2-3.2h14.4a3.2 3.2 0 013.2 3.2v25.6a3.2 3.2 0 01-3.2 3.2H20.8a3.2 3.2 0 01-3.2-3.2V19.2zM48 22.4a2.4 2.4 0 012.4 2.4v14.4a2.4 2.4 0 01-2.4 2.4V22.4z"})),_.createElement("defs",null,_.createElement("linearGradient",{id:`gradient-${e}`,x1:"13.255",y1:"6.599",x2:"35.289",y2:"62.791",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#79B3FF"}),_.createElement("stop",{offset:"1",stopColor:"#CBACFF"})),_.createElement("filter",{id:`filter-${e}`,x:"8.96",y:"10.24",width:"46.08",height:"46.08",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},_.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),_.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),_.createElement("feOffset",{dy:"1.28"}),_.createElement("feGaussianBlur",{stdDeviation:"1.92"}),_.createElement("feColorMatrix",{values:"0 0 0 0 0.423529 0 0 0 0 0.490196 0 0 0 0 0.733333 0 0 0 0.3 0"}),_.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),_.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},Ee={url:{type:"string"},title:{type:"string"},poster:{type:"string"},width:{type:"number",default:360},height:{type:"number",default:600},align:{type:"string",default:"none"}};const Se={attributes:Ee,save:function({attributes:e}){const{url:t,title:r,poster:o,width:n,height:i,align:s="none"}=e;return t&&r?_.createElement("div",{className:`wp-block-web-stories-embed align${s}`},_.createElement("amp-story-player",{style:{width:n?`${n}px`:void 0,height:i?`${i}px`:void 0},"data-testid":"amp-story-player"},_.createElement("a",{href:t,style:{"--story-player-poster":o?`url('${o}')`:void 0}},r))):null}},ke={attributes:Ee,migrate:e=>({...e,blockType:"url",stories:[],viewType:"",numOfStories:5,numOfColumns:2,circleSize:96,orderby:"",order:"",archiveLinkLabel:"",authors:[],fieldState:{}}),save:function({attributes:e}){const{url:t,title:r,poster:o,width:n,height:i,align:s="none"}=e;return t&&r?_.createElement("div",{className:`wp-block-web-stories-embed align${s}`},_.createElement("a",{href:t},o?_.createElement("img",{alt:r,src:o,width:n,height:i}):r)):null},isEligible:({url:e,blockType:t})=>Boolean(!t&&e&&e.trim().length)},xe=[ke,Se];const Ce=function({attributes:e}){const{url:t,title:r,poster:o,width:n,height:i,align:s="none"}=e;return t&&r?_.createElement("div",{className:`wp-block-web-stories-embed align${s}`},_.createElement("a",{href:t},o?_.createElement("img",{alt:r,src:o,width:n,height:i,loading:"lazy",decoding:"async"}):r)):null};__webpack_require__(1454);const Ne=window.wp.element,Te=window.wp.apiFetch,Oe=window.wp.components,Me=window.wp.viewport,Le=window.wp.data,Ie=window.wp.blockEditor,Be=window.wp.coreData;const Re=function LoaderContainer({children:e}){return _.createElement("div",{className:"web-stories-block__loader-container"},e,_.createElement(Oe.Spinner,null))};const Ae=function FetchSelectedStories({icon:e,label:t,selectedStoryIds:r=[],setSelectedStories:o,setIsFetching:n}){const i=(0,Le.useSelect)((e=>e(Be.store).getEntityRecords("postType","web-story",{_embed:"wp:featuredmedia,author",context:"view",include:r,orderby:r.length>0?"include":void 0})));return(0,Ne.useEffect)((()=>{null!=i&&(o(i),n(!1)),void 0===i&&(o([]),n(!1))}),[i,o,n]),_.createElement(Oe.Placeholder,{icon:_.createElement(Ie.BlockIcon,{icon:e,showColors:!0}),label:t,className:"wp-block-web-stories-embed",instructions:!1},_.createElement(Re,null,(0,y.__)("Loading Stories…","web-stories")))},Pe=["image"],EmbedControls=e=>{const{switchBackToURLInput:t,width:r,height:o,minWidth:n,maxWidth:i,minHeight:s,maxHeight:a,poster:l,title:c,previewOnly:u,setAttributes:d}=e,m=`web-stories-embed-block__poster-image-description-${(0,E.useInstanceId)(EmbedControls,"web-stories-embed")}`,p=(0,Ne.createRef)(),h=(0,Ne.useCallback)((e=>{d({poster:e.url})}),[d]),b=(0,Ne.useCallback)((()=>{d({poster:""}),p.current.focus()}),[d,p]),f=(0,Ne.useCallback)((()=>{d({previewOnly:!u})}),[d,u]),g=Boolean(l);return _.createElement(_.Fragment,null,_.createElement(Ie.BlockControls,null,_.createElement(Oe.ToolbarGroup,null,Oe.ToolbarButton?_.createElement(Oe.ToolbarButton,{onClick:t},(0,y.__)("Replace","web-stories")):_.createElement(Oe.Button,{className:"components-toolbar__control",title:(0,y.__)("Replace","web-stories"),onClick:t}))),_.createElement(Ie.InspectorControls,null,_.createElement(Oe.PanelBody,{title:(0,y.__)("Embed Settings","web-stories")},_.createElement(Oe.PanelRow,null,_.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},_.createElement(Oe.TextControl,{type:"text",className:"web-stories-embed-title-control",label:(0,y.__)("Title","web-stories"),value:c||"",onChange:e=>d({title:e}),__nextHasNoMarginBottom:!0}))),_.createElement(Ie.MediaUploadCheck,null,_.createElement(Oe.PanelRow,null,_.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},_.createElement(Oe.BaseControl.VisualLabel,{className:"web-stories-embed-poster-label"},(0,y.__)("Poster image","web-stories")),g&&_.createElement("img",{src:l,alt:""}),_.createElement(Ie.MediaUpload,{title:(0,y.__)("Select poster image","web-stories"),onSelect:h,allowedTypes:Pe,render:({open:e})=>_.createElement(Oe.Button,{isPrimary:!0,onClick:e,ref:p,"aria-describedby":m},g?(0,y.__)("Replace","web-stories"):(0,y.__)("Select","web-stories"))}),_.createElement("p",{id:m,hidden:!0},g?(0,y.sprintf)(/* translators: %s: poster image URL. */ /* translators: %s: poster image URL. */
(0,y.__)("The current poster image url is %s","web-stories"),l):(0,y.__)("There is no poster image currently selected","web-stories")),g&&_.createElement(Oe.Button,{className:"web-stories-embed-poster-remove",onClick:b},(0,y.__)("Remove","web-stories"))))),_.createElement(Oe.PanelRow,null,_.createElement(Oe.BaseControl,{className:"web-stories-embed-size-control",__nextHasNoMarginBottom:!0},_.createElement(Oe.BaseControl.VisualLabel,null,(0,y.__)("Story dimensions","web-stories")),_.createElement("div",{className:"web-stories-embed-size-control__row"},_.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__width",label:(0,y.__)("Width","web-stories"),value:r||"",min:n,max:i,onChange:e=>d({width:Number.parseInt(e)}),__nextHasNoMarginBottom:!0}),_.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__height",label:(0,y.__)("Height","web-stories"),value:o||"",min:s,max:a,onChange:e=>d({height:Number.parseInt(e)}),__nextHasNoMarginBottom:!0})))),_.createElement(Oe.PanelRow,null,_.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},_.createElement(Oe.ToggleControl,{label:(0,y.__)("Display as preview","web-stories"),checked:u,onChange:f,help:(0,y.__)("Displays the story poster that opens the story in a lightbox on click","web-stories"),__nextHasNoMarginBottom:!0}))))))},ze=EmbedControls,je=()=>_.createElement("div",{className:"wp-block-web-stories-embed is-loading"},_.createElement(Oe.Spinner,null),_.createElement("p",null,(0,y.__)("Embedding…","web-stories"))),We=window.wp.url,He=window.wp.notices;__webpack_require__(8992),__webpack_require__(4520),__webpack_require__(2577);const Fe=window.wp.date;const De=function ItemOverlay({isSelected:e,story:t,addSelectedStory:r,removeSelectedStory:o,isSelectable:n}){const i=(0,Ne.useCallback)((o=>{o.preventDefault(),e||r(t)}),[r,t,e]),s=(0,Ne.useCallback)((n=>{n.preventDefault(),e?o(t):r(t)}),[o,r,t,e]);return n?_.createElement("button",{type:"button",className:e?"web-stories-story-preview-card__overlay item-selected":"web-stories-story-preview-card__overlay",onClick:i},e&&_.createElement("div",{className:"item-selected-icon"},_.createElement(Oe.Icon,{className:"item-selected-icon-check",icon:"saved"}),_.createElement(Oe.Icon,{className:"item-selected-icon-minus",icon:"minus",onClick:s}),_.createElement(Oe.VisuallyHidden,null,(0,y.__)("Deselect","web-stories")))):_.createElement("div",{className:"web-stories-story-preview-card__overlay"})},$e=()=>{};const Ve=function StoryPreview({story:e,isSelected:t,addSelectedStory:r=$e,removeSelectedStory:o=$e,isSelectable:n=!0}){const i=(0,Fe.getSettings)().formats.date,s=(0,Fe.dateI18n)(i,e.created),a=(0,Ne.useMemo)((()=>{if(!s)return null;switch(e.status){case"publish":return(0,y.sprintf)(/* translators: %s: published date */ /* translators: %s: published date */
(0,y.__)("Published %s","web-stories"),s);case"future":return(0,y.sprintf)(/* translators: %s: future publish date */ /* translators: %s: future publish date */
(0,y.__)("Scheduled %s","web-stories"),s);default:return(0,y.sprintf)(/* translators: %s: last modified date */ /* translators: %s: last modified date */
(0,y.__)("Modified %s","web-stories"),s)}}),[e.status,s]),l=e.meta.web_stories_poster?.url,c=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url,u=l||c,d=e.title.raw||e.title.rendered;return _.createElement("div",{className:"web-stories-story-preview-card"},_.createElement("div",{className:"web-stories-story-preview-card__poster"},_.createElement(De,{isSelected:t,story:e,addSelectedStory:r,removeSelectedStory:o,isSelectable:n}),u&&_.createElement("img",{src:u,alt:"",width:640,height:853})),_.createElement("div",{className:"web-stories-story-preview-card__label"},_.createElement("div",{className:"web-stories-story-preview-card__title"},_.createElement(Ne.RawHTML,null,""===d?(0,y.__)("Untitled","web-stories"):d)),e._embedded?.author?.[0]?.name&&_.createElement("div",null,e._embedded?.author?.[0]?.name),_.createElement("div",null,a)))},qe=[{label:(0,y.__)("Name","web-stories"),value:"name"},{label:(0,y.__)("Date Created","web-stories"),value:"date"},{label:(0,y.__)("Last Modified","web-stories"),value:"modified"},{label:(0,y.__)("Created By","web-stories"),value:"author"}];function AuthorSearch({label:e,options:t,onFilterValueChange:r,onChange:o,value:n}){return _.createElement(Oe.ComboboxControl,{label:e,options:t,onFilterValueChange:r,onChange:o,value:n,className:"web-stories-story-picker-filter__combobox",__nextHasNoMarginBottom:!0})}function KeywordSearch({label:e,options:t,onFilterValueChange:r,onChange:o,value:n}){return _.createElement(Oe.ComboboxControl,{label:e,options:t,onFilterValueChange:r,onChange:o,value:n,className:"web-stories-story-picker-filter__combobox",__nextHasNoMarginBottom:!0})}const Ue=function SelectStories({stories:e=[],selectedStories:t=[],setSelectedStories:r,hasAllStories:o,isLoading:n,fetchStories:i,maxNumOfStories:s}){const[a,l]=(0,Ne.useState)([]),[c,u]=(0,Ne.useState)(""),[d,m]=(0,Ne.useState)(""),[p,h]=(0,Ne.useState)("desc"),[b,f]=(0,Ne.useState)("modified"),g=(0,Ne.useRef)(1),{authors:w}=(0,Le.useSelect)((e=>{const{getUsers:t,getPostType:r}=e(Be.store),o=r("web-story")?.capabilities.edit_posts;return{authors:o?t({search:d,capabilities:o}):[]}}),[d]),v=(0,Ne.useCallback)((()=>{i({author:a?.id||void 0,search:c||void 0,order:p,orderby:b,page:g.current})}),[c,a,i,p,b]);(0,Ne.useEffect)((()=>{g.current=1,v()}),[c,a,p,b,v]);const S=(0,Ne.useCallback)((()=>{g.current++,v()}),[v]),k=(0,E.useDebounce)((e=>{u(e)}),300),x=(0,E.useDebounce)((e=>{m(e),l(""===e?null:w.find((t=>t.id===Number(e))))}),300),C=(0,Ne.useCallback)((e=>{l(""===e?null:w.find((t=>t.id===Number(e))))}),[w,l]),N=(0,Ne.useCallback)((e=>{f(e),h(["title","author"].includes(e)?"asc":"desc")}),[h,f]),T=(0,Ne.useMemo)((()=>(w??[]).filter((({name:e})=>Boolean(e?.trim().length))).map((({id:e,name:t})=>({label:t,value:e})))),[w]),O=(0,Ne.useMemo)((()=>e.filter((({title:e})=>Boolean(e?.rendered?.trim()?.length))).map((({id:e,title:t})=>({label:t.rendered,value:e})))),[e]),M=(0,Ne.useMemo)((()=>t.map((e=>e.id))),[t]),L=(0,Ne.useCallback)((e=>{M.includes(e.id)||(1!==s?t.length>=s||r([...t,e]):r([e]))}),[r,t,M,s]),I=(0,Ne.useCallback)((e=>{r(t.filter((t=>t.id!==e.id)))}),[t,r]);return _.createElement(_.Fragment,null,_.createElement("div",{className:"web-stories-story-picker-filter"},_.createElement("div",{className:"web-stories-story-picker-filter__search-container"},_.createElement("div",{className:"web-stories-story-picker-filter__search-inner"},_.createElement(KeywordSearch,{label:(0,y.__)("Search Stories","web-stories"),options:O,onFilterValueChange:k,onChange:k,value:c})),_.createElement(AuthorSearch,{label:(0,y.__)("Search by Author","web-stories"),options:T,onFilterValueChange:x,onChange:C,value:a?.id}),_.createElement("div",null,_.createElement(Oe.SelectControl,{label:(0,y.__)("Sort","web-stories"),options:qe,value:b,onChange:N,__nextHasNoMarginBottom:!0})))),!e.length&&c&&_.createElement("p",null,(0,y.sprintf)(/* translators: %s: search term. */ /* translators: %s: search term. */
(0,y.__)('Sorry, we couldn\'t find any results matching "%s"',"web-stories"),c)),!e.length&&!c&&_.createElement("p",null,(0,y.__)("Sorry, we couldn't find any results","web-stories")),e.length>=1&&_.createElement("div",{role:"list","aria-label":(0,y.__)("Viewing Stories","web-stories"),className:"web-stories-story-picker-filter__grid"},e.map((e=>{const t=M.includes(e.id);return _.createElement("div",{key:e.id,role:"listitem",className:"web-stories-story-picker-filter__grid_item"},_.createElement(Ve,{story:e,isSelected:t,addSelectedStory:L,removeSelectedStory:I}))}))),_.createElement("div",{className:"web-stories-story-picker-filter__load_more"},n&&_.createElement(Oe.Spinner,null),!o&&e.length>0&&!n&&_.createElement(Oe.Button,{variant:"primary",className:"is-primary",onClick:S},(0,y.__)("Load More","web-stories"))))};const Ge=function SortStories({selectedStories:e,setSelectedStories:t}){const[r,o]=(0,Ne.useState)(),[n,i]=(0,Ne.useState)(),s=(0,Ne.useCallback)(((r,o)=>{const n=e.map((e=>e.id));n.splice(o,0,n.splice(r,1).pop()),t(n.map((t=>e.find((e=>e.id===t)))))}),[e,t]),a=(0,E.useThrottle)(((e,t)=>{e.preventDefault(),t.classList.add("web-stories-story-picker-show-drag-inserter");const r=t.getBoundingClientRect();Math.abs(e.clientX-r.x)>Math.abs(e.clientX-(r.x+r.width))?t.classList.add("web-stories-story-picker-show-drag-inserter-right"):t.classList.remove("web-stories-story-picker-show-drag-inserter-right");const n=Number(t.children[0].dataset.order);o(n)}));return _.createElement("div",{role:"list","aria-label":(0,y.__)("Sorting Stories","web-stories"),className:"web-stories-story-picker-filter__grid"},e.map(((t,o)=>_.createElement("div",{key:t.id,onDragOver:e=>{a(e,e.currentTarget)},onDragLeave:e=>{e.preventDefault(),a.cancel();e.target.closest(".droppable").classList.remove("web-stories-story-picker-show-drag-inserter","web-stories-story-picker-show-drag-inserter-right")},onDrop:t=>{if(t.preventDefault(),t.stopPropagation(),a.cancel(),n){const t=e.findIndex((e=>e.id===n));s(t,r)}t.target.closest(".droppable").classList.remove("web-stories-story-picker-show-drag-inserter","web-stories-story-picker-show-drag-inserter-right")},className:"droppable"},_.createElement("div",{"data-order":o,id:`draggable-story-${t.id}`},_.createElement(Oe.Draggable,{elementId:`draggable-story-${t.id}`},(({onDraggableStart:e,onDraggableEnd:r})=>_.createElement("div",{key:t.id,role:"listitem",className:"web-stories-story-picker-filter__grid_item",onDragStart:r=>{i(t.id),e(r)},onDragEnd:e=>{r(e)},"data-order":o,draggable:!0},_.createElement(Ve,{story:t,isSelectable:!1})))))))))},{config:{api:{stories:Qe}}}=window.webStoriesBlockSettings;const Xe=function StoryPicker({selectedStories:e,setSelectedStories:t,closeStoryPicker:r,isSortingStories:o=!1,setIsSortingStories:n=(()=>{}),maxNumOfStories:i}){const{createErrorNotice:s}=(0,Le.useDispatch)(He.store),[a,l]=(0,Ne.useState)(e),[c,u]=(0,Ne.useState)(!0),[d,m]=(0,Ne.useState)("idle"),[p,h]=(0,Ne.useState)([]),[b,f]=(0,Ne.useState)([]),g=(0,Ne.useCallback)((()=>{r(),t(a)}),[r,t,a]),w=(0,Ne.useCallback)((async({orderby:e="modified",order:t="desc",search:r,author:o,page:n=1}={})=>{const i={_embed:"author,wp:featuredmedia",context:"edit",_web_stories_envelope:!0,search:r,author:o,page:n,per_page:10,orderby:e,order:t,status:"publish"};try{m("loading");const e=await Te({path:(0,We.addQueryArgs)(Qe,i)}),t=Number(e?.headers?.["X-WP-TotalPages"]);f(n===t),h((t=>1===n?e.body:[...t,...e.body]))}catch(e){m("error"),s((0,y.__)("Unable to load stories","web-stories"),{type:"snackbar"})}finally{m("idle"),u(!1)}}),[s]);(0,Ne.useEffect)((()=>{c&&w()}),[c,w]);const v=1===i?(0,y.__)("Selected Story","web-stories"):(0,y.__)("Selected Stories","web-stories");return _.createElement(Oe.Modal,{title:v,onRequestClose:r,shouldCloseOnClickOutside:!1,className:"web-stories-story-picker-modal"},_.createElement("div",{className:"web-stories-story-picker-modal__content"},c?_.createElement(Re,null,(0,y.__)("Loading Stories…","web-stories")):o?_.createElement(Ge,{selectedStories:a,setSelectedStories:l}):_.createElement(Ue,{stories:p,selectedStories:a,setSelectedStories:l,hasAllStories:b,fetchStories:w,maxNumOfStories:i,isLoading:"loading"===d})),_.createElement("div",{className:"web-stories-story-picker-modal__footer"},_.createElement("div",{className:"web-stories-story-picker-modal__footer--left"},!o&&!c&&i>1&&_.createElement("p",null,(0,y.sprintf)(/* translators: %1$d: Number of selected stories, %2$d: Maximum allowed stories */ /* translators: %1$d: Number of selected stories, %2$d: Maximum allowed stories */
(0,y._n)("%1$d of %2$d story selected","%1$d of %2$d stories selected",i,"web-stories"),a.length,i))),_.createElement("div",{className:"web-stories-story-picker-modal__footer--right"},i>1&&(o?_.createElement(Oe.Button,{onClick:()=>n(!1)},(0,y.__)("Select Stories","web-stories")):_.createElement(Oe.Button,{onClick:()=>n(!0),disabled:a.length<2},(0,y.__)("Rearrange Stories","web-stories"))),_.createElement(Oe.Button,{isPrimary:!0,disabled:!a.length,onClick:g},(0,y.__)("Update","web-stories")))))},Ye=window.wp.primitives,Ke=(0,_.createElement)(Ye.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,_.createElement)(Ye.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"})),Je=({url:e,onChange:t,onSubmit:r,onClose:o})=>_.createElement(Ie.URLPopover,{onClose:o},_.createElement("form",{className:"block-editor-media-placeholder__url-input-form","data-testid":"embed-placeholder-form",onSubmit:r},_.createElement("input",{className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":(0,y.__)("Story URL","web-stories"),placeholder:(0,y.__)("Paste or type URL","web-stories"),onChange:t,value:e}),_.createElement(Oe.Button,{className:"block-editor-media-placeholder__url-input-submit-button",icon:Ke,label:(0,y.__)("Embed","web-stories"),type:"submit"}))),Ze=({icon:e,label:t,value:r,onSubmit:o,cannotEmbed:n=!1,errorMessage:i,selectedStories:s=[],setSelectedStories:a})=>{const[l,c]=(0,Ne.useState)(r),[u,d]=(0,Ne.useState)(!1),[m,p]=(0,Ne.useState)(!1),h=(0,Ne.useCallback)((()=>{p(!1)}),[]),b=()=>d(!1),f=s.length>0;return _.createElement(_.Fragment,null,_.createElement(Oe.Placeholder,{icon:_.createElement(Ie.BlockIcon,{icon:e,showColors:!0}),label:t,className:"wp-block-web-stories-embed",instructions:(0,y.__)("Select an existing story from your site, or add one with a URL.","web-stories")},_.createElement(_.Fragment,null,_.createElement(Oe.Button,{isPrimary:!0,onClick:()=>p(!0)},f?(0,y.__)("Replace Story","web-stories"):(0,y.__)("Select Story","web-stories")),_.createElement("div",{className:"block-editor-media-placeholder__url-input-container"},_.createElement(Oe.Button,{className:"block-editor-media-placeholder__button",onClick:()=>d(!0),isPressed:u,variant:"tertiary"},!f&&r?(0,y.__)("Replace URL","web-stories"):(0,y.__)("Insert from URL","web-stories")),u&&_.createElement(Je,{url:l,onChange:e=>{c(e.target.value)},onSubmit:e=>{e.preventDefault(),b(),o(l)},onClose:b}))),n&&_.createElement("div",{className:"components-placeholder__error"},_.createElement("div",{className:"components-placeholder__instructions"},(0,y.__)("Sorry, this content could not be embedded.","web-stories"),i&&_.createElement(_.Fragment,null," ",(0,y.sprintf)(/* translators: %s: error message. */ /* translators: %s: error message. */
(0,y.__)("Reason: %s.","web-stories"),i))))),m&&_.createElement(Xe,{closeStoryPicker:h,maxNumOfStories:1,selectedStories:s,setSelectedStories:a}))};const et=(0,Ne.forwardRef)((function StoryPlayer({url:e,title:t,poster:r,width:o,height:n},i){return _.createElement("amp-story-player",{ref:i,style:{width:o?`${o}px`:void 0,height:n?`${n}px`:void 0},"data-testid":"amp-story-player"},_.createElement("a",{href:e},r?_.createElement("img",{alt:t,src:r,width:o,height:n,"data-amp-story-player-poster-img":!0}):t))}));const tt=(0,Ne.forwardRef)((function EmbedPreview({url:e,title:t,poster:r,isSelected:o,width:n,height:i},s){const[a,l]=(0,Ne.useState)(!1);(0,Ne.useEffect)((()=>{!o&&a&&l(!1)}),[o,a,l]);const c=(0,Ne.useCallback)((()=>l(!0)),[l]);return _.createElement("div",{className:"web-stories-embed-preview wp-block-embed__wrapper",style:{"--aspect-ratio":0!==n?i/n:1,"--width":`${n}px`,"--height":`${i}px`}},_.createElement(et,{url:e,title:t,poster:r,ref:s,onFocus:c}),!a&&_.createElement("div",{className:"web-stories-embed-preview-overlay","data-testid":"embed-preview-overlay",onMouseUp:c}))}));const rt=function Singleton({title:e,poster:t,width:r,height:o}){return _.createElement("div",{className:"web-stories-singleton"},_.createElement("div",{className:"wp-block-embed__wrapper",style:{"--aspect-ratio":0!==o?r/o:1,"--width":`${r}px`,"--height":`${o}px`}},_.createElement("div",{className:"web-stories-singleton-poster"},t?_.createElement("img",{src:t,alt:e}):_.createElement("div",{className:"web-stories-singleton-poster-placeholder"},_.createElement("span",null,e))),_.createElement("div",{className:"web-stories-singleton-overlay"},e&&_.createElement(Ne.RawHTML,{className:"story-content-overlay__title"},e))))};const ot=(0,Me.withViewportMatch)({_isResizable:"medium"})((function StoryEmbedEdit({attributes:e,setAttributes:t,className:r,isSelected:o,_isResizable:n,context:i={}}){const{url:s="",width:a=360,height:l=600,align:c="none",poster:u,title:d,stories:m=[],previewOnly:p=!1}=e,{postId:h,queryId:b}=i,f=Number.isFinite(b),[g,v]=(0,Ne.useState)(!1),[S,k]=(0,Ne.useState)(f?void 0:s),[x,C]=(0,Ne.useState)(!1),[N,T]=(0,Ne.useState)(!1),[O,M]=(0,Ne.useState)({}),[L,I]=(0,Ne.useState)(!1),[B,R]=(0,Ne.useState)(f?[h]:m),[A,P]=(0,Ne.useState)([]),z=x,j=!S||!s||g||L,W=E.useViewportMatch?E.useViewportMatch("medium"):n,H=(0,Ne.useRef)();(0,Ne.useEffect)((()=>{e.stories.toString()!==B.toString()&&t({stories:B})}),[e.stories,t,B]),(0,Ne.useEffect)((()=>{B.length&&!A.length&&T(!0)}),[B,A,T]),(0,Ne.useEffect)((()=>{k(s),w("story_embedded")}),[s]),(0,Ne.useEffect)((()=>{w("story_poster_changed")}),[u]),(0,Ne.useEffect)((()=>{if(H.current&&window.AmpStoryPlayer){const e=new window.AmpStoryPlayer(window,H.current);try{e.load()}catch{}}}),[z,j,W,p]);const F=(0,Ne.useCallback)((async e=>{if(e)try{C(!0);const r=encodeURIComponent(new URL(e).toString()),o=await Te({path:`web-stories/v1/embed?url=${r}`});I(!("string"==typeof o?.title)),M(o),t({url:e})}catch(e){e instanceof TypeError||M(e),I(!0)}finally{C(!1)}}),[t]);(0,Ne.useEffect)((()=>{(O?.title||O?.poster)&&t({title:O?.title,poster:O?.poster})}),[s,t,O?.title,O?.poster]);const D=(0,Ne.useCallback)((e=>{P(e),R(e.map((e=>e.id)));const r=e?.[0],o=r?.link;M({title:r?.title?.rendered,poster:r?._embedded?.["wp:featuredmedia"]?.[0]?.source_url}),k(o),v(!1),I(!1),t({url:o})}),[P,t]),$=(0,Ne.useCallback)((e=>{P([]),R([]),v(!1),I(!1),k(e),e!==s&&F(e)}),[s,F]),V=(0,Ne.useCallback)((()=>{v(!0)}),[]),{isRTL:q,maxWidth:U}=(0,Le.useSelect)((e=>{const{getSettings:t}=e(Ie.store),r=t();return{isRTL:r.isRTL,maxWidth:r.maxWidth}}),[]),{toggleSelection:G}=(0,Le.useDispatch)(Ie.store);if(z)return _.createElement(je,null);const Q=(0,y.__)("Single Story","web-stories");if(j)return N?_.createElement(Ae,{icon:_.createElement(BlockIcon,null),label:Q,selectedStoryIds:B,setSelectedStories:D,setIsFetching:T}):_.createElement(Ze,{icon:_.createElement(BlockIcon,null),label:Q,value:S,onSubmit:$,cannotEmbed:L,errorMessage:O?.message,selectedStories:A,setSelectedStories:D});const X=a/l,Y=a<l?20:20*X,K=l<a?20:20/X;if(!W)return _.createElement(_.Fragment,null,_.createElement(ze,{switchBackToURLInput:V,poster:u,title:d,setAttributes:t,width:a,height:l,minWidth:Math.ceil(Y),maxWidth:Math.floor(U),minHeight:Math.floor(K),maxHeight:Math.ceil(U/X),previewOnly:p}),_.createElement("div",{className:`${r} web-stories-embed align${c}`},p?_.createElement(rt,{title:d,poster:u,width:a,height:l}):_.createElement(tt,{url:s,title:d,poster:u,ref:H,isSelected:o,width:a,height:l})));const J="center"===c||"none"===c||"right"===c&&q||"left"===c&&!q,Z="center"===c||"left"===c&&q||"right"===c&&!q;return _.createElement(_.Fragment,null,_.createElement(ze,{switchBackToURLInput:V,poster:u,title:d,setAttributes:t,width:a,height:l,minWidth:Math.ceil(Y),maxWidth:Math.floor(U),minHeight:Math.floor(K),maxHeight:Math.ceil(U/X),previewOnly:p}),_.createElement("div",{className:`${r} web-stories-embed align${c}`},_.createElement(Oe.ResizableBox,{className:o?"show-resize-handle":"hide-resize-handle",size:{width:a,height:l},minWidth:Y,maxWidth:U,minHeight:K,maxHeight:U/X,lockAspectRatio:!0,enable:{top:!1,right:J,bottom:!0,left:Z},onResizeStart:()=>G(!1),onResizeStop:(e,r,o,n)=>{G(!0),t({width:Number.parseInt(a+n.width),height:Number.parseInt(l+n.height)})}},p?_.createElement(rt,{title:d,poster:u,width:a,height:l}):_.createElement(tt,{url:s,title:d,poster:u,ref:H,isSelected:o,width:a,height:l}))))}));var nt=__webpack_require__(464);const it=e=>{const{width:t,height:r,minWidth:o,maxWidth:n,minHeight:i,maxHeight:s,previewOnly:a,setAttributes:l}=e,c=(0,Ne.useCallback)((()=>{l({previewOnly:!a})}),[l,a]);return _.createElement(Ie.InspectorControls,null,_.createElement(Oe.PanelBody,{title:(0,y.__)("Embed Settings","web-stories")},_.createElement(Oe.PanelRow,null,_.createElement(Oe.BaseControl,{className:"web-stories-embed-size-control",__nextHasNoMarginBottom:!0},_.createElement(Oe.BaseControl.VisualLabel,null,(0,y.__)("Story dimensions","web-stories")),_.createElement("div",{className:"web-stories-embed-size-control__row"},_.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__width",label:(0,y.__)("Width","web-stories"),value:t||"",min:o,max:n,onChange:e=>l({width:Number.parseInt(e)}),__nextHasNoMarginBottom:!0}),_.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__height",label:(0,y.__)("Height","web-stories"),value:r||"",min:i,max:s,onChange:e=>l({height:Number.parseInt(e)}),__nextHasNoMarginBottom:!0})))),_.createElement(Oe.PanelRow,null,_.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},_.createElement(Oe.ToggleControl,{label:(0,y.__)("Display as preview","web-stories"),checked:a,onChange:c,help:(0,y.__)("Displays the story poster that opens the story in a lightbox on click","web-stories"),__nextHasNoMarginBottom:!0})))))};const st=(0,Me.withViewportMatch)({_isResizable:"medium"})((function StoryEmbedEditInLoop({attributes:e,setAttributes:t,className:r,isSelected:o,_isResizable:n,context:i={}}){const{width:s=360,height:a=600,align:l="none",previewOnly:c=!1}=e,{postId:u}=i,{story:d,isFetching:m}=(0,Le.useSelect)((e=>{const{getEntityRecord:t,isResolving:r}=e(Be.store);let o=null;const n=t("postType","web-story",u);return n&&(o={url:n.link,title:n.title?.rendered,poster:n._embedded?.["wp:featuredmedia"]?.[0]?.source_url}),{story:o,isFetching:r("postType","web-story",u)||!1}}),[u]),{isRTL:p,maxWidth:h}=(0,Le.useSelect)((e=>{const{getSettings:t}=e(Ie.store),r=t();return{isRTL:r.isRTL,maxWidth:r.maxWidth}}),[]),b=E.useViewportMatch?E.useViewportMatch("medium"):n,f=(0,Ne.useRef)();(0,Ne.useEffect)((()=>{if(f.current&&window.AmpStoryPlayer&&!c){const e=new window.AmpStoryPlayer(window,f.current);try{e.load()}catch{}}}),[d,b,c]);const{toggleSelection:g}=(0,Le.useDispatch)(Ie.store);if(m)return _.createElement(je,null);const w=(0,y.__)("Single Story","web-stories");if(m)return _.createElement(Oe.Placeholder,{icon:_.createElement(Ie.BlockIcon,{icon:_.createElement(BlockIcon,null),showColors:!0}),label:w,className:"wp-block-web-stories-embed",instructions:!1},_.createElement(Re,null,(0,y.__)("Loading Story…","web-stories")));const v=s/a,S=s<a?20:20*v,k=a<s?20:20/v,x=nt(r,{"web-stories-embed":!c},{"web-stories-singleton":c},`align${l||"none"}`);if(!b)return _.createElement(_.Fragment,null,_.createElement(it,{setAttributes:t,width:s,height:a,minWidth:Math.ceil(S),maxWidth:Math.floor(h),minHeight:Math.floor(k),maxHeight:Math.ceil(h/v)}),_.createElement("div",{className:x},c?_.createElement(rt,{title:d.title,poster:d.poster,width:s,height:a}):_.createElement(tt,{url:d.url,title:d.title,poster:d.poster,ref:f,isSelected:o,width:s,height:a})));const C="center"===l||"none"===l||"right"===l&&p||"left"===l&&!p,N="center"===l||"left"===l&&p||"right"===l&&!p;return _.createElement(_.Fragment,null,_.createElement(it,{setAttributes:t,width:s,height:a,minWidth:Math.ceil(S),maxWidth:Math.floor(h),minHeight:Math.floor(k),maxHeight:Math.ceil(h/v),previewOnly:c}),_.createElement("div",{className:x},_.createElement(Oe.ResizableBox,{className:o?"show-resize-handle":"hide-resize-handle",size:{width:s,height:a},minWidth:S,maxWidth:h,minHeight:k,maxHeight:h/v,lockAspectRatio:!0,enable:{top:!1,right:C,bottom:!0,left:N},onResizeStart:()=>g(!1),onResizeStop:(e,r,o,n)=>{g(!0),t({width:Number.parseInt(s+n.width),height:Number.parseInt(a+n.height)})}},c?_.createElement(rt,{title:d.title,poster:d.poster,width:s,height:a}):_.createElement(tt,{url:d.url,title:d.title,poster:d.poster,ref:f,isSelected:o,width:s,height:a}))))})),at="latest-stories",lt="selected-stories",ct="url",ut=[{id:at,label:(0,y.__)("Latest Stories","web-stories"),description:(0,y.__)("Embed latest web stories.","web-stories"),icon:de},{id:lt,label:(0,y.__)("Selected Stories","web-stories"),description:(0,y.__)("Manually select web stories.","web-stories"),icon:me},{id:ct,label:(0,y.__)("Single Story","web-stories"),description:(0,y.__)("Embed a single story.","web-stories"),icon:pe}],dt="grid",mt="list",pt="circles",ht="carousel",bt=[{id:ht,label:(0,y.__)("Box Carousel","web-stories"),icon:he,panelIcon:we},{id:pt,label:(0,y.__)("Circle Carousel","web-stories"),icon:be,panelIcon:_e},{id:dt,label:(0,y.__)("Grid","web-stories"),icon:fe,panelIcon:ye},{id:mt,label:(0,y.__)("List","web-stories"),icon:ge,panelIcon:ve}];const ft=function BlockTypeSwitcher({selectedBlockType:e,setAttributes:t}){return _.createElement(Oe.ToolbarGroup,null,Oe.ToolbarItem?_.createElement(Oe.ToolbarItem,null,(r=>_.createElement(Oe.DropdownMenu,{icon:"update",toggleProps:r,label:(0,y.__)("Change Type","web-stories"),controls:ut.filter((t=>t.id!==e)).map((e=>({title:e.label,onClick:()=>t({blockType:e.id})})))}))):_.createElement(Oe.DropdownMenu,{icon:"update",label:(0,y.__)("Change Type","web-stories"),controls:ut.filter((t=>t.id!==e)).map((e=>({title:e.label,onClick:()=>t({blockType:e.id})})))}))},gt=({blockType:e,viewType:t,setAttributes:r})=>_.createElement(Ie.BlockControls,null,_.createElement(Oe.ToolbarGroup,null,e&&ct!==e&&_.createElement(Ne.Fragment,null,bt.map((e=>Oe.ToolbarButton?_.createElement(Oe.ToolbarButton,{key:e.id,label:e.label,icon:e.icon,onClick:()=>{r({viewType:e.id})},isPressed:e.id===t}):_.createElement(Oe.Button,{key:e.id,label:e.label,icon:e.icon,onClick:()=>{r({viewType:e.id})},isPressed:e.id===t}))))),_.createElement(ft,{selectedBlockType:e,setAttributes:r}));const wt=function BlockConfigurationPanel({instructions:e,icon:t,setAttributes:r,selectionOptions:o,selectionType:n}){const i=(0,y.__)("Web Stories","web-stories");return _.createElement(Oe.Placeholder,{icon:_.createElement(Ie.BlockIcon,{icon:t,showColors:!0}),label:i,instructions:e,className:"web-stories-block-configuration-panel"},_.createElement("ul",{className:"web-stories-block-configuration-panel__options",role:"list","aria-label":(0,y.__)("Block Types","web-stories")},o.map((e=>_.createElement("li",{key:e.id},_.createElement(Oe.Button,{variant:"secondary",isSecondary:!0,onClick:()=>{r({[n]:e.id})},icon:_.createElement(Oe.Icon,{icon:e.panelIcon||e.icon,title:e.label}),label:e.description||e.label}),_.createElement("span",{className:"web-stories-block-configuration-panel__label components-placeholder__instructions",role:"presentation"},e.label))))))};__webpack_require__(3949);const vt=({label:e,value:t,onChange:r,onInputChange:o,placeholder:n,options:i=[]})=>Array.isArray(i)&&_.createElement("div",{className:"components-base-control"},_.createElement(Oe.FormTokenField,{value:t,suggestions:i,onChange:r,onInputChange:o,maxSuggestions:100,label:e,placeholder:n,__nextHasNoMarginBottom:!0})),_t={per_page:100},yt=({authors:e,setAttributes:t})=>{const[r,o]=(0,Ne.useState)(""),{authorsList:n}=(0,Le.useSelect)((t=>{const{getUsers:r}=t(Be.store);return{authorsList:r({..._t,include:e.join(",")})||[]}}),[e]),{authorSuggestions:i}=(0,Le.useSelect)((e=>{const{getUsers:t}=e(Be.store);return{authorSuggestions:t({..._t,search:r})||[]}}),[r]),s=(0,Ne.useCallback)((e=>{if(void 0===e||!Array.isArray(e))return;const r=e.map((e=>[...i,...n].find((({name:t})=>t===e)))).filter(Boolean).map((({id:e})=>e));t({authors:r})}),[i,n,t]),a=(0,E.useDebounce)((e=>o(e)),500);return _.createElement(vt,{label:(0,y.__)("Authors","web-stories"),value:n.map((({name:e})=>e)),options:i.map((({name:e})=>e)),onChange:s,onInputChange:a})};__webpack_require__(7642),__webpack_require__(8004),__webpack_require__(3853),__webpack_require__(5876),__webpack_require__(2475),__webpack_require__(5024),__webpack_require__(1698),__webpack_require__(8872);const Et={order:"asc",_fields:"id,name",context:"view"},St=(e,t)=>{const r=t?.id||e?.find((e=>e.name===t))?.id;if(r)return r;const o=t.toLocaleLowerCase();return e?.find((e=>e.name.toLocaleLowerCase()===o))?.id};const kt=function TaxonomyItem({taxonomy:e,termIds:t,onChange:r}){const[o,n]=(0,Ne.useState)(""),[i,s]=(0,Ne.useState)([]),[a,l]=(0,Ne.useState)([]),c=(0,E.useDebounce)(n,250),{searchResults:u,searchHasResolved:d}=(0,Le.useSelect)((r=>{if(!o)return{searchResults:[],searchHasResolved:!0};const{getEntityRecords:n,hasFinishedResolution:i}=r(Be.store),s=["taxonomy",e.slug,{...Et,search:o,orderby:"name",exclude:t,per_page:20}];return{searchResults:n(...s),searchHasResolved:i("getEntityRecords",s)}}),[o,t,e.slug]),m=(0,Le.useSelect)((r=>{if(!t?.length)return[];const{getEntityRecords:o}=r(Be.store);return o("taxonomy",e.slug,{...Et,include:t,per_page:t.length})}),[t,e.slug]);return(0,Ne.useEffect)((()=>{if(t?.length||s([]),!m?.length)return;const e=t.reduce(((e,t)=>{const r=m.find((e=>e.id===t));return r&&e.push({id:t,value:r.name}),e}),[]);s(e)}),[t,m]),(0,Ne.useEffect)((()=>{d&&l(u.map((e=>e.name)))}),[u,d]),_.createElement("div",{className:"block-library-query-inspector__taxonomy-control"},_.createElement(Oe.FormTokenField,{label:e.name,value:i,onInputChange:c,suggestions:a,onChange:e=>{const t=new Set;for(const r of e){const e=St(u,r);e&&t.add(e)}l([]),r(Array.from(t))},__experimentalShowHowTo:!1,__nextHasNoMarginBottom:!0}))},{config:{fieldStates:xt,archiveURL:Ct}}=window.webStoriesBlockSettings,Nt=e=>{const{attributes:{viewType:t,numOfStories:r,numOfColumns:o,order:n,orderby:i,archiveLinkLabel:s,authors:a,circleSize:l,imageAlignment:c,fieldState:u,taxQuery:d},setAttributes:m,showFilters:p=!0}=e,h=(0,Ne.useRef)(!0),b=(0,Le.useSelect)((e=>{const{getTaxonomies:t}=e(Be.store);return t({type:"web-story",per_page:-1,context:"view"})||[]}),[]);(0,Ne.useEffect)((()=>{const e={};Object.entries(xt[t]).forEach((([t,r])=>{const{show:o}=r;void 0===u[`show_${t}`]&&(e[`show_${t}`]=o)})),Object.keys(e).length&&m({fieldState:{...u,...e}})}),[]),(0,Ne.useEffect)((()=>{if(h.current)return void(h.current=!1);const e={};Object.entries(xt[t]).forEach((([t,r])=>{const{show:o}=r;e[`show_${t}`]=o})),m({fieldState:e})}),[t]);const ArchiveLink=()=>Ct?_.createElement("a",{target:"__blank",href:Ct},(0,y.__)("View archive page","web-stories")):null;return _.createElement(Ie.InspectorControls,null,_.createElement(Oe.PanelBody,{className:"web-stories-settings",title:(0,y.__)("Layout Options","web-stories")},xt[t]&&Object.entries(xt[t]).map((([e,t])=>{const{label:r,hidden:o}=t;return!o&&"circle_size"!==e&&"image_alignment"!==e&&_.createElement(Oe.ToggleControl,{key:`${e}__control`,label:r,checked:u[`show_${e}`]||!1,onChange:()=>(e=>{m({fieldState:{...u,[`show_${e}`]:!u[`show_${e}`]}})})(e),help:"archive_link"===e&&u[`show_${e}`]&&_.createElement(ArchiveLink,null),__nextHasNoMarginBottom:!0})})),u.show_archive_link&&Ct&&_.createElement(Oe.TextControl,{label:(0,y.__)("Archive Link Label","web-stories"),value:s,placeholder:(0,y.__)("View All Stories","web-stories"),onChange:e=>m({archiveLinkLabel:e}),className:"web-stories-settings-archive-link",__nextHasNoMarginBottom:!0})),[pt,dt,mt].includes(t)&&_.createElement(Oe.PanelBody,{className:"web-stories-settings",title:(0,y.__)("Layout and Style Options","web-stories")},mt===t&&_.createElement(Oe.RadioControl,{label:(0,y.__)("Image Alignment","web-stories"),selected:c,options:[{value:"left",label:(0,y.__)("Left","web-stories")},{value:"right",label:(0,y.__)("Right","web-stories")}],onChange:e=>{m({imageAlignment:e})}}),dt===t&&_.createElement(Oe.RangeControl,{label:(0,y.__)("Number of Columns","web-stories"),value:o,onChange:e=>m({numOfColumns:e}),min:1,max:4,step:1,__nextHasNoMarginBottom:!0}),pt===t&&_.createElement(Oe.RangeControl,{label:(0,y.__)("Circle Size","web-stories"),value:l,onChange:e=>m({circleSize:e}),min:80,max:200,step:5,__nextHasNoMarginBottom:!0})),p&&_.createElement(Oe.PanelBody,{title:(0,y.__)("Sorting and Filtering","web-stories")},_.createElement(Oe.SelectControl,{label:(0,y.__)("Order By","web-stories"),options:[{value:"date",label:(0,y.__)("Date","web-stories")},{value:"title",label:(0,y.__)("Title","web-stories")}],value:i||"date",onChange:e=>m({orderby:e}),__nextHasNoMarginBottom:!0}),_.createElement(Oe.SelectControl,{label:(0,y.__)("Order","web-stories"),options:[{value:"asc",label:(0,y.__)("Ascending","web-stories")},{value:"desc",label:(0,y.__)("Descending","web-stories")}],value:n||"desc",onChange:e=>m({order:e}),__nextHasNoMarginBottom:!0}),b.map((e=>{const t=d?.[e.slug]||[];return _.createElement(kt,{key:e.slug,taxonomy:e,termIds:t,onChange:t=>m({taxQuery:{...d,[e.slug]:t}})})})),_.createElement(yt,{authors:a,setAttributes:m}),_.createElement(Oe.RangeControl,{label:(0,y.__)("Number of Stories","web-stories"),value:r,onChange:e=>m({numOfStories:e}),min:1,max:20,step:1,__nextHasNoMarginBottom:!0})))},Tt=()=>_.createElement(Oe.Placeholder,{className:"web-stories-placeholder",instructions:(0,y.__)("Loading Stories…","web-stories")},_.createElement(Oe.Spinner,null));var Ot=__webpack_require__(7443);Ot.prototype.scrollItem=function(e,t,r){if(void 0===r&&t?.target&&(r=t,t=!1),void 0===r)return!1;if(r&&r.preventDefault(),this.opt.slidesToScroll=Math.max(1,this.opt.slidesToScroll),this.opt.slidesToShow=Math.max(1,this.opt.slidesToShow),this.itemWidth===Number.POSITIVE_INFINITY){const e=r.target.parentElement.querySelector(".web-stories-list__carousel"),t=window.getComputedStyle(e.querySelector(".web-stories-list__story"));this.itemWidth=Number.parseFloat(t.width)+(Number.parseFloat(t.marginLeft)+Number.parseFloat(t.marginRight))}const o=e;if(++this.animate_id,!0===t)e*=this.containerWidth,e=Math.round(e/this.itemWidth)*this.itemWidth;else{if("string"==typeof e){const t="prev"===e;if(e=this.opt.slidesToScroll%1||this.opt.slidesToShow%1?this.getCurrentSlide():isNaN(this.slide)?0:this.slide,t?e-=this.opt.slidesToScroll:e+=this.opt.slidesToScroll,this.opt.rewind){const r=this.ele.scrollLeft;e=t&&!r?this.slides.length:!t&&r+this.containerWidth>=Math.floor(this.trackWidth)?0:e}}e=Math.min(e,this.slides.length),this.slide=e,e=this.itemWidth*e}return this.scrollTo(e,this.opt.duration*Math.abs(this.ele.scrollLeft-e),(function(){this.updateControls(),this.emit("animated",{value:o,type:"string"==typeof o?"arrow":t?"dot":"slide"})})),!1};const Mt=Ot;const Lt=function StoryCard({title:e,excerpt:t,poster:r,author:o,date:n,isShowingAuthor:i,isShowingDate:s,isShowingTitle:a,isShowingExcerpt:l,imageAlignment:c}){const u=nt("web-stories-list__story",{"image-align-right":"right"===c}),d=a||i||s,m=(0,Fe.getSettings)().formats.date;return _.createElement("div",{className:u},_.createElement("div",{className:"web-stories-list__story-poster"},r?_.createElement("img",{src:r,alt:e}):_.createElement("div",{className:"web-stories-list__story-poster-placeholder"},_.createElement("span",null,e))),d&&_.createElement("div",{className:"story-content-overlay web-stories-list__story-content-overlay"},a&&e&&_.createElement(Ne.RawHTML,{className:"story-content-overlay__title"},e),l&&t&&_.createElement(Ne.RawHTML,{className:"story-content-overlay__excerpt"},t),i&&_.createElement("div",{className:"story-content-overlay__author"},(0,y.sprintf)(/* translators: byline. %s: author name. */ /* translators: byline. %s: author name. */
(0,y.__)("By %s","web-stories"),o)),s&&_.createElement("time",{dateTime:(0,Fe.format)("c",n),className:"story-content-overlay__date"},(0,y.sprintf)(/* translators: %s: publish date. */ /* translators: %s: publish date. */
(0,y.__)("On %s","web-stories"),(0,Fe.dateI18n)(m,n)))))},{config:{archiveURL:It}}=window.webStoriesBlockSettings;const Bt=function StoriesPreview(e){const{attributes:{align:t,viewType:r,circleSize:o,imageAlignment:n,fieldState:i,numOfColumns:s},viewAllLabel:a,stories:l}=e,c=(0,Ne.useRef)(null),u=(0,Ne.useRef)(null),d=(0,Ne.useRef)(null),m=nt({"is-style-default":!i.show_sharp_corners,"is-style-squared":i.show_sharp_corners,"is-carousel":pt===r||ht===r,[`is-view-type-${r}`]:r,[`columns-${s}`]:dt===r&&s,[`align${t}`]:t,"has-archive-link":i.show_archive_link},"web-stories-list"),StoriesLoop=()=>l.map((e=>{const t=e.meta.web_stories_poster?.url,r=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url,s=t||r;return _.createElement(Lt,{key:e.id,url:e.link,title:e.title.rendered,excerpt:e.excerpt.rendered?e.excerpt.rendered:"",date:e.date_gmt,author:e._embedded.author[0].name,poster:s,imageAlignment:n,isShowingAuthor:i.show_author,isShowingDate:i.show_date,isShowingTitle:i.show_title,isShowingExcerpt:i.show_excerpt,circleSize:o})}));return(0,Ne.useEffect)((()=>{if(!c.current)return;const e=c.current.querySelector(".web-stories-list__story");if(!e)return;const t=window.getComputedStyle(e),r=Number.parseFloat(t.width)+(Number.parseFloat(t.marginLeft)+Number.parseFloat(t.marginRight)),o=new Mt(c.current,{slidesToShow:"auto",slidesToScroll:"auto",itemWidth:r,duration:.25,skipTrack:!0,scrollLock:!0,arrows:{prev:d.current,next:u.current}});o.resize();const n=r*l.length;o.trackWidth=n,o.track.style.width=`${n}px`}),[l.length,r,o]),_.createElement("div",{className:m,style:{"--ws-circle-size":"circles"===r&&o?`${o}px`:void 0}},_.createElement("div",{className:"web-stories-list__inner-wrapper"},pt===r||ht===r?_.createElement(_.Fragment,null,_.createElement("div",{className:"web-stories-list__carousel",ref:c},_.createElement("div",{className:"glider-track"},_.createElement(StoriesLoop,null))),_.createElement("div",{"aria-label":(0,y.__)("Previous","web-stories"),className:"glider-prev",ref:d}),_.createElement("div",{"aria-label":(0,y.__)("Next","web-stories"),className:"glider-next",ref:u})):_.createElement(StoriesLoop,null)),i.show_archive_link&&It&&_.createElement("div",{className:"web-stories-list__archive-link"},_.createElement("a",{target:"__blank",href:It},a)))};const Rt=function LatestStoriesEdit({attributes:e,setAttributes:t}){const{numOfStories:r,order:o,orderby:n,archiveLinkLabel:i,authors:s,taxQuery:a}=e,{isFetchingStories:l,fetchedStories:c}=(0,Le.useSelect)((e=>{const{getEntityRecords:t,isResolving:r}=e(Be.store),i={per_page:20,_embed:"author,wp:featuredmedia",orderby:n||"modified",order:o||"desc",author:s||void 0,...a};return{fetchedStories:t("postType","web-story",i)||[],isFetchingStories:r("postType","web-story",i)||!1}}),[o,n,s,a]),u=i||(0,y.__)("View All Stories","web-stories"),d=c.length>r?c.slice(0,r):c;return _.createElement(_.Fragment,null,_.createElement(Nt,{attributes:e,setAttributes:t}),l&&_.createElement(Tt,null),!l&&Boolean(d?.length)&&_.createElement(Bt,{attributes:e,stories:d,viewAllLabel:u}),!l&&!d?.length&&_.createElement(Oe.Placeholder,{icon:_.createElement(Ie.BlockIcon,{icon:_.createElement(BlockIcon,null),showColors:!0}),label:(0,y.__)("Latest Stories","web-stories"),className:"wp-block-web-stories-embed",instructions:(0,y.__)("No stories found.","web-stories")},_.createElement(Oe.Button,{href:(0,We.addQueryArgs)("post-new.php",{post_type:"web-story"}),isLink:!0},(0,y.__)("Create New Story","web-stories"))))},{config:{maxNumOfStories:At}}=window.webStoriesBlockSettings,Pt=({icon:e,label:t,selectedStories:r,setSelectedStories:o})=>{const[n,i]=(0,Ne.useState)(!1),[s,a]=(0,Ne.useState)(!1),l=()=>i(!0),c=(0,Ne.useCallback)((()=>{i(!1),a(!1)}),[]),u=(0,Ne.useCallback)((()=>{a(!0),l()}),[]);return _.createElement(_.Fragment,null,Boolean(r?.length)&&_.createElement(Ie.BlockControls,{group:"other"},_.createElement(Oe.ToolbarButton,{"aria-expanded":n,"aria-haspopup":"true",onClick:l},(0,y.__)("Select","web-stories")),_.createElement(Oe.ToolbarButton,{"aria-expanded":n,"aria-haspopup":"true",onClick:u},(0,y.__)("Rearrange","web-stories"))),0===r.length&&_.createElement(Oe.Placeholder,{icon:_.createElement(Ie.BlockIcon,{icon:e,showColors:!0}),label:t,className:"wp-block-web-stories-embed",instructions:(0,y.__)("Select the web stories you want to display on your site.","web-stories")},_.createElement(Oe.Button,{isPrimary:!0,onClick:l},(0,y.__)("Select Stories","web-stories"))),n&&_.createElement(Xe,{closeStoryPicker:c,selectedStories:r,setSelectedStories:o,isSortingStories:s,setIsSortingStories:a,maxNumOfStories:At}))};const zt=function SelectedStoriesEdit({icon:e,attributes:t,setAttributes:r,isSelected:o}){const{stories:n=[],archiveLinkLabel:i}=t,[s,a]=(0,Ne.useState)(n),[l,c]=(0,Ne.useState)([]),[u,d]=(0,Ne.useState)(!1),m=(0,y.__)("Selected Stories","web-stories"),p=i||(0,y.__)("View All Stories","web-stories");(0,Ne.useEffect)((()=>{t.stories.toString()!==s.toString()&&r({stories:s})}),[t.stories,r,s]),(0,Ne.useEffect)((()=>{s.length&&!l.length&&d(!0)}),[s,l,d]);const h=(0,Ne.useCallback)((e=>{c(e),a(e.map((e=>e.id)))}),[c]);return u?_.createElement(Ae,{icon:e,label:m,selectedStoryIds:s,setSelectedStories:h,setIsFetching:d}):_.createElement(_.Fragment,null,_.createElement(Nt,{attributes:t,setAttributes:r,showFilters:!1}),Boolean(l?.length)&&_.createElement(Bt,{attributes:t,stories:l,viewAllLabel:p}),_.createElement(Pt,{icon:e,label:m,selectedStories:l,setSelectedStories:h,isEditing:o}))};const jt=function WebStoriesEdit({attributes:e,setAttributes:t,className:r,isSelected:o,context:n}){const{blockType:i,viewType:s}=e,{postType:a,postId:l,queryId:c}=n;return Number.isFinite(c)&&a&&l&&"web-story"===a?_.createElement(st,{icon:_.createElement(BlockIcon,null),attributes:e,setAttributes:t,context:n,className:r,isSelected:o}):i?i===ct||s?_.createElement(_.Fragment,null,_.createElement(gt,{blockType:i,viewType:s,setAttributes:t}),i===at&&_.createElement(Rt,{attributes:e,setAttributes:t}),i===lt&&_.createElement(zt,{icon:_.createElement(BlockIcon,null),attributes:e,setAttributes:t,isSelected:o}),i===ct&&_.createElement(ot,{icon:_.createElement(BlockIcon,null),attributes:e,setAttributes:t,className:r,isSelected:o})):_.createElement(wt,{icon:_.createElement(BlockIcon,null),setAttributes:t,instructions:(0,y.__)("Select a layout style","web-stories"),selectionOptions:bt,selectionType:"viewType"}):_.createElement(wt,{icon:_.createElement(BlockIcon,null),setAttributes:t,instructions:(0,y.__)("Embed a collection of your latest stories, select your own or enter an URL.","web-stories"),selectionOptions:ut,selectionType:"blockType"})},Wt=JSON.parse('{"name":"web-stories/embed","title":"Web Stories","description":"Embed Web Stories.","category":"embed","keywords":["embed","web stories","story","stories"],"textdomain":"web-stories","usesContext":["postId","postType","queryId"],"attributes":{"blockType":{"type":"string"},"url":{"type":"string"},"title":{"type":"string"},"poster":{"type":"string"},"width":{"type":"number","default":360},"height":{"type":"number","default":600},"align":{"type":"string","default":"none"},"stories":{"type":"array","default":[]},"viewType":{"type":"string","default":""},"numOfStories":{"type":"number","default":5},"numOfColumns":{"type":"number","default":2},"circleSize":{"type":"number","default":96},"imageAlignment":{"type":"string","default":"left"},"order":{"type":"string","default":""},"orderby":{"type":"string","default":""},"archiveLinkLabel":{"type":"string","default":""},"authors":{"type":"array","default":[]},"fieldState":{"type":"object","default":{}},"taxQuery":{"type":"object","default":{}},"previewOnly":{"type":"boolean","default":false}},"supports":{"align":["wide","full","left","right","center"]}}'),{attributes:Ht}=Wt,Ft={from:[{type:"shortcode",tag:"web_stories_embed",attributes:{...Ht,align:{type:"string",shortcode:({named:{align:e}})=>e},height:{type:"number",shortcode:({named:{height:e}})=>e},poster:{type:"string",shortcode:({named:{poster:e}})=>e},title:{type:"string",shortcode:({named:{title:e}})=>e},url:{type:"string",shortcode:({named:{url:e}})=>e},width:{type:"number",shortcode:({named:{width:e}})=>e},blockType:{type:"string",default:ct}},priority:9},{type:"shortcode",tag:"web_stories",attributes:{...Ht,blockType:{type:"string",default:at},align:{type:"string",shortcode:({named:{align:e}})=>e},archiveLinkLabel:{type:"string",shortcode:({named:{archive_link_label:e}})=>e},viewType:{type:"string",shortcode:({named:{view:e}})=>e},numOfStories:{type:"number",shortcode:({named:{number:e}})=>e},numOfColumns:{type:"number",shortcode:({named:{columns:e}})=>e},circleSize:{type:"number",shortcode:({named:{circle_size:e}})=>e},fieldState:{type:"object",shortcode:({named:{title:e,excerpt:t,author:r,date:o,archive_link:n,image_align:i}})=>({show_archive_link:"true"===n,show_author:"true"===r,show_date:"true"===o,show_excerpt:"true"===t,show_image_align:"true"===i,show_title:"true"===e})}}},{type:"block",blocks:["core/legacy-widget"],isMatch:({idBase:e,instance:t})=>!!t?.raw&&"web_stories_widget"===e,transform:({instance:e})=>{const{raw:{archive_link_label:t,circle_size:r,image_alignment:o,number_of_columns:n,number_of_stories:i,view_type:s,show_title:a,show_author:l,show_date:c,show_excerpt:u,show_archive_link:d,sharp_corners:m,show_image_alignment:p,title:h,orderby:b="",order:f=""}}=e,g=(0,v.createBlock)("web-stories/embed",{blockType:"latest-stories",viewType:s,fieldState:{show_title:a,show_author:l,show_date:c,show_excerpt:u,show_archive_link:d,show_sharp_corners:m,show_image_alignment:p},archiveLinkLabel:t,circleSize:r,numOfColumns:n,imageAlignment:o,numOfStories:i,orderby:b.replace("post_",""),order:f.toLowerCase()});return h?[(0,v.createBlock)("core/heading",{content:h}),g]:g}}]},{name:Dt,category:$t,keywords:Vt,attributes:qt,supports:Ut}=Wt,Gt={title:(0,y.__)("Web Stories","web-stories"),description:(0,y.__)("Embed stories using various layout options.","web-stories"),category:$t,icon:_.createElement(BlockIcon,null),keywords:Vt,attributes:qt,example:{attributes:{blockType:at,viewType:dt,numberOfColumns:2}},supports:Ut,deprecated:xe,edit:jt,save:Ce,transforms:Ft};(0,v.registerBlockType)(Dt,Gt),g("Embed Block",!1)})()})();