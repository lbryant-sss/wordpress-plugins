(()=>{var e,t,r={464:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=l(e,s(r)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=l(t,r));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},556:(e,t,r)=>{e.exports=r(694)()},609:e=>{"use strict";e.exports=window.React},694:(e,t,r)=>{"use strict";var n=r(925);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,s,l){if(l!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return r.PropTypes=r,r}},728:(e,t,r)=>{"use strict";var n,o=Object.create,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,__copyProps=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))c.call(e,o)||o===r||s(e,o,{get:()=>t[o],enumerable:!(n=l(t,o))||n.enumerable});return e},u={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(u,{$dispatcherGuard:()=>k,$makeReadOnly:()=>x,$reset:()=>C,$structuralCheck:()=>O,c:()=>f,clearRenderCounterRegistry:()=>T,renderCounterRegistry:()=>N,useRenderCounter:()=>R}),e.exports=(n=u,__copyProps(s({},"__esModule",{value:!0}),n));var m,d,p=((e,t,r)=>(r=null!=e?o(a(e)):{},__copyProps(!t&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)))(r(609)),{useRef:b,useEffect:h,isValidElement:_}=p,w=null!=(m=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)?m:p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.memo_cache_sentinel"),f="function"==typeof(null==(d=p.__COMPILER_RUNTIME)?void 0:d.c)?p.__COMPILER_RUNTIME.c:function(e){return p.useMemo((()=>{const t=new Array(e);for(let r=0;r<e;r++)t[r]=g;return t[g]=!0,t}),[])},y={};["readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","getCacheSignal","getCacheForType","useCacheRefresh"].forEach((e=>{y[e]=()=>{throw new Error(`[React] Unexpected React hook call (${e}) from a React compiled function. Check that all hooks are called directly and named according to convention ('use[A-Z]') `)}}));var v=null;function S(e){return w.ReactCurrentDispatcher.current=e,w.ReactCurrentDispatcher.current}y.useMemoCache=e=>{if(null==v)throw new Error("React Compiler internal invariant violation: unexpected null dispatcher");return v.useMemoCache(e)};var E=[];function k(e){const t=w.ReactCurrentDispatcher.current;if(0===e){if(E.push(t),1===E.length&&(v=t),t===y)throw new Error("[React] Unexpected call to custom hook or component from a React compiled function. Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') and (2) components are returned as JSX instead of being directly invoked.");S(y)}else if(1===e){const e=E.pop();if(null==e)throw new Error("React Compiler internal error: unexpected null in guard stack");0===E.length&&(v=null),S(e)}else if(2===e)E.push(t),S(v);else{if(3!==e)throw new Error("React Compiler internal error: unreachable block"+e);{const e=E.pop();if(null==e)throw new Error("React Compiler internal error: unexpected null in guard stack");S(e)}}}function C(e){for(let t=0;t<e.length;t++)e[t]=g}function x(){throw new Error("TODO: implement $makeReadOnly in react-compiler-runtime")}var N=new Map;function T(){for(const e of N.values())e.forEach((e=>{e.count=0}))}function R(e){const t=b(null);null!=t.current&&(t.current.count+=1),h((()=>{if(null==t.current){const r={count:0};!function(e,t){let r=N.get(e);null==r&&(r=new Set,N.set(e,r)),r.add(t)}(e,r),t.current=r}return()=>{null!==t.current&&function(e,t){const r=N.get(e);null!=r&&r.delete(t)}(e,t.current)}}))}var B=new Set;function O(e,t,r,n,o,s){function l(e,t,l,i){const a=`${n}:${s} [${o}] ${r}${l} changed from ${e} to ${t} at depth ${i}`;B.has(a)||(B.add(a),console.error(a))}!function e(t,r,n,o){if(!(o>2)&&t!==r)if(typeof t!=typeof r)l("type "+typeof t,"type "+typeof r,n,o);else if("object"==typeof t){const s=Array.isArray(t),i=Array.isArray(r);if(null===t&&null!==r)l("null","type "+typeof r,n,o);else if(null===r)l("type "+typeof t,"null",n,o);else if(t instanceof Map)if(r instanceof Map)if(t.size!==r.size)l(`Map instance with size ${t.size}`,`Map instance with size ${r.size}`,n,o);else for(const[s,i]of t)r.has(s)?e(i,r.get(s),`${n}.get(${s})`,o+1):l(`Map instance with key ${s}`,`Map instance without key ${s}`,n,o);else l("Map instance","other value",n,o);else if(r instanceof Map)l("other value","Map instance",n,o);else if(t instanceof Set)if(r instanceof Set)if(t.size!==r.size)l(`Set instance with size ${t.size}`,`Set instance with size ${r.size}`,n,o);else for(const e of r)t.has(e)||l(`Set instance without element ${e}`,`Set instance with element ${e}`,n,o);else l("Set instance","other value",n,o);else if(r instanceof Set)l("other value","Set instance",n,o);else if(s||i)if(s!==i)l("type "+(s?"array":"object"),"type "+(i?"array":"object"),n,o);else if(t.length!==r.length)l(`array with length ${t.length}`,`array with length ${r.length}`,n,o);else for(let s=0;s<t.length;s++)e(t[s],r[s],`${n}[${s}]`,o+1);else if(_(t)||_(r))_(t)!==_(r)?l("type "+(_(t)?"React element":"object"),"type "+(_(r)?"React element":"object"),n,o):t.type!==r.type?l(`React element of type ${t.type}`,`React element of type ${r.type}`,n,o):e(t.props,r.props,`[props of ${n}]`,o+1);else{for(const e in r)e in t||l(`object without key ${e}`,`object with key ${e}`,n,o);for(const s in t)s in r?e(t[s],r[s],`${n}.${s}`,o+1):l(`object with key ${s}`,`object without key ${s}`,n,o)}}else{if("function"==typeof t)return;isNaN(t)||isNaN(r)?isNaN(t)!==isNaN(r)&&l(""+(isNaN(t)?"NaN":"non-NaN value"),""+(isNaN(r)?"NaN":"non-NaN value"),n,o):t!==r&&l(t,r,n,o)}}(e,t,"",0)}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function __webpack_require__(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.m=r,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>"chunk-web-stories-glider.js?v=2e0021a2631b60a6ba9f",__webpack_require__.miniCssF=e=>"../css/chunk-web-stories-glider.css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="web-stories-wp:",__webpack_require__.l=(r,n,o,s)=>{if(e[r])e[r].push(n);else{var l,i;if(void 0!==o)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var u=a[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){l=u;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,__webpack_require__.nc&&l.setAttribute("nonce",__webpack_require__.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[n];var m=(t,n)=>{l.onerror=l.onload=null,clearTimeout(d);var o=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((e=>e(n))),t)return t(n)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),i&&document.head.appendChild(l)}},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,r)=>{var n=__webpack_require__.miniCssF(e),o=__webpack_require__.p+n;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(l=r[n]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(o===e||o===t))return l}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){var l;if((o=(l=s[n]).getAttribute("data-href"))===e||o===t)return l}})(n,o))return t();((e,t,r,n,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",__webpack_require__.nc&&(s.nonce=__webpack_require__.nc),s.onerror=s.onload=r=>{if(s.onerror=s.onload=null,"load"===r.type)n();else{var l=r&&r.type,i=r&&r.target&&r.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+l+": "+i+")");a.name="ChunkLoadError",a.code="CSS_CHUNK_LOAD_FAILED",a.type=l,a.request=i,s.parentNode&&s.parentNode.removeChild(s),o(a)}},s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s)})(e,o,null,t,r)})),t={483:0};__webpack_require__.f.miniCss=(r,n)=>{t[r]?n.push(t[r]):0!==t[r]&&{307:1}[r]&&n.push(t[r]=e(r).then((()=>{t[r]=0}),(e=>{throw delete t[r],e})))}}})(),(()=>{var e={483:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var s=__webpack_require__.p+__webpack_require__.u(t),l=new Error;__webpack_require__.l(s,(r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,n[1](l)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[s,l,i]=r,a=0;if(s.some((t=>0!==e[t]))){for(n in l)__webpack_require__.o(l,n)&&(__webpack_require__.m[n]=l[n]);if(i)i(__webpack_require__)}for(t&&t(r);a<s.length;a++)o=s[a],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";const e="webStoriesTrackingDataLayer",t=function(){window[e]=window[e]||[],window[e].push(arguments)},{trackingAllowed:r,trackingIdGA4:n,appVersion:o,userProperties:s}=window.webStoriesTrackingSettings||{},l={trackingAllowed:!1,trackingEnabled:!1,trackingIdGA4:"",userProperties:{},appName:"",trackingAllowed:r,trackingIdGA4:n,appVersion:o,userProperties:s},i="data-web-stories-tracking";async function a(r=!0){if(document.querySelector(`script[${i}]`))return;try{await(n=`https://www.googletagmanager.com/gtag/js?id=${l.trackingIdGA4}&l=${e}`,new Promise(((e,t)=>{const r=document.createElement("script");r.setAttribute(i,""),r.async=!0,r.src=n,r.addEventListener("load",e),r.addEventListener("error",t),document.head.appendChild(r)})))}catch{return}var n;const o=l.appName,s="/"+l.appName.replace(/ /g,"-").toLowerCase();t("js",new Date),t("set","user_properties",{...l.userProperties,app_version:l.appVersion,page_title:o,page_path:s}),t("config",l.trackingIdGA4,{app_name:l.appName,app_version:l.appVersion,send_page_view:r,transport_type:"beacon"})}const c=async function(e=!0){l.trackingAllowed&&!l.trackingEnabled&&(await a(e),l.trackingEnabled=!0)};const u=async function(){return await c(),Boolean(l.trackingEnabled)};const m=function(e,r={}){return new Promise((n=>{const o=setTimeout((()=>{window.console.warn(`[Web Stories] Tracking event "${e}" took too long to fire.`),n()}),1e3);t("event",e,{...r,event_callback:()=>{clearTimeout(o),n()}})}))};const d=async function(e,t,r=!1){return await u()?m("exception",{description:`${e}: ${t}`,fatal:r}):Promise.resolve()},p=["ResizeObserver loop limit exceeded"];function b(e){if(e.filename&&!e.filename.includes("web-stories"))return;if(p.includes(e.message))return;const t=`${e.message} (${e.lineno}:${e.colno})`;d("uncaught_error",t,!0)}function h(e){const t=e.reason||"Promise rejection";d("uncaught_promise",t)}const _=function(){window.addEventListener("error",b),window.addEventListener("unhandledrejection",h)};const w=async function(e,t=!0){l.appName=e,await c(t),_()};const g=async function(e,t={}){return await u()?m(e,t):Promise.resolve()};const f=window.wp.blocks;var y=__webpack_require__(609);const v=window.wp.i18n;var S=__webpack_require__(728);const E=window.wp.compose;var k,C,x;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(null,arguments)}const SvgCirclesCarouselView=({title:e,titleId:t,...r})=>y.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 18","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,k||(k=y.createElement("circle",{r:3,transform:"matrix(1 0 0 -1 20 9)"})),C||(C=y.createElement("circle",{r:3,transform:"matrix(1 0 0 -1 3 9)"})),x||(x=y.createElement("circle",{r:7.1,stroke:"#fff",strokeWidth:2.2,transform:"matrix(1 0 0 -1 12 9)"}))),T=(0,y.memo)(SvgCirclesCarouselView);var R,B,O,M,L;function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(null,arguments)}const SvgCirclesCarouselViewPanelIcon=({title:e,titleId:t,...r})=>y.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 42 24","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,R||(R=y.createElement("circle",{cx:21,cy:12,r:11,fill:"#fff",stroke:"#347BB5",strokeWidth:2})),B||(B=y.createElement("mask",{id:"a",fill:"#fff"},y.createElement("path",{fillRule:"evenodd",d:"M34.803 17.88A15 15 0 0 0 36 12c0-2.087-.426-4.075-1.197-5.88a6 6 0 1 1 0 11.761",clipRule:"evenodd"}))),O||(O=y.createElement("path",{fill:"#347BB5",d:"m34.803 17.88-1.84-.784-.962 2.258 2.406.487zm0-11.76-.396-1.96L32 4.645l.963 2.258zM34 12c0 1.813-.37 3.534-1.036 5.096l3.679 1.57A17 17 0 0 0 38 12zm-1.036-5.096A13 13 0 0 1 34 12h4c0-2.362-.483-4.616-1.357-6.665zM35.2 8.08Q35.586 8 36 8V4q-.817.001-1.593.16zM36 8a4 4 0 0 1 4 4h4a8 8 0 0 0-8-8zm4 4a4 4 0 0 1-4 4v4a8 8 0 0 0 8-8zm-4 4q-.414-.001-.8-.08l-.793 3.92c.516.105 1.05.16 1.593.16z",mask:"url(#a)"})),M||(M=y.createElement("mask",{id:"b",fill:"#fff"},y.createElement("path",{fillRule:"evenodd",d:"M7.197 6.12a6 6 0 1 0 0 11.761A15 15 0 0 1 6 12c0-2.087.426-4.075 1.197-5.88",clipRule:"evenodd"}))),L||(L=y.createElement("path",{fill:"#347BB5",d:"m7.197 6.12 1.84.784.962-2.258-2.406-.487zm0 11.76.396 1.96L10 19.355l-.963-2.258zM6 8q.414.001.8.08l.793-3.92A8 8 0 0 0 6 4zm-4 4a4 4 0 0 1 4-4V4a8 8 0 0 0-8 8zm4 4a4 4 0 0 1-4-4h-4a8 8 0 0 0 8 8zm.8-.08Q6.414 16 6 16v4q.818-.001 1.593-.16zm2.236 1.176A13 13 0 0 1 8 12H4c0 2.362.483 4.616 1.357 6.665zM8 12c0-1.813.37-3.534 1.036-5.096l-3.679-1.57A17 17 0 0 0 4 12z",mask:"url(#b)"}))),I=(0,y.memo)(SvgCirclesCarouselViewPanelIcon);var z,P;function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$.apply(null,arguments)}const SvgLatestStoriesBlock=({title:e,titleId:t,...r})=>y.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 31 42","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,z||(z=y.createElement("rect",{width:29,height:40,x:1,y:1,stroke:"currentColor",strokeWidth:2,rx:1})),P||(P=y.createElement("path",{fill:"currentColor",d:"M6 27h19v2H6zM6 31h4v2H6z"}))),q=(0,y.memo)(SvgLatestStoriesBlock);var H,j;function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(null,arguments)}const SvgSelectedStoriesBlock=({title:e,titleId:t,...r})=>y.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,H||(H=y.createElement("circle",{cx:16,cy:16,r:15,stroke:"currentColor",strokeWidth:2})),j||(j=y.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M16 9.263V16m0 6.737V16m0 0H9.263M16 16h6.737"}))),F=(0,y.memo)(SvgSelectedStoriesBlock);var W;function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(null,arguments)}const SvgEmbedStoryBlock=({title:e,titleId:t,...r})=>y.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 16","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,W||(W=y.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M14 1H8a7 7 0 1 0 0 14h6M18 1h6a7 7 0 1 1 0 14h-6M9 8h13.5"}))),V=(0,y.memo)(SvgEmbedStoryBlock);var G;function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(null,arguments)}const SvgGridView=({title:e,titleId:t,...r})=>y.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 14","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,G||(G=y.createElement("path",{d:"M0 0h5v6H0zM0 8h5v6H0zM7 0h5v6H7zM7 8h5v6H7z"}))),X=(0,y.memo)(SvgGridView);var K;function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(null,arguments)}const SvgListView=({title:e,titleId:t,...r})=>y.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 13","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,K||(K=y.createElement("path",{d:"M0 0h12v3H0zM0 5h12v3H0zM0 10h12v3H0z"}))),Y=(0,y.memo)(SvgListView);var Z;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(null,arguments)}const SvgBoxCarouselView=({title:e,titleId:t,...r})=>y.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 14","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,Z||(Z=y.createElement("path",{d:"M4 14h10V0H4zM16 12h2V2h-2zM0 12h2V2H0z"}))),te=(0,y.memo)(SvgBoxCarouselView);var re;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(null,arguments)}const SvgGridViewPanelIcon=({title:e,titleId:t,...r})=>y.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 27","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,re||(re=y.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M1 1h6.462v9.538H1zM1 15.615h6.462v9.538H1zM12.539 1h6.462v9.538h-6.462zM12.539 15.615h6.462v9.538h-6.462z"}))),oe=(0,y.memo)(SvgGridViewPanelIcon);var se;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},le.apply(null,arguments)}const SvgListViewPanelIcon=({title:e,titleId:t,...r})=>y.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 26","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,se||(se=y.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M1 1h20v4H1zM1 11h20v4H1zM1 21h20v4H1z"}))),ie=(0,y.memo)(SvgListViewPanelIcon);var ae,ce;function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(null,arguments)}const SvgBoxCarouselViewPanelIcon=({title:e,titleId:t,...r})=>y.createElement("svg",ue({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 20","aria-labelledby":t},r),e?y.createElement("title",{id:t},e):null,ae||(ae=y.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M7 1h12v18H7z"})),ce||(ce=y.createElement("path",{fill:"currentColor",d:"M24 2h2v16h-2zM0 2h2v16H0z"}))),me=(0,y.memo)(SvgBoxCarouselViewPanelIcon),de=y.createElement(q,{width:31,height:42}),pe=y.createElement(F,{width:32,height:32}),be=y.createElement(V,{width:32,height:16}),he=y.createElement(te,{width:18,height:14}),_e=y.createElement(T,{className:"web-stories-block__toolbar-icon icon__circles-carousel",width:23,height:18}),we=y.createElement(X,{width:12,height:14}),ge=y.createElement(Y,{width:12,height:13}),fe=y.createElement(me,{width:26,height:20}),ye=y.createElement(ie,{width:22,height:26}),ve=y.createElement(I,{width:42,height:24}),Se=y.createElement(oe,{width:20,height:27}),BlockIcon=()=>{const e=(0,S.c)(25),t=(0,E.useInstanceId)(BlockIcon),r=`url(#gradient-${t})`;let n;e[0]!==r?(n=y.createElement("circle",{cx:"32",cy:"32",r:"32",transform:"rotate(-180 32 32)",fill:r}),e[0]=r,e[1]=n):n=e[1];const o=`url(#filter-${t})`;let s,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=y.createElement("path",{d:"M41.6 19.2a3.2 3.2 0 013.2 3.2v19.2a3.2 3.2 0 01-3.2 3.2V19.2zm-24 0a3.2 3.2 0 013.2-3.2h14.4a3.2 3.2 0 013.2 3.2v25.6a3.2 3.2 0 01-3.2 3.2H20.8a3.2 3.2 0 01-3.2-3.2V19.2zM48 22.4a2.4 2.4 0 012.4 2.4v14.4a2.4 2.4 0 01-2.4 2.4V22.4z"}),e[2]=s):s=e[2],e[3]!==o?(l=y.createElement("g",{filter:o,fill:"#fff"},s),e[3]=o,e[4]=l):l=e[4];const i=`gradient-${t}`;let a,c,u;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=y.createElement("stop",{stopColor:"#79B3FF"}),c=y.createElement("stop",{offset:"1",stopColor:"#CBACFF"}),e[5]=a,e[6]=c):(a=e[5],c=e[6]),e[7]!==i?(u=y.createElement("linearGradient",{id:i,x1:"13.255",y1:"6.599",x2:"35.289",y2:"62.791",gradientUnits:"userSpaceOnUse"},a,c),e[7]=i,e[8]=u):u=e[8];const m=`filter-${t}`;let d,p,b,h,_,w,g,f,v,k;return e[9]===Symbol.for("react.memo_cache_sentinel")?(d=y.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),p=y.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),b=y.createElement("feOffset",{dy:"1.28"}),h=y.createElement("feGaussianBlur",{stdDeviation:"1.92"}),_=y.createElement("feColorMatrix",{values:"0 0 0 0 0.423529 0 0 0 0 0.490196 0 0 0 0 0.733333 0 0 0 0.3 0"}),w=y.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),g=y.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}),e[9]=d,e[10]=p,e[11]=b,e[12]=h,e[13]=_,e[14]=w,e[15]=g):(d=e[9],p=e[10],b=e[11],h=e[12],_=e[13],w=e[14],g=e[15]),e[16]!==m?(f=y.createElement("filter",{id:m,x:"8.96",y:"10.24",width:"46.08",height:"46.08",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d,p,b,h,_,w,g),e[16]=m,e[17]=f):f=e[17],e[18]!==f||e[19]!==u?(v=y.createElement("defs",null,u,f),e[18]=f,e[19]=u,e[20]=v):v=e[20],e[21]!==n||e[22]!==v||e[23]!==l?(k=y.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n,l,v),e[21]=n,e[22]=v,e[23]=l,e[24]=k):k=e[24],k},Ee={url:{type:"string"},title:{type:"string"},poster:{type:"string"},width:{type:"number",default:360},height:{type:"number",default:600},align:{type:"string",default:"none"}};const ke={attributes:Ee,save:function({attributes:e}){const{url:t,title:r,poster:n,width:o,height:s,align:l="none"}=e;return t&&r?y.createElement("div",{className:`wp-block-web-stories-embed align${l}`},y.createElement("amp-story-player",{style:{width:o?`${o}px`:void 0,height:s?`${s}px`:void 0},"data-testid":"amp-story-player"},y.createElement("a",{href:t,style:{"--story-player-poster":n?`url('${n}')`:void 0}},r))):null}},Ce={attributes:Ee,migrate:e=>({...e,blockType:"url",stories:[],viewType:"",numOfStories:5,numOfColumns:2,circleSize:96,orderby:"",order:"",archiveLinkLabel:"",authors:[],fieldState:{}}),save:function({attributes:e}){const{url:t,title:r,poster:n,width:o,height:s,align:l="none"}=e;return t&&r?y.createElement("div",{className:`wp-block-web-stories-embed align${l}`},y.createElement("a",{href:t},n?y.createElement("img",{alt:r,src:n,width:o,height:s}):r)):null},isEligible:({url:e,blockType:t})=>Boolean(!t&&e&&e.trim().length)},xe=[Ce,ke];const Ne=function({attributes:e}){const{url:t,title:r,poster:n,width:o,height:s,align:l="none"}=e;return t&&r?y.createElement("div",{className:`wp-block-web-stories-embed align${l}`},y.createElement("a",{href:t},n?y.createElement("img",{alt:r,src:n,width:o,height:s,loading:"lazy",decoding:"async"}):r)):null};var Te=__webpack_require__(556);const Re=window.wp.element,Be=window.wp.apiFetch,Oe=window.wp.components,Me=window.wp.data,Le=window.wp.blockEditor,Ae=window.wp.coreData;function LoaderContainer(e){const t=(0,S.c)(3),{children:r}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=y.createElement(Oe.Spinner,null),t[0]=n):n=t[0],t[1]!==r?(o=y.createElement("div",{className:"web-stories-block__loader-container"},r,n),t[1]=r,t[2]=o):o=t[2],o}LoaderContainer.propTypes={children:Te.node};const Ie=LoaderContainer;function FetchSelectedStories(e){const t=(0,S.c)(15),{icon:r,label:n,selectedStoryIds:o,setSelectedStories:s,setIsFetching:l}=e;let i;t[0]!==o?(i=void 0===o?[]:o,t[0]=o,t[1]=i):i=t[1];const a=i;let c;t[2]!==a?(c=e=>e(Ae.store).getEntityRecords("postType","web-story",{_embed:"wp:featuredmedia,author",context:"view",include:a,orderby:a.length>0?"include":void 0}),t[2]=a,t[3]=c):c=t[3];const u=(0,Me.useSelect)(c);let m,d,p,b,h;return t[4]!==u||t[5]!==l||t[6]!==s?(m=()=>{null!=u&&(s(u),l(!1)),void 0===u&&(s([]),l(!1))},d=[u,s,l],t[4]=u,t[5]=l,t[6]=s,t[7]=m,t[8]=d):(m=t[7],d=t[8]),(0,Re.useEffect)(m,d),t[9]!==r?(p=y.createElement(Le.BlockIcon,{icon:r,showColors:!0}),t[9]=r,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(b=y.createElement(Ie,null,(0,v.__)("Loading Stories…","web-stories")),t[11]=b):b=t[11],t[12]!==n||t[13]!==p?(h=y.createElement(Oe.Placeholder,{icon:p,label:n,className:"wp-block-web-stories-embed",instructions:!1},b),t[12]=n,t[13]=p,t[14]=h):h=t[14],h}FetchSelectedStories.propTypes={icon:Te.node,label:Te.string,selectedStoryIds:Te.array,setSelectedStories:Te.func,setIsFetching:Te.func};const ze=FetchSelectedStories,Pe=["image"],EmbedControls=e=>{const t=(0,S.c)(78),{switchBackToURLInput:r,width:n,height:o,minWidth:s,maxWidth:l,minHeight:i,maxHeight:a,poster:c,title:u,previewOnly:m,setAttributes:d}=e,p=`web-stories-embed-block__poster-image-description-${(0,E.useInstanceId)(EmbedControls,"web-stories-embed")}`;let b;t[0]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Re.createRef)(),t[0]=b):b=t[0];const h=b;let _,w;t[1]!==d?(_=e=>{d({poster:e.url})},w=[d],t[1]=d,t[2]=_,t[3]=w):(_=t[2],w=t[3]);const g=(0,Re.useCallback)(_,w);let f,k;t[4]!==d?(f=()=>{d({poster:""}),h.current.focus()},k=[d,h],t[4]=d,t[5]=f,t[6]=k):(f=t[5],k=t[6]);const C=(0,Re.useCallback)(f,k);let x,N;t[7]!==m||t[8]!==d?(x=()=>{d({previewOnly:!m})},N=[d,m],t[7]=m,t[8]=d,t[9]=x,t[10]=N):(x=t[9],N=t[10]);const T=(0,Re.useCallback)(x,N),R=Boolean(c);let B,O,M;t[11]!==r?(B=y.createElement(Le.BlockControls,null,y.createElement(Oe.ToolbarGroup,null,Oe.ToolbarButton?y.createElement(Oe.ToolbarButton,{onClick:r},(0,v.__)("Replace","web-stories")):y.createElement(Oe.Button,{className:"components-toolbar__control",title:(0,v.__)("Replace","web-stories"),onClick:r}))),t[11]=r,t[12]=B):B=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(O=(0,v.__)("Embed Settings","web-stories"),t[13]=O):O=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(M=(0,v.__)("Title","web-stories"),t[14]=M):M=t[14];const L=u||"";let A,I,z,P,$,q,H,j,D,F,W,U,V;t[15]!==d?(A=e=>d({title:e}),t[15]=d,t[16]=A):A=t[16],t[17]!==L||t[18]!==A?(I=y.createElement(Oe.PanelRow,null,y.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},y.createElement(Oe.TextControl,{type:"text",className:"web-stories-embed-title-control",label:M,value:L,onChange:A,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))),t[17]=L,t[18]=A,t[19]=I):I=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(z=y.createElement(Oe.BaseControl.VisualLabel,{className:"web-stories-embed-poster-label"},(0,v.__)("Poster image","web-stories")),t[20]=z):z=t[20],t[21]!==R||t[22]!==c?(P=R&&y.createElement("img",{src:c,alt:""}),t[21]=R,t[22]=c,t[23]=P):P=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?($=(0,v.__)("Select poster image","web-stories"),t[24]=$):$=t[24],t[25]!==R||t[26]!==p?(q=e=>{const{open:t}=e;return y.createElement(Oe.Button,{isPrimary:!0,onClick:t,ref:h,"aria-describedby":p},R?(0,v.__)("Replace","web-stories"):(0,v.__)("Select","web-stories"))},t[25]=R,t[26]=p,t[27]=q):q=t[27],t[28]!==g||t[29]!==q?(H=y.createElement(Le.MediaUpload,{title:$,onSelect:g,allowedTypes:Pe,render:q}),t[28]=g,t[29]=q,t[30]=H):H=t[30],t[31]!==R||t[32]!==c?(j=R?(0,v.sprintf)((0,v.__)("The current poster image url is %s","web-stories"),c):(0,v.__)("There is no poster image currently selected","web-stories"),t[31]=R,t[32]=c,t[33]=j):j=t[33],t[34]!==p||t[35]!==j?(D=y.createElement("p",{id:p,hidden:!0},j),t[34]=p,t[35]=j,t[36]=D):D=t[36],t[37]!==R||t[38]!==C?(F=R&&y.createElement(Oe.Button,{className:"web-stories-embed-poster-remove",onClick:C},(0,v.__)("Remove","web-stories")),t[37]=R,t[38]=C,t[39]=F):F=t[39],t[40]!==P||t[41]!==H||t[42]!==D||t[43]!==F?(W=y.createElement(Le.MediaUploadCheck,null,y.createElement(Oe.PanelRow,null,y.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},z,P,H,D,F))),t[40]=P,t[41]=H,t[42]=D,t[43]=F,t[44]=W):W=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(U=y.createElement(Oe.BaseControl.VisualLabel,null,(0,v.__)("Story dimensions","web-stories")),t[45]=U):U=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(V=(0,v.__)("Width","web-stories"),t[46]=V):V=t[46];const G=n||"";let Q,X,K;t[47]!==d?(Q=e=>d({width:Number.parseInt(e)}),t[47]=d,t[48]=Q):Q=t[48],t[49]!==l||t[50]!==s||t[51]!==G||t[52]!==Q?(X=y.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__width",label:V,value:G,min:s,max:l,onChange:Q,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t[49]=l,t[50]=s,t[51]=G,t[52]=Q,t[53]=X):X=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(K=(0,v.__)("Height","web-stories"),t[54]=K):K=t[54];const J=o||"";let Y,Z,ee,te,re,ne,oe,se;return t[55]!==d?(Y=e=>d({height:Number.parseInt(e)}),t[55]=d,t[56]=Y):Y=t[56],t[57]!==a||t[58]!==i||t[59]!==J||t[60]!==Y?(Z=y.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__height",label:K,value:J,min:i,max:a,onChange:Y,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t[57]=a,t[58]=i,t[59]=J,t[60]=Y,t[61]=Z):Z=t[61],t[62]!==X||t[63]!==Z?(ee=y.createElement(Oe.PanelRow,null,y.createElement(Oe.BaseControl,{className:"web-stories-embed-size-control",__nextHasNoMarginBottom:!0},U,y.createElement("div",{className:"web-stories-embed-size-control__row"},X,Z))),t[62]=X,t[63]=Z,t[64]=ee):ee=t[64],t[65]===Symbol.for("react.memo_cache_sentinel")?(te=(0,v.__)("Display as preview","web-stories"),t[65]=te):te=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(re=(0,v.__)("Displays the story poster that opens the story in a lightbox on click","web-stories"),t[66]=re):re=t[66],t[67]!==T||t[68]!==m?(ne=y.createElement(Oe.PanelRow,null,y.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},y.createElement(Oe.ToggleControl,{label:te,checked:m,onChange:T,help:re,__nextHasNoMarginBottom:!0}))),t[67]=T,t[68]=m,t[69]=ne):ne=t[69],t[70]!==I||t[71]!==W||t[72]!==ee||t[73]!==ne?(oe=y.createElement(Le.InspectorControls,null,y.createElement(Oe.PanelBody,{title:O},I,W,ee,ne)),t[70]=I,t[71]=W,t[72]=ee,t[73]=ne,t[74]=oe):oe=t[74],t[75]!==oe||t[76]!==B?(se=y.createElement(y.Fragment,null,B,oe),t[75]=oe,t[76]=B,t[77]=se):se=t[77],se},$e=EmbedControls,qe=()=>{const e=(0,S.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=y.createElement("div",{className:"wp-block-web-stories-embed is-loading"},y.createElement(Oe.Spinner,null),y.createElement("p",null,(0,v.__)("Embedding…","web-stories"))),e[0]=t):t=e[0],t},He=window.wp.url,je=window.wp.notices,De=window.wp.date;function ItemOverlay(e){const t=(0,S.c)(19),{isSelected:r,story:n,addSelectedStory:o,removeSelectedStory:s,isSelectable:l}=e;let i,a;t[0]!==o||t[1]!==r||t[2]!==n?(i=e=>{e.preventDefault(),r||o(n)},a=[o,n,r],t[0]=o,t[1]=r,t[2]=n,t[3]=i,t[4]=a):(i=t[3],a=t[4]);const c=(0,Re.useCallback)(i,a);let u,m;t[5]!==o||t[6]!==r||t[7]!==s||t[8]!==n?(u=e=>{e.preventDefault(),r?s(n):o(n)},m=[s,o,n,r],t[5]=o,t[6]=r,t[7]=s,t[8]=n,t[9]=u,t[10]=m):(u=t[9],m=t[10]);const d=(0,Re.useCallback)(u,m);if(!l){let e;return t[11]===Symbol.for("react.memo_cache_sentinel")?(e=y.createElement("div",{className:"web-stories-story-preview-card__overlay"}),t[11]=e):e=t[11],e}const p=r?"web-stories-story-preview-card__overlay item-selected":"web-stories-story-preview-card__overlay";let b,h;return t[12]!==r||t[13]!==d?(b=r&&y.createElement("div",{className:"item-selected-icon"},y.createElement(Oe.Icon,{className:"item-selected-icon-check",icon:"saved"}),y.createElement(Oe.Icon,{className:"item-selected-icon-minus",icon:"minus",onClick:d}),y.createElement(Oe.VisuallyHidden,null,(0,v.__)("Deselect","web-stories"))),t[12]=r,t[13]=d,t[14]=b):b=t[14],t[15]!==c||t[16]!==p||t[17]!==b?(h=y.createElement("button",{type:"button",className:p,onClick:c},b),t[15]=c,t[16]=p,t[17]=b,t[18]=h):h=t[18],h}ItemOverlay.propTypes={isSelected:Te.bool,story:Te.object.isRequired,addSelectedStory:Te.func,removeSelectedStory:Te.func,isSelectable:Te.bool};const Fe=ItemOverlay,We=()=>{};function StoryPreview(e){const t=(0,S.c)(32),{story:r,isSelected:n,addSelectedStory:o,removeSelectedStory:s,isSelectable:l}=e,i=void 0===o?We:o,a=void 0===s?We:s,c=void 0===l||l;let u;if(t[0]!==r.created){const e=(0,De.getSettings)().formats.date;u=(0,De.dateI18n)(e,r.created),t[0]=r.created,t[1]=u}else u=t[1];const m=u;let d,p;t[2]!==m||t[3]!==r.status?(d=()=>{if(!m)return null;switch(r.status){case"publish":return(0,v.sprintf)((0,v.__)("Published %s","web-stories"),m);case"future":return(0,v.sprintf)((0,v.__)("Scheduled %s","web-stories"),m);default:return(0,v.sprintf)((0,v.__)("Modified %s","web-stories"),m)}},p=[r.status,m],t[2]=m,t[3]=r.status,t[4]=d,t[5]=p):(d=t[4],p=t[5]);const b=(0,Re.useMemo)(d,p),h=r.meta.web_stories_poster?.url,_=r._embedded?.["wp:featuredmedia"]?.[0]?.source_url,w=h||_,g=r.title.raw||r.title.rendered;let f,E,k,C,x,N,T,R,B;return t[6]!==i||t[7]!==c||t[8]!==n||t[9]!==a||t[10]!==r?(f=y.createElement(Fe,{isSelected:n,story:r,addSelectedStory:i,removeSelectedStory:a,isSelectable:c}),t[6]=i,t[7]=c,t[8]=n,t[9]=a,t[10]=r,t[11]=f):f=t[11],t[12]!==w?(E=w&&y.createElement("img",{src:w,alt:"",width:640,height:853}),t[12]=w,t[13]=E):E=t[13],t[14]!==f||t[15]!==E?(k=y.createElement("div",{className:"web-stories-story-preview-card__poster"},f,E),t[14]=f,t[15]=E,t[16]=k):k=t[16],t[17]!==g?(C=""===g?(0,v.__)("Untitled","web-stories"):g,t[17]=g,t[18]=C):C=t[18],t[19]!==C?(x=y.createElement("div",{className:"web-stories-story-preview-card__title"},y.createElement(Re.RawHTML,null,C)),t[19]=C,t[20]=x):x=t[20],t[21]!==r._embedded?.author?.[0]?.name?(N=r._embedded?.author?.[0]?.name&&y.createElement("div",null,r._embedded?.author?.[0]?.name),t[21]=r._embedded?.author?.[0]?.name,t[22]=N):N=t[22],t[23]!==b?(T=y.createElement("div",null,b),t[23]=b,t[24]=T):T=t[24],t[25]!==x||t[26]!==N||t[27]!==T?(R=y.createElement("div",{className:"web-stories-story-preview-card__label"},x,N,T),t[25]=x,t[26]=N,t[27]=T,t[28]=R):R=t[28],t[29]!==R||t[30]!==k?(B=y.createElement("div",{className:"web-stories-story-preview-card"},k,R),t[29]=R,t[30]=k,t[31]=B):B=t[31],B}StoryPreview.propTypes={story:Te.object.isRequired,isSelected:Te.bool,addSelectedStory:Te.func,removeSelectedStory:Te.func,isSelectable:Te.bool};const Ue=StoryPreview,Ve=[{label:(0,v.__)("Name","web-stories"),value:"name"},{label:(0,v.__)("Date Created","web-stories"),value:"date"},{label:(0,v.__)("Last Modified","web-stories"),value:"modified"},{label:(0,v.__)("Created By","web-stories"),value:"author"}];function AuthorSearch(e){const t=(0,S.c)(6),{label:r,options:n,onFilterValueChange:o,onChange:s,value:l}=e;let i;return t[0]!==r||t[1]!==s||t[2]!==o||t[3]!==n||t[4]!==l?(i=y.createElement(Oe.ComboboxControl,{label:r,options:n,onFilterValueChange:o,onChange:s,value:l,className:"web-stories-story-picker-filter__combobox",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t[0]=r,t[1]=s,t[2]=o,t[3]=n,t[4]=l,t[5]=i):i=t[5],i}function KeywordSearch(e){const t=(0,S.c)(6),{label:r,options:n,onFilterValueChange:o,onChange:s,value:l}=e;let i;return t[0]!==r||t[1]!==s||t[2]!==o||t[3]!==n||t[4]!==l?(i=y.createElement(Oe.ComboboxControl,{label:r,options:n,onFilterValueChange:o,onChange:s,value:l,className:"web-stories-story-picker-filter__combobox",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t[0]=r,t[1]=s,t[2]=o,t[3]=n,t[4]=l,t[5]=i):i=t[5],i}AuthorSearch.propTypes={label:Te.string,options:Te.array,value:Te.number,onFilterValueChange:Te.func,onChange:Te.func},KeywordSearch.propTypes={label:Te.string,options:Te.array,value:Te.string,onFilterValueChange:Te.func,onChange:Te.func};const Ge=[];const Qe=function SelectStories({stories:e=Ge,selectedStories:t=Ge,setSelectedStories:r,hasAllStories:n,isLoading:o,fetchStories:s,maxNumOfStories:l}){const[i,a]=(0,Re.useState)([]),[c,u]=(0,Re.useState)(""),[m,d]=(0,Re.useState)(""),[p,b]=(0,Re.useState)("desc"),[h,_]=(0,Re.useState)("modified"),w=(0,Re.useRef)(1),{authors:g}=(0,Me.useSelect)((e=>{const{getUsers:t,getPostType:r}=e(Ae.store),n=r("web-story")?.capabilities.edit_posts;return{authors:n?t({search:m,capabilities:n}):Ge}}),[m]),f=(0,Re.useCallback)((()=>{s({author:i?.id||void 0,search:c||void 0,order:p,orderby:h,page:w.current})}),[c,i,s,p,h]);(0,Re.useEffect)((()=>{w.current=1,f()}),[c,i,p,h,f]);const S=(0,Re.useCallback)((()=>{w.current++,f()}),[f]),k=(0,E.useDebounce)((e=>{u(e)}),300),C=(0,E.useDebounce)((e=>{d(e),a(""===e?null:g.find((t=>t.id===Number(e))))}),300),x=(0,Re.useCallback)((e=>{a(""===e?null:g.find((t=>t.id===Number(e))))}),[g,a]),N=(0,Re.useCallback)((e=>{_(e),b(["title","author"].includes(e)?"asc":"desc")}),[b,_]),T=(0,Re.useMemo)((()=>(g??[]).filter((({name:e})=>Boolean(e?.trim().length))).map((({id:e,name:t})=>({label:t,value:e})))),[g]),R=(0,Re.useMemo)((()=>e.filter((({title:e})=>Boolean(e?.rendered?.trim()?.length))).map((({id:e,title:t})=>({label:t.rendered,value:e})))),[e]),B=(0,Re.useMemo)((()=>t.map((e=>e.id))),[t]),O=(0,Re.useCallback)((e=>{B.includes(e.id)||(1!==l?t.length>=l||r([...t,e]):r([e]))}),[r,t,B,l]),M=(0,Re.useCallback)((e=>{r(t.filter((t=>t.id!==e.id)))}),[t,r]);return y.createElement(y.Fragment,null,y.createElement("div",{className:"web-stories-story-picker-filter"},y.createElement("div",{className:"web-stories-story-picker-filter__search-container"},y.createElement("div",{className:"web-stories-story-picker-filter__search-inner"},y.createElement(KeywordSearch,{label:(0,v.__)("Search Stories","web-stories"),options:R,onFilterValueChange:k,onChange:k,value:c})),y.createElement(AuthorSearch,{label:(0,v.__)("Search by Author","web-stories"),options:T,onFilterValueChange:C,onChange:x,value:i?.id}),y.createElement("div",null,y.createElement(Oe.SelectControl,{label:(0,v.__)("Sort","web-stories"),options:Ve,value:h,onChange:N,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})))),!e.length&&c&&y.createElement("p",null,(0,v.sprintf)(/* translators: %s: search term. */ /* translators: %s: search term. */
(0,v.__)('Sorry, we couldn\'t find any results matching "%s"',"web-stories"),c)),!e.length&&!c&&y.createElement("p",null,(0,v.__)("Sorry, we couldn't find any results","web-stories")),e.length>=1&&y.createElement("div",{role:"list","aria-label":(0,v.__)("Viewing Stories","web-stories"),className:"web-stories-story-picker-filter__grid"},e.map((e=>{const t=B.includes(e.id);return y.createElement("div",{key:e.id,role:"listitem",className:"web-stories-story-picker-filter__grid_item"},y.createElement(Ue,{story:e,isSelected:t,addSelectedStory:O,removeSelectedStory:M}))}))),y.createElement("div",{className:"web-stories-story-picker-filter__load_more"},o&&y.createElement(Oe.Spinner,null),!n&&e.length>0&&!o&&y.createElement(Oe.Button,{variant:"primary",className:"is-primary",onClick:S},(0,v.__)("Load More","web-stories"))))};function Xe(e){return e.id}const Ke=function SortStories(e){const t=(0,S.c)(16),{selectedStories:r,setSelectedStories:n}=e,[o,s]=(0,Re.useState)(),[l,i]=(0,Re.useState)();let a,c;t[0]!==r||t[1]!==n?(a=(e,t)=>{const o=r.map(Xe);o.splice(t,0,o.splice(e,1).pop()),n(o.map((e=>r.find((t=>t.id===e)))))},c=[r,n],t[0]=r,t[1]=n,t[2]=a,t[3]=c):(a=t[2],c=t[3]);const u=(0,Re.useCallback)(a,c);let m;t[4]!==s?(m=(e,t)=>{e.preventDefault(),t.classList.add("web-stories-story-picker-show-drag-inserter");const r=t.getBoundingClientRect();Math.abs(e.clientX-r.x)>Math.abs(e.clientX-(r.x+r.width))?t.classList.add("web-stories-story-picker-show-drag-inserter-right"):t.classList.remove("web-stories-story-picker-show-drag-inserter-right");const n=Number(t.children[0].dataset.order);s(n)},t[4]=s,t[5]=m):m=t[5];const d=(0,E.useThrottle)(m);let p,b,h;return t[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,v.__)("Sorting Stories","web-stories"),t[6]=p):p=t[6],t[7]!==l||t[8]!==o||t[9]!==u||t[10]!==r||t[11]!==i||t[12]!==d?(b=r.map(((e,t)=>y.createElement("div",{key:e.id,onDragOver:e=>{d(e,e.currentTarget)},onDragLeave:e=>{e.preventDefault(),d.cancel();e.target.closest(".droppable").classList.remove("web-stories-story-picker-show-drag-inserter","web-stories-story-picker-show-drag-inserter-right")},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),d.cancel(),l){const e=r.findIndex((e=>e.id===l));u(e,o)}e.target.closest(".droppable").classList.remove("web-stories-story-picker-show-drag-inserter","web-stories-story-picker-show-drag-inserter-right")},className:"droppable"},y.createElement("div",{"data-order":t,id:`draggable-story-${e.id}`},y.createElement(Oe.Draggable,{elementId:`draggable-story-${e.id}`},(r=>{const{onDraggableStart:n,onDraggableEnd:o}=r;return y.createElement("div",{key:e.id,role:"listitem",className:"web-stories-story-picker-filter__grid_item",onDragStart:t=>{i(e.id),n(t)},onDragEnd:e=>{o(e)},"data-order":t,draggable:!0},y.createElement(Ue,{story:e,isSelectable:!1}))})))))),t[7]=l,t[8]=o,t[9]=u,t[10]=r,t[11]=i,t[12]=d,t[13]=b):b=t[13],t[14]!==b?(h=y.createElement("div",{role:"list","aria-label":p,className:"web-stories-story-picker-filter__grid"},b),t[14]=b,t[15]=h):h=t[15],h},{config:{api:{stories:Je}}}=window.webStoriesBlockSettings;const Ye=function StoryPicker({selectedStories:e,setSelectedStories:t,closeStoryPicker:r,isSortingStories:n=!1,setIsSortingStories:o=()=>{},maxNumOfStories:s}){const{createErrorNotice:l}=(0,Me.useDispatch)(je.store),[i,a]=(0,Re.useState)(e),[c,u]=(0,Re.useState)(!0),[m,d]=(0,Re.useState)("idle"),[p,b]=(0,Re.useState)([]),[h,_]=(0,Re.useState)([]),w=(0,Re.useCallback)((()=>{r(),t(i)}),[r,t,i]),g=(0,Re.useCallback)((async({orderby:e="modified",order:t="desc",search:r,author:n,page:o=1}={})=>{const s={_embed:"author,wp:featuredmedia",context:"edit",_web_stories_envelope:!0,search:r,author:n,page:o,per_page:10,orderby:e,order:t,status:"publish"};try{d("loading");const e=await Be({path:(0,He.addQueryArgs)(Je,s)}),t=Number(e?.headers?.["X-WP-TotalPages"]);_(o===t),b((t=>1===o?e.body:[...t,...e.body]))}catch{d("error"),l((0,v.__)("Unable to load stories","web-stories"),{type:"snackbar"})}finally{d("idle"),u(!1)}}),[l]);(0,Re.useEffect)((()=>{c&&g()}),[c,g]);const f=1===s?(0,v.__)("Selected Story","web-stories"):(0,v.__)("Selected Stories","web-stories");return y.createElement(Oe.Modal,{title:f,onRequestClose:r,shouldCloseOnClickOutside:!1,className:"web-stories-story-picker-modal"},y.createElement("div",{className:"web-stories-story-picker-modal__content"},c?y.createElement(Ie,null,(0,v.__)("Loading Stories…","web-stories")):n?y.createElement(Ke,{selectedStories:i,setSelectedStories:a}):y.createElement(Qe,{stories:p,selectedStories:i,setSelectedStories:a,hasAllStories:h,fetchStories:g,maxNumOfStories:s,isLoading:"loading"===m})),y.createElement("div",{className:"web-stories-story-picker-modal__footer"},y.createElement("div",{className:"web-stories-story-picker-modal__footer--left"},!n&&!c&&s>1&&y.createElement("p",null,(0,v.sprintf)(/* translators: %1$d: Number of selected stories, %2$d: Maximum allowed stories */ /* translators: %1$d: Number of selected stories, %2$d: Maximum allowed stories */
(0,v._n)("%1$d of %2$d story selected","%1$d of %2$d stories selected",s,"web-stories"),i.length,s))),y.createElement("div",{className:"web-stories-story-picker-modal__footer--right"},s>1&&(n?y.createElement(Oe.Button,{onClick:()=>o(!1)},(0,v.__)("Select Stories","web-stories")):y.createElement(Oe.Button,{onClick:()=>o(!0),disabled:i.length<2},(0,v.__)("Rearrange Stories","web-stories"))),y.createElement(Oe.Button,{isPrimary:!0,disabled:!i.length,onClick:w},(0,v.__)("Update","web-stories")))))},Ze=window.wp.primitives,et=window.ReactJSXRuntime,tt=(0,et.jsx)(Ze.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,et.jsx)(Ze.Path,{d:"m6.734 16.106 2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.158 1.093-1.028-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734Z"})}),rt=e=>{const t=(0,S.c)(12),{url:r,onChange:n,onSubmit:o,onClose:s}=e;let l,i,a,c,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,v.__)("Story URL","web-stories"),i=(0,v.__)("Paste or type URL","web-stories"),t[0]=l,t[1]=i):(l=t[0],i=t[1]),t[2]!==n||t[3]!==r?(a=y.createElement("input",{className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":l,placeholder:i,onChange:n,value:r}),t[2]=n,t[3]=r,t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c=y.createElement(Oe.Button,{className:"block-editor-media-placeholder__url-input-submit-button",icon:tt,label:(0,v.__)("Embed","web-stories"),type:"submit"}),t[5]=c):c=t[5],t[6]!==o||t[7]!==a?(u=y.createElement("form",{className:"block-editor-media-placeholder__url-input-form","data-testid":"embed-placeholder-form",onSubmit:o},a,c),t[6]=o,t[7]=a,t[8]=u):u=t[8],t[9]!==s||t[10]!==u?(m=y.createElement(Le.URLPopover,{onClose:s},u),t[9]=s,t[10]=u,t[11]=m):m=t[11],m},nt=e=>{const t=(0,S.c)(60),{icon:r,label:n,value:o,onSubmit:s,cannotEmbed:l,errorMessage:i,selectedStories:a,setSelectedStories:c}=e,u=void 0!==l&&l;let m;t[0]!==a?(m=void 0===a?[]:a,t[0]=a,t[1]=m):m=t[1];const d=m,[p,b]=(0,Re.useState)(o),[h,_]=(0,Re.useState)(!1),[w,g]=(0,Re.useState)(!1);let f;t[2]!==g?(f=()=>g(!0),t[2]=g,t[3]=f):f=t[3];const E=f;let k,C;t[4]!==g?(k=()=>{g(!1)},t[4]=g,t[5]=k):k=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(C=[],t[6]=C):C=t[6];const x=(0,Re.useCallback)(k,C);let N;t[7]!==_?(N=()=>_(!0),t[7]=_,t[8]=N):N=t[8];const T=N;let R;t[9]!==_?(R=()=>_(!1),t[9]=_,t[10]=R):R=t[10];const B=R;let O;t[11]!==b?(O=e=>{b(e.target.value)},t[11]=b,t[12]=O):O=t[12];const M=O;let L;t[13]!==B||t[14]!==s||t[15]!==p?(L=e=>{e.preventDefault(),B(),s(p)},t[13]=B,t[14]=s,t[15]=p,t[16]=L):L=t[16];const A=L,I=d.length>0;let z,P,$,q,H,j,D,F,W,U,V,G,Q;return t[17]!==r?(z=y.createElement(Le.BlockIcon,{icon:r,showColors:!0}),t[17]=r,t[18]=z):z=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(P=(0,v.__)("Select an existing story from your site, or add one with a URL.","web-stories"),t[19]=P):P=t[19],t[20]!==I?($=I?(0,v.__)("Replace Story","web-stories"):(0,v.__)("Select Story","web-stories"),t[20]=I,t[21]=$):$=t[21],t[22]!==E||t[23]!==$?(q=y.createElement(Oe.Button,{isPrimary:!0,onClick:E},$),t[22]=E,t[23]=$,t[24]=q):q=t[24],t[25]!==I||t[26]!==o?(H=!I&&o?(0,v.__)("Replace URL","web-stories"):(0,v.__)("Insert from URL","web-stories"),t[25]=I,t[26]=o,t[27]=H):H=t[27],t[28]!==h||t[29]!==T||t[30]!==H?(j=y.createElement(Oe.Button,{className:"block-editor-media-placeholder__button",onClick:T,isPressed:h,variant:"tertiary"},H),t[28]=h,t[29]=T,t[30]=H,t[31]=j):j=t[31],t[32]!==B||t[33]!==h||t[34]!==M||t[35]!==A||t[36]!==p?(D=h&&y.createElement(rt,{url:p,onChange:M,onSubmit:A,onClose:B}),t[32]=B,t[33]=h,t[34]=M,t[35]=A,t[36]=p,t[37]=D):D=t[37],t[38]!==j||t[39]!==D?(F=y.createElement("div",{className:"block-editor-media-placeholder__url-input-container"},j,D),t[38]=j,t[39]=D,t[40]=F):F=t[40],t[41]!==q||t[42]!==F?(W=y.createElement(y.Fragment,null,q,F),t[41]=q,t[42]=F,t[43]=W):W=t[43],t[44]!==u||t[45]!==i?(U=u&&y.createElement("div",{className:"components-placeholder__error"},y.createElement("div",{className:"components-placeholder__instructions"},(0,v.__)("Sorry, this content could not be embedded.","web-stories"),i&&y.createElement(y.Fragment,null," ",(0,v.sprintf)((0,v.__)("Reason: %s.","web-stories"),i)))),t[44]=u,t[45]=i,t[46]=U):U=t[46],t[47]!==n||t[48]!==z||t[49]!==W||t[50]!==U?(V=y.createElement(Oe.Placeholder,{icon:z,label:n,className:"wp-block-web-stories-embed",instructions:P},W,U),t[47]=n,t[48]=z,t[49]=W,t[50]=U,t[51]=V):V=t[51],t[52]!==x||t[53]!==w||t[54]!==d||t[55]!==c?(G=w&&y.createElement(Ye,{closeStoryPicker:x,maxNumOfStories:1,selectedStories:d,setSelectedStories:c}),t[52]=x,t[53]=w,t[54]=d,t[55]=c,t[56]=G):G=t[56],t[57]!==V||t[58]!==G?(Q=y.createElement(y.Fragment,null,V,G),t[57]=V,t[58]=G,t[59]=Q):Q=t[59],Q};function StoryPlayer(e,t){const r=(0,S.c)(15),{url:n,title:o,poster:s,width:l,height:i}=e,a=l?`${l}px`:void 0,c=i?`${i}px`:void 0;let u,m,d,p;return r[0]!==a||r[1]!==c?(u={width:a,height:c},r[0]=a,r[1]=c,r[2]=u):u=r[2],r[3]!==i||r[4]!==s||r[5]!==o||r[6]!==l?(m=s?y.createElement("img",{alt:o,src:s,width:l,height:i,"data-amp-story-player-poster-img":!0}):o,r[3]=i,r[4]=s,r[5]=o,r[6]=l,r[7]=m):m=r[7],r[8]!==m||r[9]!==n?(d=y.createElement("a",{href:n},m),r[8]=m,r[9]=n,r[10]=d):d=r[10],r[11]!==t||r[12]!==u||r[13]!==d?(p=y.createElement("amp-story-player",{ref:t,style:u,"data-testid":"amp-story-player"},d),r[11]=t,r[12]=u,r[13]=d,r[14]=p):p=r[14],p}const ot=(0,Re.forwardRef)(StoryPlayer);StoryPlayer.propTypes={url:Te.string.isRequired,title:Te.string.isRequired,poster:Te.string,width:Te.number,height:Te.number};const st=ot;function EmbedPreview(e,t){const r=(0,S.c)(25),{url:n,title:o,poster:s,isSelected:l,width:i,height:a}=e,[c,u]=(0,Re.useState)(!1);let m,d,p,b;r[0]!==c||r[1]!==l||r[2]!==u?(m=()=>{!l&&c&&u(!1)},d=[l,c,u],r[0]=c,r[1]=l,r[2]=u,r[3]=m,r[4]=d):(m=r[3],d=r[4]),(0,Re.useEffect)(m,d),r[5]!==u?(p=()=>u(!0),b=[u],r[5]=u,r[6]=p,r[7]=b):(p=r[6],b=r[7]);const h=(0,Re.useCallback)(p,b),_=0!==i?a/i:1,w=`${i}px`,g=`${a}px`;let f,v,E,k;return r[8]!==_||r[9]!==w||r[10]!==g?(f={"--aspect-ratio":_,"--width":w,"--height":g},r[8]=_,r[9]=w,r[10]=g,r[11]=f):f=r[11],r[12]!==h||r[13]!==s||r[14]!==t||r[15]!==o||r[16]!==n?(v=y.createElement(st,{url:n,title:o,poster:s,ref:t,onFocus:h}),r[12]=h,r[13]=s,r[14]=t,r[15]=o,r[16]=n,r[17]=v):v=r[17],r[18]!==h||r[19]!==c?(E=!c&&y.createElement("div",{className:"web-stories-embed-preview-overlay","data-testid":"embed-preview-overlay",onMouseUp:h}),r[18]=h,r[19]=c,r[20]=E):E=r[20],r[21]!==E||r[22]!==f||r[23]!==v?(k=y.createElement("div",{className:"web-stories-embed-preview wp-block-embed__wrapper",style:f},v,E),r[21]=E,r[22]=f,r[23]=v,r[24]=k):k=r[24],k}const lt=(0,Re.forwardRef)(EmbedPreview);EmbedPreview.propTypes={url:Te.string.isRequired,title:Te.string.isRequired,poster:Te.string,isSelected:Te.bool,width:Te.number.isRequired,height:Te.number.isRequired};const it=lt;function Singleton(e){const t=(0,S.c)(15),{title:r,poster:n,width:o,height:s}=e,l=0!==s?o/s:1,i=`${o}px`,a=`${s}px`;let c,u,m,d,p;return t[0]!==l||t[1]!==i||t[2]!==a?(c={"--aspect-ratio":l,"--width":i,"--height":a},t[0]=l,t[1]=i,t[2]=a,t[3]=c):c=t[3],t[4]!==n||t[5]!==r?(u=y.createElement("div",{className:"web-stories-singleton-poster"},n?y.createElement("img",{src:n,alt:r}):y.createElement("div",{className:"web-stories-singleton-poster-placeholder"},y.createElement("span",null,r))),t[4]=n,t[5]=r,t[6]=u):u=t[6],t[7]!==r?(m=r&&y.createElement(Re.RawHTML,{className:"story-content-overlay__title"},r),t[7]=r,t[8]=m):m=t[8],t[9]!==m?(d=y.createElement("div",{className:"web-stories-singleton-overlay"},m),t[9]=m,t[10]=d):d=t[10],t[11]!==c||t[12]!==u||t[13]!==d?(p=y.createElement("div",{className:"web-stories-singleton"},y.createElement("div",{className:"wp-block-embed__wrapper",style:c},u,d)),t[11]=c,t[12]=u,t[13]=d,t[14]=p):p=t[14],p}Singleton.propTypes={title:Te.string,poster:Te.string,width:Te.number,height:Te.number};const at=Singleton;const ct=function StoryEmbedEdit({attributes:e,setAttributes:t,className:r,isSelected:n,context:o={}}){const{url:s="",width:l=360,height:i=600,align:a="none",poster:c,title:u,stories:m=[],previewOnly:d=!1}=e,{postId:p,queryId:b}=o,h=Number.isFinite(b),[_,w]=(0,Re.useState)(!1),[f,S]=(0,Re.useState)(h?void 0:s),[k,C]=(0,Re.useState)(!1),[x,N]=(0,Re.useState)(!1),[T,R]=(0,Re.useState)({}),[B,O]=(0,Re.useState)(!1),[M,L]=(0,Re.useState)(h?[p]:m),[A,I]=(0,Re.useState)([]),z=k,P=!f||!s||_||B,$=(0,E.useViewportMatch)("medium"),q=(0,Re.useRef)();(0,Re.useEffect)((()=>{e.stories.toString()!==M.toString()&&t({stories:M})}),[e.stories,t,M]),(0,Re.useEffect)((()=>{M.length&&!A.length&&N(!0)}),[M,A,N]),(0,Re.useEffect)((()=>{S(s),g("story_embedded")}),[s]),(0,Re.useEffect)((()=>{g("story_poster_changed")}),[c]),(0,Re.useEffect)((()=>{if(q.current&&window.AmpStoryPlayer){const e=new window.AmpStoryPlayer(window,q.current);try{e.load()}catch{}}}),[z,P,$,d]);const H=(0,Re.useCallback)((async e=>{if(e)try{C(!0);const r=encodeURIComponent(new URL(e).toString()),n=await Be({path:`web-stories/v1/embed?url=${r}`});O(!("string"==typeof n?.title)),R(n),t({url:e})}catch(e){e instanceof TypeError||R(e),O(!0)}finally{C(!1)}}),[t]);(0,Re.useEffect)((()=>{(T?.title||T?.poster)&&t({title:T?.title,poster:T?.poster})}),[s,t,T?.title,T?.poster]);const j=(0,Re.useCallback)((e=>{I(e),L(e.map((e=>e.id)));const r=e?.[0],n=r?.link;R({title:r?.title?.rendered,poster:r?._embedded?.["wp:featuredmedia"]?.[0]?.source_url}),S(n),w(!1),O(!1),t({url:n})}),[I,t]),D=(0,Re.useCallback)((e=>{I([]),L([]),w(!1),O(!1),S(e),e!==s&&H(e)}),[s,H]),F=(0,Re.useCallback)((()=>{w(!0)}),[]),{isRTL:W,maxWidth:U}=(0,Me.useSelect)((e=>{const{getSettings:t}=e(Le.store),r=t();return{isRTL:r.isRTL,maxWidth:r.maxWidth}}),[]),{toggleSelection:V}=(0,Me.useDispatch)(Le.store);if(z)return y.createElement(qe,null);const G=(0,v.__)("Single Story","web-stories");if(P)return x?y.createElement(ze,{icon:y.createElement(BlockIcon,null),label:G,selectedStoryIds:M,setSelectedStories:j,setIsFetching:N}):y.createElement(nt,{icon:y.createElement(BlockIcon,null),label:G,value:f,onSubmit:D,cannotEmbed:B,errorMessage:T?.message,selectedStories:A,setSelectedStories:j});const Q=l/i,X=l<i?20:20*Q,K=i<l?20:20/Q;if(!$)return y.createElement(y.Fragment,null,y.createElement($e,{switchBackToURLInput:F,poster:c,title:u,setAttributes:t,width:l,height:i,minWidth:Math.ceil(X),maxWidth:Math.floor(U),minHeight:Math.floor(K),maxHeight:Math.ceil(U/Q),previewOnly:d}),y.createElement("div",{className:`${r} web-stories-embed align${a}`},d?y.createElement(at,{title:u,poster:c,width:l,height:i}):y.createElement(it,{url:s,title:u,poster:c,ref:q,isSelected:n,width:l,height:i})));const J="center"===a||"none"===a||"right"===a&&W||"left"===a&&!W,Y="center"===a||"left"===a&&W||"right"===a&&!W;return y.createElement(y.Fragment,null,y.createElement($e,{switchBackToURLInput:F,poster:c,title:u,setAttributes:t,width:l,height:i,minWidth:Math.ceil(X),maxWidth:Math.floor(U),minHeight:Math.floor(K),maxHeight:Math.ceil(U/Q),previewOnly:d}),y.createElement("div",{className:`${r} web-stories-embed align${a}`},y.createElement(Oe.ResizableBox,{className:n?"show-resize-handle":"hide-resize-handle",size:{width:l,height:i},minWidth:X,maxWidth:U,minHeight:K,maxHeight:U/Q,lockAspectRatio:!0,enable:{top:!1,right:J,bottom:!0,left:Y},onResizeStart:()=>V(!1),onResizeStop:(e,r,n,o)=>{V(!0),t({width:Number.parseInt(l+o.width),height:Number.parseInt(i+o.height)})}},d?y.createElement(at,{title:u,poster:c,width:l,height:i}):y.createElement(it,{url:s,title:u,poster:c,ref:q,isSelected:n,width:l,height:i}))))};var ut=__webpack_require__(464);const mt=e=>{const t=(0,S.c)(33),{width:r,height:n,minWidth:o,maxWidth:s,minHeight:l,maxHeight:i,previewOnly:a,setAttributes:c}=e;let u,m;t[0]!==a||t[1]!==c?(u=()=>{c({previewOnly:!a})},m=[c,a],t[0]=a,t[1]=c,t[2]=u,t[3]=m):(u=t[2],m=t[3]);const d=(0,Re.useCallback)(u,m);let p,b,h;t[4]===Symbol.for("react.memo_cache_sentinel")?(p=(0,v.__)("Embed Settings","web-stories"),t[4]=p):p=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(b=y.createElement(Oe.BaseControl.VisualLabel,null,(0,v.__)("Story dimensions","web-stories")),t[5]=b):b=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,v.__)("Width","web-stories"),t[6]=h):h=t[6];const _=r||"";let w,g,f;t[7]!==c?(w=e=>c({width:Number.parseInt(e)}),t[7]=c,t[8]=w):w=t[8],t[9]!==s||t[10]!==o||t[11]!==_||t[12]!==w?(g=y.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__width",label:h,value:_,min:o,max:s,onChange:w,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t[9]=s,t[10]=o,t[11]=_,t[12]=w,t[13]=g):g=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,v.__)("Height","web-stories"),t[14]=f):f=t[14];const E=n||"";let k,C,x,N,T,R,B;return t[15]!==c?(k=e=>c({height:Number.parseInt(e)}),t[15]=c,t[16]=k):k=t[16],t[17]!==i||t[18]!==l||t[19]!==k||t[20]!==E?(C=y.createElement(Oe.TextControl,{type:"number",className:"web-stories-embed-size-control__height",label:f,value:E,min:l,max:i,onChange:k,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t[17]=i,t[18]=l,t[19]=k,t[20]=E,t[21]=C):C=t[21],t[22]!==C||t[23]!==g?(x=y.createElement(Oe.PanelRow,null,y.createElement(Oe.BaseControl,{className:"web-stories-embed-size-control",__nextHasNoMarginBottom:!0},b,y.createElement("div",{className:"web-stories-embed-size-control__row"},g,C))),t[22]=C,t[23]=g,t[24]=x):x=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(N=(0,v.__)("Display as preview","web-stories"),t[25]=N):N=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,v.__)("Displays the story poster that opens the story in a lightbox on click","web-stories"),t[26]=T):T=t[26],t[27]!==d||t[28]!==a?(R=y.createElement(Oe.PanelRow,null,y.createElement(Oe.BaseControl,{__nextHasNoMarginBottom:!0},y.createElement(Oe.ToggleControl,{label:N,checked:a,onChange:d,help:T,__nextHasNoMarginBottom:!0}))),t[27]=d,t[28]=a,t[29]=R):R=t[29],t[30]!==x||t[31]!==R?(B=y.createElement(Le.InspectorControls,null,y.createElement(Oe.PanelBody,{title:p},x,R)),t[30]=x,t[31]=R,t[32]=B):B=t[32],B};function StoryEmbedEditInLoop(e){const t=(0,S.c)(95),{attributes:r,setAttributes:n,className:o,isSelected:s,context:l}=e;let i;t[0]!==l?(i=void 0===l?{}:l,t[0]=l,t[1]=i):i=t[1];const a=i,{width:c,height:u,align:m,previewOnly:d}=r,p=void 0===c?360:c,b=void 0===u?600:u,h=void 0===m?"none":m,_=void 0!==d&&d,{postId:w}=a;let g,f;t[2]!==w?(g=e=>{const{getEntityRecord:t,isResolving:r}=e(Ae.store);let n=null;const o=t("postType","web-story",w);return o&&(n={url:o.link,title:o.title?.rendered,poster:o._embedded?.["wp:featuredmedia"]?.[0]?.source_url}),{story:n,isFetching:r("postType","web-story",w)||!1}},f=[w],t[2]=w,t[3]=g,t[4]=f):(g=t[3],f=t[4]);const{story:k,isFetching:C}=(0,Me.useSelect)(g,f);let x;t[5]===Symbol.for("react.memo_cache_sentinel")?(x=[],t[5]=x):x=t[5];const{isRTL:N,maxWidth:T}=(0,Me.useSelect)(dt,x),R=(0,E.useViewportMatch)("medium"),B=(0,Re.useRef)();let O,M;t[6]!==_||t[7]!==B.current?(O=()=>{if(B.current&&window.AmpStoryPlayer&&!_){const e=new window.AmpStoryPlayer(window,B.current);try{e.load()}catch{}}},t[6]=_,t[7]=B.current,t[8]=O):O=t[8],t[9]!==R||t[10]!==_||t[11]!==k?(M=[k,R,_],t[9]=R,t[10]=_,t[11]=k,t[12]=M):M=t[12],(0,Re.useEffect)(O,M);const{toggleSelection:L}=(0,Me.useDispatch)(Le.store);if(C){let e;return t[13]===Symbol.for("react.memo_cache_sentinel")?(e=y.createElement(qe,null),t[13]=e):e=t[13],e}let A;t[14]!==L?(A=()=>L(!1),t[14]=L,t[15]=A):A=t[15];const I=A;let z;t[16]!==L?(z=()=>L(!0),t[16]=L,t[17]=z):z=t[17];const P=z;let $;t[18]===Symbol.for("react.memo_cache_sentinel")?($=(0,v.__)("Single Story","web-stories"),t[18]=$):$=t[18];const q=$;if(C){let e,r;return t[19]===Symbol.for("react.memo_cache_sentinel")?(e=y.createElement(Le.BlockIcon,{icon:y.createElement(BlockIcon,null),showColors:!0}),t[19]=e):e=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(r=y.createElement(Oe.Placeholder,{icon:e,label:q,className:"wp-block-web-stories-embed",instructions:!1},y.createElement(Ie,null,(0,v.__)("Loading Story…","web-stories"))),t[20]=r):r=t[20],r}const H=p/b,j=p<b?20:20*H,D=b<p?20:20/H,F=!_;let W;t[21]!==h||t[22]!==o||t[23]!==_||t[24]!==F?(W=ut(o,{"web-stories-embed":F},{"web-stories-singleton":_},`align${h||"none"}`),t[21]=h,t[22]=o,t[23]=_,t[24]=F,t[25]=W):W=t[25];const U=W;if(!R){const e=Math.ceil(j),r=Math.floor(T),o=Math.floor(D),l=Math.ceil(T/H);let i,a,c,u;return t[26]!==b||t[27]!==n||t[28]!==e||t[29]!==r||t[30]!==o||t[31]!==l||t[32]!==p?(i=y.createElement(mt,{setAttributes:n,width:p,height:b,minWidth:e,maxWidth:r,minHeight:o,maxHeight:l}),t[26]=b,t[27]=n,t[28]=e,t[29]=r,t[30]=o,t[31]=l,t[32]=p,t[33]=i):i=t[33],t[34]!==b||t[35]!==s||t[36]!==_||t[37]!==B||t[38]!==k.poster||t[39]!==k.title||t[40]!==k.url||t[41]!==p?(a=_?y.createElement(at,{title:k.title,poster:k.poster,width:p,height:b}):y.createElement(it,{url:k.url,title:k.title,poster:k.poster,ref:B,isSelected:s,width:p,height:b}),t[34]=b,t[35]=s,t[36]=_,t[37]=B,t[38]=k.poster,t[39]=k.title,t[40]=k.url,t[41]=p,t[42]=a):a=t[42],t[43]!==U||t[44]!==a?(c=y.createElement("div",{className:U},a),t[43]=U,t[44]=a,t[45]=c):c=t[45],t[46]!==i||t[47]!==c?(u=y.createElement(y.Fragment,null,i,c),t[46]=i,t[47]=c,t[48]=u):u=t[48],u}const V="center"===h||"none"===h||"right"===h&&N||"left"===h&&!N,G="center"===h||"left"===h&&N||"right"===h&&!N,Q=Math.ceil(j),X=Math.floor(T),K=Math.floor(D),J=Math.ceil(T/H);let Y;t[49]!==b||t[50]!==_||t[51]!==n||t[52]!==Q||t[53]!==X||t[54]!==K||t[55]!==J||t[56]!==p?(Y=y.createElement(mt,{setAttributes:n,width:p,height:b,minWidth:Q,maxWidth:X,minHeight:K,maxHeight:J,previewOnly:_}),t[49]=b,t[50]=_,t[51]=n,t[52]=Q,t[53]=X,t[54]=K,t[55]=J,t[56]=p,t[57]=Y):Y=t[57];const Z=s?"show-resize-handle":"hide-resize-handle";let ee;t[58]!==b||t[59]!==p?(ee={width:p,height:b},t[58]=b,t[59]=p,t[60]=ee):ee=t[60];const te=T/H;let re,ne,oe,se,le,ie;return t[61]!==G||t[62]!==V?(re={top:!1,right:V,bottom:!0,left:G},t[61]=G,t[62]=V,t[63]=re):re=t[63],t[64]!==b||t[65]!==P||t[66]!==n||t[67]!==p?(ne=(e,t,r,o)=>{P(),n({width:Number.parseInt(p+o.width),height:Number.parseInt(b+o.height)})},t[64]=b,t[65]=P,t[66]=n,t[67]=p,t[68]=ne):ne=t[68],t[69]!==b||t[70]!==s||t[71]!==_||t[72]!==B||t[73]!==k.poster||t[74]!==k.title||t[75]!==k.url||t[76]!==p?(oe=_?y.createElement(at,{title:k.title,poster:k.poster,width:p,height:b}):y.createElement(it,{url:k.url,title:k.title,poster:k.poster,ref:B,isSelected:s,width:p,height:b}),t[69]=b,t[70]=s,t[71]=_,t[72]=B,t[73]=k.poster,t[74]=k.title,t[75]=k.url,t[76]=p,t[77]=oe):oe=t[77],t[78]!==T||t[79]!==D||t[80]!==j||t[81]!==I||t[82]!==Z||t[83]!==ee||t[84]!==te||t[85]!==re||t[86]!==ne||t[87]!==oe?(se=y.createElement(Oe.ResizableBox,{className:Z,size:ee,minWidth:j,maxWidth:T,minHeight:D,maxHeight:te,lockAspectRatio:!0,enable:re,onResizeStart:I,onResizeStop:ne},oe),t[78]=T,t[79]=D,t[80]=j,t[81]=I,t[82]=Z,t[83]=ee,t[84]=te,t[85]=re,t[86]=ne,t[87]=oe,t[88]=se):se=t[88],t[89]!==U||t[90]!==se?(le=y.createElement("div",{className:U},se),t[89]=U,t[90]=se,t[91]=le):le=t[91],t[92]!==Y||t[93]!==le?(ie=y.createElement(y.Fragment,null,Y,le),t[92]=Y,t[93]=le,t[94]=ie):ie=t[94],ie}function dt(e){const{getSettings:t}=e(Le.store),r=t();return{isRTL:r.isRTL,maxWidth:r.maxWidth}}StoryEmbedEditInLoop.propTypes={attributes:Te.shape({url:Te.string,title:Te.string,poster:Te.string,stories:Te.array,width:Te.number,height:Te.number,align:Te.string,previewOnly:Te.bool}),setAttributes:Te.func.isRequired,className:Te.string.isRequired,isSelected:Te.bool,context:Te.shape({postType:Te.string,postId:Te.number})};const pt=StoryEmbedEditInLoop,bt="latest-stories",ht="selected-stories",_t="url",wt=[{id:bt,label:(0,v.__)("Latest Stories","web-stories"),description:(0,v.__)("Embed latest web stories.","web-stories"),icon:de},{id:ht,label:(0,v.__)("Selected Stories","web-stories"),description:(0,v.__)("Manually select web stories.","web-stories"),icon:pe},{id:_t,label:(0,v.__)("Single Story","web-stories"),description:(0,v.__)("Embed a single story.","web-stories"),icon:be}],gt="grid",ft="list",yt="circles",vt="carousel",St=[{id:vt,label:(0,v.__)("Box Carousel","web-stories"),icon:he,panelIcon:fe},{id:yt,label:(0,v.__)("Circle Carousel","web-stories"),icon:_e,panelIcon:ve},{id:gt,label:(0,v.__)("Grid","web-stories"),icon:we,panelIcon:Se},{id:ft,label:(0,v.__)("List","web-stories"),icon:ge,panelIcon:ye}];function BlockTypeSwitcher(e){const t=(0,S.c)(3),{selectedBlockType:r,setAttributes:n}=e;let o;return t[0]!==r||t[1]!==n?(o=y.createElement(Oe.ToolbarGroup,null,Oe.ToolbarItem?y.createElement(Oe.ToolbarItem,null,(e=>y.createElement(Oe.DropdownMenu,{icon:"update",toggleProps:e,label:(0,v.__)("Change Type","web-stories"),controls:wt.filter((e=>e.id!==r)).map((e=>({title:e.label,onClick:()=>n({blockType:e.id})})))}))):y.createElement(Oe.DropdownMenu,{icon:"update",label:(0,v.__)("Change Type","web-stories"),controls:wt.filter((e=>e.id!==r)).map((e=>({title:e.label,onClick:()=>n({blockType:e.id})})))})),t[0]=r,t[1]=n,t[2]=o):o=t[2],o}BlockTypeSwitcher.propTypes={selectedBlockType:Te.string.isRequired,setAttributes:Te.func.isRequired};const Et=BlockTypeSwitcher,kt=e=>{const t=(0,S.c)(12),{blockType:r,viewType:n,setAttributes:o}=e;let s,l,i,a;return t[0]!==r||t[1]!==o||t[2]!==n?(s=r&&_t!==r&&y.createElement(Re.Fragment,null,St.map((e=>Oe.ToolbarButton?y.createElement(Oe.ToolbarButton,{key:e.id,label:e.label,icon:e.icon,onClick:()=>{o({viewType:e.id})},isPressed:e.id===n}):y.createElement(Oe.Button,{key:e.id,label:e.label,icon:e.icon,onClick:()=>{o({viewType:e.id})},isPressed:e.id===n})))),t[0]=r,t[1]=o,t[2]=n,t[3]=s):s=t[3],t[4]!==s?(l=y.createElement(Oe.ToolbarGroup,null,s),t[4]=s,t[5]=l):l=t[5],t[6]!==r||t[7]!==o?(i=y.createElement(Et,{selectedBlockType:r,setAttributes:o}),t[6]=r,t[7]=o,t[8]=i):i=t[8],t[9]!==l||t[10]!==i?(a=y.createElement(Le.BlockControls,null,l,i),t[9]=l,t[10]=i,t[11]=a):a=t[11],a};function BlockConfigurationPanel(e){const t=(0,S.c)(17),{instructions:r,icon:n,setAttributes:o,selectionOptions:s,selectionType:l}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,v.__)("Web Stories","web-stories"),t[0]=i):i=t[0];const a=i;let c,u,m,d,p;if(t[1]!==n?(c=y.createElement(Le.BlockIcon,{icon:n,showColors:!0}),t[1]=n,t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,v.__)("Block Types","web-stories"),t[3]=u):u=t[3],t[4]!==s||t[5]!==l||t[6]!==o){let e;t[8]!==l||t[9]!==o?(e=e=>y.createElement("li",{key:e.id},y.createElement(Oe.Button,{variant:"secondary",isSecondary:!0,onClick:()=>{o({[l]:e.id})},icon:y.createElement(Oe.Icon,{icon:e.panelIcon||e.icon,title:e.label}),label:e.description||e.label}),y.createElement("span",{className:"web-stories-block-configuration-panel__label components-placeholder__instructions",role:"presentation"},e.label)),t[8]=l,t[9]=o,t[10]=e):e=t[10],m=s.map(e),t[4]=s,t[5]=l,t[6]=o,t[7]=m}else m=t[7];return t[11]!==m?(d=y.createElement("ul",{className:"web-stories-block-configuration-panel__options",role:"list","aria-label":u},m),t[11]=m,t[12]=d):d=t[12],t[13]!==r||t[14]!==c||t[15]!==d?(p=y.createElement(Oe.Placeholder,{icon:c,label:a,instructions:r,className:"web-stories-block-configuration-panel"},d),t[13]=r,t[14]=c,t[15]=d,t[16]=p):p=t[16],p}BlockConfigurationPanel.propTypes={selectionType:Te.string,selectionOptions:Te.array,instructions:Te.string,icon:Te.node,setAttributes:Te.func.isRequired};const Ct=BlockConfigurationPanel,xt=e=>{const t=(0,S.c)(9),{label:r,value:n,onChange:o,onInputChange:s,placeholder:l,options:i}=e;let a;t[0]!==i?(a=void 0===i?[]:i,t[0]=i,t[1]=a):a=t[1];const c=a;let u;return t[2]!==r||t[3]!==o||t[4]!==s||t[5]!==c||t[6]!==l||t[7]!==n?(u=Array.isArray(c)&&y.createElement("div",{className:"components-base-control"},y.createElement(Oe.FormTokenField,{value:n,suggestions:c,onChange:o,onInputChange:s,maxSuggestions:100,label:r,placeholder:l,__nextHasNoMarginBottom:!0})),t[2]=r,t[3]=o,t[4]=s,t[5]=c,t[6]=l,t[7]=n,t[8]=u):u=t[8],u},Nt={per_page:100},Tt=e=>{const t=(0,S.c)(23),{authors:r,setAttributes:n}=e,[o,s]=(0,Re.useState)("");let l,i;t[0]!==r?(l=e=>{const{getUsers:t}=e(Ae.store);return{authorsList:t({...Nt,include:r.join(",")})||[]}},i=[r],t[0]=r,t[1]=l,t[2]=i):(l=t[1],i=t[2]);const{authorsList:a}=(0,Me.useSelect)(l,i);let c,u;t[3]!==o?(c=e=>{const{getUsers:t}=e(Ae.store);return{authorSuggestions:t({...Nt,search:o})||[]}},u=[o],t[3]=o,t[4]=c,t[5]=u):(c=t[4],u=t[5]);const{authorSuggestions:m}=(0,Me.useSelect)(c,u);let d,p;t[6]!==m||t[7]!==a||t[8]!==n?(d=e=>{if(void 0===e||!Array.isArray(e))return;const t=e.map((e=>[...m,...a].find((t=>{const{name:r}=t;return r===e})))).filter(Boolean).map(Rt);n({authors:t})},p=[m,a,n],t[6]=m,t[7]=a,t[8]=n,t[9]=d,t[10]=p):(d=t[9],p=t[10]);const b=(0,Re.useCallback)(d,p);let h;t[11]!==s?(h=e=>s(e),t[11]=s,t[12]=h):h=t[12];const _=h,w=(0,E.useDebounce)(_,500);let g,f,k,C;return t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,v.__)("Authors","web-stories"),t[13]=g):g=t[13],t[14]!==a?(f=a.map(Bt),t[14]=a,t[15]=f):f=t[15],t[16]!==m?(k=m.map(Ot),t[16]=m,t[17]=k):k=t[17],t[18]!==w||t[19]!==b||t[20]!==k||t[21]!==f?(C=y.createElement(xt,{label:g,value:f,options:k,onChange:b,onInputChange:w}),t[18]=w,t[19]=b,t[20]=k,t[21]=f,t[22]=C):C=t[22],C};function Rt(e){const{id:t}=e;return t}function Bt(e){const{name:t}=e;return t}function Ot(e){const{name:t}=e;return t}const Mt={order:"asc",_fields:"id,name",context:"view"},Lt=(e,t)=>{const r=t?.id||e?.find((e=>e.name===t))?.id;if(r)return r;const n=t.toLocaleLowerCase();return e?.find((e=>e.name.toLocaleLowerCase()===n))?.id};function TaxonomyItem(e){const t=(0,S.c)(35),{taxonomy:r,termIds:n,onChange:o}=e,[s,l]=(0,Re.useState)("");let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[0]=i):i=t[0];const[a,c]=(0,Re.useState)(i);let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[1]=u):u=t[1];const[m,d]=(0,Re.useState)(u),p=(0,E.useDebounce)(l,250);let b,h;t[2]!==s||t[3]!==r.slug||t[4]!==n?(b=e=>{if(!s)return{searchResults:[],searchHasResolved:!0};const{getEntityRecords:t,hasFinishedResolution:o}=e(Ae.store),l=["taxonomy",r.slug,{...Mt,search:s,orderby:"name",exclude:n,per_page:20}];return{searchResults:t(...l),searchHasResolved:o("getEntityRecords",l)}},h=[s,n,r.slug],t[2]=s,t[3]=r.slug,t[4]=n,t[5]=b,t[6]=h):(b=t[5],h=t[6]);const{searchResults:_,searchHasResolved:w}=(0,Me.useSelect)(b,h);let g,f;t[7]!==r.slug||t[8]!==n?(g=e=>{if(!n?.length)return[];const{getEntityRecords:t}=e(Ae.store);return t("taxonomy",r.slug,{...Mt,include:n,per_page:n.length})},f=[n,r.slug],t[7]=r.slug,t[8]=n,t[9]=g,t[10]=f):(g=t[9],f=t[10]);const v=(0,Me.useSelect)(g,f);let k,C,x,N,T;t[11]!==v||t[12]!==c||t[13]!==n?(k=()=>{if(n?.length||c([]),!v?.length)return;const e=n.reduce(((e,t)=>{const r=v.find((e=>e.id===t));return r&&e.push({id:t,value:r.name}),e}),[]);c(e)},t[11]=v,t[12]=c,t[13]=n,t[14]=k):k=t[14],t[15]!==v||t[16]!==n?(C=[n,v],t[15]=v,t[16]=n,t[17]=C):C=t[17],(0,Re.useEffect)(k,C),t[18]!==w||t[19]!==_||t[20]!==d?(x=()=>{w&&d(_.map(At))},t[18]=w,t[19]=_,t[20]=d,t[21]=x):x=t[21],t[22]!==w||t[23]!==_?(N=[_,w],t[22]=w,t[23]=_,t[24]=N):N=t[24],(0,Re.useEffect)(x,N),t[25]!==o||t[26]!==_||t[27]!==d?(T=e=>{const t=new Set;for(const r of e){const e=Lt(_,r);e&&t.add(e)}d([]),o(Array.from(t))},t[25]=o,t[26]=_,t[27]=d,t[28]=T):T=t[28];const R=T;let B;return t[29]!==p||t[30]!==R||t[31]!==m||t[32]!==r.name||t[33]!==a?(B=y.createElement("div",{className:"block-library-query-inspector__taxonomy-control"},y.createElement(Oe.FormTokenField,{label:r.name,value:a,onInputChange:p,suggestions:m,onChange:R,__experimentalShowHowTo:!1,__nextHasNoMarginBottom:!0})),t[29]=p,t[30]=R,t[31]=m,t[32]=r.name,t[33]=a,t[34]=B):B=t[34],B}function At(e){return e.name}TaxonomyItem.propTypes={taxonomy:Te.shape({id:Te.number,slug:Te.string,name:Te.string}).isRequired,onChange:Te.func.isRequired,termIds:Te.arrayOf(Te.number)};const It=TaxonomyItem,{config:{fieldStates:zt,archiveURL:Pt}}=window.webStoriesBlockSettings,$t=e=>{const{attributes:{viewType:t,numOfStories:r,numOfColumns:n,order:o,orderby:s,archiveLinkLabel:l,authors:i,circleSize:a,imageAlignment:c,fieldState:u,taxQuery:m},setAttributes:d,showFilters:p=!0}=e,b=(0,Re.useRef)(!0),h=(0,Me.useSelect)((e=>{const{getTaxonomies:t}=e(Ae.store);return t({type:"web-story",per_page:-1,context:"view"})||[]}),[]);(0,Re.useEffect)((()=>{const e={};Object.entries(zt[t]).forEach((([t,r])=>{const{show:n}=r;void 0===u[`show_${t}`]&&(e[`show_${t}`]=n)})),Object.keys(e).length&&d({fieldState:{...u,...e}})}),[]),(0,Re.useEffect)((()=>{if(b.current)return void(b.current=!1);const e={};Object.entries(zt[t]).forEach((([t,r])=>{const{show:n}=r;e[`show_${t}`]=n})),d({fieldState:e})}),[t]);const ArchiveLink=()=>Pt?y.createElement("a",{target:"__blank",href:Pt},(0,v.__)("View archive page","web-stories")):null;return y.createElement(Le.InspectorControls,null,y.createElement(Oe.PanelBody,{className:"web-stories-settings",title:(0,v.__)("Layout Options","web-stories")},zt[t]&&Object.entries(zt[t]).map((([e,t])=>{const{label:r,hidden:n}=t;return!n&&"circle_size"!==e&&"image_alignment"!==e&&y.createElement(Oe.ToggleControl,{key:`${e}__control`,label:r,checked:u[`show_${e}`]||!1,onChange:()=>{return t=e,void d({fieldState:{...u,[`show_${t}`]:!u[`show_${t}`]}});var t},help:"archive_link"===e&&u[`show_${e}`]&&y.createElement(ArchiveLink,null),__nextHasNoMarginBottom:!0})})),u.show_archive_link&&Pt&&y.createElement(Oe.TextControl,{label:(0,v.__)("Archive Link Label","web-stories"),value:l,placeholder:(0,v.__)("View All Stories","web-stories"),onChange:e=>d({archiveLinkLabel:e}),className:"web-stories-settings-archive-link",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),[yt,gt,ft].includes(t)&&y.createElement(Oe.PanelBody,{className:"web-stories-settings",title:(0,v.__)("Layout and Style Options","web-stories")},ft===t&&y.createElement(Oe.RadioControl,{label:(0,v.__)("Image Alignment","web-stories"),selected:c,options:[{value:"left",label:(0,v.__)("Left","web-stories")},{value:"right",label:(0,v.__)("Right","web-stories")}],onChange:e=>{d({imageAlignment:e})}}),gt===t&&y.createElement(Oe.RangeControl,{label:(0,v.__)("Number of Columns","web-stories"),value:n,onChange:e=>d({numOfColumns:e}),min:1,max:4,step:1,__nextHasNoMarginBottom:!0}),yt===t&&y.createElement(Oe.RangeControl,{label:(0,v.__)("Circle Size","web-stories"),value:a,onChange:e=>d({circleSize:e}),min:80,max:200,step:5,__nextHasNoMarginBottom:!0})),p&&y.createElement(Oe.PanelBody,{title:(0,v.__)("Sorting and Filtering","web-stories")},y.createElement(Oe.SelectControl,{label:(0,v.__)("Order By","web-stories"),options:[{value:"date",label:(0,v.__)("Date","web-stories")},{value:"title",label:(0,v.__)("Title","web-stories")}],value:s||"date",onChange:e=>d({orderby:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),y.createElement(Oe.SelectControl,{label:(0,v.__)("Order","web-stories"),options:[{value:"asc",label:(0,v.__)("Ascending","web-stories")},{value:"desc",label:(0,v.__)("Descending","web-stories")}],value:o||"desc",onChange:e=>d({order:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),h.map((e=>{const t=m?.[e.slug]||[];return y.createElement(It,{key:e.slug,taxonomy:e,termIds:t,onChange:t=>d({taxQuery:{...m,[e.slug]:t}})})})),y.createElement(Tt,{authors:i,setAttributes:d}),y.createElement(Oe.RangeControl,{label:(0,v.__)("Number of Stories","web-stories"),value:r,onChange:e=>d({numOfStories:e}),min:1,max:20,step:1,__nextHasNoMarginBottom:!0})))},qt=()=>{const e=(0,S.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=y.createElement(Oe.Placeholder,{className:"web-stories-placeholder",instructions:(0,v.__)("Loading Stories…","web-stories")},y.createElement(Oe.Spinner,null)),e[0]=t):t=e[0],t};const Ht=function StoryCard({title:e,excerpt:t,poster:r,author:n,date:o,isShowingAuthor:s,isShowingDate:l,isShowingTitle:i,isShowingExcerpt:a,imageAlignment:c}){const u=ut("web-stories-list__story",{"image-align-right":"right"===c}),m=i||s||l,d=(0,De.getSettings)().formats.date;return y.createElement("div",{className:u},y.createElement("div",{className:"web-stories-list__story-poster"},r?y.createElement("img",{src:r,alt:e}):y.createElement("div",{className:"web-stories-list__story-poster-placeholder"},y.createElement("span",null,e))),m&&y.createElement("div",{className:"story-content-overlay web-stories-list__story-content-overlay"},i&&e&&y.createElement(Re.RawHTML,{className:"story-content-overlay__title"},e),a&&t&&y.createElement(Re.RawHTML,{className:"story-content-overlay__excerpt"},t),s&&y.createElement("div",{className:"story-content-overlay__author"},(0,v.sprintf)(/* translators: byline. %s: author name. */ /* translators: byline. %s: author name. */
(0,v.__)("By %s","web-stories"),n)),l&&y.createElement("time",{dateTime:(0,De.format)("c",o),className:"story-content-overlay__date"},(0,v.sprintf)(/* translators: %s: publish date. */ /* translators: %s: publish date. */
(0,v.__)("On %s","web-stories"),(0,De.dateI18n)(d,o)))))},{config:{archiveURL:jt}}=window.webStoriesBlockSettings;const Dt=function StoriesPreview(e){const{attributes:{align:t,viewType:r,circleSize:n,imageAlignment:o,fieldState:s,numOfColumns:l},viewAllLabel:i,stories:a}=e,c=(0,Re.useRef)(null),u=(0,Re.useRef)(null),m=(0,Re.useRef)(null),d=ut({"is-style-default":!s.show_sharp_corners,"is-style-squared":s.show_sharp_corners,"is-carousel":yt===r||vt===r,[`is-view-type-${r}`]:r,[`columns-${l}`]:gt===r&&l,[`align${t}`]:t,"has-archive-link":s.show_archive_link},"web-stories-list"),StoriesLoop=()=>a.map((e=>{const t=e.meta.web_stories_poster?.url,r=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url,l=t||r;return y.createElement(Ht,{key:e.id,url:e.link,title:e.title.rendered,excerpt:e.excerpt.rendered?e.excerpt.rendered:"",date:e.date_gmt,author:e._embedded.author[0].name,poster:l,imageAlignment:o,isShowingAuthor:s.show_author,isShowingDate:s.show_date,isShowingTitle:s.show_title,isShowingExcerpt:s.show_excerpt,circleSize:n})})),p=CSS.supports("scroll-marker-group: after");return(0,Re.useEffect)((()=>{if(p)return;if(!c.current)return;const e=c.current.querySelector(".web-stories-list__story");e&&(async()=>{const t=window.getComputedStyle(e),r=Number.parseFloat(t.width)+(Number.parseFloat(t.marginLeft)+Number.parseFloat(t.marginRight)),{default:n}=await __webpack_require__.e(307).then(__webpack_require__.bind(__webpack_require__,744)),o=new n(c.current,{slidesToShow:"auto",slidesToScroll:"auto",itemWidth:r,duration:.25,skipTrack:!0,scrollLock:!0,arrows:{prev:m.current,next:u.current}});o.resize();const s=r*a.length;o.trackWidth=s,o.track.style.width=`${s}px`})()}),[a.length,r,n,p]),y.createElement("div",{className:d,style:{"--ws-circle-size":"circles"===r&&n?`${n}px`:void 0}},s.show_archive_link&&jt&&y.createElement("div",{className:"web-stories-list__archive-link"},y.createElement("a",{target:"__blank",href:jt},i)),y.createElement("div",{className:"web-stories-list__inner-wrapper"},yt===r||vt===r?y.createElement(y.Fragment,null,y.createElement("div",{className:"web-stories-list__carousel",ref:c},p?y.createElement(StoriesLoop,null):y.createElement("div",{className:"glider-track"},y.createElement(StoriesLoop,null))),y.createElement("div",{"aria-label":(0,v.__)("Previous","web-stories"),className:"glider-prev",ref:m}),y.createElement("div",{"aria-label":(0,v.__)("Next","web-stories"),className:"glider-next",ref:u})):y.createElement(StoriesLoop,null)))};function LatestStoriesEdit(e){const t=(0,S.c)(28),{attributes:r,setAttributes:n}=e,{numOfStories:o,order:s,orderby:l,archiveLinkLabel:i,authors:a,taxQuery:c}=r,u=l||"modified",m=s||"desc",d=a||void 0;let p;t[0]!==u||t[1]!==m||t[2]!==d||t[3]!==c?(p={per_page:20,_embed:"author,wp:featuredmedia",orderby:u,order:m,author:d,...c},t[0]=u,t[1]=m,t[2]=d,t[3]=c,t[4]=p):p=t[4];const b=(0,Ae.useEntityRecords)("postType","web-story",p);let h;t[5]!==i?(h=i||(0,v.__)("View All Stories","web-stories"),t[5]=i,t[6]=h):h=t[6];const _=h;let w;t[7]!==b.records||t[8]!==o?(w=b.records?.length>o?b.records.slice(0,o):b.records,t[7]=b.records,t[8]=o,t[9]=w):w=t[9];const g=w;let f,E,k,C,x;return t[10]!==r||t[11]!==n?(f=y.createElement($t,{attributes:r,setAttributes:n}),t[10]=r,t[11]=n,t[12]=f):f=t[12],t[13]!==b.hasResolved?(E=!b.hasResolved&&y.createElement(qt,null),t[13]=b.hasResolved,t[14]=E):E=t[14],t[15]!==r||t[16]!==b.hasResolved||t[17]!==g||t[18]!==_?(k=b.hasResolved&&Boolean(g?.length)&&y.createElement(Dt,{attributes:r,stories:g,viewAllLabel:_}),t[15]=r,t[16]=b.hasResolved,t[17]=g,t[18]=_,t[19]=k):k=t[19],t[20]!==b.hasResolved||t[21]!==g?.length?(C=b.hasResolved&&!g?.length&&y.createElement(Oe.Placeholder,{icon:y.createElement(Le.BlockIcon,{icon:y.createElement(BlockIcon,null),showColors:!0}),label:(0,v.__)("Latest Stories","web-stories"),className:"wp-block-web-stories-embed",instructions:(0,v.__)("No stories found.","web-stories")},y.createElement(Oe.Button,{href:(0,He.addQueryArgs)("post-new.php",{post_type:"web-story"}),isLink:!0},(0,v.__)("Create New Story","web-stories"))),t[20]=b.hasResolved,t[21]=g?.length,t[22]=C):C=t[22],t[23]!==C||t[24]!==f||t[25]!==E||t[26]!==k?(x=y.createElement(y.Fragment,null,f,E,k,C),t[23]=C,t[24]=f,t[25]=E,t[26]=k,t[27]=x):x=t[27],x}LatestStoriesEdit.propTypes={attributes:Te.shape({blockType:Te.string,align:Te.string,viewType:Te.string,numOfStories:Te.number,numOfColumns:Te.number,orderby:Te.string,order:Te.string,archiveLinkLabel:Te.string,authors:Te.array,circleSize:Te.number,fieldState:Te.object,taxQuery:Te.objectOf(Te.number)}),setAttributes:Te.func.isRequired};const Ft=LatestStoriesEdit,{config:{maxNumOfStories:Wt}}=window.webStoriesBlockSettings,Ut=e=>{const t=(0,S.c)(31),{icon:r,label:n,selectedStories:o,setSelectedStories:s}=e,[l,i]=(0,Re.useState)(!1),[a,c]=(0,Re.useState)(!1);let u;t[0]!==i?(u=()=>i(!0),t[0]=i,t[1]=u):u=t[1];const m=u;let d,p;t[2]!==c||t[3]!==i?(d=()=>{i(!1),c(!1)},t[2]=c,t[3]=i,t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[5]=p):p=t[5];const b=(0,Re.useCallback)(d,p);let h,_;t[6]!==m||t[7]!==c?(h=()=>{c(!0),m()},t[6]=m,t[7]=c,t[8]=h):h=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=[],t[9]=_):_=t[9];const w=(0,Re.useCallback)(h,_);let g,f,E,k;return t[10]!==l||t[11]!==m||t[12]!==w||t[13]!==o.length?(g=Boolean(o?.length)&&y.createElement(Le.BlockControls,{group:"other"},y.createElement(Oe.ToolbarButton,{"aria-expanded":l,"aria-haspopup":"true",onClick:m},(0,v.__)("Select","web-stories")),y.createElement(Oe.ToolbarButton,{"aria-expanded":l,"aria-haspopup":"true",onClick:w},(0,v.__)("Rearrange","web-stories"))),t[10]=l,t[11]=m,t[12]=w,t[13]=o.length,t[14]=g):g=t[14],t[15]!==r||t[16]!==n||t[17]!==m||t[18]!==o.length?(f=0===o.length&&y.createElement(Oe.Placeholder,{icon:y.createElement(Le.BlockIcon,{icon:r,showColors:!0}),label:n,className:"wp-block-web-stories-embed",instructions:(0,v.__)("Select the web stories you want to display on your site.","web-stories")},y.createElement(Oe.Button,{isPrimary:!0,onClick:m},(0,v.__)("Select Stories","web-stories"))),t[15]=r,t[16]=n,t[17]=m,t[18]=o.length,t[19]=f):f=t[19],t[20]!==b||t[21]!==a||t[22]!==l||t[23]!==o||t[24]!==c||t[25]!==s?(E=l&&y.createElement(Ye,{closeStoryPicker:b,selectedStories:o,setSelectedStories:s,isSortingStories:a,setIsSortingStories:c,maxNumOfStories:Wt}),t[20]=b,t[21]=a,t[22]=l,t[23]=o,t[24]=c,t[25]=s,t[26]=E):E=t[26],t[27]!==g||t[28]!==f||t[29]!==E?(k=y.createElement(y.Fragment,null,g,f,E),t[27]=g,t[28]=f,t[29]=E,t[30]=k):k=t[30],k};function SelectedStoriesEdit(e){const t=(0,S.c)(45),{icon:r,attributes:n,setAttributes:o,isSelected:s}=e,{stories:l,archiveLinkLabel:i}=n;let a;t[0]!==l?(a=void 0===l?[]:l,t[0]=l,t[1]=a):a=t[1];const c=a,[u,m]=(0,Re.useState)(c);let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=[],t[2]=d):d=t[2];const[p,b]=(0,Re.useState)(d),[h,_]=(0,Re.useState)(!1);let w;t[3]===Symbol.for("react.memo_cache_sentinel")?(w=(0,v.__)("Selected Stories","web-stories"),t[3]=w):w=t[3];const g=w;let f;t[4]!==i?(f=i||(0,v.__)("View All Stories","web-stories"),t[4]=i,t[5]=f):f=t[5];const E=f;let k,C,x,N,T,R;t[6]!==n.stories||t[7]!==u||t[8]!==o?(k=()=>{n.stories.toString()!==u.toString()&&o({stories:u})},C=[n.stories,o,u],t[6]=n.stories,t[7]=u,t[8]=o,t[9]=k,t[10]=C):(k=t[9],C=t[10]),(0,Re.useEffect)(k,C),t[11]!==p||t[12]!==u.length||t[13]!==_?(x=()=>{u.length&&!p.length&&_(!0)},t[11]=p,t[12]=u.length,t[13]=_,t[14]=x):x=t[14],t[15]!==p||t[16]!==u||t[17]!==_?(N=[u,p,_],t[15]=p,t[16]=u,t[17]=_,t[18]=N):N=t[18],(0,Re.useEffect)(x,N),t[19]!==b||t[20]!==m?(T=e=>{b(e),m(e.map(Vt))},t[19]=b,t[20]=m,t[21]=T):T=t[21],t[22]!==b?(R=[b],t[22]=b,t[23]=R):R=t[23];const B=(0,Re.useCallback)(T,R);if(h){let e;return t[24]!==r||t[25]!==u||t[26]!==_||t[27]!==B?(e=y.createElement(ze,{icon:r,label:g,selectedStoryIds:u,setSelectedStories:B,setIsFetching:_}),t[24]=r,t[25]=u,t[26]=_,t[27]=B,t[28]=e):e=t[28],e}let O,M,L,A;return t[29]!==n||t[30]!==o?(O=y.createElement($t,{attributes:n,setAttributes:o,showFilters:!1}),t[29]=n,t[30]=o,t[31]=O):O=t[31],t[32]!==n||t[33]!==p||t[34]!==E?(M=Boolean(p?.length)&&y.createElement(Dt,{attributes:n,stories:p,viewAllLabel:E}),t[32]=n,t[33]=p,t[34]=E,t[35]=M):M=t[35],t[36]!==r||t[37]!==s||t[38]!==p||t[39]!==B?(L=y.createElement(Ut,{icon:r,label:g,selectedStories:p,setSelectedStories:B,isEditing:s}),t[36]=r,t[37]=s,t[38]=p,t[39]=B,t[40]=L):L=t[40],t[41]!==O||t[42]!==M||t[43]!==L?(A=y.createElement(y.Fragment,null,O,M,L),t[41]=O,t[42]=M,t[43]=L,t[44]=A):A=t[44],A}function Vt(e){return e.id}SelectedStoriesEdit.propTypes={icon:Te.node,attributes:Te.shape({blockType:Te.string,stories:Te.array,align:Te.string,viewType:Te.string,numOfColumns:Te.number,archiveLinkLabel:Te.string,circleSize:Te.number}),setAttributes:Te.func.isRequired,isSelected:Te.bool};const Gt=SelectedStoriesEdit;function WebStoriesEdit(e){const t=(0,S.c)(39),{attributes:r,setAttributes:n,className:o,isSelected:s,context:l}=e,{blockType:i,viewType:a}=r,{postType:c,postId:u,queryId:m}=l;if(Number.isFinite(m)&&c&&u&&"web-story"===c){let e,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=y.createElement(BlockIcon,null),t[0]=e):e=t[0],t[1]!==r||t[2]!==o||t[3]!==l||t[4]!==s||t[5]!==n?(i=y.createElement(pt,{icon:e,attributes:r,setAttributes:n,context:l,className:o,isSelected:s}),t[1]=r,t[2]=o,t[3]=l,t[4]=s,t[5]=n,t[6]=i):i=t[6],i}if(!i){let e,r,o;return t[7]===Symbol.for("react.memo_cache_sentinel")?(e=y.createElement(BlockIcon,null),t[7]=e):e=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(r=(0,v.__)("Embed a collection of your latest stories, select your own or enter an URL.","web-stories"),t[8]=r):r=t[8],t[9]!==n?(o=y.createElement(Ct,{icon:e,setAttributes:n,instructions:r,selectionOptions:wt,selectionType:"blockType"}),t[9]=n,t[10]=o):o=t[10],o}if(i!==_t&&!a){let e,r,o;return t[11]===Symbol.for("react.memo_cache_sentinel")?(e=y.createElement(BlockIcon,null),t[11]=e):e=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(r=(0,v.__)("Select a layout style","web-stories"),t[12]=r):r=t[12],t[13]!==n?(o=y.createElement(Ct,{icon:e,setAttributes:n,instructions:r,selectionOptions:St,selectionType:"viewType"}),t[13]=n,t[14]=o):o=t[14],o}let d,p,b,h,_;return t[15]!==i||t[16]!==n||t[17]!==a?(d=y.createElement(kt,{blockType:i,viewType:a,setAttributes:n}),t[15]=i,t[16]=n,t[17]=a,t[18]=d):d=t[18],t[19]!==r||t[20]!==i||t[21]!==n?(p=i===bt&&y.createElement(Ft,{attributes:r,setAttributes:n}),t[19]=r,t[20]=i,t[21]=n,t[22]=p):p=t[22],t[23]!==r||t[24]!==i||t[25]!==s||t[26]!==n?(b=i===ht&&y.createElement(Gt,{icon:y.createElement(BlockIcon,null),attributes:r,setAttributes:n,isSelected:s}),t[23]=r,t[24]=i,t[25]=s,t[26]=n,t[27]=b):b=t[27],t[28]!==r||t[29]!==i||t[30]!==o||t[31]!==s||t[32]!==n?(h=i===_t&&y.createElement(ct,{icon:y.createElement(BlockIcon,null),attributes:r,setAttributes:n,className:o,isSelected:s}),t[28]=r,t[29]=i,t[30]=o,t[31]=s,t[32]=n,t[33]=h):h=t[33],t[34]!==d||t[35]!==p||t[36]!==b||t[37]!==h?(_=y.createElement(y.Fragment,null,d,p,b,h),t[34]=d,t[35]=p,t[36]=b,t[37]=h,t[38]=_):_=t[38],_}WebStoriesEdit.propTypes={attributes:Te.shape({blockType:Te.string,url:Te.string,title:Te.string,poster:Te.string,width:Te.number,height:Te.number,align:Te.string,stories:Te.array,viewType:Te.string,numOfStories:Te.number,numOfColumns:Te.number,orderby:Te.string,order:Te.string,archiveLinkLabel:Te.string,authors:Te.array}),setAttributes:Te.func.isRequired,className:Te.string.isRequired,isSelected:Te.bool,context:Te.shape({postType:Te.string,postId:Te.number,queryId:Te.number})};const Qt=WebStoriesEdit,Xt=JSON.parse('{"name":"web-stories/embed","title":"Web Stories","description":"Embed Web Stories.","category":"embed","keywords":["embed","web stories","story","stories"],"textdomain":"web-stories","usesContext":["postId","postType","queryId"],"attributes":{"blockType":{"type":"string"},"url":{"type":"string"},"title":{"type":"string"},"poster":{"type":"string"},"width":{"type":"number","default":360},"height":{"type":"number","default":600},"align":{"type":"string","default":"none"},"stories":{"type":"array","default":[]},"viewType":{"type":"string","default":""},"numOfStories":{"type":"number","default":5},"numOfColumns":{"type":"number","default":2},"circleSize":{"type":"number","default":96},"imageAlignment":{"type":"string","default":"left"},"order":{"type":"string","default":""},"orderby":{"type":"string","default":""},"archiveLinkLabel":{"type":"string","default":""},"authors":{"type":"array","default":[]},"fieldState":{"type":"object","default":{}},"taxQuery":{"type":"object","default":{}},"previewOnly":{"type":"boolean","default":false}},"supports":{"align":["wide","full","left","right","center"],"interactivity":true},"viewScriptModule":"file:../../assets/js/web-stories-block-view.js"}'),{attributes:Kt}=Xt,Jt={from:[{type:"shortcode",tag:"web_stories_embed",attributes:{...Kt,align:{type:"string",shortcode:({named:{align:e}})=>e},height:{type:"number",shortcode:({named:{height:e}})=>e},poster:{type:"string",shortcode:({named:{poster:e}})=>e},title:{type:"string",shortcode:({named:{title:e}})=>e},url:{type:"string",shortcode:({named:{url:e}})=>e},width:{type:"number",shortcode:({named:{width:e}})=>e},blockType:{type:"string",default:_t}},priority:9},{type:"shortcode",tag:"web_stories",attributes:{...Kt,blockType:{type:"string",default:bt},align:{type:"string",shortcode:({named:{align:e}})=>e},archiveLinkLabel:{type:"string",shortcode:({named:{archive_link_label:e}})=>e},viewType:{type:"string",shortcode:({named:{view:e}})=>e},numOfStories:{type:"number",shortcode:({named:{number:e}})=>e},numOfColumns:{type:"number",shortcode:({named:{columns:e}})=>e},circleSize:{type:"number",shortcode:({named:{circle_size:e}})=>e},fieldState:{type:"object",shortcode:({named:{title:e,excerpt:t,author:r,date:n,archive_link:o,image_align:s}})=>({show_archive_link:"true"===o,show_author:"true"===r,show_date:"true"===n,show_excerpt:"true"===t,show_image_align:"true"===s,show_title:"true"===e})}}},{type:"block",blocks:["core/legacy-widget"],isMatch:({idBase:e,instance:t})=>!!t?.raw&&"web_stories_widget"===e,transform:({instance:e})=>{const{raw:{archive_link_label:t,circle_size:r,image_alignment:n,number_of_columns:o,number_of_stories:s,view_type:l,show_title:i,show_author:a,show_date:c,show_excerpt:u,show_archive_link:m,sharp_corners:d,show_image_alignment:p,title:b,orderby:h="",order:_=""}}=e,w=(0,f.createBlock)("web-stories/embed",{blockType:"latest-stories",viewType:l,fieldState:{show_title:i,show_author:a,show_date:c,show_excerpt:u,show_archive_link:m,show_sharp_corners:d,show_image_alignment:p},archiveLinkLabel:t,circleSize:r,numOfColumns:o,imageAlignment:n,numOfStories:s,orderby:h.replace("post_",""),order:_.toLowerCase()});return b?[(0,f.createBlock)("core/heading",{content:b}),w]:w}}]},{name:Yt,category:Zt,keywords:er,attributes:tr,supports:rr}=Xt,nr={title:(0,v.__)("Web Stories","web-stories"),description:(0,v.__)("Embed stories using various layout options.","web-stories"),category:Zt,icon:y.createElement(BlockIcon,null),keywords:er,attributes:tr,example:{attributes:{blockType:bt,viewType:gt,numberOfColumns:2}},supports:rr,deprecated:xe,edit:Qt,save:Ne,transforms:Jt};(0,f.registerBlockType)(Yt,nr),w("Embed Block",!1)})()})();