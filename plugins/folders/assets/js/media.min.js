!function(){var e=wp.media.view.AttachmentFilters.extend({id:"media-attachment-taxonomy-filter",createFilters:function(){var e={};folders_media_options.terms.length;_.each(folders_media_options.terms||{},(function(t,o){e[t.term_id]={text:t.name+" ("+t.trash_count+")",props:{media_folder:t.slug}}})),e.all={text:"All Folders",props:{media_folder:""},priority:10},e.unassigned={text:"(Unassigned)",props:{media_folder:"-1"},priority:10},this.filters=e},change:function(){var e={};_.each(folders_media_options.terms||{},(function(t,o){e[t.term_id]={text:t.name+" ("+t.trash_count+")",props:{media_folder:t.slug}}})),e.all={text:"Select a folder >>",props:{media_folder:""},priority:10},e.unassigned={text:"(Unassigned)",props:{media_folder:"-1"},priority:10},this.filters=e;var t=this.filters[this.el.value];t&&this.model.set(t.props)}}),t=wp.media.view.AttachmentsBrowser;wp.media.view.AttachmentsBrowser=wp.media.view.AttachmentsBrowser.extend({createToolbar:function(){t.prototype.createToolbar.call(this),this.toolbar.set("MediaLibraryOrganizerTaxonomyFilter",new e({controller:this.controller,model:this.collection.props,priority:-75}).render())}});var o,a=wp.media.model.Query;_.extend(a,{get:(o=[],function(e,t){var i,r={},d=a.orderby,l=a.defaultProps;return delete e.query,delete e.cache,_.defaults(e,l),_.each(["include","exclude"],(function(t){e[t]&&!_.isArray(e[t])&&(e[t]=[e[t]])})),_.each(e,(function(e,t){_.isNull(e)||(r[a.propmap[t]||t]=e)})),_.defaults(r,a.defaultArgs),r.orderby=d.valuemap[e.orderby]||e.orderby,o=[],i||(i=new a([],_.extend(t||{},{props:e,args:r})),o.push(i)),i})}),createUploadPanel()}(jQuery,_);let progressPanel="#folders-media-progress",uploadState={isVisible:!1,totalFiles:0,completedFiles:0,cancelledFiles:0,totalSize:0,uploadedSize:0,files:[],currentFolder:null,isCompleted:!1};jQuery(document).on("click",".media-frame-router .media-menu-item",(function(){setTimeout((function(){if(lastFolderData.length>0&&jQuery(".folder_for_media option").length!=lastFolderData.length+2){var e=jQuery(".folder_for_media").val(),t=jQuery(".folder_for_media");for(t.html("<option value='-1'>(Unassigned)</option>"),i=0;i<lastFolderData.length;i++)t.append("<option value='"+lastFolderData[i].term_id+"'>"+lastFolderData[i].name+"</option>");t.append("<option value='add-folder'>+ Create a New Folder</option>"),""!=selectedFolderMediaId&&null!=selectedFolderMediaId?t.val(selectedFolderMediaId):t.val(e)}}),100)}));var selectedFolderMediaId=-1,selectedFolderPageID="all",filesInQueue=0,uploadedFileCount=0,lastFolderData=[];function resetDDCounter(){var e=jQuery("#media-attachment-taxonomy-filter").val();jQuery.ajax({url:folders_media_options.ajax_url,data:"type=attachment&action=wcp_get_default_list&active_id=0",method:"post",success:function(t){t=jQuery.parseJSON(t),jQuery("#media-attachment-taxonomy-filter").length&&jQuery("#media-attachment-taxonomy-filter").each((function(){folders_media_options.terms=t.taxonomies;var o=jQuery(this);for(o.html("<option value='all'>All Folders</option><option value='unassigned'>(Unassigned)</option>"),lastFolderData=t.taxonomies,i=0;i<t.taxonomies.length;i++)o.append("<option value='"+t.taxonomies[i].term_id+"'>"+t.taxonomies[i].name+" ("+t.taxonomies[i].trash_count+")</option>");o.val(e).trigger("change"),!1!==resetMediaID&&o.val(resetMediaID).trigger("change")})),resetMediaID=!1}})}function resetSelectMediaDropDown(){jQuery.ajax({url:folders_media_options.ajax_url,data:"type=attachment&action=wcp_get_default_list&active_id=0",method:"post",success:function(e){if(e=jQuery.parseJSON(e),jQuery(".folder_for_media").length){if(!jQuery("#wcp-content").length){var t=jQuery(".folder_for_media");for(t.html("<option value='-1'>(Unassigned)</option>"),lastFolderData=e.taxonomies,i=0;i<e.taxonomies.length;i++)t.append("<option value='"+e.taxonomies[i].term_id+"'>"+e.taxonomies[i].name+" ("+e.taxonomies[i].trash_count+")</option>");t.append("<option value='add-folder'>+ Create a New Folder</option>")}jQuery("#custom-folder-media-popup-form").remove()}jQuery("#media-attachment-taxonomy-filter").length||0==resetMediaID?resetDDCounter():jQuery(".folder_for_media").val(resetMediaID).trigger("change")}})}jQuery(document).on("change",".folder_for_media",(function(){"add-folder"!=jQuery(this).val()&&null!=jQuery(this).val()?selectedFolderMediaId=jQuery(this).val():"add-folder"==jQuery(this).val()&&(selectedFolderMediaId=-1,jQuery("#wcp-content").length||(0==folders_media_options.is_key_active&&folders_media_options.folders>=10?(jQuery("#custom-folder-media-popup-form").length&&jQuery("#custom-folder-media-popup-form").remove(),jQuery("#custom-folder-media-popup-form").length||(jQuery("body").append("<div class='folder-media-popup-form' id='custom-folder-media-popup-form'></div>"),jQuery("#custom-folder-media-popup-form").append("<div class='media-popup-form' id='custom-popup-form-content'></div>"),jQuery(".media-popup-form").append('<div id="add-update-folder-title" class="add-update-folder-title">You\'ve reached the 10 folder limitation!</div>'),jQuery(".media-popup-form").append('<div class="folder-form-message">Unlock unlimited amount of folders by upgrading to one of our pro plans.</div>'),jQuery(".media-popup-form").append('<div class="folder-form-buttons"><a href="#" class="remove-media-form">Cancel</a><a href="'+folders_media_options.activate_url+'" target="_blank" class="form-submit-btn" style="width: 120px">See Pro Plans</button></div>'))):(jQuery("#custom-folder-media-popup-form").length&&jQuery("#custom-folder-media-popup-form").remove(),jQuery("#custom-folder-media-popup-form").length||(jQuery("body").append("<div class='folder-media-popup-form' id='custom-folder-media-popup-form'></div>"),jQuery("#custom-folder-media-popup-form").append("<div class='media-popup-form' id='custom-popup-form-content'></div>"),jQuery("#custom-popup-form-content").append("<form action='#' id='folder-media-popup-form' method='post'></form>"),jQuery("#folder-media-popup-form").append('<div id="add-update-folder-title" class="add-update-folder-title">Add new folder</div>'),jQuery("#folder-media-popup-form").append('<div class="folder-form-input"><input id="media-folder-name" autocomplete="off" placeholder="Folder name" class=""></div>'),jQuery("#folder-media-popup-form").append('<div class="folder-form-errors" id="media-form-error"><span class="dashicons dashicons-info"></span> Please enter folder name</div>'),jQuery("#folder-media-popup-form").append('<div class="folder-form-buttons"><button type="submit" class="form-submit-btn" id="save-media-folder" style="width: 106px">Submit</button><a href="#" class="remove-media-form">Cancel</a></div>'),jQuery("#media-folder-name").focus())))),jQuery(".media-toolbar #media-attachment-taxonomy-filter").length&&(jQuery("#media-attachment-taxonomy-filter").val(jQuery(this).val()),jQuery("#media-attachment-taxonomy-filter").trigger("change"))})),jQuery(document).on("change","#media-attachment-taxonomy-filter",(function(){null!=jQuery(this).val()&&"add-folder"!=jQuery(this).val()&&(jQuery(".folder_for_media").val(jQuery(this).val()),selectedFolderPageID=jQuery(this).val(),selectedFolderMediaId=jQuery(this).val())}));var wp=window.wp,hasNoMedia=!1,fileUploadArray=[];void 0!==wp&&"function"==typeof wp.Uploader&&(wp.media.view.Modal.prototype.on("open",(function(){setTimeout((function(){jQuery("#media-attachment-taxonomy-filter").length&&("all"==jQuery("#media-attachment-taxonomy-filter").val()&&(jQuery("#media-attachment-taxonomy-filter option:gt(1)").remove(),_.each(folders_media_options.terms,(function(e,t){jQuery("#media-attachment-taxonomy-filter").append("<option value='"+e.term_id+"'>"+e.name+" ("+e.trash_count+")</option>")}))),jQuery("#wcp-content").length||jQuery(".editor-post-featured-image").length&&jQuery(".attachment-filters").val(selectedFolderPageID).trigger("change"))}),100)})),jQuery.extend(wp.Uploader.prototype,{progress:function(){},init:function(){this.uploader&&(this.uploader.bind("FileFiltered",(function(e,t){fileUploadArray.push(selectedFolderMediaId),filesInQueue++,uploadState.isCompleted&&(resetProgressRing(),uploadState.isCompleted=!1),jQuery(".attachments li").length?jQuery(".attachments li:first-child").before('<li id="file-'+t.id+'" class="attachment first-file-uploads temp-attachment-li uploading save-ready"> <div class="attachment-preview"> <div class="thumbnail"> <div class="media-progress-bar"><div style=""></div></div> </div> </div> </li>'):(hasNoMedia=!0,jQuery("p.no-media").hide(),jQuery(".attachments-wrapper ul.attachments").append('<li id="file-'+t.id+'" class="attachment first-file-uploads temp-attachment-li uploading save-ready"> <div class="attachment-preview"> <div class="thumbnail"> <div class="media-progress-bar"><div style="width:0%"></div></div> </div> </div> </li>'));const o={id:t.id,name:t.name,size:t.size,type:t.type,uploadedSize:0,status:"pending",progress:0,speed:0,startTime:null,endTime:null};uploadState.files.push(o),uploadState.totalFiles++,uploadState.totalSize+=t.size,createFileElement(o),jQuery(progressPanel).show()})),this.uploader.bind("BeforeUpload",(function(e,t){var o,a=e.settings.multipart_params;(o=parseInt(fileUploadArray[uploadedFileCount]))>0&&(a.folder_for_media=o);const i=uploadState.files.find((e=>e.id===t.id));i&&(i.status="uploading",i.progress=0,i.startTime=Date.now(),updateFileDisplay(i))})),this.uploader.bind("FileUploaded",(function(e,t){if(void 0!==t.attachment.attributes.url){var o=t.attachment.attributes,a="<div class='attachment-preview js--select-attachment type-"+o.type+" subtype-"+o.subtype+" "+o.orientation+"'><div class='thumbnail'>";"image"===o.type&&o.size&&o.size.url?a+='<div class="centered"><img src="'+o.size.url+'" draggable="false" alt="" /></div>':("image"===o.type&&o.sizes&&o.sizes.thumbnail&&o.sizes.thumbnail.url?a+='<div class="centered"><img src="'+o.sizes.thumbnail.url+'" class="thumbnail" draggable="false" alt="" /></div>':"image"===o.type&&o.url?a+='<div class="centered"><img src="'+o.url+'" class="thumbnail" draggable="false" alt="" /></div>':o.image&&o.image.src&&o.image.src!==o.icon?a+='<div class="centered"><img src="'+o.image.src+'" class="thumbnail" draggable="false" alt="" /></div>':o.sizes&&o.sizes.medium?a+='<div class="centered"><img src="'+o.sizes.medium.url+'" class="thumbnail" draggable="false" alt="" /></div>':a+='<div class="centered"><img src="'+o.icon+'" class="icon" draggable="false" alt="" /></div>',"image"!=o.type&&(a+='<div class="filename"><div>'+o.filename+"</div></div>")),a+="</div></div>",jQuery("#file-"+t.id).html(a).removeClass("uploading").addClass("save-ready ui-draggable ui-draggable-handle").removeClass("temp-attachment-li")}else jQuery("#file-"+t.id).remove();const i=uploadState.files.find((e=>e.id===t.id));i&&(i.status="completed",i.progress=100,i.uploadedSize=i.size,i.endTime=Date.now(),i.attachment=t.attachment,uploadState.completedFiles++,updateFileDisplay(i),updateOverallProgress())})),this.uploader.bind("Error",(function(e,t,o,a){if(t.file&&t.file.id&&jQuery("#file-"+t.file.id).length&&jQuery("#file-"+t.file.id).remove(),-1!=t.file.type.indexOf("svg")&&!jQuery(".upload-error.fldr-svg-error").length>0){var i='<div class="upload-error fldr-svg-error"><strong>'+folders_media_options.lang.pro_message+'</strong><br /><a target="_blank" href="'+folders_media_options.activate_url+'"> '+folders_media_options.lang.activate_key+" 🎉</a></div>";jQuery(".media-sidebar .upload-errors").append(i)}if(t.file&&t.file.id){const e=uploadState.files.find((e=>e.id===t.file.id));e&&(e.status="error",updateFileDisplay(e),updateOverallProgress())}})),this.uploader.bind("UploadProgress",(function(e,t){parseInt(t.percent)<100&&jQuery("#file-"+t.id+" .media-progress-bar > div").css("width",parseInt(t.percent)+"%");const o=uploadState.files.find((e=>e.id===t.id));if(o){o.progress=parseInt(t.percent),o.uploadedSize=o.size*o.progress/100;const e=(Date.now()-o.startTime)/1e3;o.speed=o.uploadedSize/e,updateFileDisplay(o),updateOverallProgress()}})),this.uploader.bind("UploadComplete",(function(e,t){selectedFolderMediaId=-1})),this.uploader.bind("UploadComplete",(function(e,t){jQuery(".temp-attachment-li").remove(),jQuery(".folders-upload-minimize").hide(),jQuery(".folders-upload-maximize").hide(),hasNoMedia&&jQuery(".first-file-uploads").remove(),hasNoMedia=!1;var o=window.wp;jQuery(".folder-meter").css("width","100%"),setTimeout((function(){jQuery(".media-folder-loader").hide(),jQuery(".folder-meter").css("width","0%"),filesInQueue=0,uploadedFileCount=0,fileUploadArray=[]}),1250),resetDDCounter(),void 0!==o.media.frame&&null!==o.media.frame.content.get()&&void 0!==o.media.frame.content.get().collection?(folderSelectedAttachmentID="",jQuery(".folder-modal ul.attachments li.selected").length&&(folderSelectedAttachmentID=jQuery(".folder-modal ul.attachments li.selected").data("id")),o.media.frame.content.get().collection.props.set({ignore:+new Date}),o.media.frame.content.get().options.selection.reset()):jQuery("#media-attachment-taxonomy-filter").length&&jQuery(".attachment-filters").each((function(){jQuery(this).trigger("change")}))})))}})),jQuery(document).ajaxComplete((function(e,t,o){null!=o.data&&"string"==typeof o.data&&o.data.indexOf("action=delete-post")>-1&&resetDDCounter()})),jQuery(document).on("click","#menu-item-browse",(function(e){setTimeout((function(){resetMediaScreen&&resetDDCounter()}),100)}));var resetMediaScreen=!1,resetMediaID=!1;function downloadFile(e,t){fetch(e).then((e=>e.blob())).then((e=>{const o=document.createElement("a");o.href=URL.createObjectURL(e),o.download=t,o.click()})).catch(console.error)}function createUploadPanel(){if(0===jQuery("#folders-media-progress").length){let e=jQuery('\n            <div id="folders-media-progress" class="folders-upload-panel"  style="display: none;" >\n                <div class="folders-upload-header">\n                    <div class="folders-upload-status">\n                        <div class="folders-upload-icon">\n                            <div class="folder-rounded-progress">\n                                <svg class="progress-ring" width="32" height="32" viewBox="0 0 32 32">\n                                    <circle class="progress-ring-circle-bg" cx="16" cy="16" r="14" stroke="#e1e5e9" stroke-width="3" fill="transparent"/>\n                                    <circle class="progress-ring-circle" cx="16" cy="16" r="14" stroke="#E6386C" stroke-width="3" fill="transparent" \n                                           stroke-dasharray="88" stroke-dashoffset="88" transform="rotate(-90 16 16)" \n                                           style="transition: stroke-dashoffset 0.3s ease-in-out;"/>\n                                </svg>\n                                <div class="progress-text">\n                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path d="M5.02845 9.72754V1.27344M5.02845 1.27344L9.22194 4.8936M5.02845 1.27344L0.834961 4.8936" stroke="#E6386C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                                    </svg>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="folders-upload-info">\n                            <div class="folders-upload-count">0/0 Files Uploading - 0%</div>\n                            <div class="folders-upload-size">0 MB of 0 MB</div>\n                        </div>\n                    </div>\n                    <div class="folders-upload-controls">\n                        <div class="folders-upload-minimize">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-minimize2-icon lucide-minimize-2"><path d="m14 10 7-7"/><path d="M20 10h-6V4"/><path d="m3 21 7-7"/><path d="M4 14h6v6"/></svg>\n                        </div>\n                        <div class="folders-upload-maximize" style="display: none;"> \n                            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2-icon lucide-maximize-2"><path d="M15 3h6v6"/><path d="m21 3-7 7"/><path d="m3 21 7-7"/><path d="M9 21H3v-6"/></svg>\n                        </div>\n                        <div class="folders-upload-close" style="display: none;">\n                            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M13 4L4 13M4 4L13 13" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n                <div class="folders-upload-files"></div>\n                <div class="folders-upload-actions">\n                  \n                </div>\n            </div>\n        ');jQuery("body").append(e)}}function createFileElement(e){let t="";t=isImageFile(e)?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-image-icon lucide-file-image"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><circle cx="10" cy="12" r="2"/><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-icon lucide-file"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>';const o=jQuery(`\n        <div class="folders-file-item folders-file-${e.status}" data-file-id="${e.id}">\n            <div class="folders-file-icon">\n                <svg class="svg-spin" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.70606 0.290139C7.48406 0.362139 7.35606 0.490139 7.29406 0.699139C7.25906 0.816139 7.25306 1.08814 7.25306 2.50814C7.25306 4.38914 7.25106 4.36514 7.44306 4.55714C7.70006 4.81314 8.30006 4.81314 8.55706 4.55714C8.74906 4.36514 8.74706 4.38914 8.74706 2.50814C8.74706 0.688139 8.74406 0.656139 8.59606 0.480139C8.47206 0.333139 8.33906 0.284139 8.04006 0.276139C7.92853 0.269854 7.81666 0.274543 7.70606 0.290139ZM2.75306 2.26614C2.59506 2.33814 2.36206 2.56614 2.28106 2.72814C2.23974 2.80912 2.2172 2.89838 2.21513 2.98927C2.21305 3.08016 2.23148 3.17035 2.26906 3.25314C2.34306 3.41814 4.66706 5.75014 4.85006 5.84314C5.10906 5.97614 5.37506 5.91114 5.64306 5.64914C5.90706 5.39114 5.97706 5.11114 5.84306 4.85014C5.75006 4.66714 3.41806 2.34314 3.25306 2.26914C3.17421 2.235 3.08928 2.21713 3.00336 2.21662C2.91744 2.2161 2.83231 2.23295 2.75306 2.26614ZM12.8531 2.28214C12.7301 2.33914 12.5201 2.53614 11.5181 3.54114C10.5971 4.46414 10.3161 4.76214 10.2711 4.86014C10.2337 4.94139 10.2144 5.02981 10.2146 5.11925C10.2147 5.20869 10.2344 5.29703 10.2721 5.37814C10.3421 5.52814 10.5721 5.76414 10.7271 5.84514C10.8841 5.92714 11.1171 5.92614 11.2801 5.84314C11.4471 5.75714 13.7571 3.44714 13.8431 3.28014C13.884 3.19416 13.9055 3.10021 13.906 3.00497C13.9066 2.90974 13.8861 2.81556 13.8461 2.72914C13.7354 2.54407 13.5791 2.39051 13.3921 2.28314C13.3093 2.23843 13.2167 2.21494 13.1227 2.21477C13.0286 2.21459 12.936 2.23774 12.8531 2.28214ZM0.699057 7.29214C0.404057 7.38514 0.258057 7.62014 0.258057 7.99914C0.259057 8.38614 0.403057 8.61814 0.698057 8.70614C0.816057 8.74114 1.07906 8.74714 2.50806 8.74714C3.99706 8.74714 4.19606 8.74214 4.31806 8.70214C4.40767 8.67269 4.48912 8.6226 4.55582 8.5559C4.62252 8.4892 4.67261 8.40775 4.70206 8.31814C4.78806 8.05314 4.74506 7.67714 4.60806 7.49114C4.55314 7.43144 4.48857 7.38141 4.41706 7.34314L4.28006 7.26714L2.54706 7.26114C1.15206 7.25714 0.791057 7.26314 0.699057 7.29214ZM11.7451 7.27814C11.6098 7.31539 11.4876 7.38948 11.3921 7.49214C11.2551 7.67714 11.2121 8.05314 11.2981 8.31814C11.3561 8.49814 11.5021 8.64414 11.6821 8.70214C11.8041 8.74214 12.0031 8.74714 13.4921 8.74714C14.9211 8.74714 15.1841 8.74114 15.3021 8.70614C15.5971 8.61814 15.7411 8.38614 15.7421 7.99914C15.7421 7.61414 15.5951 7.38314 15.2901 7.29114C15.1871 7.26014 14.8641 7.25414 13.4961 7.25614C12.5781 7.25814 11.7901 7.26814 11.7451 7.27814ZM4.85306 10.2821C4.73006 10.3391 4.52006 10.5361 3.51806 11.5411C2.59706 12.4641 2.31606 12.7621 2.27106 12.8601C2.23367 12.9414 2.21439 13.0298 2.21456 13.1192C2.21474 13.2087 2.23435 13.297 2.27206 13.3781C2.34206 13.5281 2.57206 13.7641 2.72706 13.8451C2.88406 13.9271 3.11706 13.9261 3.28006 13.8431C3.44706 13.7571 5.75706 11.4471 5.84306 11.2801C5.88402 11.1942 5.90552 11.1002 5.90604 11.005C5.90656 10.9097 5.88608 10.8156 5.84606 10.7291C5.73538 10.5441 5.57906 10.3905 5.39206 10.2831C5.3093 10.2384 5.21674 10.2149 5.12268 10.2148C5.02862 10.2146 4.93598 10.2377 4.85306 10.2821ZM10.7531 10.2661C10.5951 10.3381 10.3621 10.5661 10.2811 10.7281C10.2397 10.8091 10.2172 10.8984 10.2151 10.9893C10.213 11.0802 10.2315 11.1704 10.2691 11.2531C10.3431 11.4181 12.6671 13.7501 12.8501 13.8431C13.1091 13.9761 13.3751 13.9111 13.6431 13.6491C13.9071 13.3911 13.9771 13.1111 13.8431 12.8501C13.7501 12.6671 11.4181 10.3431 11.2531 10.2691C11.1742 10.235 11.0893 10.2171 11.0034 10.2166C10.9174 10.2161 10.8323 10.2329 10.7531 10.2661ZM7.74506 11.2771C7.60995 11.3152 7.48787 11.3896 7.39206 11.4921C7.25406 11.6781 7.25306 11.6911 7.25306 13.4891C7.25306 14.9211 7.25906 15.1841 7.29406 15.3021C7.38206 15.5971 7.61506 15.7411 8.00006 15.7411C8.38506 15.7411 8.61806 15.5971 8.70606 15.3021C8.76806 15.0901 8.76706 11.8751 8.70406 11.6901C8.68469 11.6155 8.64923 11.5461 8.60017 11.4867C8.55111 11.4272 8.48963 11.3793 8.42006 11.3461C8.31006 11.2861 8.24606 11.2711 8.05706 11.2641C7.95289 11.2579 7.84835 11.2622 7.74506 11.2771Z" fill="url(#paint0_linear_1545_595)"/>\n                    <defs>\n                        <linearGradient id="paint0_linear_1545_595" x1="8.00006" y1="0.273437" x2="8.00006" y2="15.7411" gradientUnits="userSpaceOnUse">\n                        <stop/>\n                        <stop offset="1" stop-opacity="0"/>\n                        </linearGradient>\n                    </defs>\n                </svg>\n              \n            </div>\n            <div class="folders-file-details">\n                <div class="folders-file-info">\n                    <div class="folders-file-icon-doc">\n                        ${t}\n                    </div> \n                    <div class="folders-file-name folders-file-name-clickable" data-file-id="${e.id}">${e.name}</div>\n                </div>\n            </div>\n            <div class="folders-file-status folders-status-${e.status}">\n                ${getStatusText(e)}\n            </div> \n            <div class="folders-file-progress">\n                <div class="folders-progress-bar">\n                    <div class="folders-progress-fill folders-progress-${e.status}" style="width: ${e.progress}%;"></div>\n                </div>\n            </div>\n        </div>\n    `);jQuery(".folders-upload-files").append(o)}function isImageFile(e){return["image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/webp","image/svg+xml"].includes(e.type)||/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i.test(e.name)}function getStatusText(e){switch(e.status){case"pending":return"Pending";case"uploading":return"Uploading..";case"completed":return"Completed";case"cancelled":return"Cancelled";case"error":return"Error";default:return""}}function updateOverallProgress(){const e=uploadState.files.filter((e=>"cancelled"!==e.status)),t=e.length>0?e.reduce(((e,t)=>e+t.progress),0)/e.length:0,o=uploadState.files.reduce(((e,t)=>e+t.uploadedSize),0);jQuery(".folders-upload-count").text(`${uploadState.completedFiles}/${uploadState.totalFiles} Files Uploading - ${Math.round(t)}%`),jQuery(".folders-upload-size").text(`${formatFileSize(o)} of ${formatFileSize(uploadState.totalSize)}`),updateCircularProgress(t),uploadState.completedFiles+uploadState.cancelledFiles===uploadState.totalFiles&&handleUploadCompletion()}function updateCircularProgress(e){const t=jQuery(".progress-ring-circle"),o=(jQuery(".progress-text"),88-e/100*88);t.css({transition:"stroke-dashoffset 0.3s ease-in-out","stroke-dashoffset":o})}function showCompletedProgress(){jQuery(".folder-rounded-progress").html('\n        <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <circle cx="12.9336" cy="12.9995" r="10.0121" stroke="#E6386C" stroke-width="2.2249" stroke-linecap="round"/>\n            <path d="M7.80469 12.8381L10.7156 15.7491C10.818 15.8526 10.9399 15.9349 11.0744 15.991C11.2088 16.0472 11.3531 16.0762 11.4987 16.0762C11.6444 16.0762 11.7887 16.0472 11.9231 15.991C12.0575 15.9349 12.1795 15.8526 12.2819 15.7491L18.148 9.88281" stroke="#E6386C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n    ')}function resetProgressRing(){jQuery(".folder-rounded-progress").html('\n        <svg class="progress-ring" width="32" height="32" viewBox="0 0 32 32">\n            <circle class="progress-ring-circle-bg" cx="16" cy="16" r="14" stroke="#e1e5e9" stroke-width="3" fill="transparent"/>\n            <circle class="progress-ring-circle" cx="16" cy="16" r="14" stroke="#E6386C" stroke-width="3" fill="transparent" \n                   stroke-dasharray="88" stroke-dashoffset="88" transform="rotate(-90 16 16)" \n                   style="transition: stroke-dashoffset 0.3s ease-in-out;"/>\n        </svg>\n        <div class="progress-text">\n            <svg width="10" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M5.02845 9.72754V1.27344M5.02845 1.27344L9.22194 4.8936M5.02845 1.27344L0.834961 4.8936" stroke="#E6386C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n        </div>\n    ')}function handleUploadCompletion(){uploadState.isCompleted=!0,jQuery(".folders-upload-count").text(`${uploadState.totalFiles}/${uploadState.totalFiles} Files Uploaded - 100%`),jQuery(".folders-upload-size").text(`${formatFileSize(uploadState.totalSize)} of ${formatFileSize(uploadState.totalSize)}`),showCompletedProgress(),jQuery(".folders-upload-close").show(),jQuery(".folders-btn-cancel").hide(),jQuery(".folders-btn-view-folder").show(),jQuery("#folders-media-progress").addClass("folders-upload-completed")}function updateFileDisplay(e){const t=jQuery(`.folders-file-item[data-file-id="${e.id}"]`);0===t.length?createFileElement(e):updateFileElement(t,e)}function updateFileElement(e,t){e.removeClass("folders-file-pending folders-file-uploading folders-file-completed folders-file-cancelled folders-file-error").addClass(`folders-file-${t.status}`),e.find(".folders-progress-fill").removeClass("folders-progress-pending folders-progress-uploading folders-progress-completed folders-progress-cancelled folders-progress-error").addClass(`folders-progress-${t.status}`),e.find(".folders-progress-fill").css("width",t.progress+"%"),e.find(".folders-file-status").text(getStatusText(t)),e.find(".folders-file-status").removeClass("folders-file-pending folders-file-uploading folders-file-completed folders-file-cancelled folders-file-error").addClass(`folders-status-${t.status}`),"completed"==t.status&&(e.find(".folders-file-icon").empty(),e.find(".folders-file-icon").append('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8 2.66602V13.3327" stroke="#E6386C" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"/>\n            <path d="M13.1072 7.35593L8.72527 2.97401C8.6304 2.87831 8.51747 2.80231 8.39293 2.75048C8.26847 2.69857 8.135 2.67188 8.00013 2.67188C7.86527 2.67188 7.7318 2.69857 7.60733 2.75048C7.4828 2.80231 7.36987 2.87831 7.27493 2.97401L2.89307 7.35593" stroke="#E6386C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>'))}function formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}jQuery(document).on("submit","#folder-media-popup-form",(function(){if(""==jQuery.trim(jQuery("#media-folder-name").val()))jQuery("#media-form-error").show(),jQuery("#media-folder-name").focus();else{jQuery("button#save-media-folder").html("<span class='spinner-border'></span>"),jQuery("button#save-media-folder").attr("disabled",!0);var e=-1;jQuery(".folder_for_media option").each((function(){thisText=jQuery(this).text(),""!=jQuery.trim(thisText[0])&&e++})),jQuery.ajax({url:folders_media_options.ajax_url,data:"action=wcp_add_new_folder&parent_id=0&is_from_media=1&type=attachment&term_id=0&order="+e+"&name="+jQuery.trim(jQuery("#media-folder-name").val())+"&nonce="+folders_media_options.nonce,type:"post",success:function(e){result=jQuery.parseJSON(e),"1"==result.status?(resetMediaID=result.id,folders_media_options.is_key_active=result.is_key_active,folders_media_options.folders=result.folders,resetSelectMediaDropDown(),resetMediaScreen=!0):(jQuery(".folder-form-errors").html(result.message).show(),jQuery("button#save-media-folder").attr("disabled",!1),jQuery("button#save-media-folder").html("Submit"))}})}return!1})),jQuery(document).on("click",".remove-media-form",(function(e){e.stopPropagation(),jQuery("#custom-folder-media-popup-form").remove(),jQuery(".folder_for_media").val("-1").trigger("change"),jQuery("#media-attachment-taxonomy-filter").each((function(){jQuery(this).val("all").trigger("change")}))})),jQuery(document).on("click","#custom-folder-media-popup-form",(function(e){jQuery("#custom-folder-media-popup-form").remove(),jQuery(".folder_for_media").val("-1").trigger("change"),jQuery("#media-attachment-taxonomy-filter").each((function(){jQuery(this).val("all").trigger("change")}))})),jQuery(document).on("click",".media-popup-form",(function(e){e.stopPropagation()})),jQuery(document).ready((function(e){jQuery(document).on("click",".select-mode-toggle-button",(function(e){jQuery(this).hasClass("button-large")&&"Cancel"===jQuery(this).html()?jQuery("#wcp-media-download-grid").show():jQuery("#wcp-media-download-grid").hide()})),setTimeout((function(){let t=e(".media-toolbar .select-mode-toggle-button");t.length&&!t.data("handler-attached")&&(t.data("handler-attached",!0),t.attr("aria-selected","false"),t.on("click",(function(t){let o=e("#wcp-media-download-grid");if(e(t.target).hasClass("large-button")&&o.remove(),!e("#wcp-media-download-grid").length){let t=e("<button>",{id:"wcp-media-download-grid",type:"button",class:"button media-button button-primary button-large wcp-bulk-download",text:"Download",disabled:!0});e(".media-toolbar-secondary .delete-selected-button").after(t),e(document).on("click",".attachments .attachment",(function(){let t=e(".attachments .attachment.selected");e("#wcp-media-download-grid").prop("disabled",0===t.length)})),e(document).on("click","#wcp-media-download-grid",(function(){jQuery("#upgrade-to-folder-bulk-download").show()}))}}))),jQuery(document).on("click",".btn-update-to-pro",(function(e){jQuery("#upgrade-to-folder-bulk-download").hide()}))}),300),jQuery(document).on("click",".folders-upload-minimize",(function(){jQuery(".folders-upload-minimize").hide(),jQuery(".folders-upload-files").hide(),jQuery(".folders-upload-actions").hide(),jQuery(".folders-upload-maximize").show()})),jQuery(document).on("click",".folders-upload-maximize",(function(){jQuery(".folders-upload-maximize").hide(),jQuery(".folders-upload-files").show(),jQuery(".folders-upload-actions").show(),jQuery(".folders-upload-minimize").show()})),jQuery(document).on("click",".folders-upload-close",(function(){jQuery("#folders-media-progress").remove(),uploadState={files:[],totalFiles:0,totalSize:0,completedFiles:0,cancelledFiles:0},createUploadPanel()})),jQuery(document).on("click",".folders-file-name-clickable",(function(e){e.preventDefault(),e.stopPropagation();let t=jQuery(this).data("file-id");if(!t)return;let o=uploadState.files.find((e=>e.id===t));if(!o||!o.attachment)return;let a=parseInt(o.attachment.id,10);if(!a||isNaN(a))return;if(void 0===wp||!wp.media)return;wp.media.frame.detach(),wp.media.frame=null;let i=wp.media.attachment(a);i.fetch().then((()=>{wp.media.frame||(wp.media.frame=wp.media({frame:"manage",library:wp.media.query(),multiple:!1}));let e=wp.media.frame;e.close(),setTimeout((()=>{e.open(),e.trigger("edit:attachment",i)}),200)}))}))}));