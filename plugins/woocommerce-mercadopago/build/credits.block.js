(()=>{"use strict";const e=window.React,t=window.wp.element,c=window.wc.wcBlocksRegistry,n=window.wp.htmlEntities,s=window.wc.wcSettings,i="mercadopago_blocks_update_cart",r=({title:t,description:c,linkText:n,linkSrc:s})=>(0,e.createElement)("div",{className:"mp-test-mode-container"},(0,e.createElement)("test-mode",{title:t,description:c,"link-text":n,"link-src":s})),a=({title:t,description:c,src:n,alt:s})=>(0,e.createElement)("checkout-redirect-v3",{title:t,description:c,src:n,alt:s}),o=({title:t,items:c,titleAlign:n="left"})=>(0,e.createElement)("checkout-benefits-list",{title:t,"title-align":n,items:c}),l=({description:t,linkText:c,linkSrc:n,checkoutClass:s="pro"})=>(0,e.createElement)("div",{className:`mp-checkout-${s}-terms-and-conditions`},(0,e.createElement)("terms-and-conditions",{description:t,"link-text":c,"link-src":n})),m=({text:t,imgSrc:c,id:n})=>(0,e.createElement)("div",{id:n,className:"row-image-select"},(0,e.createElement)("img",{src:c}),(0,e.createElement)("p",null,t));var d;const p="mp_checkout_blocks",_="woo-mercado-pago-credits",u=(0,s.getSetting)("woo-mercado-pago-credits_data",{}),k=(0,n.decodeEntities)(u.title)||"Checkout Credits",E=c=>{(e=>{const{extensionCartUpdate:c}=wc.blocksCheckout,{eventRegistration:n,emitResponse:s}=e,{onPaymentSetup:r,onCheckoutSuccess:a,onCheckoutFail:o}=n;(0,t.useEffect)((()=>{((e,t)=>{e({namespace:i,data:{action:"add",gateway:t}})})(c,_);const e=r((()=>({type:s.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:i,data:{action:"remove",gateway:t}})})(c,_),e())}),[r]),(0,t.useEffect)((()=>{const e=a((async e=>{const t=e.processingResponse;return sendMetric("MP_CREDITS_BLOCKS_SUCCESS",t.paymentStatus,p),{type:s.responseTypes.SUCCESS}}));return()=>e()}),[a]),(0,t.useEffect)((()=>{const e=o((e=>{const t=e.processingResponse;return sendMetric("MP_CREDITS_BLOCKS_ERROR",t.paymentStatus,p),{type:s.responseTypes.FAIL,messageContext:s.noticeContexts.PAYMENTS}}));return()=>e()}),[o])})(c);const{test_mode_title:n,test_mode_description:s,test_mode_link_text:m,test_mode_link_src:d,checkout_benefits_title:k,checkout_benefits_items:E,checkout_redirect_title:S,checkout_redirect_description:g,checkout_redirect_src:h,checkout_redirect_alt:w,terms_and_conditions_description:C,terms_and_conditions_link_text:y,terms_and_conditions_link_src:f,test_mode:v,amount:x,message_error_amount:R}=u.params;return null==x?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{className:"alert-message"},R)):(0,e.createElement)("div",{className:"mp-checkout-container"},(0,e.createElement)("div",{className:"mp-checkout-credits-container"},(0,e.createElement)("div",{className:"mp-checkout-credits-content"},v?(0,e.createElement)(r,{title:n,description:s,linkText:m,linkSrc:d}):null,(0,e.createElement)("div",{class:"mp-credits-checkout-benefits"},(0,e.createElement)(o,{title:k,items:E,titleAlign:"left"})),(0,e.createElement)("div",{class:"mp-checkout-credits-redirect"},(0,e.createElement)(a,{title:S,description:g,src:h,alt:w})))),(0,e.createElement)(l,{description:C,linkText:y,linkSrc:f}))},S={name:_,label:(0,e.createElement)((()=>{const t=(0,n.decodeEntities)(u?.params?.fee_title||""),c=`${k} ${t}`;return(0,e.createElement)(m,{text:c,imgSrc:u.params.checkout_blocks_row_image_src})}),null),content:(0,e.createElement)(E,null),edit:(0,e.createElement)(E,null),canMakePayment:()=>!0,ariaLabel:k,supports:{features:null!==(d=u?.supports)&&void 0!==d?d:[]}};(0,c.registerPaymentMethod)(S)})();