(()=>{"use strict";var e={20:(e,t,s)=>{var c=s(609),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,s){var c,r={},l=null,d=null;for(c in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,c)&&!a.hasOwnProperty(c)&&(r[c]=t[c]);if(e&&e.defaultProps)for(c in t=e.defaultProps)void 0===r[c]&&(r[c]=t[c]);return{$$typeof:o,type:e,key:l,ref:d,props:r,_owner:n.current}}t.Fragment=r,t.jsx=l,t.jsxs=l},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wp.element,c=window.wc.wcBlocksRegistry,o=window.wp.htmlEntities,r=window.wc.wcSettings,i="mercadopago_blocks_update_cart";var n=function s(c){var o=t[c];if(void 0!==o)return o.exports;var r=t[c]={exports:{}};return e[c](r,r.exports,s),r.exports}(848);const a=({title:e,description:t,linkText:s,linkSrc:c})=>(0,n.jsx)("div",{className:"mp-test-mode-container",children:(0,n.jsx)("test-mode",{title:e,description:t,"link-text":s,"link-src":c})}),l=({title:e,description:t,src:s,alt:c})=>(0,n.jsx)("checkout-redirect-v3",{title:e,description:t,src:s,alt:c}),d=({title:e,items:t,titleAlign:s="left"})=>(0,n.jsx)("checkout-benefits-list",{title:e,"title-align":s,items:t}),m=({description:e,linkText:t,linkSrc:s,checkoutClass:c="pro"})=>(0,n.jsx)("div",{className:`mp-checkout-${c}-terms-and-conditions`,children:(0,n.jsx)("terms-and-conditions",{description:e,"link-text":t,"link-src":s})}),p=({text:e,imgSrc:t,id:s})=>(0,n.jsxs)("div",{id:s,className:"row-image-select",children:[(0,n.jsx)("img",{src:t}),(0,n.jsx)("p",{children:e})]}),_=(e,t,s)=>{const c={name:e,message:t,target:s,plugin:{version:wc_mercadopago_custom_checkout_params.plugin_version},platform:{name:"woocommerce",uri:window.location.href,version:wc_mercadopago_custom_checkout_params.platform_version,location:`${wc_mercadopago_custom_checkout_params.location}_${wc_mercadopago_custom_checkout_params.theme}`}};navigator.sendBeacon("https://api.mercadopago.com/v1/plugins/melidata/errors",JSON.stringify(c))};var u;const k="mp_checkout_blocks",x="woo-mercado-pago-credits",h=(0,r.getSetting)("woo-mercado-pago-credits_data",{}),g=(0,o.decodeEntities)(h.title)||"Checkout Credits",f=()=>{const e=(0,o.decodeEntities)(h?.params?.fee_title||""),t=`${g} ${e}`;return(0,n.jsx)(p,{text:t,imgSrc:h.params.checkout_blocks_row_image_src})},w=e=>{(e=>{const{extensionCartUpdate:t}=wc.blocksCheckout,{eventRegistration:c,emitResponse:o}=e,{onPaymentSetup:r,onCheckoutSuccess:n,onCheckoutFail:a}=c;(0,s.useEffect)((()=>{((e,t)=>{e({namespace:i,data:{action:"add",gateway:t}})})(t,x);const e=r((()=>({type:o.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:i,data:{action:"remove",gateway:t}})})(t,x),e())}),[r]),(0,s.useEffect)((()=>{const e=n((async e=>{const t=e.processingResponse;return _("MP_CREDITS_BLOCKS_SUCCESS",t.paymentStatus,k),{type:o.responseTypes.SUCCESS}}));return()=>e()}),[n]),(0,s.useEffect)((()=>{const e=a((e=>{const t=e.processingResponse;return _("MP_CREDITS_BLOCKS_ERROR",t.paymentStatus,k),{type:o.responseTypes.FAIL,messageContext:o.noticeContexts.PAYMENTS}}));return()=>e()}),[a])})(e);const{test_mode_title:t,test_mode_description:c,test_mode_link_text:o,test_mode_link_src:r,checkout_benefits_title:p,checkout_benefits_items:u,checkout_redirect_title:g,checkout_redirect_description:f,checkout_redirect_src:w,checkout_redirect_alt:S,terms_and_conditions_description:v,terms_and_conditions_link_text:j,terms_and_conditions_link_src:y,test_mode:C,amount:E,message_error_amount:R}=h.params;return null==E?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{className:"alert-message",children:R})}):(0,n.jsxs)("div",{className:"mp-checkout-container",children:[(0,n.jsx)("div",{className:"mp-checkout-credits-container",children:(0,n.jsxs)("div",{className:"mp-checkout-credits-content",children:[C?(0,n.jsx)(a,{title:t,description:c,linkText:o,linkSrc:r}):null,(0,n.jsx)("div",{class:"mp-credits-checkout-benefits",children:(0,n.jsx)(d,{title:p,items:u,titleAlign:"left"})}),(0,n.jsx)("div",{class:"mp-checkout-credits-redirect",children:(0,n.jsx)(l,{title:g,description:f,src:w,alt:S})})]})}),(0,n.jsx)(m,{description:v,linkText:j,linkSrc:y})]})},S={name:x,label:(0,n.jsx)(f,{}),content:(0,n.jsx)(w,{}),edit:(0,n.jsx)(w,{}),canMakePayment:()=>!0,ariaLabel:g,supports:{features:null!==(u=h?.supports)&&void 0!==u?u:[]}};(0,c.registerPaymentMethod)(S)})();