(()=>{"use strict";var e={20:(e,t,s)=>{var o=s(609),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,s){var o,r={},p=null,l=null;for(o in void 0!==s&&(p=""+s),void 0!==t.key&&(p=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,o)&&!i.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:n,type:e,key:p,ref:l,props:r,_owner:c.current}}t.Fragment=r,t.jsx=p,t.jsxs=p},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wp.element,o=window.wc.wcBlocksRegistry,n=window.wp.htmlEntities,r=window.wc.wcSettings,a="mercadopago_blocks_update_cart";var c=function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,s),r.exports}(848);const i=({title:e,description:t,linkText:s,linkSrc:o})=>(0,c.jsx)("div",{className:"mp-test-mode-container",children:(0,c.jsx)("test-mode",{title:e,description:t,"link-text":s,"link-src":o})}),p=({title:e,subtitle:t,alt:s,linkSrc:o})=>(0,c.jsx)("pix-template",{title:e,subtitle:t,alt:s,src:o}),l=({description:e,linkText:t,linkSrc:s,checkoutClass:o="pro"})=>(0,c.jsx)("div",{className:`mp-checkout-${o}-terms-and-conditions`,children:(0,c.jsx)("terms-and-conditions",{description:e,"link-text":t,"link-src":s})}),m=(e,t,s)=>{const o={name:e,message:t,target:s,plugin:{version:wc_mercadopago_custom_checkout_params.plugin_version},platform:{name:"woocommerce",uri:window.location.href,version:wc_mercadopago_custom_checkout_params.platform_version,location:`${wc_mercadopago_custom_checkout_params.location}_${wc_mercadopago_custom_checkout_params.theme}`}};navigator.sendBeacon("https://api.mercadopago.com/v1/plugins/melidata/errors",JSON.stringify(o))};var _;const d="mp_checkout_blocks",u="woo-mercado-pago-pix",x=(0,r.getSetting)("woo-mercado-pago-pix_data",{}),k=(0,n.decodeEntities)(x.title)||"Checkout Pix",g=e=>{const{PaymentMethodLabel:t}=e.components,s=(0,n.decodeEntities)(x?.params?.fee_title||""),o=`${k} ${s}`;return(0,c.jsx)(t,{text:o})},w=e=>{(e=>{const{extensionCartUpdate:t}=wc.blocksCheckout,{eventRegistration:o,emitResponse:n}=e,{onPaymentSetup:r,onCheckoutSuccess:c,onCheckoutFail:i}=o;(0,s.useEffect)((()=>{((e,t)=>{e({namespace:a,data:{action:"add",gateway:t}})})(t,u);const e=r((()=>({type:n.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:a,data:{action:"remove",gateway:t}})})(t,u),e())}),[r]),(0,s.useEffect)((()=>{const e=c((async e=>{e.processingResponse.message=u;const t=e.processingResponse;return m("MP_PIX_BLOCKS_SUCCESS",t.paymentStatus,d),{type:n.responseTypes.SUCCESS}}));return()=>e()}),[c]),(0,s.useEffect)((()=>{const e=i((e=>{const t=e.processingResponse;return m("MP_PIX_BLOCKS_ERROR",t.paymentStatus,d),{type:n.responseTypes.FAIL,messageContext:n.noticeContexts.PAYMENTS,message:t.paymentDetails.message}}));return()=>e()}),[i])})(e);const{test_mode_title:t,test_mode_description:o,pix_template_title:n,pix_template_subtitle:r,pix_template_src:_,pix_template_alt:k,terms_and_conditions_description:g,terms_and_conditions_link_text:w,terms_and_conditions_link_src:h,test_mode:f,amount:y,message_error_amount:S}=x.params;return null==y?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("p",{className:"alert-message",children:S})}):(0,c.jsxs)("div",{className:"mp-checkout-container",children:[(0,c.jsx)("div",{className:"mp-checkout-pix-container",children:(0,c.jsxs)("div",{className:"mp-checkout-pix-content",children:[f?(0,c.jsx)(i,{title:t,description:o}):null,(0,c.jsx)(p,{title:n,subtitle:r,alt:k,linkSrc:_})]})}),(0,c.jsx)(l,{description:g,linkText:w,linkSrc:h,checkoutClass:"pix"})]})},h={name:u,label:(0,c.jsx)(g,{}),content:(0,c.jsx)(w,{}),edit:(0,c.jsx)(w,{}),canMakePayment:()=>!0,ariaLabel:k,supports:{features:null!==(_=x?.supports)&&void 0!==_?_:[]}};(0,o.registerPaymentMethod)(h)})();