(()=>{"use strict";const e=window.React,t=window.wc.wcBlocksRegistry,n=window.wc.wcSettings,c=window.wp.element,s=window.wp.htmlEntities,o="mercadopago_blocks_update_cart",a=({title:t,items:n,titleAlign:c="center",listMode:s="image"})=>(0,e.createElement)("checkout-benefits",{title:t,"title-align":c,items:n,"list-mode":s}),i=({text:t,src:n,alt:c})=>(0,e.createElement)("div",{className:"mp-checkout-pro-redirect"},(0,e.createElement)("checkout-redirect-v2",{text:t,src:n,alt:c})),r=({title:t,methods:n})=>(0,e.createElement)("div",{className:"mp-checkout-pro-payment-methods"},(0,e.createElement)("payment-methods-v2",{title:t,methods:n})),l=({description:t,linkText:n,linkSrc:c,checkoutClass:s="pro"})=>(0,e.createElement)("div",{className:`mp-checkout-${s}-terms-and-conditions`},(0,e.createElement)("terms-and-conditions",{description:t,"link-text":n,"link-src":c})),m=({title:t,description:n,linkText:c,linkSrc:s})=>(0,e.createElement)("div",{className:"mp-test-mode-container"},(0,e.createElement)("test-mode",{title:t,description:n,"link-text":c,"link-src":s}));var d;const p="mp_checkout_blocks",_="woo-mercado-pago-basic",u=(0,n.getSetting)("woo-mercado-pago-basic_data",{}),k=(0,s.decodeEntities)(u.title)||"Checkout Pro",E=t=>{(e=>{const{extensionCartUpdate:t}=wc.blocksCheckout,{eventRegistration:n,emitResponse:s}=e,{onPaymentSetup:a,onCheckoutSuccess:i,onCheckoutFail:r}=n;(0,c.useEffect)((()=>{((e,t)=>{e({namespace:o,data:{action:"add",gateway:t}})})(t,_);const e=a((()=>({type:s.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:o,data:{action:"remove",gateway:t}})})(t,_),e())}),[a]),(0,c.useEffect)((()=>{const e=i((async e=>{const t=e.processingResponse;return sendMetric("MP_BASIC_BLOCKS_SUCCESS",t.paymentStatus,p),{type:s.responseTypes.SUCCESS}}));return()=>e()}),[i]),(0,c.useEffect)((()=>{const e=r((e=>{const t=e.processingResponse;return sendMetric("MP_BASIC_BLOCKS_ERROR",t.paymentStatus,p),{type:s.responseTypes.FAIL,messageContext:s.noticeContexts.PAYMENTS}}));return()=>e()}),[r])})(t);const{test_mode_title:n,test_mode_description:s,test_mode_link_text:d,test_mode_link_src:k,checkout_benefits_title:E,checkout_benefits_items:h,payment_methods_title:S,payment_methods_methods:w,method:g,checkout_redirect_text:y,checkout_redirect_src:C,checkout_redirect_alt:x,terms_and_conditions_description:v,terms_and_conditions_link_text:b,terms_and_conditions_link_src:f,test_mode:N,amount:M,message_error_amount:R}=u.params;return null==M?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{className:"alert-message"},R)):(0,e.createElement)("div",{className:"mp-checkout-container"},(0,e.createElement)("div",{className:"mp-checkout-pro-container"},(0,e.createElement)("div",{className:"mp-checkout-pro-content"},N?(0,e.createElement)(m,{title:n,description:s,"link-text":d,"link-src":k}):null,(0,e.createElement)("div",{className:"mp-checkout-pro-checkout-benefits"},(0,e.createElement)(a,{title:E,items:h})),(0,e.createElement)(r,{title:S,methods:w}),"redirect"===g?(0,e.createElement)(i,{text:y,src:C,alt:x}):null)),(0,e.createElement)(l,{description:v,linkText:b,linkSrc:f}))},h={name:_,label:(0,e.createElement)((t=>{const{PaymentMethodLabel:n}=t.components,c=(0,s.decodeEntities)(u?.params?.fee_title||""),o=`${k} ${c}`;return(0,e.createElement)(n,{text:o})}),null),content:(0,e.createElement)(E,null),edit:(0,e.createElement)(E,null),canMakePayment:()=>!0,ariaLabel:k,supports:{features:null!==(d=u?.supports)&&void 0!==d?d:[]}};(0,t.registerPaymentMethod)(h)})();