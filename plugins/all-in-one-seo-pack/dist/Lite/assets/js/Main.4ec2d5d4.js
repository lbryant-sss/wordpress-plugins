import{n as N,U as F,m as ne,H as ie,u as j,a as X,j as Y}from"./index.4eed137d.js";import re from"./AnalyzeCompetitorSite.d5d77e8c.js";import{C as le}from"./Index.fe5d0fce.js";import ce from"./SeoHomepageAudit.2b8c6a3d.js";import{G as ue}from"./constants.a8a14dc3.js";import{C as G}from"./Blur.63f260fa.js";import{C as V}from"./Card.b1c97156.js";import{C as de}from"./DonutChartWithLegend.9312ebff.js";import{C as q}from"./Tooltip.e12834fc.js";import{C as pe}from"./Tabs.5104ec94.js";import{u as Z}from"./WpTable.efa54adc.js";import{_ as $}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as s,c as m,t as g,K as O,f as K,H as _,m as r,a as y,y as P,u as e,b as v,g as H,k as me,l as b,x as M,L as W,v as ee,q as _e}from"./runtime-dom.esm-bundler.c4caba60.js";import{S as ye}from"./Info.ab02a1ea.js";import"./translations.d159963e.js";import{_ as n,s as te}from"./default-i18n.20001971.js";import{C as se}from"./Table.d59db57a.js";import{e as ge,a as oe,S as fe,c as he}from"./Caret.cc16468c.js";import{S as ke}from"./Information.efebd14c.js";import{a as ae}from"./index.f3c7a985.js";import{S as be}from"./Gear.2f512b03.js";import{g as ve}from"./utils.4b39bb7a.js";import{C as Se}from"./Index.312910ac.js";import Ce from"./HeadlineAnalyzer.3eca5d25.js";import"./helpers.a0b389be.js";import"./ScrollTo.81bea8a7.js";import"./SeoSiteScore.b381cdbd.js";import"./Score.4a6ae984.js";import"./popup.92105c51.js";import"./params.af7ed354.js";import"./ConnectStore.b2dfb0ea.js";import"./SetupWizardStore.74007de3.js";import"./iphone-frame.1a83c4c4.js";import"./SchemaStore.db34ca91.js";import"./metabox.1bacf3dd.js";import"./cleanForSlug.cacc99d0.js";import"./toString.1e64e8a6.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.ca702273.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.61e6159e.js";import"./Url.85b7f270.js";import"./Slide.9bb3b45e.js";import"./Refresh.a1c1c9a1.js";import"./DonutChart.36f89ed8.js";import"./AnimatedNumber.f40bef48.js";import"./numbers.9fc174f3.js";import"./Loading.62cbc7c3.js";import"./vue-router.8d7f8ad9.js";import"./license.38a7ecfa.js";import"./upperFirst.9d3c89a3.js";import"./allowed.2e99e012.js";/* empty css             */import"./Header.19b4a132.js";import"./addons.5fcb48e3.js";import"./ScrollAndHighlight.ea9f8ab3.js";import"./LicenseKeyBar.5457ae44.js";import"./LogoGear.a15cc3e7.js";import"./Logo.b10fde65.js";import"./Support.a74e1db4.js";import"./date.a0d85d51.js";import"./datetime.f197aeae.js";import"./Exclamation.2ee51cca.js";import"./Index.1f7aaa0b.js";import"./Book.e03567fe.js";import"./Lab.8c2f5246.js";import"./ProBadge.6c04ecdd.js";import"./Download.f06882d0.js";import"./Row.d49feaf0.js";import"./List.be330e31.js";const Ae={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(f){return(o,a)=>(s(),m("span",{class:O(["aioseo-badge round",f.color])},g(f.text),3))}},xe=$(Ae,[["__scopeId","data-v-64238476"]]),$e={key:0,class:"aioseo-seo-analysis-post-status-badge"},Te={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(f){const o="all-in-one-seo-pack",a=f,i={tooltip:n("The results for this post may be inaccurate or vary slightly until the post is published.",o)},h=K(()=>a.status==="future"?n("Scheduled",o):a.status.toUpperCase());return(l,c)=>["draft","private","pending","future"].includes(a.status)?(s(),m("div",$e,[_(e(q),null,{tooltip:r(()=>[y("span",null,g(i.tooltip),1)]),default:r(()=>[y("span",{class:O(["aioseo-seo-analysis-post-status-badge__status",a.status])},[P(g(h.value)+" ",1),_(e(ye))],2)]),_:1})])):v("",!0)}},Ie=$(Te,[["__scopeId","data-v-d5a4d223"]]),we={class:"aioseo-seo-site-analysis-url-details"},Ue={key:0,class:"result-body"},Le={class:"result-body-loading"},Be={key:1,class:"aioseo-seo-site-analysis-url-details-results"},Pe={class:"title"},Ke={class:"aioseo-seo-site-analysis-url-details-results__row-actions"},Re=["href"],ze=["onClick"],Q="aioseo-seo-analysis-issues-posts-report-wp-table",Oe={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(f){const o="aioseo-pro",a=f,i=N(),h=H(null),l={fixActionText:n("Fix",o),ignoreActionText:n("Ignore",o)},c=`${a.result.id}-${a.result.type.toLowerCase()}`,{pageNumber:A,processFilterTable:x,processSearch:T,searchTerm:R,wpTableKey:U,wpTableLoading:L}=Z({fetchData:i.fetchIssuesByObject,resultsPerPage:i.resultsperPage,tableId:Q,tableRef:h.value}),k=K(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:n("Issues",o),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function u(p){var S;return(S=F.strings[p.code])==null?void 0:S.title}function t(p){var S;return(S=F.strings[p.code])==null?void 0:S.description}function C(p){var z,d;if(!["author-bio-missing","author-bio-ok"].includes(p.code))return p.fixLink+(((z=F.strings[p.code])==null?void 0:z.fixActionParams)||"");const D=p.fixLink.includes("profile.php")?"?":"&";return p.fixLink+D+(((d=F.strings[p.code])==null?void 0:d.fixActionParams)||"")}function I(p){T(p)}function B(p,S){i.doIgnoreIssue(p,S),(p==null?void 0:p.status)==="error"&&(a.result.count=a.result.count-1)}return me(()=>{x({slug:a.result})}),(p,S)=>{var D,z;return s(),m("div",we,[(D=e(i))!=null&&D.allUrlsResults.auditItemResults[c]?v("",!0):(s(),m("div",Ue,[y("div",Le,[_(e(ge))])])),(z=e(i))!=null&&z.allUrlsResults.auditItemResults[c]?(s(),m("div",Be,[(s(),b(e(se),{ref_key:"table",ref:h,class:"posts-table",id:Q,columns:k.value,"initial-page-number":e(A),"initial-search-term":e(R),"show-bulk-actions":!1,"show-pagination":!1,key:e(U),loading:e(L),rows:e(i).allUrlsResults.auditItemResults[c].rows,totals:e(i).allUrlsResults.auditItemResults[c].totals,"hide-top-pagination":!0,onSearch:I,"show-search":!1},{icon:r(({row:d})=>[y("div",{class:O(["aioseo-seo-site-analysis-url-details-results__result-icon",`${d.status}-status`])},[d.status==="passed"?(s(),b(e(oe),{key:0})):d.status==="error"?(s(),b(e(fe),{key:1})):d.status==="warning"?(s(),b(e(ke),{key:2})):(s(),b(e(be),{key:3}))],2)]),title:r(({row:d})=>{var E;return[y("div",Pe,[P(g(u(d))+" ",1),(E=t(d))!=null&&E.length&&(d==null?void 0:d.status)!=="passed"?(s(),b(e(q),{key:0},{tooltip:r(()=>[P(g(t(d)),1)]),default:r(()=>[_(e(ae))]),_:2},1024)):v("",!0)])]}),actions:r(({row:d})=>[y("div",Ke,[d.fixLink&&(d==null?void 0:d.status)!=="passed"?(s(),m("a",{key:0,href:C(d),target:"_blank",class:"aioseo-button blue small"},g(l.fixActionText),9,Re)):v("",!0),(d==null?void 0:d.status)!=="passed"?(s(),m("button",{key:1,type:"button",class:"aioseo-button gray small",onClick:E=>B(d,e(i).allUrlsResults.auditItemResults[c])},g(l.ignoreActionText),9,ze)):v("",!0)])]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):v("",!0)])}}},De=$(Oe,[["__scopeId","data-v-b79b8e1f"]]),Fe=["id"],He={key:0},Me={key:1},Ne={key:1,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},Ee={class:"actions"},je={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(f,{emit:o}){const a="aioseo-pro",i=N(),h=o,l=f,c=K(()=>l.row),A=H(!1),x=H(!1),T={addKeyphrase:n("Add Focus Keyword",a),cancel:n("Cancel",a),add:n("Add",a)};async function R(k){x.value=!0;const t=document.getElementById(`keyword-${k.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),C=t==null?void 0:t.value.trim();if(!C){x.value=!1;return}const I={keyphrase:C,score:0,analysis:{}};i.doAddFocusKeyword(k.id,I).then(()=>{k.keyphrases.focus=I,t.value="",t.blur()}).catch(B=>{console.error(B)}).finally(()=>{x.value=!1,h("keywordAdded")})}function U(k){k.preventDefault(),A.value=!0;const u=document.getElementById(`keyword-${c.value.id}`);setTimeout(()=>{const t=u==null?void 0:u.querySelector(".add-focus-keyphrase-metabox-input input");t==null||t.focus()},100)}function L(k,u){const C=document.getElementById(`keyword-${u}`).querySelector(".add-keyphrase");k.preventDefault(),C.click()}return(k,u)=>{var I,B,p;const t=M("base-input"),C=M("base-button");return c.value.isTruSeoEligible?(s(),m("div",{key:0,id:`keyword-${c.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[(p=(B=(I=c.value)==null?void 0:I.keyphrases)==null?void 0:B.focus)!=null&&p.keyphrase?(s(),m("span",He,g(c.value.keyphrases.focus.keyphrase),1)):(s(),m("div",Me,[A.value?v("",!0):(s(),m("a",{key:0,href:"",onClick:U},g(T.addKeyphrase),1)),A.value?(s(),m("div",Ne,[_(t,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[u[0]||(u[0]=W(S=>L(S,c.value.id),["enter"])),u[1]||(u[1]=W(S=>A.value=!1,["esc"]))]}),y("div",Ee,[_(C,{class:"cancel-add-keyphrase gray small",onClick:u[2]||(u[2]=S=>A.value=!1)},{default:r(()=>[P(g(T.cancel),1)]),_:1}),_(C,{class:"add-keyphrase blue small",loading:x.value,onClick:u[3]||(u[3]=S=>R(c.value))},{default:r(()=>[P(g(T.add),1)]),_:1},8,["loading"])])])):v("",!0)]))],8,Fe)):v("",!0)}}},qe={class:"aioseo-seo-site-analysis-all-urls-results"},Ge={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},Ve={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},We={type:"button"},Qe=["innerHTML"],Je={key:0,class:"row-actions"},Xe={key:0},Ye=["href"],Ze={class:"aioseo-seo-site-analysis-all-urls-results__result-toggle"},J="aioseo-seo-analysis-all-urls-wp-table",et={__name:"SiteAuditAllUrlsTable",setup(f){const o="all-in-one-seo-pack",a=N(),i=ne(),h=H(null),l={viewObject:n("View",o)},{pageNumber:c,searchTerm:A,wpTableKey:x,wpTableLoading:T}=Z({changeItemsPerPageSlug:"seoAnalysis",fetchData:a.fetchAllUrls,tableId:J,tableRef:h.value}),R=K(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:n("Title",o),width:"100%"},{slug:"keyword",label:n("Focus Keyword",o),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),U=k=>{var u,t;return(u=k.counts)!=null&&u.error?"red":(t=k.counts)!=null&&t.warning?"orange":"green"},L=k=>{var u,t;return((u=k.counts)==null?void 0:u.error)||((t=k.counts)==null?void 0:t.warning)||0};return(k,u)=>(s(),m("div",qe,[(s(),b(e(se),{ref:"seoAnalysisAllUrlsTable",class:"posts-table",id:J,columns:R.value,"initial-page-number":e(c),"initial-search-term":e(A),"initial-items-per-page":e(i).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e(x),loading:e(T),rows:e(a).allUrlsResults.rows,totals:e(a).allUrlsResults.totals},{"edit-row":r(({row:t})=>[t!=null&&t.needsRefresh?v("",!0):(s(),b(e(De),{key:0,result:t},null,8,["result"]))]),count:r(({row:t})=>[y("div",Ge,[L(t)?(s(),b(e(xe),{key:0,color:U(t),text:L(t)},null,8,["color","text"])):(s(),m("span",{key:1,class:O(["icon",U(t)])},[_(e(oe))],2))])]),title:r(({row:t})=>[y("div",Ve,[y("button",We,[y("span",{innerHTML:e(ie)(t.title)},null,8,Qe)]),t.status?(s(),b(e(Ie),{key:0,status:t.status},null,8,["status"])):v("",!0)]),t.permalink?(s(),m("div",Je,[t.permalink?(s(),m("span",Xe,[y("a",{class:"view",href:t.permalink,target:"_blank",rel:"noopener noreferrer"},[y("span",null,g(l.viewObject)+" "+g(t.subtype.label),1)],8,Ye)])):v("",!0)])):v("",!0)]),keyword:r(({row:t})=>[(s(),b(e(je),{key:t.id,row:t,onKeywordAdded:C=>k.keywordAdded(t)},null,8,["row","onKeywordAdded"]))]),toggle_issues:r(()=>[y("div",Ze,[_(e(he))])]),_:1},8,["columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))]))}},tt={key:1,class:"label"},st={__name:"SiteAuditGlobalTab",setup(f){const o="all-in-one-seo-pack",a=K(()=>[{slug:"all-urls",label:n("All URLs",o),name:n("All URLs",o)},{slug:"all-checks",label:n("All Checks",o),name:n("All Checks",o)},{slug:"settings-audit",label:n("Settings",o),name:n("Settings",o)}]);return(i,h)=>(s(),m("div",null,[_(e(pe),{tabs:a.value,showSaveButton:!1,active:"all-urls",internal:"","skinny-tabs":""},{"var-tab":r(({tab:l})=>{var c;return[l!=null&&l.analyze?(s(),m("span",{key:0,class:O(["icon",(c=l==null?void 0:l.analyze)==null?void 0:c.classColor])},[(s(),b(ee(l.icon)))],2)):v("",!0),l!=null&&l.analyze?(s(),m("span",tt,g(l.label)+" ("+g(l.analyze.count||0)+") ",1)):v("",!0)]}),_:1},8,["tabs"]),_(e(et),{section:"all-urls"})]))}},ot=$(st,[["__scopeId","data-v-54a2b11f"]]),at={class:"aioseo-seo-audit-checklist"},nt=["innerHTML"],it={__name:"SeoSiteAuditUnlicensed",setup(f){const o="all-in-one-seo-pack",a=j(),i={completeSeoChecklist:n("Site Audit Report",o),cardDescription:n("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+X.getDocLink(ue.learnMore,"seoAnalyzer",!0),siteOverview:n("Site Overview",o),totalPostsLabel:n("Total Checks",o),connectWithAioseo:te(n("Connect with %1$s",o),"AIOSEO")},h=K(()=>ve({good:50,warnings:30,issues:20,total:100}));return(l,c)=>(s(),m("div",at,[_(e(G),null,{default:r(()=>[_(e(V),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:r(()=>[y("span",null,g(i.siteOverview),1)]),default:r(()=>[_(e(de),{parts:h.value,total:100,label:i.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(a).isPro?v("",!0):(s(),b(e(G),{key:0},{default:r(()=>[_(e(V),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:r(()=>[y("span",null,g(i.completeSeoChecklist),1),_(e(q),null,{tooltip:r(()=>[y("span",{innerHTML:i.cardDescription},null,8,nt)]),default:r(()=>[_(e(ae))]),_:1})]),default:r(()=>[_(e(ot))]),_:1})]),_:1})),_e(l.$slots,"upsell",{},void 0,!0)]))}},rt=$(it,[["__scopeId","data-v-a580ad02"]]),w="all-in-one-seo-pack",lt={setup(){return{licenseStore:Y(),rootStore:j(),links:X}},components:{Cta:Se},props:{parentComponentContext:String},data(){return{strings:{ctaHeader:te(n("Site Audit is a %1$s Feature",w),"PRO"),ctaDescription:n("Discover which posts and terms on your site are facing common SEO issues so you can quickly resolve them in order to get your content back on track.",w),ctaFeatures:[n("Meta Tag Validation",w),n("Keyword Cannibilization",w),n("Focus Keyword Analysis",w),n("Content Analysis",w)],ctaButtonText:n("Unlock Site Audit",w)}}}},ct={class:"upsell-header-text"};function ut(f,o,a,i,h,l){const c=M("cta");return s(),b(c,{"cta-link":i.links.getPricingUrl("seo-analysis","site-audit",a.parentComponentContext),"button-text":h.strings.ctaButtonText,"learn-more-link":i.links.getUpsellUrl("site-audit",a.parentComponentContext,i.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":h.strings.ctaFeatures,"hide-bonus":!i.licenseStore.isUnlicensed},{"header-text":r(()=>[y("span",ct,g(h.strings.ctaHeader),1)]),description:r(()=>[P(g(h.strings.ctaDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])}const dt=$(lt,[["render",ut],["__scopeId","data-v-746cddb1"]]),pt={class:"aioseo-seo-analysis__global-site-audit"},mt={__name:"SeoSiteAudit",setup(f){return(o,a)=>(s(),b(e(rt),null,{upsell:r(()=>[y("div",pt,[_(e(dt),{"parent-component-context":"modal"})])]),_:1}))}},_t=$(mt,[["__scopeId","data-v-a8edb80d"]]),yt="all-in-one-seo-pack",gt={setup(){const f=j(),o=Y(),a=N();return{rootStore:f,licenseStore:o,analyzerStore:a}},components:{AnalyzeCompetitorSite:re,CoreMain:le,SeoHomepageAudit:ce,SeoSiteAudit:_t,HeadlineAnalyzer:Ce},data(){return{strings:{pageName:n("SEO Analysis",yt)}}},mounted(){this.rootStore.isPro&&!this.licenseStore.isUnlicensed&&this.analyzerStore.objectsScan.percent!==100&&this.analyzerStore.fetchObjectsScanPercent()}};function ft(f,o,a,i,h,l){const c=M("core-main");return s(),b(c,{"page-name":h.strings.pageName,"show-save-button":f.$route.name==="seo-site-audit"&&i.analyzerStore.activeTab==="settings-audit"},{default:r(()=>[(s(),b(ee(f.$route.name)))]),_:1},8,["page-name","show-save-button"])}const Ks=$(gt,[["render",ft]]);export{Ks as default};
